!function(e){function r(e,r,o){return 4===arguments.length?t.apply(this,arguments):void n(e,{declarative:!0,deps:r,declare:o})}function t(e,r,t,o){n(e,{declarative:!1,deps:r,executingRequire:t,execute:o})}function n(e,r){r.name=e,e in p||(p[e]=r),r.normalizedDeps=r.deps}function o(e,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==v.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var t=0,n=e.normalizedDeps.length;n>t;t++){var a=e.normalizedDeps[t],u=p[a];if(u&&!u.evaluated){var d=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<d){if(void 0!==u.groupIndex&&(r[u.groupIndex].splice(v.call(r[u.groupIndex],u),1),0==r[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=d}o(u,r)}}}}function a(e){var r=p[e];r.groupIndex=0;var t=[];o(r,t);for(var n=!!r.declarative==t.length%2,a=t.length-1;a>=0;a--){for(var u=t[a],i=0;i<u.length;i++){var s=u[i];n?d(s):l(s)}n=!n}}function u(e){return x[e]||(x[e]={name:e,dependencies:[],exports:{},importers:[]})}function d(r){if(!r.module){var t=r.module=u(r.name),n=r.module.exports,o=r.declare.call(e,function(e,r){if(t.locked=!0,"object"==typeof e)for(var o in e)n[o]=e[o];else n[e]=r;for(var a=0,u=t.importers.length;u>a;a++){var d=t.importers[a];if(!d.locked)for(var i=0;i<d.dependencies.length;++i)d.dependencies[i]===t&&d.setters[i](n)}return t.locked=!1,r},r.name);t.setters=o.setters,t.execute=o.execute;for(var a=0,i=r.normalizedDeps.length;i>a;a++){var l,s=r.normalizedDeps[a],c=p[s],v=x[s];v?l=v.exports:c&&!c.declarative?l=c.esModule:c?(d(c),v=c.module,l=v.exports):l=f(s),v&&v.importers?(v.importers.push(t),t.dependencies.push(v)):t.dependencies.push(null),t.setters[a]&&t.setters[a](l)}}}function i(e){var r,t=p[e];if(t)t.declarative?c(e,[]):t.evaluated||l(t),r=t.module.exports;else if(r=f(e),!r)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&r&&r.__useDefault?r["default"]:r}function l(r){if(!r.module){var t={},n=r.module={exports:t,id:r.name};if(!r.executingRequire)for(var o=0,a=r.normalizedDeps.length;a>o;o++){var u=r.normalizedDeps[o],d=p[u];d&&l(d)}r.evaluated=!0;var c=r.execute.call(e,function(e){for(var t=0,n=r.deps.length;n>t;t++)if(r.deps[t]==e)return i(r.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,n);c&&(n.exports=c),t=n.exports,t&&t.__esModule?r.esModule=t:r.esModule=s(t)}}function s(r){if(r===e)return r;var t={};if("object"==typeof r||"function"==typeof r)if(g){var n;for(var o in r)(n=Object.getOwnPropertyDescriptor(r,o))&&h(t,o,n)}else{var a=r&&r.hasOwnProperty;for(var o in r)(!a||r.hasOwnProperty(o))&&(t[o]=r[o])}return t["default"]=r,h(t,"__useDefault",{value:!0}),t}function c(r,t){var n=p[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var u=n.normalizedDeps[o];-1==v.call(t,u)&&(p[u]?c(u,t):f(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function f(e){if(D[e])return D[e];if("@node/"==e.substr(0,6))return y(e.substr(6));var r=p[e];if(!r)throw"Module "+e+" not present.";return a(e),c(e,[]),p[e]=void 0,r.declarative&&h(r.module.exports,"__esModule",{value:!0}),D[e]=r.declarative?r.module.exports:r.esModule}var p={},v=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(m){g=!1}var h;!function(){try{Object.defineProperty({},"a",{})&&(h=Object.defineProperty)}catch(e){h=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var x={},y="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,D={"@empty":{}};return function(e,n,o){return function(a){a(function(a){for(var u={_nodeRequire:y,register:r,registerDynamic:t,get:f,set:function(e,r){D[e]=r},newModule:function(e){return e}},d=0;d<n.length;d++)(function(e,r){r&&r.__esModule?D[e]=r:D[e]=s(r)})(n[d],arguments[d]);o(u);var i=f(e[0]);if(e.length>1)for(var d=1;d<e.length;d++)f(e[d]);return i.__useDefault?i["default"]:i})}}}("undefined"!=typeof self?self:global)(["1","1"],[],function($__System){!function(e){function r(e,r){for(var n=e.split(".");n.length;)r=r[n.shift()];return r}function n(n){if("string"==typeof n)return r(n,e);if(!(n instanceof Array))throw new Error("Global exports must be a string or array.");for(var t={},o=!0,f=0;f<n.length;f++){var i=r(n[f],e);o&&(t["default"]=i,o=!1),t[n[f].split(".").pop()]=i}return t}function t(r){if(Object.keys)Object.keys(e).forEach(r);else for(var n in e)a.call(e,n)&&r(n)}function o(r){t(function(n){if(-1==l.call(s,n)){try{var t=e[n]}catch(o){s.push(n)}r(n,t)}})}var f,i=$__System,a=Object.prototype.hasOwnProperty,l=Array.prototype.indexOf||function(e){for(var r=0,n=this.length;n>r;r++)if(this[r]===e)return r;return-1},s=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];i.set("@@global-helpers",i.newModule({prepareGlobal:function(r,t,i){var a=e.define;e.define=void 0;var l;if(i){l={};for(var s in i)l[s]=e[s],e[s]=i[s]}return t||(f={},o(function(e,r){f[e]=r})),function(){var r;if(t)r=n(t);else{r={};var i,s;o(function(e,n){f[e]!==n&&"undefined"!=typeof n&&(r[e]=n,"undefined"!=typeof i?s||i===n||(s=!0):i=n)}),r=s?r:i}if(l)for(var u in l)e[u]=l[u];return e.define=a,r}}}))}("undefined"!=typeof self?self:global),!function(e){function n(e,n){e=e.replace(l,"");var r=e.match(u),t=(r[1].split(",")[n]||"require").replace(s,""),i=p[t]||(p[t]=new RegExp(a+t+f,"g"));i.lastIndex=0;for(var o,c=[];o=i.exec(e);)c.push(o[2]||o[3]);return c}function r(e,n,t,o){if("object"==typeof e&&!(e instanceof Array))return r.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof n&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var l=i.get(e);return l.__useDefault?l["default"]:l}throw new TypeError("Invalid require")}for(var a=[],f=0;f<e.length;f++)a.push(i["import"](e[f],o));Promise.all(a).then(function(e){n&&n.apply(null,e)},t)}function t(t,l,a){"string"!=typeof t&&(a=l,l=t,t=null),l instanceof Array||(a=l,l=["require","exports","module"].splice(0,a.length)),"function"!=typeof a&&(a=function(e){return function(){return e}}(a)),void 0===l[l.length-1]&&l.pop();var f,u,s;-1!=(f=o.call(l,"require"))&&(l.splice(f,1),t||(l=l.concat(n(a.toString(),f)))),-1!=(u=o.call(l,"exports"))&&l.splice(u,1),-1!=(s=o.call(l,"module"))&&l.splice(s,1);var p={name:t,deps:l,execute:function(n,t,o){for(var p=[],c=0;c<l.length;c++)p.push(n(l[c]));o.uri=o.id,o.config=function(){},-1!=s&&p.splice(s,0,o),-1!=u&&p.splice(u,0,t),-1!=f&&p.splice(f,0,function(e,t,l){return"string"==typeof e&&"function"!=typeof t?n(e):r.call(i,e,t,l,o.id)});var d=a.apply(-1==u?e:t,p);return"undefined"==typeof d&&o&&(d=o.exports),"undefined"!=typeof d?d:void 0}};if(t)c.anonDefine||c.isBundle?c.anonDefine&&c.anonDefine.name&&(c.anonDefine=null):c.anonDefine=p,c.isBundle=!0,i.registerDynamic(p.name,p.deps,!1,p.execute);else{if(c.anonDefine&&!c.anonDefine.name)throw new Error("Multiple anonymous defines in module "+t);c.anonDefine=p}}var i=$__System,o=Array.prototype.indexOf||function(e){for(var n=0,r=this.length;r>n;n++)if(this[n]===e)return n;return-1},l=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,a="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",f="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",u=/\(([^\)]*)\)/,s=/^\s+|\s+$/g,p={};t.amd={};var c={isBundle:!1,anonDefine:null};i.amdDefine=t,i.amdRequire=r}("undefined"!=typeof self?self:global),$__System.registerDynamic("2",["3"],!0,function($__require,exports,module){var process=$__require("3");return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){(function(global){"use strict";function patchTimer(window,setName,cancelName,nameSuffix){function scheduleTask(task){var data=task.data;return data.args[0]=task.invoke,data.handleId=setNative.apply(window,data.args),task}function clearTask(task){return clearNative(task.data.handleId)}setName+=nameSuffix,cancelName+=nameSuffix;var setNative=utils_1.patchMethod(window,setName,function(){return function(self,args){if("function"==typeof args[0]){var zone=Zone.current,options={handleId:null,isPeriodic:"Interval"==nameSuffix,delay:"Timeout"==nameSuffix||"Interval"==nameSuffix?args[1]||0:null,args:args};return zone.scheduleMacroTask(setName,args[0],options,scheduleTask,clearTask)}return setNative.apply(window,args)}}),clearNative=utils_1.patchMethod(window,cancelName,function(){return function(self,args){var task=args[0];task.zone.cancelTask(task)}})}__webpack_require__(1);var event_target_1=__webpack_require__(2),define_property_1=__webpack_require__(4),register_element_1=__webpack_require__(5),property_descriptor_1=__webpack_require__(6),utils_1=__webpack_require__(3),set="set",clear="clear",blockingMethods=["alert","prompt","confirm"];patchTimer(global,set,clear,"Timeout"),patchTimer(global,set,clear,"Interval"),patchTimer(global,set,clear,"Immediate"),patchTimer(global,"request","cancelMacroTask","AnimationFrame"),patchTimer(global,"mozRequest","mozCancel","AnimationFrame"),patchTimer(global,"webkitRequest","webkitCancel","AnimationFrame");for(var i=0;i<blockingMethods.length;i++){var name=blockingMethods[i];utils_1.patchMethod(global,name,function(delegate,symbol,name){return function(s,args){return Zone.current.run(delegate,global,args,name)}})}event_target_1.eventTargetPatch(),property_descriptor_1.propertyDescriptorPatch(),utils_1.patchClass("MutationObserver"),utils_1.patchClass("WebKitMutationObserver"),utils_1.patchClass("FileReader"),define_property_1.propertyPatch(),register_element_1.registerElementPatch(),global.navigator&&global.navigator.geolocation&&utils_1.patchPrototype(global.navigator.geolocation,["getCurrentPosition","watchPosition"])}).call(exports,function(){return this}())},function(module,exports){(function(global){(function(global){function __symbol__(name){return"__zone_symbol__"+name}function scheduleQueueDrain(){_drainScheduled||_currentTask||0!=_microTaskQueue.length||(global[symbolPromise]?global[symbolPromise].resolve(0)[symbolThen](drainMicroTaskQueue):global[symbolSetTimeout](drainMicroTaskQueue,0))}function scheduleMicroTask(task){scheduleQueueDrain(),_microTaskQueue.push(task)}function consoleError(e){var rejection=e&&e.rejection;rejection&&console.error("Unhandled Promise rejection:",rejection instanceof Error?rejection.message:rejection,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",rejection),console.error(e)}function drainMicroTaskQueue(){if(!_isDrainingMicrotaskQueue){for(_isDrainingMicrotaskQueue=!0;_microTaskQueue.length;){var queue=_microTaskQueue;_microTaskQueue=[];for(var i=0;i<queue.length;i++){var task=queue[i];try{task.zone.runTask(task,null,null)}catch(e){consoleError(e)}}}for(;_uncaughtPromiseErrors.length;){var uncaughtPromiseErrors=_uncaughtPromiseErrors;_uncaughtPromiseErrors=[];for(var i=0;i<uncaughtPromiseErrors.length;i++){var uncaughtPromiseError=uncaughtPromiseErrors[i];try{uncaughtPromiseError.zone.runGuarded(function(){throw uncaughtPromiseError})}catch(e){consoleError(e)}}}_isDrainingMicrotaskQueue=!1,_drainScheduled=!1}}function isThenable(value){return value&&value.then}function forwardResolution(value){return value}function forwardRejection(rejection){return ZoneAwarePromise.reject(rejection)}function makeResolver(promise,state){return function(v){resolvePromise(promise,state,v)}}function resolvePromise(promise,state,value){if(promise[symbolState]===UNRESOLVED)if(value instanceof ZoneAwarePromise&&value[symbolState]!==UNRESOLVED)clearRejectedNoCatch(value),resolvePromise(promise,value[symbolState],value[symbolValue]);else if(isThenable(value))value.then(makeResolver(promise,state),makeResolver(promise,!1));else{promise[symbolState]=state;var queue=promise[symbolValue];promise[symbolValue]=value;for(var i=0;i<queue.length;)scheduleResolveOrReject(promise,queue[i++],queue[i++],queue[i++],queue[i++]);if(0==queue.length&&state==REJECTED){promise[symbolState]=REJECTED_NO_CATCH;try{throw new Error("Uncaught (in promise): "+value)}catch(e){var error=e;error.rejection=value,error.promise=promise,error.zone=Zone.current,error.task=Zone.currentTask,_uncaughtPromiseErrors.push(error),scheduleQueueDrain()}}}return promise}function clearRejectedNoCatch(promise){if(promise[symbolState]===REJECTED_NO_CATCH){promise[symbolState]=REJECTED;for(var i=0;i<_uncaughtPromiseErrors.length;i++)if(promise===_uncaughtPromiseErrors[i].promise){_uncaughtPromiseErrors.splice(i,1);break}}}function scheduleResolveOrReject(promise,zone,chainPromise,onFulfilled,onRejected){clearRejectedNoCatch(promise);var delegate=promise[symbolState]?onFulfilled||forwardResolution:onRejected||forwardRejection;zone.scheduleMicroTask(source,function(){try{resolvePromise(chainPromise,!0,zone.run(delegate,null,[promise[symbolValue]]))}catch(error){resolvePromise(chainPromise,!1,error)}})}var Zone=function(){function Zone(parent,zoneSpec){this._properties=null,this._parent=parent,this._name=zoneSpec?zoneSpec.name||"unnamed":"<root>",this._properties=zoneSpec&&zoneSpec.properties||{},this._zoneDelegate=new ZoneDelegate(this,this._parent&&this._parent._zoneDelegate,zoneSpec)}return Object.defineProperty(Zone,"current",{get:function(){return _currentZone},enumerable:!0,configurable:!0}),Object.defineProperty(Zone,"currentTask",{get:function(){return _currentTask},enumerable:!0,configurable:!0}),Object.defineProperty(Zone.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Zone.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Zone.prototype.get=function(key){for(var current=this;current;){if(current._properties.hasOwnProperty(key))return current._properties[key];current=current._parent}},Zone.prototype.fork=function(zoneSpec){if(!zoneSpec)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,zoneSpec)},Zone.prototype.wrap=function(callback,source){if("function"!=typeof callback)throw new Error("Expecting function got: "+callback);var callback=this._zoneDelegate.intercept(this,callback,source),zone=this;return function(){return zone.runGuarded(callback,this,arguments,source)}},Zone.prototype.run=function(callback,applyThis,applyArgs,source){void 0===applyThis&&(applyThis=null),void 0===applyArgs&&(applyArgs=null),void 0===source&&(source=null);var oldZone=_currentZone;_currentZone=this;try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}finally{_currentZone=oldZone}},Zone.prototype.runGuarded=function(callback,applyThis,applyArgs,source){void 0===applyThis&&(applyThis=null),void 0===applyArgs&&(applyArgs=null),void 0===source&&(source=null);var oldZone=_currentZone;_currentZone=this;try{try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{_currentZone=oldZone}},Zone.prototype.runTask=function(task,applyThis,applyArgs){if(task.zone!=this)throw new Error("A task can only be run in the zone which created it! (Creation: "+task.zone.name+"; Execution: "+this.name+")");var previousTask=_currentTask;_currentTask=task;var oldZone=_currentZone;_currentZone=this;try{try{return this._zoneDelegate.invokeTask(this,task,applyThis,applyArgs)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{_currentZone=oldZone,_currentTask=previousTask,"microTask"==task.type}},Zone.prototype.scheduleMicroTask=function(source,callback,data,customSchedule){return this._zoneDelegate.scheduleTask(this,new ZoneTask("microTask",this,source,callback,data,customSchedule,null))},Zone.prototype.scheduleMacroTask=function(source,callback,data,customSchedule,customCancel){return this._zoneDelegate.scheduleTask(this,new ZoneTask("macroTask",this,source,callback,data,customSchedule,customCancel))},Zone.prototype.scheduleEventTask=function(source,callback,data,customSchedule,customCancel){return this._zoneDelegate.scheduleTask(this,new ZoneTask("eventTask",this,source,callback,data,customSchedule,customCancel))},Zone.prototype.cancelTask=function(task){var value=this._zoneDelegate.cancelTask(this,task);return task.cancelFn=null,value},Zone.__symbol__=__symbol__,Zone}(),ZoneDelegate=function(){function ZoneDelegate(zone,parentDelegate,zoneSpec){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=zone,this._parentDelegate=parentDelegate,this._forkZS=zoneSpec&&(zoneSpec&&zoneSpec.onFork?zoneSpec:parentDelegate._forkZS),this._forkDlgt=zoneSpec&&(zoneSpec.onFork?parentDelegate:parentDelegate._forkDlgt),this._interceptZS=zoneSpec&&(zoneSpec.onIntercept?zoneSpec:parentDelegate._interceptZS),this._interceptDlgt=zoneSpec&&(zoneSpec.onIntercept?parentDelegate:parentDelegate._interceptDlgt),this._invokeZS=zoneSpec&&(zoneSpec.onInvoke?zoneSpec:parentDelegate._invokeZS),this._invokeDlgt=zoneSpec&&(zoneSpec.onInvoke?parentDelegate:parentDelegate._invokeDlgt),this._handleErrorZS=zoneSpec&&(zoneSpec.onHandleError?zoneSpec:parentDelegate._handleErrorZS),this._handleErrorDlgt=zoneSpec&&(zoneSpec.onHandleError?parentDelegate:parentDelegate._handleErrorDlgt),this._scheduleTaskZS=zoneSpec&&(zoneSpec.onScheduleTask?zoneSpec:parentDelegate._scheduleTaskZS),this._scheduleTaskDlgt=zoneSpec&&(zoneSpec.onScheduleTask?parentDelegate:parentDelegate._scheduleTaskDlgt),this._invokeTaskZS=zoneSpec&&(zoneSpec.onInvokeTask?zoneSpec:parentDelegate._invokeTaskZS),this._invokeTaskDlgt=zoneSpec&&(zoneSpec.onInvokeTask?parentDelegate:parentDelegate._invokeTaskDlgt),this._cancelTaskZS=zoneSpec&&(zoneSpec.onCancelTask?zoneSpec:parentDelegate._cancelTaskZS),this._cancelTaskDlgt=zoneSpec&&(zoneSpec.onCancelTask?parentDelegate:parentDelegate._cancelTaskDlgt),this._hasTaskZS=zoneSpec&&(zoneSpec.onHasTask?zoneSpec:parentDelegate._hasTaskZS),this._hasTaskDlgt=zoneSpec&&(zoneSpec.onHasTask?parentDelegate:parentDelegate._hasTaskDlgt)}return ZoneDelegate.prototype.fork=function(targetZone,zoneSpec){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,targetZone,zoneSpec):new Zone(targetZone,zoneSpec)},ZoneDelegate.prototype.intercept=function(targetZone,callback,source){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this.zone,targetZone,callback,source):callback},ZoneDelegate.prototype.invoke=function(targetZone,callback,applyThis,applyArgs,source){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this.zone,targetZone,callback,applyThis,applyArgs,source):callback.apply(applyThis,applyArgs)},ZoneDelegate.prototype.handleError=function(targetZone,error){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this.zone,targetZone,error):!0},ZoneDelegate.prototype.scheduleTask=function(targetZone,task){try{if(this._scheduleTaskZS)return this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this.zone,targetZone,task);if(task.scheduleFn)task.scheduleFn(task);else{if("microTask"!=task.type)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(task)}return task}finally{targetZone==this.zone&&this._updateTaskCount(task.type,1)}},ZoneDelegate.prototype.invokeTask=function(targetZone,task,applyThis,applyArgs){try{return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this.zone,targetZone,task,applyThis,applyArgs):task.callback.apply(applyThis,applyArgs)}finally{targetZone!=this.zone||"eventTask"==task.type||task.data&&task.data.isPeriodic||this._updateTaskCount(task.type,-1)}},ZoneDelegate.prototype.cancelTask=function(targetZone,task){var value;if(this._cancelTaskZS)value=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this.zone,targetZone,task);else{if(!task.cancelFn)throw new Error("Task does not support cancellation, or is already canceled.");value=task.cancelFn(task)}return targetZone==this.zone&&this._updateTaskCount(task.type,-1),value},ZoneDelegate.prototype.hasTask=function(targetZone,isEmpty){return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this.zone,targetZone,isEmpty)},ZoneDelegate.prototype._updateTaskCount=function(type,count){var counts=this._taskCounts,prev=counts[type],next=counts[type]=prev+count;if(0>next)throw new Error("More tasks executed then were scheduled.");if(0==prev||0==next){var isEmpty={microTask:counts.microTask>0,macroTask:counts.macroTask>0,eventTask:counts.eventTask>0,change:type};try{this.hasTask(this.zone,isEmpty)}finally{this._parentDelegate&&this._parentDelegate._updateTaskCount(type,count)}}},ZoneDelegate}(),ZoneTask=function(){function ZoneTask(type,zone,source,callback,options,scheduleFn,cancelFn){this.type=type,this.zone=zone,this.source=source,this.data=options,this.scheduleFn=scheduleFn,this.cancelFn=cancelFn,this.callback=callback;var self=this;this.invoke=function(){try{return zone.runTask(self,this,arguments)}finally{drainMicroTaskQueue()}}}return ZoneTask}(),symbolSetTimeout=__symbol__("setTimeout"),symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then"),_currentZone=new Zone(null,null),_currentTask=null,_microTaskQueue=[],_isDrainingMicrotaskQueue=!1,_uncaughtPromiseErrors=[],_drainScheduled=!1,symbolState=__symbol__("state"),symbolValue=__symbol__("value"),source="Promise.then",UNRESOLVED=null,RESOLVED=!0,REJECTED=!1,REJECTED_NO_CATCH=0,ZoneAwarePromise=function(){function ZoneAwarePromise(executor){var promise=this;promise[symbolState]=UNRESOLVED,promise[symbolValue]=[];try{executor&&executor(makeResolver(promise,RESOLVED),makeResolver(promise,REJECTED))}catch(e){resolvePromise(promise,!1,e)}}return ZoneAwarePromise.resolve=function(value){return resolvePromise(new this(null),RESOLVED,value)},ZoneAwarePromise.reject=function(error){return resolvePromise(new this(null),REJECTED,error)},ZoneAwarePromise.race=function(values){function onResolve(value){promise&&(promise=resolve(value))}function onReject(error){promise&&(promise=reject(error))}for(var resolve,reject,promise=new this(function(res,rej){resolve=res,reject=rej}),_i=0,values_1=values;_i<values_1.length;_i++){var value=values_1[_i];isThenable(value)||(value=this.resolve(value)),value.then(onResolve,onReject)}return promise},ZoneAwarePromise.all=function(values){function onReject(error){promise&&reject(error),promise=null}for(var resolve,reject,promise=new this(function(res,rej){resolve=res,reject=rej}),resolvedValues=[],count=0,_i=0,values_2=values;_i<values_2.length;_i++){var value=values_2[_i];isThenable(value)||(value=this.resolve(value)),value.then(function(index){return function(value){resolvedValues[index]=value,count--,promise&&!count&&resolve(resolvedValues)}}(count),onReject),count++}return count||resolve(resolvedValues),promise},ZoneAwarePromise.prototype.then=function(onFulfilled,onRejected){var chainPromise=new ZoneAwarePromise(null),zone=Zone.current;return this[symbolState]==UNRESOLVED?this[symbolValue].push(zone,chainPromise,onFulfilled,onRejected):scheduleResolveOrReject(this,zone,chainPromise,onFulfilled,onRejected),chainPromise},ZoneAwarePromise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)},ZoneAwarePromise}(),NativePromise=global[__symbol__("Promise")]=global.Promise;if(global.Promise=ZoneAwarePromise,NativePromise){var NativePromiseProtototype=NativePromise.prototype,NativePromiseThen=NativePromiseProtototype[__symbol__("then")]=NativePromiseProtototype.then;NativePromiseProtototype.then=function(onResolve,onReject){var nativePromise=this;return new ZoneAwarePromise(function(resolve,reject){NativePromiseThen.call(nativePromise,resolve,reject)}).then(onResolve,onReject)}}return global.Zone=Zone})(function(){try{return window}catch(e){return global}}())}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(global){"use strict";function eventTargetPatch(){var apis=[],isWtf=global.wtf;isWtf?apis=WTF_ISSUE_555.split(",").map(function(v){return"HTML"+v+"Element"}).concat(NO_EVENT_TARGET):global[EVENT_TARGET]?apis.push(EVENT_TARGET):apis=NO_EVENT_TARGET;for(var i=0;i<apis.length;i++){var type=global[apis[i]];utils_1.patchEventTargetMethods(type&&type.prototype)}}var utils_1=__webpack_require__(3),WTF_ISSUE_555="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",NO_EVENT_TARGET="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(","),EVENT_TARGET="EventTarget";exports.eventTargetPatch=eventTargetPatch}).call(exports,function(){return this}())},function(module,exports){(function(global){"use strict";function bindArguments(args,source){for(var i=args.length-1;i>=0;i--)"function"==typeof args[i]&&(args[i]=Zone.current.wrap(args[i],source+"_"+i));return args}function patchPrototype(prototype,fnNames){for(var source=prototype.constructor.name,i=0;i<fnNames.length;i++){var name=fnNames[i],delegate=prototype[name];delegate&&(prototype[name]=function(delegate){return function(){return delegate.apply(this,bindArguments(arguments,source+"."+name))}}(delegate))}}function patchProperty(obj,prop){var desc=Object.getOwnPropertyDescriptor(obj,prop)||{enumerable:!0,configurable:!0};delete desc.writable,delete desc.value;var eventName=prop.substr(2),_prop="_"+prop;desc.set=function(fn){this[_prop]&&this.removeEventListener(eventName,this[_prop]),"function"==typeof fn?(this[_prop]=fn,this.addEventListener(eventName,fn,!1)):this[_prop]=null},desc.get=function(){return this[_prop]},Object.defineProperty(obj,prop,desc)}function patchOnProperties(obj,properties){var onProperties=[];for(var prop in obj)"on"==prop.substr(0,2)&&onProperties.push(prop);for(var j=0;j<onProperties.length;j++)patchProperty(obj,onProperties[j]);if(properties)for(var i=0;i<properties.length;i++)patchProperty(obj,"on"+properties[i])}function findExistingRegisteredTask(target,handler,name,capture,remove){var eventTasks=target[EVENT_TASKS];if(eventTasks)for(var i=0;i<eventTasks.length;i++){var eventTask=eventTasks[i],data=eventTask.data;if(data.handler===handler&&data.useCapturing===capture&&data.eventName===name)return remove&&eventTasks.splice(i,1),eventTask}return null}function attachRegisteredEvent(target,eventTask){var eventTasks=target[EVENT_TASKS];eventTasks||(eventTasks=target[EVENT_TASKS]=[]),eventTasks.push(eventTask)}function scheduleEventListener(eventTask){var meta=eventTask.data;return attachRegisteredEvent(meta.target,eventTask),meta.target[SYMBOL_ADD_EVENT_LISTENER](meta.eventName,eventTask.invoke,meta.useCapturing)}function cancelEventListener(eventTask){var meta=eventTask.data;findExistingRegisteredTask(meta.target,eventTask.invoke,meta.eventName,meta.useCapturing,!0),meta.target[SYMBOL_REMOVE_EVENT_LISTENER](meta.eventName,eventTask.invoke,meta.useCapturing)}function zoneAwareAddEventListener(self,args){var eventName=args[0],handler=args[1],useCapturing=args[2]||!1,target=self||global,delegate=null;if("function"==typeof handler?delegate=handler:handler&&handler.handleEvent&&(delegate=function(event){return handler.handleEvent(event)}),!delegate||handler&&"[object FunctionWrapper]"===handler.toString())return target[SYMBOL_ADD_EVENT_LISTENER](eventName,handler,useCapturing);var eventTask=findExistingRegisteredTask(target,handler,eventName,useCapturing,!1);if(eventTask)return target[SYMBOL_ADD_EVENT_LISTENER](eventName,eventTask.invoke,useCapturing);var zone=Zone.current,source=target.constructor.name+".addEventListener:"+eventName,data={target:target,eventName:eventName,name:eventName,useCapturing:useCapturing,handler:handler};zone.scheduleEventTask(source,delegate,data,scheduleEventListener,cancelEventListener)}function zoneAwareRemoveEventListener(self,args){var eventName=args[0],handler=args[1],useCapturing=args[2]||!1,target=self||global,eventTask=findExistingRegisteredTask(target,handler,eventName,useCapturing,!1);eventTask?eventTask.zone.cancelTask(eventTask):target[SYMBOL_REMOVE_EVENT_LISTENER](eventName,handler,useCapturing)}function patchEventTargetMethods(obj){return obj&&obj.addEventListener?(patchMethod(obj,ADD_EVENT_LISTENER,function(){return zoneAwareAddEventListener}),patchMethod(obj,REMOVE_EVENT_LISTENER,function(){return zoneAwareRemoveEventListener}),!0):!1}function patchClass(className){var OriginalClass=global[className];if(OriginalClass){global[className]=function(){var a=bindArguments(arguments,className);switch(a.length){case 0:this[originalInstanceKey]=new OriginalClass;break;case 1:this[originalInstanceKey]=new OriginalClass(a[0]);break;case 2:this[originalInstanceKey]=new OriginalClass(a[0],a[1]);break;case 3:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2]);break;case 4:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2],a[3]);break;default:throw new Error("Arg list too long.")}};var prop,instance=new OriginalClass(function(){});for(prop in instance)!function(prop){"function"==typeof instance[prop]?global[className].prototype[prop]=function(){return this[originalInstanceKey][prop].apply(this[originalInstanceKey],arguments)}:Object.defineProperty(global[className].prototype,prop,{set:function(fn){"function"==typeof fn?this[originalInstanceKey][prop]=Zone.current.wrap(fn,className+"."+prop):this[originalInstanceKey][prop]=fn},get:function(){return this[originalInstanceKey][prop]}})}(prop);for(prop in OriginalClass)"prototype"!==prop&&OriginalClass.hasOwnProperty(prop)&&(global[className][prop]=OriginalClass[prop])}}function createNamedFn(name,delegate){try{return Function("f","return function "+name+"(){return f(this, arguments)}")(delegate)}catch(e){return function(){return delegate(this,arguments)}}}function patchMethod(target,name,patchFn){for(var proto=target;proto&&!proto.hasOwnProperty(name);)proto=Object.getPrototypeOf(proto);!proto&&target[name]&&(proto=target);var delegate,delegateName=exports.zoneSymbol(name);return proto&&!(delegate=proto[delegateName])&&(delegate=proto[delegateName]=proto[name],proto[name]=createNamedFn(name,patchFn(delegate,delegateName,name))),delegate}exports.zoneSymbol=Zone.__symbol__,exports.bindArguments=bindArguments,exports.patchPrototype=patchPrototype,exports.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,exports.isNode="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),exports.isBrowser=!exports.isNode&&!exports.isWebWorker&&!(!window||!window.HTMLElement),exports.patchProperty=patchProperty,exports.patchOnProperties=patchOnProperties;var EVENT_TASKS=exports.zoneSymbol("eventTasks"),ADD_EVENT_LISTENER="addEventListener",REMOVE_EVENT_LISTENER="removeEventListener",SYMBOL_ADD_EVENT_LISTENER=exports.zoneSymbol(ADD_EVENT_LISTENER),SYMBOL_REMOVE_EVENT_LISTENER=exports.zoneSymbol(REMOVE_EVENT_LISTENER);exports.patchEventTargetMethods=patchEventTargetMethods;var originalInstanceKey=exports.zoneSymbol("originalInstance");exports.patchClass=patchClass,exports.createNamedFn=createNamedFn,exports.patchMethod=patchMethod}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){
"use strict";function propertyPatch(){Object.defineProperty=function(obj,prop,desc){if(isUnconfigurable(obj,prop))throw new TypeError("Cannot assign to read only property '"+prop+"' of "+obj);return"prototype"!==prop&&(desc=rewriteDescriptor(obj,prop,desc)),_defineProperty(obj,prop,desc)},Object.defineProperties=function(obj,props){return Object.keys(props).forEach(function(prop){Object.defineProperty(obj,prop,props[prop])}),obj},Object.create=function(obj,proto){return"object"==typeof proto&&Object.keys(proto).forEach(function(prop){proto[prop]=rewriteDescriptor(obj,prop,proto[prop])}),_create(obj,proto)},Object.getOwnPropertyDescriptor=function(obj,prop){var desc=_getOwnPropertyDescriptor(obj,prop);return isUnconfigurable(obj,prop)&&(desc.configurable=!1),desc}}function _redefineProperty(obj,prop,desc){return desc=rewriteDescriptor(obj,prop,desc),_defineProperty(obj,prop,desc)}function isUnconfigurable(obj,prop){return obj&&obj[unconfigurablesKey]&&obj[unconfigurablesKey][prop]}function rewriteDescriptor(obj,prop,desc){return desc.configurable=!0,desc.configurable||(obj[unconfigurablesKey]||_defineProperty(obj,unconfigurablesKey,{writable:!0,value:{}}),obj[unconfigurablesKey][prop]=!0),desc}var utils_1=__webpack_require__(3),_defineProperty=Object.defineProperty,_getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,_create=Object.create,unconfigurablesKey=utils_1.zoneSymbol("unconfigurables");exports.propertyPatch=propertyPatch,exports._redefineProperty=_redefineProperty},function(module,exports,__webpack_require__){(function(global){"use strict";function registerElementPatch(){if(utils_1.isBrowser&&"registerElement"in global.document){var _registerElement=document.registerElement,callbacks=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(name,opts){return opts&&opts.prototype&&callbacks.forEach(function(callback){var source="Document.registerElement::"+callback;if(opts.prototype.hasOwnProperty(callback)){var descriptor=Object.getOwnPropertyDescriptor(opts.prototype,callback);descriptor&&descriptor.value?(descriptor.value=Zone.current.wrap(descriptor.value,source),define_property_1._redefineProperty(opts.prototype,callback,descriptor)):opts.prototype[callback]=Zone.current.wrap(opts.prototype[callback],source)}else opts.prototype[callback]&&(opts.prototype[callback]=Zone.current.wrap(opts.prototype[callback],source))}),_registerElement.apply(document,[name,opts])}}}var define_property_1=__webpack_require__(4),utils_1=__webpack_require__(3);exports.registerElementPatch=registerElementPatch}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";function propertyDescriptorPatch(){if(!utils_1.isNode){var supportsWebSocket="undefined"!=typeof WebSocket;canPatchViaPropertyDescriptor()?(utils_1.isBrowser&&utils_1.patchOnProperties(HTMLElement.prototype,eventNames),utils_1.patchOnProperties(XMLHttpRequest.prototype,null),supportsWebSocket&&utils_1.patchOnProperties(WebSocket.prototype,null)):(patchViaCapturingAllTheEvents(),utils_1.patchClass("XMLHttpRequest"),supportsWebSocket&&webSocketPatch.apply())}}function canPatchViaPropertyDescriptor(){if(utils_1.isBrowser&&!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var desc=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(desc&&!desc.configurable)return!1}Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{get:function(){return!0}});var req=new XMLHttpRequest,result=!!req.onreadystatechange;return Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{}),result}function patchViaCapturingAllTheEvents(){for(var i=0;i<eventNames.length;i++){var property=eventNames[i],onproperty="on"+property;document.addEventListener(property,function(event){for(var bound,elt=event.target,source=elt.constructor.name+"."+onproperty;elt;)elt[onproperty]&&!elt[onproperty][unboundKey]&&(bound=Zone.current.wrap(elt[onproperty],source),bound[unboundKey]=elt[onproperty],elt[onproperty]=bound),elt=elt.parentElement},!0)}}var webSocketPatch=__webpack_require__(7),utils_1=__webpack_require__(3),eventNames="copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart message mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror".split(" ");exports.propertyDescriptorPatch=propertyDescriptorPatch;var unboundKey=utils_1.zoneSymbol("unbound")},function(module,exports,__webpack_require__){(function(global){"use strict";function apply(){var WS=global.WebSocket;global.EventTarget||utils_1.patchEventTargetMethods(WS.prototype),global.WebSocket=function(a,b){var proxySocket,socket=arguments.length>1?new WS(a,b):new WS(a),onmessageDesc=Object.getOwnPropertyDescriptor(socket,"onmessage");return onmessageDesc&&onmessageDesc.configurable===!1?(proxySocket=Object.create(socket),["addEventListener","removeEventListener","send","close"].forEach(function(propName){proxySocket[propName]=function(){return socket[propName].apply(socket,arguments)}})):proxySocket=socket,utils_1.patchOnProperties(proxySocket,["close","error","message","open"]),proxySocket}}var utils_1=__webpack_require__(3);exports.apply=apply}).call(exports,function(){return this}())}]),module.exports}),$__System.registerDynamic("4",["@empty","3"],!0,function($__require,exports,module){"use strict";var Reflect,global=($__require("3"),this);return function(Reflect){function decorate(decorators,target,targetKey,targetDescriptor){if(IsUndefined(targetDescriptor)){if(IsUndefined(targetKey)){if(!IsArray(decorators))throw new TypeError;if(!IsConstructor(target))throw new TypeError;return DecorateConstructor(decorators,target)}if(!IsArray(decorators))throw new TypeError;if(!IsObject(target))throw new TypeError;return targetKey=ToPropertyKey(targetKey),DecoratePropertyWithoutDescriptor(decorators,target,targetKey)}if(!IsArray(decorators))throw new TypeError;if(!IsObject(target))throw new TypeError;if(IsUndefined(targetKey))throw new TypeError;if(!IsObject(targetDescriptor))throw new TypeError;return targetKey=ToPropertyKey(targetKey),DecoratePropertyWithDescriptor(decorators,target,targetKey,targetDescriptor)}function metadata(metadataKey,metadataValue){function decorator(target,targetKey){if(IsUndefined(targetKey)){if(!IsConstructor(target))throw new TypeError;OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,void 0)}else{if(!IsObject(target))throw new TypeError;targetKey=ToPropertyKey(targetKey),OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,targetKey)}}return decorator}function defineMetadata(metadataKey,metadataValue,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,targetKey)}function hasMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryHasMetadata(metadataKey,target,targetKey)}function hasOwnMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryHasOwnMetadata(metadataKey,target,targetKey)}function getMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryGetMetadata(metadataKey,target,targetKey)}function getOwnMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryGetOwnMetadata(metadataKey,target,targetKey)}function getMetadataKeys(target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryMetadataKeys(target,targetKey)}function getOwnMetadataKeys(target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryOwnMetadataKeys(target,targetKey)}function deleteMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey));var metadataMap=GetOrCreateMetadataMap(target,targetKey,!1);if(IsUndefined(metadataMap))return!1;if(!metadataMap["delete"](metadataKey))return!1;if(metadataMap.size>0)return!0;var targetMetadata=__Metadata__.get(target);return targetMetadata["delete"](targetKey),targetMetadata.size>0?!0:(__Metadata__["delete"](target),!0)}function DecorateConstructor(decorators,target){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i],decorated=decorator(target);if(!IsUndefined(decorated)){if(!IsConstructor(decorated))throw new TypeError;target=decorated}}return target}function DecoratePropertyWithDescriptor(decorators,target,propertyKey,descriptor){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i],decorated=decorator(target,propertyKey,descriptor);if(!IsUndefined(decorated)){if(!IsObject(decorated))throw new TypeError;descriptor=decorated}}return descriptor}function DecoratePropertyWithoutDescriptor(decorators,target,propertyKey){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i];decorator(target,propertyKey)}}function GetOrCreateMetadataMap(target,targetKey,create){var targetMetadata=__Metadata__.get(target);if(!targetMetadata){if(!create)return;targetMetadata=new _Map,__Metadata__.set(target,targetMetadata)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return;keyMetadata=new _Map,targetMetadata.set(targetKey,keyMetadata)}return keyMetadata}function OrdinaryHasMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=GetPrototypeOf(O);return null!==parent?OrdinaryHasMetadata(MetadataKey,parent,P):!1}function OrdinaryHasOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?!1:Boolean(metadataMap.has(MetadataKey))}function OrdinaryGetMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return OrdinaryGetOwnMetadata(MetadataKey,O,P);var parent=GetPrototypeOf(O);return null!==parent?OrdinaryGetMetadata(MetadataKey,parent,P):void 0}function OrdinaryGetOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!1);if(void 0!==metadataMap)return metadataMap.get(MetadataKey)}function OrdinaryDefineOwnMetadata(MetadataKey,MetadataValue,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!0);metadataMap.set(MetadataKey,MetadataValue)}function OrdinaryMetadataKeys(O,P){var ownKeys=OrdinaryOwnMetadataKeys(O,P),parent=GetPrototypeOf(O);if(null===parent)return ownKeys;var parentKeys=OrdinaryMetadataKeys(parent,P);if(parentKeys.length<=0)return ownKeys;if(ownKeys.length<=0)return parentKeys;for(var set=new _Set,keys=[],_i=0;_i<ownKeys.length;_i++){var key=ownKeys[_i],hasKey=set.has(key);hasKey||(set.add(key),keys.push(key))}for(var _a=0;_a<parentKeys.length;_a++){var key=parentKeys[_a],hasKey=set.has(key);hasKey||(set.add(key),keys.push(key))}return keys}function OrdinaryOwnMetadataKeys(target,targetKey){var metadataMap=GetOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){return keys.push(key)}),keys}function IsUndefined(x){return void 0===x}function IsArray(x){return Array.isArray(x)}function IsObject(x){return"object"==typeof x?null!==x:"function"==typeof x}function IsConstructor(x){return"function"==typeof x}function IsSymbol(x){return"symbol"==typeof x}function ToPropertyKey(value){return IsSymbol(value)?value:String(value)}function GetPrototypeOf(O){var proto=Object.getPrototypeOf(O);if("function"!=typeof O||O===functionPrototype)return proto;if(proto!==functionPrototype)return proto;var prototype=O.prototype,prototypeProto=Object.getPrototypeOf(prototype);if(null==prototypeProto||prototypeProto===Object.prototype)return proto;var constructor=prototypeProto.constructor;return"function"!=typeof constructor?proto:constructor===O?proto:constructor}function CreateMapPolyfill(){function Map(){this._keys=[],this._values=[],this._cache=cacheSentinel}var cacheSentinel={};return Map.prototype={get size(){return this._keys.length},has:function(key){return key===this._cache?!0:this._find(key)>=0?(this._cache=key,!0):!1},get:function(key){var index=this._find(key);return index>=0?(this._cache=key,this._values[index]):void 0},set:function(key,value){return this["delete"](key),this._keys.push(key),this._values.push(value),this._cache=key,this},"delete":function(key){var index=this._find(key);return index>=0?(this._keys.splice(index,1),this._values.splice(index,1),this._cache=cacheSentinel,!0):!1},clear:function(){this._keys.length=0,this._values.length=0,this._cache=cacheSentinel},forEach:function(callback,thisArg){for(var size=this.size,i=0;size>i;++i){var key=this._keys[i],value=this._values[i];this._cache=key,callback.call(this,value,key,this)}},_find:function(key){for(var keys=this._keys,size=keys.length,i=0;size>i;++i)if(keys[i]===key)return i;return-1}},Map}function CreateSetPolyfill(){function Set(){this._map=new _Map}return Set.prototype={get size(){return this._map.length},has:function(value){return this._map.has(value)},add:function(value){return this._map.set(value,value),this},"delete":function(value){return this._map["delete"](value)},clear:function(){this._map.clear()},forEach:function(callback,thisArg){this._map.forEach(callback,thisArg)}},Set}function CreateWeakMapPolyfill(){function WeakMap(){this._key=CreateUniqueKey()}function FillRandomBytes(buffer,size){for(var i=0;size>i;++i)buffer[i]=255*Math.random()|0}function GenRandomBytes(size){if(nodeCrypto){var data=nodeCrypto.randomBytes(size);return data}if("function"==typeof Uint8Array){var data=new Uint8Array(size);return"undefined"!=typeof crypto?crypto.getRandomValues(data):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(data):FillRandomBytes(data,size),data}var data=new Array(size);return FillRandomBytes(data,size),data}function CreateUUID(){var data=GenRandomBytes(UUID_SIZE);data[6]=79&data[6]|64,data[8]=191&data[8]|128;for(var result="",offset=0;UUID_SIZE>offset;++offset){var byte=data[offset];(4===offset||6===offset||8===offset)&&(result+="-"),16>byte&&(result+="0"),result+=byte.toString(16).toLowerCase()}return result}function CreateUniqueKey(){var key;do key="@@WeakMap@@"+CreateUUID();while(hasOwn.call(keys,key));return keys[key]=!0,key}function GetOrCreateWeakMapTable(target,create){if(!hasOwn.call(target,rootKey)){if(!create)return;Object.defineProperty(target,rootKey,{value:Object.create(null)})}return target[rootKey]}var UUID_SIZE=16,isNode="undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process),nodeCrypto=isNode&&$__require("@empty"),hasOwn=Object.prototype.hasOwnProperty,keys={},rootKey=CreateUniqueKey();return WeakMap.prototype={has:function(target){var table=GetOrCreateWeakMapTable(target,!1);return table?this._key in table:!1},get:function(target){var table=GetOrCreateWeakMapTable(target,!1);return table?table[this._key]:void 0},set:function(target,value){var table=GetOrCreateWeakMapTable(target,!0);return table[this._key]=value,this},"delete":function(target){var table=GetOrCreateWeakMapTable(target,!1);return table&&this._key in table?delete table[this._key]:!1},clear:function(){this._key=CreateUniqueKey()}},WeakMap}var functionPrototype=Object.getPrototypeOf(Function),_Map="function"==typeof Map?Map:CreateMapPolyfill(),_Set="function"==typeof Set?Set:CreateSetPolyfill(),_WeakMap="function"==typeof WeakMap?WeakMap:CreateWeakMapPolyfill(),__Metadata__=new _WeakMap;Reflect.decorate=decorate,Reflect.metadata=metadata,Reflect.defineMetadata=defineMetadata,Reflect.hasMetadata=hasMetadata,Reflect.hasOwnMetadata=hasOwnMetadata,Reflect.getMetadata=getMetadata,Reflect.getOwnMetadata=getOwnMetadata,Reflect.getMetadataKeys=getMetadataKeys,Reflect.getOwnMetadataKeys=getOwnMetadataKeys,Reflect.deleteMetadata=deleteMetadata,function(__global){if("undefined"!=typeof __global.Reflect){if(__global.Reflect!==Reflect)for(var p in Reflect)__global.Reflect[p]=Reflect[p]}else __global.Reflect=Reflect}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof global?global:Function("return this;")())}(Reflect||(Reflect={})),module.exports}),$__System.registerDynamic("5",["6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),AngularEntrypoint=function(){function AngularEntrypoint(name){this.name=name}return AngularEntrypoint=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],AngularEntrypoint)}();return exports.AngularEntrypoint=AngularEntrypoint,module.exports}),$__System.registerDynamic("7",["9","6","a","8","b","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},dom_adapter_1=$__require("9"),lang_1=$__require("6"),collection_1=$__require("a"),event_manager_1=$__require("8"),di_1=$__require("b"),modifierKeys=["alt","control","meta","shift"],modifierKeyGetters={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},KeyEventsPlugin=function(_super){function KeyEventsPlugin(){_super.call(this)}return __extends(KeyEventsPlugin,_super),KeyEventsPlugin.prototype.supports=function(eventName){return lang_1.isPresent(KeyEventsPlugin.parseEventName(eventName))},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(element,collection_1.StringMapWrapper.get(parsedEvent,"fullKey"),handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,collection_1.StringMapWrapper.get(parsedEvent,"domEventName"),outsideHandler)})},KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||!lang_1.StringWrapper.equals(domEventName,"keydown")&&!lang_1.StringWrapper.equals(domEventName,"keyup"))return null;var key=KeyEventsPlugin._normalizeKey(parts.pop()),fullKey="";if(modifierKeys.forEach(function(modifierName){collection_1.ListWrapper.contains(parts,modifierName)&&(collection_1.ListWrapper.remove(parts,modifierName),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;var result=collection_1.StringMapWrapper.create();return collection_1.StringMapWrapper.set(result,"domEventName",domEventName),collection_1.StringMapWrapper.set(result,"fullKey",fullKey),result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=dom_adapter_1.DOM.getEventKey(event);return key=key.toLowerCase(),lang_1.StringWrapper.equals(key," ")?key="space":lang_1.StringWrapper.equals(key,".")&&(key="dot"),modifierKeys.forEach(function(modifierName){if(modifierName!=key){var modifierGetter=collection_1.StringMapWrapper.get(modifierKeyGetters,modifierName);modifierGetter(event)&&(fullKey+=modifierName+".")}}),fullKey+=key},KeyEventsPlugin.eventCallback=function(element,fullKey,handler,zone){return function(event){lang_1.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(event),fullKey)&&zone.run(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case"esc":return"escape";default:return keyName}},KeyEventsPlugin=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],KeyEventsPlugin)}(event_manager_1.EventManagerPlugin);return exports.KeyEventsPlugin=KeyEventsPlugin,module.exports}),$__System.registerDynamic("c",["8","a","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),event_manager_1=$__require("8"),collection_1=$__require("a"),_eventNames={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HammerGesturesPluginCommon=function(_super){function HammerGesturesPluginCommon(){_super.call(this)}return __extends(HammerGesturesPluginCommon,_super),HammerGesturesPluginCommon.prototype.supports=function(eventName){return eventName=eventName.toLowerCase(),collection_1.StringMapWrapper.contains(_eventNames,eventName)},HammerGesturesPluginCommon}(event_manager_1.EventManagerPlugin);return exports.HammerGesturesPluginCommon=HammerGesturesPluginCommon,module.exports}),$__System.registerDynamic("d",["c","6","e","b","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},hammer_common_1=$__require("c"),lang_1=$__require("6"),exceptions_1=$__require("e"),di_1=$__require("b"),HammerGesturesPlugin=function(_super){function HammerGesturesPlugin(){_super.apply(this,arguments)}return __extends(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){if(!_super.prototype.supports.call(this,eventName))return!1;if(!lang_1.isPresent(window.Hammer))throw new exceptions_1.BaseException("Hammer.js is not loaded, can not bind "+eventName+" event");return!0},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone();return eventName=eventName.toLowerCase(),zone.runOutsideAngular(function(){var mc=new Hammer(element);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});var handler=function(eventObj){zone.run(function(){handler(eventObj)})};return mc.on(eventName,handler),function(){mc.off(eventName,handler)}})},HammerGesturesPlugin=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],HammerGesturesPlugin)}(hammer_common_1.HammerGesturesPluginCommon);return exports.HammerGesturesPlugin=HammerGesturesPlugin,module.exports}),$__System.registerDynamic("f",["a","6","9","10","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),lang_1=$__require("6"),dom_adapter_1=$__require("9"),xhr_impl_1=$__require("10"),GenericBrowserDomAdapter=function(_super){function GenericBrowserDomAdapter(){var _this=this;_super.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var element=this.createElement("div",this.defaultDoc());if(lang_1.isPresent(this.getStyle(element,"animationName")))this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(lang_1.isPresent(this.getStyle(element,domPrefixes[i]+"AnimationName"))){this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};collection_1.StringMapWrapper.forEach(transEndEventNames,function(value,key){lang_1.isPresent(_this.getStyle(element,key))&&(_this._transitionEnd=value)})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}return __extends(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getXHR=function(){return xhr_impl_1.XHRImpl},GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return lang_1.isFunction(this.defaultDoc().body.createShadowRoot)},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return lang_1.isPresent(this._animationPrefix)?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return lang_1.isPresent(this._transitionEnd)?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return lang_1.isPresent(this._animationPrefix)&&lang_1.isPresent(this._transitionEnd)},GenericBrowserDomAdapter}(dom_adapter_1.DomAdapter);return exports.GenericBrowserDomAdapter=GenericBrowserDomAdapter,module.exports}),$__System.registerDynamic("11",["a","6","9","f","3"],!0,function($__require,exports,module){"use strict";function getBaseElementHref(){return lang_1.isBlank(baseElement)&&(baseElement=document.querySelector("base"),lang_1.isBlank(baseElement))?null:baseElement.getAttribute("href")}function relativePath(url){return lang_1.isBlank(urlParsingNode)&&(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),lang_1=$__require("6"),dom_adapter_1=$__require("9"),generic_browser_adapter_1=$__require("f"),_attrToPropMap={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},BrowserDomAdapter=function(_super){function BrowserDomAdapter(){_super.apply(this,arguments)}return __extends(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,args)},BrowserDomAdapter.prototype.logError=function(error){window.console.error?window.console.error(error):window.console.log(error)},BrowserDomAdapter.prototype.log=function(error){window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console.group?(window.console.group(error),this.logError(error)):window.console.log(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.query=function(selector){return document.querySelector(selector)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=document.createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=document.createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||lang_1.isPresent(evt.returnValue)&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){
for(var childNodes=el.childNodes,res=collection_1.ListWrapper.createFixedSize(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(el,node){el.parentNode.insertBefore(node,el)},BrowserDomAdapter.prototype.insertAllBefore=function(el,nodes){nodes.forEach(function(n){return el.parentNode.insertBefore(n,el)})},BrowserDomAdapter.prototype.insertAfter=function(el,node){el.parentNode.insertBefore(node,el.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return document.createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=document.createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return void 0===doc&&(doc=document),doc.createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return void 0===doc&&(doc=document),doc.createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return void 0===doc&&(doc=document),doc.createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){void 0===doc&&(doc=document);var el=doc.createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){void 0===doc&&(doc=document);var style=doc.createElement("style");return this.appendChild(style,this.createTextNode(css)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=null},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){void 0===styleValue&&(styleValue=null);var value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:value.length>0},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs[i];res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.defaultDoc=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(){return document.title},BrowserDomAdapter.prototype.setTitle=function(newTitle){document.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){var matches=!1;return n instanceof HTMLElement&&(n.matches?matches=n.matches(selector):n.msMatchesSelector?matches=n.msMatchesSelector(selector):n.webkitMatchesSelector&&(matches=n.webkitMatchesSelector(selector))),matches},BrowserDomAdapter.prototype.isTemplateElement=function(el){return el instanceof HTMLElement&&"TEMPLATE"==el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return node instanceof HTMLElement&&lang_1.isPresent(node.shadowRoot)},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){var toImport=node;return this.isTemplateElement(node)&&(toImport=this.content(node)),document.importNode(toImport,!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.href},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(lang_1.isBlank(key)){if(key=event.keyIdentifier,lang_1.isBlank(key))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap.hasOwnProperty(key)&&(key=_keyMap[key]),key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(target){return"window"==target?window:"document"==target?document:"body"==target?document.body:void 0},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(){var href=getBaseElementHref();return lang_1.isBlank(href)?null:relativePath(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.setGlobalVar=function(path,value){lang_1.setValueOnPath(lang_1.global,path,value)},BrowserDomAdapter.prototype.requestAnimationFrame=function(callback){return window.requestAnimationFrame(callback)},BrowserDomAdapter.prototype.cancelAnimationFrame=function(id){window.cancelAnimationFrame(id)},BrowserDomAdapter.prototype.performanceNow=function(){return lang_1.isPresent(window.performance)&&lang_1.isPresent(window.performance.now)?window.performance.now():lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now())},BrowserDomAdapter}(generic_browser_adapter_1.GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var baseElement=null,urlParsingNode=null;return module.exports}),$__System.registerDynamic("12",["a","6","9","13","3"],!0,function($__require,exports,module){"use strict";var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),dom_adapter_1=$__require("9"),core_1=$__require("13"),PublicTestability=function(){function PublicTestability(testability){this._testability=testability}return PublicTestability.prototype.isStable=function(){return this._testability.isStable()},PublicTestability.prototype.whenStable=function(callback){this._testability.whenStable(callback)},PublicTestability.prototype.findBindings=function(using,provider,exactMatch){return this.findProviders(using,provider,exactMatch)},PublicTestability.prototype.findProviders=function(using,provider,exactMatch){return this._testability.findBindings(using,provider,exactMatch)},PublicTestability}(),BrowserGetTestability=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){core_1.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){lang_1.global.getAngularTestability=function(elem,findInAncestors){void 0===findInAncestors&&(findInAncestors=!0);var testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return new PublicTestability(testability)},lang_1.global.getAllAngularTestabilities=function(){var testabilities=registry.getAllTestabilities();return testabilities.map(function(testability){return new PublicTestability(testability)})},lang_1.global.getAllAngularRootElements=function(){return registry.getAllRootElements()};var whenAllStable=function(callback){var testabilities=lang_1.global.getAllAngularTestabilities(),count=testabilities.length,didWork=!1,decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach(function(testability){testability.whenStable(decrement)})};lang_1.global.frameworkStabilizers||(lang_1.global.frameworkStabilizers=collection_1.ListWrapper.createGrowableSize(0)),lang_1.global.frameworkStabilizers.push(whenAllStable)},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return lang_1.isPresent(t)?t:findInAncestors?dom_adapter_1.DOM.isShadowRoot(elem)?this.findTestabilityInTree(registry,dom_adapter_1.DOM.getHost(elem),!0):this.findTestabilityInTree(registry,dom_adapter_1.DOM.parentElement(elem),!0):null},BrowserGetTestability}();return exports.BrowserGetTestability=BrowserGetTestability,module.exports}),$__System.registerDynamic("14",["3"],!0,function($__require,exports,module){"use strict";function wtfInit(){}$__require("3");return exports.wtfInit=wtfInit,module.exports}),$__System.registerDynamic("15",["9","13","8","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},dom_adapter_1=$__require("9"),core_1=$__require("13"),event_manager_1=$__require("8"),DomEventsPlugin=function(_super){function DomEventsPlugin(){_super.apply(this,arguments)}return __extends(DomEventsPlugin,_super),DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone(),outsideHandler=function(event){return zone.run(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler)})},DomEventsPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){var element=dom_adapter_1.DOM.getGlobalEventTarget(target),zone=this.manager.getZone(),outsideHandler=function(event){return zone.run(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler)})},DomEventsPlugin=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],DomEventsPlugin)}(event_manager_1.EventManagerPlugin);return exports.DomEventsPlugin=DomEventsPlugin,module.exports}),$__System.registerDynamic("16",["6","9","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),dom_adapter_1=$__require("9"),By=function(){function By(){}return By.all=function(){return function(debugElement){return!0}},By.css=function(selector){return function(debugElement){return lang_1.isPresent(debugElement.nativeElement)?dom_adapter_1.DOM.elementMatches(debugElement.nativeElement,selector):!1}},By.directive=function(type){return function(debugElement){return-1!==debugElement.providerTokens.indexOf(type)}},By}();return exports.By=By,module.exports}),$__System.registerDynamic("17",["3"],!0,function($__require,exports,module){"use strict";var CssAnimationOptions=($__require("3"),function(){function CssAnimationOptions(){this.classesToAdd=[],this.classesToRemove=[],this.animationClasses=[]}return CssAnimationOptions}());return exports.CssAnimationOptions=CssAnimationOptions,module.exports}),$__System.registerDynamic("18",["6","19","1a","a","9","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),math_1=$__require("19"),util_1=$__require("1a"),collection_1=$__require("a"),dom_adapter_1=$__require("9"),Animation=function(){function Animation(element,data,browserDetails){var _this=this;this.element=element,this.data=data,this.browserDetails=browserDetails,this.callbacks=[],this.eventClearFunctions=[],this.completed=!1,this._stringPrefix="",this.startTime=lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now()),this._stringPrefix=dom_adapter_1.DOM.getAnimationPrefix(),this.setup(),this.wait(function(timestamp){return _this.start()})}return Object.defineProperty(Animation.prototype,"totalTime",{get:function(){var delay=null!=this.computedDelay?this.computedDelay:0,duration=null!=this.computedDuration?this.computedDuration:0;return delay+duration},enumerable:!0,configurable:!0}),Animation.prototype.wait=function(callback){this.browserDetails.raf(callback,2)},Animation.prototype.setup=function(){null!=this.data.fromStyles&&this.applyStyles(this.data.fromStyles),null!=this.data.duration&&this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"}),null!=this.data.delay&&this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})},Animation.prototype.start=function(){this.addClasses(this.data.classesToAdd),this.addClasses(this.data.animationClasses),this.removeClasses(this.data.classesToRemove),null!=this.data.toStyles&&this.applyStyles(this.data.toStyles);var computedStyles=dom_adapter_1.DOM.getComputedStyle(this.element);this.computedDelay=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay"))),this.computedDuration=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration"))),this.addEvents()},Animation.prototype.applyStyles=function(styles){var _this=this;collection_1.StringMapWrapper.forEach(styles,function(value,key){var dashCaseKey=util_1.camelCaseToDashCase(key);lang_1.isPresent(dom_adapter_1.DOM.getStyle(_this.element,dashCaseKey))?dom_adapter_1.DOM.setStyle(_this.element,dashCaseKey,value.toString()):dom_adapter_1.DOM.setStyle(_this.element,_this._stringPrefix+dashCaseKey,value.toString())})},Animation.prototype.addClasses=function(classes){for(var i=0,len=classes.length;len>i;i++)dom_adapter_1.DOM.addClass(this.element,classes[i])},Animation.prototype.removeClasses=function(classes){for(var i=0,len=classes.length;len>i;i++)dom_adapter_1.DOM.removeClass(this.element,classes[i])},Animation.prototype.addEvents=function(){var _this=this;this.totalTime>0?this.eventClearFunctions.push(dom_adapter_1.DOM.onAndCancel(this.element,dom_adapter_1.DOM.getTransitionEnd(),function(event){return _this.handleAnimationEvent(event)})):this.handleAnimationCompleted()},Animation.prototype.handleAnimationEvent=function(event){var elapsedTime=math_1.Math.round(1e3*event.elapsedTime);this.browserDetails.elapsedTimeIncludesDelay||(elapsedTime+=this.computedDelay),event.stopPropagation(),elapsedTime>=this.totalTime&&this.handleAnimationCompleted()},Animation.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses),this.callbacks.forEach(function(callback){return callback()}),this.callbacks=[],this.eventClearFunctions.forEach(function(fn){return fn()}),this.eventClearFunctions=[],this.completed=!0},Animation.prototype.onComplete=function(callback){return this.completed?callback():this.callbacks.push(callback),this},Animation.prototype.parseDurationString=function(duration){var maxValue=0;if(null==duration||duration.length<2)return maxValue;if("ms"==duration.substring(duration.length-2)){var value=lang_1.NumberWrapper.parseInt(this.stripLetters(duration),10);value>maxValue&&(maxValue=value)}else if("s"==duration.substring(duration.length-1)){var ms=1e3*lang_1.NumberWrapper.parseFloat(this.stripLetters(duration)),value=math_1.Math.floor(ms);value>maxValue&&(maxValue=value)}return maxValue},Animation.prototype.stripLetters=function(str){return lang_1.StringWrapper.replaceAll(str,lang_1.RegExpWrapper.create("[^0-9]+$",""),"")},Animation}();return exports.Animation=Animation,module.exports}),$__System.registerDynamic("1b",["17","18","3"],!0,function($__require,exports,module){"use strict";var css_animation_options_1=($__require("3"),$__require("17")),animation_1=$__require("18"),CssAnimationBuilder=function(){function CssAnimationBuilder(browserDetails){this.browserDetails=browserDetails,this.data=new css_animation_options_1.CssAnimationOptions}return CssAnimationBuilder.prototype.addAnimationClass=function(className){return this.data.animationClasses.push(className),this},CssAnimationBuilder.prototype.addClass=function(className){return this.data.classesToAdd.push(className),this},CssAnimationBuilder.prototype.removeClass=function(className){return this.data.classesToRemove.push(className),this},CssAnimationBuilder.prototype.setDuration=function(duration){return this.data.duration=duration,this},CssAnimationBuilder.prototype.setDelay=function(delay){return this.data.delay=delay,this},CssAnimationBuilder.prototype.setStyles=function(from,to){return this.setFromStyles(from).setToStyles(to)},CssAnimationBuilder.prototype.setFromStyles=function(from){return this.data.fromStyles=from,this},CssAnimationBuilder.prototype.setToStyles=function(to){return this.data.toStyles=to,this},CssAnimationBuilder.prototype.start=function(element){return new animation_1.Animation(element,this.data,this.browserDetails)},CssAnimationBuilder}();return exports.CssAnimationBuilder=CssAnimationBuilder,module.exports}),$__System.registerDynamic("19",["6","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6"));return exports.Math=lang_1.global.Math,exports.NaN=typeof exports.NaN,module.exports}),$__System.registerDynamic("1c",["b","19","9","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),math_1=$__require("19"),dom_adapter_1=$__require("9"),BrowserDetails=function(){function BrowserDetails(){this.elapsedTimeIncludesDelay=!1,this.doesElapsedTimeIncludesDelay()}return BrowserDetails.prototype.doesElapsedTimeIncludesDelay=function(){var _this=this,div=dom_adapter_1.DOM.createElement("div");dom_adapter_1.DOM.setAttribute(div,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;"),this.raf(function(timestamp){dom_adapter_1.DOM.on(div,"transitionend",function(event){var elapsed=math_1.Math.round(1e3*event.elapsedTime);_this.elapsedTimeIncludesDelay=2==elapsed,dom_adapter_1.DOM.remove(div)}),dom_adapter_1.DOM.setStyle(div,"width","2px")},2)},BrowserDetails.prototype.raf=function(callback,frames){void 0===frames&&(frames=1);var queue=new RafQueue(callback,frames);return function(){return queue.cancel()}},BrowserDetails=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],BrowserDetails)}();exports.BrowserDetails=BrowserDetails;var RafQueue=function(){function RafQueue(callback,frames){this.callback=callback,this.frames=frames,this._raf()}return RafQueue.prototype._raf=function(){var _this=this;this.currentFrameId=dom_adapter_1.DOM.requestAnimationFrame(function(timestamp){return _this._nextFrame(timestamp)})},RafQueue.prototype._nextFrame=function(timestamp){this.frames--,this.frames>0?this._raf():this.callback(timestamp)},RafQueue.prototype.cancel=function(){dom_adapter_1.DOM.cancelAnimationFrame(this.currentFrameId),this.currentFrameId=null},RafQueue}();return module.exports}),$__System.registerDynamic("1d",["b","1b","1c","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),css_animation_builder_1=$__require("1b"),browser_details_1=$__require("1c"),AnimationBuilder=function(){function AnimationBuilder(browserDetails){this.browserDetails=browserDetails}return AnimationBuilder.prototype.css=function(){return new css_animation_builder_1.CssAnimationBuilder(this.browserDetails)},AnimationBuilder=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[browser_details_1.BrowserDetails])],AnimationBuilder)}();return exports.AnimationBuilder=AnimationBuilder,module.exports}),$__System.registerDynamic("1e",["9","b","a","1f","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},dom_adapter_1=$__require("9"),di_1=$__require("b"),collection_1=$__require("a"),dom_tokens_1=$__require("1f"),SharedStylesHost=function(){function SharedStylesHost(){this._styles=[],this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=[];styles.forEach(function(style){collection_1.SetWrapper.has(_this._stylesSet,style)||(_this._stylesSet.add(style),_this._styles.push(style),additions.push(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return this._styles},SharedStylesHost=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],SharedStylesHost)}();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=function(_super){function DomSharedStylesHost(doc){_super.call(this),this._hostNodes=new Set,this._hostNodes.add(doc.head)}return __extends(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){for(var i=0;i<styles.length;i++){var style=styles[i];dom_adapter_1.DOM.appendChild(host,dom_adapter_1.DOM.createStyleElement(style))}},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._styles,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){collection_1.SetWrapper["delete"](this._hostNodes,hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){_this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata("design:paramtypes",[Object])],DomSharedStylesHost)}(SharedStylesHost);return exports.DomSharedStylesHost=DomSharedStylesHost,module.exports}),$__System.registerDynamic("8",["6","e","b","20","a","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=$__require("6"),exceptions_1=$__require("e"),di_1=$__require("b"),ng_zone_1=$__require("20"),collection_1=$__require("a");exports.EVENT_MANAGER_PLUGINS=lang_1.CONST_EXPR(new di_1.OpaqueToken("EventManagerPlugins"));var EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone,plugins.forEach(function(p){return p.manager=_this}),this._plugins=collection_1.ListWrapper.reversed(plugins)}return EventManager.prototype.addEventListener=function(element,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addEventListener(element,eventName,handler)},EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addGlobalEventListener(target,eventName,handler)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(eventName){for(var plugins=this._plugins,i=0;i<plugins.length;i++){var plugin=plugins[i];if(plugin.supports(eventName))return plugin}throw new exceptions_1.BaseException("No event manager plugin found for event "+eventName)},EventManager=__decorate([di_1.Injectable(),__param(0,di_1.Inject(exports.EVENT_MANAGER_PLUGINS)),__metadata("design:paramtypes",[Array,ng_zone_1.NgZone])],EventManager)}();exports.EventManager=EventManager;var EventManagerPlugin=function(){function EventManagerPlugin(){}return EventManagerPlugin.prototype.supports=function(eventName){return!1},EventManagerPlugin.prototype.addEventListener=function(element,eventName,handler){throw"not implemented"},EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){throw"not implemented"},EventManagerPlugin}();return exports.EventManagerPlugin=EventManagerPlugin,module.exports}),$__System.registerDynamic("1f",["b","6","3"],!0,function($__require,exports,module){"use strict";var di_1=($__require("3"),$__require("b")),lang_1=$__require("6");return exports.DOCUMENT=lang_1.CONST_EXPR(new di_1.OpaqueToken("DocumentToken")),module.exports}),$__System.registerDynamic("1a",["6","3"],!0,function($__require,exports,module){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}var lang_1=($__require("3"),$__require("6")),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;return exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase,module.exports}),$__System.registerDynamic("21",["b","1d","6","e","1e","8","1f","22","9","1a","3"],!0,function($__require,exports,module){"use strict";function moveNodesAfterSibling(sibling,nodes){var parent=dom_adapter_1.DOM.parentElement(sibling);if(nodes.length>0&&lang_1.isPresent(parent)){var nextSibling=dom_adapter_1.DOM.nextSibling(sibling);if(lang_1.isPresent(nextSibling))for(var i=0;i<nodes.length;i++)dom_adapter_1.DOM.insertBefore(nextSibling,nodes[i]);else for(var i=0;i<nodes.length;i++)dom_adapter_1.DOM.appendChild(parent,nodes[i])}}function appendNodes(parent,nodes){for(var i=0;i<nodes.length;i++)dom_adapter_1.DOM.appendChild(parent,nodes[i])}function decoratePreventDefault(eventHandler){return function(event){var allowDefaultBehavior=eventHandler(event);allowDefaultBehavior===!1&&dom_adapter_1.DOM.preventDefault(event)}}function _shimContentAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.CONTENT_ATTR,COMPONENT_REGEX,componentShortId);
}function _shimHostAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.HOST_ATTR,COMPONENT_REGEX,componentShortId)}function _flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];lang_1.isArray(style)?_flattenStyles(compId,style,target):(style=lang_1.StringWrapper.replaceAll(style,COMPONENT_REGEX,compId),target.push(style))}return target}function splitNamespace(name){if("@"!=name[0])return[null,name];var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,name);return[match[1],match[2]]}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=$__require("b"),animation_builder_1=$__require("1d"),lang_1=$__require("6"),exceptions_1=$__require("e"),shared_styles_host_1=$__require("1e"),event_manager_1=$__require("8"),dom_tokens_1=$__require("1f"),metadata_1=$__require("22"),dom_adapter_1=$__require("9"),util_1=$__require("1a"),NAMESPACE_URIS=lang_1.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),TEMPLATE_COMMENT_TEXT="template bindings={}",TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/g,DomRootRenderer=function(){function DomRootRenderer(document,eventManager,sharedStylesHost,animate){this.document=document,this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.animate=animate,this._registeredComponents=new Map}return DomRootRenderer.prototype.renderComponent=function(componentProto){var renderer=this._registeredComponents.get(componentProto.id);return lang_1.isBlank(renderer)&&(renderer=new DomRenderer(this,componentProto),this._registeredComponents.set(componentProto.id,renderer)),renderer},DomRootRenderer}();exports.DomRootRenderer=DomRootRenderer;var DomRootRenderer_=function(_super){function DomRootRenderer_(_document,_eventManager,sharedStylesHost,animate){_super.call(this,_document,_eventManager,sharedStylesHost,animate)}return __extends(DomRootRenderer_,_super),DomRootRenderer_=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata("design:paramtypes",[Object,event_manager_1.EventManager,shared_styles_host_1.DomSharedStylesHost,animation_builder_1.AnimationBuilder])],DomRootRenderer_)}(DomRootRenderer);exports.DomRootRenderer_=DomRootRenderer_;var DomRenderer=function(){function DomRenderer(_rootRenderer,componentProto){this._rootRenderer=_rootRenderer,this.componentProto=componentProto,this._styles=_flattenStyles(componentProto.id,componentProto.styles,[]),componentProto.encapsulation!==metadata_1.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(componentProto.id),this._hostAttr=_shimHostAttribute(componentProto.id)):(this._contentAttr=null,this._hostAttr=null)}return DomRenderer.prototype.renderComponent=function(componentProto){return this._rootRenderer.renderComponent(componentProto)},DomRenderer.prototype.selectRootElement=function(selector){var el=dom_adapter_1.DOM.querySelector(this._rootRenderer.document,selector);if(lang_1.isBlank(el))throw new exceptions_1.BaseException('The selector "'+selector+'" did not match any elements');return dom_adapter_1.DOM.clearNodes(el),el},DomRenderer.prototype.createElement=function(parent,name){var nsAndName=splitNamespace(name),el=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]);return lang_1.isPresent(this._contentAttr)&&dom_adapter_1.DOM.setAttribute(el,this._contentAttr,""),lang_1.isPresent(parent)&&dom_adapter_1.DOM.appendChild(parent,el),el},DomRenderer.prototype.createViewRoot=function(hostElement){var nodesParent;if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native){nodesParent=dom_adapter_1.DOM.createShadowRoot(hostElement),this._rootRenderer.sharedStylesHost.addHost(nodesParent);for(var i=0;i<this._styles.length;i++)dom_adapter_1.DOM.appendChild(nodesParent,dom_adapter_1.DOM.createStyleElement(this._styles[i]))}else lang_1.isPresent(this._hostAttr)&&dom_adapter_1.DOM.setAttribute(hostElement,this._hostAttr,""),nodesParent=hostElement;return nodesParent},DomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=dom_adapter_1.DOM.createComment(TEMPLATE_COMMENT_TEXT);return lang_1.isPresent(parentElement)&&dom_adapter_1.DOM.appendChild(parentElement,comment),comment},DomRenderer.prototype.createText=function(parentElement,value){var node=dom_adapter_1.DOM.createTextNode(value);return lang_1.isPresent(parentElement)&&dom_adapter_1.DOM.appendChild(parentElement,node),node},DomRenderer.prototype.projectNodes=function(parentElement,nodes){lang_1.isBlank(parentElement)||appendNodes(parentElement,nodes)},DomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){moveNodesAfterSibling(node,viewRootNodes);for(var i=0;i<viewRootNodes.length;i++)this.animateNodeEnter(viewRootNodes[i])},DomRenderer.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++){var node=viewRootNodes[i];dom_adapter_1.DOM.remove(node),this.animateNodeLeave(node)}},DomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native&&lang_1.isPresent(hostElement)&&this._rootRenderer.sharedStylesHost.removeHost(dom_adapter_1.DOM.getShadowRoot(hostElement))},DomRenderer.prototype.listen=function(renderElement,name,callback){return this._rootRenderer.eventManager.addEventListener(renderElement,name,decoratePreventDefault(callback))},DomRenderer.prototype.listenGlobal=function(target,name,callback){return this._rootRenderer.eventManager.addGlobalEventListener(target,name,decoratePreventDefault(callback))},DomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){dom_adapter_1.DOM.setProperty(renderElement,propertyName,propertyValue)},DomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var attrNs,nsAndName=splitNamespace(attributeName);lang_1.isPresent(nsAndName[0])&&(attributeName=nsAndName[0]+":"+nsAndName[1],attrNs=NAMESPACE_URIS[nsAndName[0]]),lang_1.isPresent(attributeValue)?lang_1.isPresent(attrNs)?dom_adapter_1.DOM.setAttributeNS(renderElement,attrNs,attributeName,attributeValue):dom_adapter_1.DOM.setAttribute(renderElement,attributeName,attributeValue):lang_1.isPresent(attrNs)?dom_adapter_1.DOM.removeAttributeNS(renderElement,attrNs,nsAndName[1]):dom_adapter_1.DOM.removeAttribute(renderElement,attributeName)},DomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){var dashCasedPropertyName=util_1.camelCaseToDashCase(propertyName);if(dom_adapter_1.DOM.isCommentNode(renderElement)){var existingBindings=lang_1.RegExpWrapper.firstMatch(TEMPLATE_BINDINGS_EXP,lang_1.StringWrapper.replaceAll(dom_adapter_1.DOM.getText(renderElement),/\n/g,"")),parsedBindings=lang_1.Json.parse(existingBindings[1]);parsedBindings[dashCasedPropertyName]=propertyValue,dom_adapter_1.DOM.setText(renderElement,lang_1.StringWrapper.replace(TEMPLATE_COMMENT_TEXT,"{}",lang_1.Json.stringify(parsedBindings)))}else this.setElementAttribute(renderElement,propertyName,propertyValue)},DomRenderer.prototype.setElementDebugInfo=function(renderElement,info){},DomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){isAdd?dom_adapter_1.DOM.addClass(renderElement,className):dom_adapter_1.DOM.removeClass(renderElement,className)},DomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){lang_1.isPresent(styleValue)?dom_adapter_1.DOM.setStyle(renderElement,styleName,lang_1.stringify(styleValue)):dom_adapter_1.DOM.removeStyle(renderElement,styleName)},DomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){dom_adapter_1.DOM.invoke(renderElement,methodName,args)},DomRenderer.prototype.setText=function(renderNode,text){dom_adapter_1.DOM.setText(renderNode,text)},DomRenderer.prototype.animateNodeEnter=function(node){dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,"ng-animate")&&(dom_adapter_1.DOM.addClass(node,"ng-enter"),this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,"ng-enter")}))},DomRenderer.prototype.animateNodeLeave=function(node){dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,"ng-animate")?(dom_adapter_1.DOM.addClass(node,"ng-leave"),this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,"ng-leave"),dom_adapter_1.DOM.remove(node)})):dom_adapter_1.DOM.remove(node)},DomRenderer}();exports.DomRenderer=DomRenderer;var COMPONENT_REGEX=/%COMP%/g;exports.COMPONENT_VARIABLE="%COMP%",exports.HOST_ATTR="_nghost-"+exports.COMPONENT_VARIABLE,exports.CONTENT_ATTR="_ngcontent-"+exports.COMPONENT_VARIABLE;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;return module.exports}),$__System.registerDynamic("23",["6","24","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),debug_node_1=$__require("24"),DebugDomRootRenderer=function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate}return DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this,this._delegate.renderComponent(componentProto))},DebugDomRootRenderer}();exports.DebugDomRootRenderer=DebugDomRootRenderer;var DebugDomRenderer=function(){function DebugDomRenderer(_rootRenderer,_delegate){this._rootRenderer=_rootRenderer,this._delegate=_delegate}return DebugDomRenderer.prototype.renderComponent=function(componentType){return this._rootRenderer.renderComponent(componentType)},DebugDomRenderer.prototype.selectRootElement=function(selector){var nativeEl=this._delegate.selectRootElement(selector),debugEl=new debug_node_1.DebugElement(nativeEl,null);return debug_node_1.indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createElement=function(parentElement,name){var nativeEl=this._delegate.createElement(parentElement,name),debugEl=new debug_node_1.DebugElement(nativeEl,debug_node_1.getDebugNode(parentElement));return debugEl.name=name,debug_node_1.indexDebugNode(debugEl),nativeEl},DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement)},DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=this._delegate.createTemplateAnchor(parentElement),debugEl=new debug_node_1.DebugNode(comment,debug_node_1.getDebugNode(parentElement));return debug_node_1.indexDebugNode(debugEl),comment},DebugDomRenderer.prototype.createText=function(parentElement,value){var text=this._delegate.createText(parentElement,value),debugEl=new debug_node_1.DebugNode(text,debug_node_1.getDebugNode(parentElement));return debug_node_1.indexDebugNode(debugEl),text},DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=debug_node_1.getDebugNode(parentElement);return lang_1.isPresent(debugParent)&&debugParent instanceof debug_node_1.DebugElement&&nodes.forEach(function(node){debugParent.addChild(debug_node_1.getDebugNode(node))}),this._delegate.projectNodes(parentElement,nodes)},DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&lang_1.isPresent(debugParent)){var debugViewRootNodes=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes.push(debug_node_1.getDebugNode(rootNode))}),debugParent.insertChildrenAfter(debugNode,debugViewRootNodes)}}return this._delegate.attachViewAfter(node,viewRootNodes)},DebugDomRenderer.prototype.detachView=function(viewRootNodes){return viewRootNodes.forEach(function(node){var debugNode=debug_node_1.getDebugNode(node);lang_1.isPresent(debugNode)&&lang_1.isPresent(debugNode.parent)&&debugNode.parent.removeChild(debugNode)}),this._delegate.detachView(viewRootNodes)},DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){return viewAllNodes.forEach(function(node){debug_node_1.removeDebugNodeFromIndex(debug_node_1.getDebugNode(node))}),this._delegate.destroyView(hostElement,viewAllNodes)},DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=debug_node_1.getDebugNode(renderElement);return lang_1.isPresent(debugEl)&&debugEl.listeners.push(new debug_node_1.EventListener(name,callback)),this._delegate.listen(renderElement,name,callback)},DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback)},DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=debug_node_1.getDebugNode(renderElement);return lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&debugEl.properties.set(propertyName,propertyValue),this._delegate.setElementProperty(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=debug_node_1.getDebugNode(renderElement);return lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement&&debugEl.attributes.set(attributeName,attributeValue),this._delegate.setElementAttribute(renderElement,attributeName,attributeValue)},DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){return this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue)},DebugDomRenderer.prototype.setElementDebugInfo=function(renderElement,info){var debugEl=debug_node_1.getDebugNode(renderElement);return debugEl.setDebugInfo(info),this._delegate.setElementDebugInfo(renderElement,info)},DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){return this._delegate.setElementClass(renderElement,className,isAdd)},DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){return this._delegate.setElementStyle(renderElement,styleName,styleValue)},DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){return this._delegate.invokeElementMethod(renderElement,methodName,args)},DebugDomRenderer.prototype.setText=function(renderNode,text){return this._delegate.setText(renderNode,text)},DebugDomRenderer}();return exports.DebugDomRenderer=DebugDomRenderer,module.exports}),$__System.registerDynamic("25",["6","b","9","24","21","13","23","3"],!0,function($__require,exports,module){"use strict";function inspectNativeElement(element){return debug_node_1.getDebugNode(element)}function _createConditionalRootRenderer(rootRenderer){return lang_1.assertionsEnabled()?_createRootRenderer(rootRenderer):rootRenderer}function _createRootRenderer(rootRenderer){return dom_adapter_1.DOM.setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement),dom_adapter_1.DOM.setGlobalVar(CORE_TOKENS_GLOBAL_NAME,CORE_TOKENS),new debug_renderer_1.DebugDomRootRenderer(rootRenderer)}var lang_1=($__require("3"),$__require("6")),di_1=$__require("b"),dom_adapter_1=$__require("9"),debug_node_1=$__require("24"),dom_renderer_1=$__require("21"),core_1=$__require("13"),debug_renderer_1=$__require("23"),CORE_TOKENS=lang_1.CONST_EXPR({ApplicationRef:core_1.ApplicationRef,NgZone:core_1.NgZone}),INSPECT_GLOBAL_NAME="ng.probe",CORE_TOKENS_GLOBAL_NAME="ng.coreTokens";return exports.inspectNativeElement=inspectNativeElement,exports.ELEMENT_PROBE_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createConditionalRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]),exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]),module.exports}),$__System.registerDynamic("26",["9","21","1f","1e","15","8","16","25","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var dom_adapter_1=($__require("3"),$__require("9"));exports.DOM=dom_adapter_1.DOM,exports.setRootDomAdapter=dom_adapter_1.setRootDomAdapter,exports.DomAdapter=dom_adapter_1.DomAdapter;var dom_renderer_1=$__require("21");exports.DomRenderer=dom_renderer_1.DomRenderer;var dom_tokens_1=$__require("1f");exports.DOCUMENT=dom_tokens_1.DOCUMENT;var shared_styles_host_1=$__require("1e");exports.SharedStylesHost=shared_styles_host_1.SharedStylesHost,exports.DomSharedStylesHost=shared_styles_host_1.DomSharedStylesHost;var dom_events_1=$__require("15");exports.DomEventsPlugin=dom_events_1.DomEventsPlugin;var event_manager_1=$__require("8");return exports.EVENT_MANAGER_PLUGINS=event_manager_1.EVENT_MANAGER_PLUGINS,exports.EventManager=event_manager_1.EventManager,exports.EventManagerPlugin=event_manager_1.EventManagerPlugin,__export($__require("16")),__export($__require("25")),module.exports}),$__System.registerDynamic("27",["9","3"],!0,function($__require,exports,module){"use strict";var dom_adapter_1=($__require("3"),$__require("9")),Title=function(){function Title(){}return Title.prototype.getTitle=function(){return dom_adapter_1.DOM.getTitle()},Title.prototype.setTitle=function(newTitle){dom_adapter_1.DOM.setTitle(newTitle)},Title}();return exports.Title=Title,module.exports}),$__System.registerDynamic("28",["3"],!0,function($__require,exports,module){"use strict";var win=($__require("3"),window);return exports.window=win,exports.document=window.document,exports.location=window.location,exports.gc=window.gc?function(){return window.gc()}:function(){return null},exports.performance=window.performance?window.performance:null,exports.Event=window.Event,exports.MouseEvent=window.MouseEvent,exports.KeyboardEvent=window.KeyboardEvent,exports.EventTarget=window.EventTarget,exports.History=window.History,exports.Location=window.Location,exports.EventListener=window.EventListener,module.exports}),$__System.registerDynamic("29",["2a","6","28","9","3"],!0,function($__require,exports,module){"use strict";var application_ref_1=($__require("3"),$__require("2a")),lang_1=$__require("6"),browser_1=$__require("28"),dom_adapter_1=$__require("9"),AngularTools=function(){function AngularTools(ref){this.profiler=new AngularProfiler(ref)}return AngularTools}();exports.AngularTools=AngularTools;var AngularProfiler=function(){function AngularProfiler(ref){this.appRef=ref.injector.get(application_ref_1.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(config){var record=lang_1.isPresent(config)&&config.record,profileName="Change Detection",isProfilerAvailable=lang_1.isPresent(browser_1.window.console.profile);record&&isProfilerAvailable&&browser_1.window.console.profile(profileName);for(var start=dom_adapter_1.DOM.performanceNow(),numTicks=0;5>numTicks||dom_adapter_1.DOM.performanceNow()-start<500;)this.appRef.tick(),numTicks++;var end=dom_adapter_1.DOM.performanceNow();record&&isProfilerAvailable&&browser_1.window.console.profileEnd(profileName);var msPerTick=(end-start)/numTicks;browser_1.window.console.log("ran "+numTicks+" change detection cycles"),browser_1.window.console.log(lang_1.NumberWrapper.toFixed(msPerTick,2)+" ms per check")},AngularProfiler}();return exports.AngularProfiler=AngularProfiler,module.exports}),$__System.registerDynamic("2b",["6","29","3"],!0,function($__require,exports,module){"use strict";function enableDebugTools(ref){context.ng=new common_tools_1.AngularTools(ref)}function disableDebugTools(){delete context.ng}var lang_1=($__require("3"),$__require("6")),common_tools_1=$__require("29"),context=lang_1.global;return exports.enableDebugTools=enableDebugTools,exports.disableDebugTools=disableDebugTools,module.exports}),$__System.registerDynamic("2c",["6","b","13","2d","2e","9","15","7","d","1f","21","1e","1c","1d","11","12","14","8","26","27","2b","3"],!0,function($__require,exports,module){"use strict";function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.DOM,!lang_1.IS_DART)}function _document(){return dom_adapter_1.DOM.defaultDoc()}function initDomAdapter(){browser_adapter_1.BrowserDomAdapter.makeCurrent(),wtf_init_1.wtfInit(),testability_2.BrowserGetTestability.init()}var lang_1=($__require("3"),$__require("6")),di_1=$__require("b"),core_1=$__require("13"),common_1=$__require("2d"),testability_1=$__require("2e"),dom_adapter_1=$__require("9"),dom_events_1=$__require("15"),key_events_1=$__require("7"),hammer_gestures_1=$__require("d"),dom_tokens_1=$__require("1f"),dom_renderer_1=$__require("21"),shared_styles_host_1=$__require("1e"),shared_styles_host_2=$__require("1e"),browser_details_1=$__require("1c"),animation_builder_1=$__require("1d"),browser_adapter_1=$__require("11"),testability_2=$__require("12"),wtf_init_1=$__require("14"),event_manager_1=$__require("8"),common_dom_1=$__require("26"),dom_tokens_2=$__require("1f");exports.DOCUMENT=dom_tokens_2.DOCUMENT;var title_1=$__require("27");exports.Title=title_1.Title;var common_dom_2=$__require("26");exports.ELEMENT_PROBE_PROVIDERS=common_dom_2.ELEMENT_PROBE_PROVIDERS,exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=common_dom_2.ELEMENT_PROBE_PROVIDERS_PROD_MODE,exports.inspectNativeElement=common_dom_2.inspectNativeElement,exports.By=common_dom_2.By;var browser_adapter_2=$__require("11");exports.BrowserDomAdapter=browser_adapter_2.BrowserDomAdapter;var tools_1=$__require("2b");return exports.enableDebugTools=tools_1.enableDebugTools,exports.disableDebugTools=tools_1.disableDebugTools,exports.BROWSER_PROVIDERS=lang_1.CONST_EXPR([core_1.PLATFORM_COMMON_PROVIDERS,new di_1.Provider(core_1.PLATFORM_INITIALIZER,{useValue:initDomAdapter,multi:!0})]),exports.BROWSER_APP_COMMON_PROVIDERS=lang_1.CONST_EXPR([core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,new di_1.Provider(core_1.PLATFORM_PIPES,{useValue:common_1.COMMON_PIPES,multi:!0}),new di_1.Provider(core_1.PLATFORM_DIRECTIVES,{useValue:common_1.COMMON_DIRECTIVES,multi:!0}),new di_1.Provider(core_1.ExceptionHandler,{useFactory:_exceptionHandler,deps:[]}),new di_1.Provider(dom_tokens_1.DOCUMENT,{useFactory:_document,deps:[]}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:dom_events_1.DomEventsPlugin,multi:!0}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:key_events_1.KeyEventsPlugin,multi:!0}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:hammer_gestures_1.HammerGesturesPlugin,multi:!0}),new di_1.Provider(dom_renderer_1.DomRootRenderer,{useClass:dom_renderer_1.DomRootRenderer_}),new di_1.Provider(core_1.RootRenderer,{useExisting:dom_renderer_1.DomRootRenderer}),new di_1.Provider(shared_styles_host_2.SharedStylesHost,{useExisting:shared_styles_host_1.DomSharedStylesHost}),shared_styles_host_1.DomSharedStylesHost,testability_1.Testability,browser_details_1.BrowserDetails,animation_builder_1.AnimationBuilder,event_manager_1.EventManager,common_dom_1.ELEMENT_PROBE_PROVIDERS]),exports.initDomAdapter=initDomAdapter,module.exports}),$__System.registerDynamic("2f",["a","6","31","32","30","33","3"],!0,function($__require,exports,module){"use strict";function createChangeDetectorDefinitions(componentType,componentStrategy,genConfig,parsedTemplate){var pvVisitors=[],visitor=new ProtoViewVisitor(null,pvVisitors,componentStrategy);return template_ast_1.templateVisitAll(visitor,parsedTemplate),createChangeDefinitions(pvVisitors,componentType,genConfig)}function createChangeDefinitions(pvVisitors,componentType,genConfig){var pvVariableNames=_collectNestedProtoViewsVariableNames(pvVisitors);return pvVisitors.map(function(pvVisitor){var id=componentType.name+"_"+pvVisitor.viewIndex;return new change_detection_1.ChangeDetectorDefinition(id,pvVisitor.strategy,pvVariableNames[pvVisitor.viewIndex],pvVisitor.bindingRecords,pvVisitor.eventRecords,pvVisitor.directiveRecords,genConfig)})}function _collectNestedProtoViewsVariableNames(pvVisitors){var nestedPvVariableNames=collection_1.ListWrapper.createFixedSize(pvVisitors.length);return pvVisitors.forEach(function(pv){var parentVariableNames=lang_1.isPresent(pv.parent)?nestedPvVariableNames[pv.parent.viewIndex]:[];nestedPvVariableNames[pv.viewIndex]=parentVariableNames.concat(pv.variableNames)}),nestedPvVariableNames}var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),reflection_1=$__require("31"),change_detection_1=$__require("32"),template_ast_1=$__require("30"),interfaces_1=$__require("33");exports.createChangeDetectorDefinitions=createChangeDetectorDefinitions;var ProtoViewVisitor=function(){function ProtoViewVisitor(parent,allVisitors,strategy){this.parent=parent,this.allVisitors=allVisitors,this.strategy=strategy,this.nodeCount=0,this.boundElementCount=0,this.variableNames=[],this.bindingRecords=[],this.eventRecords=[],this.directiveRecords=[],this.viewIndex=allVisitors.length,allVisitors.push(this)}return ProtoViewVisitor.prototype.visitEmbeddedTemplate=function(ast,context){this.nodeCount++,this.boundElementCount++,template_ast_1.templateVisitAll(this,ast.outputs);for(var i=0;i<ast.directives.length;i++)ast.directives[i].visit(this,i);var childVisitor=new ProtoViewVisitor(this,this.allVisitors,change_detection_1.ChangeDetectionStrategy.Default);return template_ast_1.templateVisitAll(childVisitor,ast.vars),template_ast_1.templateVisitAll(childVisitor,ast.children),null},ProtoViewVisitor.prototype.visitElement=function(ast,context){this.nodeCount++,ast.isBound()&&this.boundElementCount++,template_ast_1.templateVisitAll(this,ast.inputs,null),template_ast_1.templateVisitAll(this,ast.outputs),template_ast_1.templateVisitAll(this,ast.exportAsVars);for(var i=0;i<ast.directives.length;i++)ast.directives[i].visit(this,i);return template_ast_1.templateVisitAll(this,ast.children),null},ProtoViewVisitor.prototype.visitNgContent=function(ast,context){return null},ProtoViewVisitor.prototype.visitVariable=function(ast,context){return this.variableNames.push(ast.name),null},ProtoViewVisitor.prototype.visitEvent=function(ast,directiveRecord){var bindingRecord=lang_1.isPresent(directiveRecord)?change_detection_1.BindingRecord.createForHostEvent(ast.handler,ast.fullName,directiveRecord):change_detection_1.BindingRecord.createForEvent(ast.handler,ast.fullName,this.boundElementCount-1);return this.eventRecords.push(bindingRecord),null},ProtoViewVisitor.prototype.visitElementProperty=function(ast,directiveRecord){var bindingRecord,boundElementIndex=this.boundElementCount-1,dirIndex=lang_1.isPresent(directiveRecord)?directiveRecord.directiveIndex:null;return ast.type===template_ast_1.PropertyBindingType.Property?bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostProperty(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementProperty(ast.value,boundElementIndex,ast.name):ast.type===template_ast_1.PropertyBindingType.Attribute?bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostAttribute(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementAttribute(ast.value,boundElementIndex,ast.name):ast.type===template_ast_1.PropertyBindingType.Class?bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostClass(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementClass(ast.value,boundElementIndex,ast.name):ast.type===template_ast_1.PropertyBindingType.Style&&(bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostStyle(dirIndex,ast.value,ast.name,ast.unit):change_detection_1.BindingRecord.createForElementStyle(ast.value,boundElementIndex,ast.name,ast.unit)),this.bindingRecords.push(bindingRecord),null},ProtoViewVisitor.prototype.visitAttr=function(ast,context){return null},ProtoViewVisitor.prototype.visitBoundText=function(ast,context){var nodeIndex=this.nodeCount++;return this.bindingRecords.push(change_detection_1.BindingRecord.createForTextNode(ast.value,nodeIndex)),null},ProtoViewVisitor.prototype.visitText=function(ast,context){return this.nodeCount++,null},ProtoViewVisitor.prototype.visitDirective=function(ast,directiveIndexAsNumber){var directiveIndex=new change_detection_1.DirectiveIndex(this.boundElementCount-1,directiveIndexAsNumber),directiveMetadata=ast.directive,outputsArray=[];collection_1.StringMapWrapper.forEach(ast.directive.outputs,function(eventName,dirProperty){return outputsArray.push([dirProperty,eventName])});var directiveRecord=new change_detection_1.DirectiveRecord({directiveIndex:directiveIndex,callAfterContentInit:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentInit),callAfterContentChecked:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentChecked),callAfterViewInit:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewInit),callAfterViewChecked:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewChecked),callOnChanges:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnChanges),callDoCheck:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.DoCheck),callOnInit:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnInit),callOnDestroy:-1!==directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnDestroy),changeDetection:directiveMetadata.changeDetection,outputs:outputsArray});this.directiveRecords.push(directiveRecord),template_ast_1.templateVisitAll(this,ast.inputs,directiveRecord);var bindingRecords=this.bindingRecords;return directiveRecord.callOnChanges&&bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnChanges(directiveRecord)),directiveRecord.callOnInit&&bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnInit(directiveRecord)),directiveRecord.callDoCheck&&bindingRecords.push(change_detection_1.BindingRecord.createDirectiveDoCheck(directiveRecord)),template_ast_1.templateVisitAll(this,ast.hostProperties,directiveRecord),template_ast_1.templateVisitAll(this,ast.hostEvents,directiveRecord),template_ast_1.templateVisitAll(this,ast.exportAsVars),null},ProtoViewVisitor.prototype.visitDirectiveProperty=function(ast,directiveRecord){var setter=reflection_1.reflector.setter(ast.directiveName);return this.bindingRecords.push(change_detection_1.BindingRecord.createForDirective(ast.value,ast.directiveName,setter,directiveRecord)),null},ProtoViewVisitor}();return module.exports}),$__System.registerDynamic("34",["3"],!0,function($__require,exports,module){"use strict";var Codegen=($__require("3"),function(){function Codegen(moduleAlias){}return Codegen.prototype.generate=function(typeName,changeDetectorTypeName,def){throw"Not implemented in JS"},Codegen.prototype.toString=function(){throw"Not implemented in JS"},Codegen}());return exports.Codegen=Codegen,module.exports}),$__System.registerDynamic("35",["36","38","39","3a","3b","2f","6","32","34","37","b","3"],!0,function($__require,exports,module){
"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},source_module_1=$__require("36"),change_detection_jit_generator_1=$__require("38"),abstract_change_detector_1=$__require("39"),change_detection_util_1=$__require("3a"),constants_1=$__require("3b"),change_definition_factory_1=$__require("2f"),lang_1=$__require("6"),change_detection_1=$__require("32"),change_detector_codegen_1=$__require("34"),util_1=$__require("37"),di_1=$__require("b"),ABSTRACT_CHANGE_DETECTOR="AbstractChangeDetector",UTIL="ChangeDetectionUtil",CHANGE_DETECTOR_STATE="ChangeDetectorState";exports.CHANGE_DETECTION_JIT_IMPORTS=lang_1.CONST_EXPR({AbstractChangeDetector:abstract_change_detector_1.AbstractChangeDetector,ChangeDetectionUtil:change_detection_util_1.ChangeDetectionUtil,ChangeDetectorState:constants_1.ChangeDetectorState});var ABSTRACT_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/abstract_change_detector"+util_1.MODULE_SUFFIX),UTIL_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/change_detection_util"+util_1.MODULE_SUFFIX),PREGEN_PROTO_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/pregen_proto_change_detector"+util_1.MODULE_SUFFIX),CONSTANTS_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/constants"+util_1.MODULE_SUFFIX),ChangeDetectionCompiler=function(){function ChangeDetectionCompiler(_genConfig){this._genConfig=_genConfig}return ChangeDetectionCompiler.prototype.compileComponentRuntime=function(componentType,strategy,parsedTemplate){var _this=this,changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate);return changeDetectorDefinitions.map(function(definition){return _this._createChangeDetectorFactory(definition)})},ChangeDetectionCompiler.prototype._createChangeDetectorFactory=function(definition){var proto=new change_detection_1.DynamicProtoChangeDetector(definition);return function(){return proto.instantiate()}},ChangeDetectionCompiler.prototype.compileComponentCodeGen=function(componentType,strategy,parsedTemplate){var changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate),factories=[],index=0,sourceParts=changeDetectorDefinitions.map(function(definition){var codegen,sourcePart;if(lang_1.IS_DART){codegen=new change_detector_codegen_1.Codegen(PREGEN_PROTO_CHANGE_DETECTOR_MODULE);var className="_"+definition.id,typeRef=0===index&&componentType.isHost?"dynamic":""+source_module_1.moduleRef(componentType.moduleUrl)+componentType.name;codegen.generate(typeRef,className,definition),factories.push(className+".newChangeDetector"),sourcePart=codegen.toString()}else codegen=new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,""+UTIL_MODULE+UTIL,""+ABSTRACT_CHANGE_DETECTOR_MODULE+ABSTRACT_CHANGE_DETECTOR,""+CONSTANTS_MODULE+CHANGE_DETECTOR_STATE),factories.push("function() { return new "+codegen.typeName+"(); }"),sourcePart=codegen.generateSource();return index++,sourcePart});return new source_module_1.SourceExpressions(sourceParts,factories)},ChangeDetectionCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[change_detection_1.ChangeDetectorGenConfig])],ChangeDetectionCompiler)}();return exports.ChangeDetectionCompiler=ChangeDetectionCompiler,module.exports}),$__System.registerDynamic("3c",["a","6","3"],!0,function($__require,exports,module){"use strict";function stripComments(input){return lang_1.StringWrapper.replaceAllMapped(input,_commentRe,function(_){return""})}function processRules(input,ruleCallback){var inputWithEscapedBlocks=escapeBlocks(input),nextBlockIndex=0;return lang_1.StringWrapper.replaceAllMapped(inputWithEscapedBlocks.escapedString,_ruleRe,function(m){var selector=m[2],content="",suffix=m[4],contentPrefix="";lang_1.isPresent(m[4])&&m[4].startsWith("{"+BLOCK_PLACEHOLDER)&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=m[4].substring(BLOCK_PLACEHOLDER.length+1),contentPrefix="{");var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix})}function escapeBlocks(input){for(var inputParts=lang_1.StringWrapper.split(input,_curlyRe),resultParts=[],escapedBlocks=[],bracketCount=0,currentBlockParts=[],partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];part==CLOSE_CURLY&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER),currentBlockParts=[]),resultParts.push(part)),part==OPEN_CURLY&&bracketCount++}return currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push(BLOCK_PLACEHOLDER)),new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),ShadowCss=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){return void 0===hostSelector&&(hostSelector=""),cssText=stripComments(cssText),cssText=this._insertDirectives(cssText),this._scopeCssText(cssText,selector,hostSelector)},ShadowCss.prototype._insertDirectives=function(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentNextSelectorRe,function(m){return m[1]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentRuleRe,function(m){var rule=m[0];return rule=lang_1.StringWrapper.replace(rule,m[1],""),rule=lang_1.StringWrapper.replace(rule,m[2],""),m[3]+rule})},ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscoped=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),lang_1.isPresent(scopeSelector)&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),cssText=cssText+"\n"+unscoped,cssText.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){for(var m,r="",matcher=lang_1.RegExpWrapper.matcher(_cssContentUnscopedRuleRe,cssText);lang_1.isPresent(m=lang_1.RegExpMatcherWrapper.next(matcher));){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[2],""),rule=lang_1.StringWrapper.replace(rule,m[1],m[3]),r+=rule+"\n\n"}return r},ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return lang_1.StringWrapper.replaceAllMapped(cssText,regExp,function(m){if(lang_1.isPresent(m[2])){for(var parts=m[2].split(","),r=[],i=0;i<parts.length;i++){var p=parts[i];if(lang_1.isBlank(p))break;p=p.trim(),r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){return lang_1.StringWrapper.contains(part,_polyfillHost)?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix},ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+lang_1.StringWrapper.replace(part,_polyfillHost,"")+suffix},ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){for(var i=0;i<_shadowDOMSelectorsRe.length;i++)cssText=lang_1.StringWrapper.replaceAll(cssText,_shadowDOMSelectorsRe[i]," ");return cssText},ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var _this=this;return processRules(cssText,function(rule){var selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]||rule.selector.startsWith("@page")?selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling):rule.selector.startsWith("@media")&&(content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector)),new CssRule(selector,content)})},ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){for(var r=[],parts=selector.split(","),i=0;i<parts.length;i++){var p=parts[i];p=p.trim(),this._selectorNeedsScoping(p,scopeSelector)&&(p=strict&&!lang_1.StringWrapper.contains(p,_polyfillHostNoCombinator)?this._applyStrictSelectorScope(p,scopeSelector):this._applySelectorScope(p,scopeSelector,hostSelector)),r.push(p)}return r.join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){var re=this._makeScopeMatcher(scopeSelector);return!lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(re,selector))},ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){var lre=/\[/g,rre=/\]/g;return scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,lre,"\\["),scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,rre,"\\]"),lang_1.RegExpWrapper.create("^("+scopeSelector+")"+_selectorReSuffix,"m")},ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)},ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(_polyfillHostRe,selector))){var replaceBy=this.strictStyling?"["+hostSelector+"]":scopeSelector;return selector=lang_1.StringWrapper.replace(selector,_polyfillHostNoCombinator,replaceBy),lang_1.StringWrapper.replaceAll(selector,_polyfillHostRe,replaceBy+" ")}return scopeSelector+" "+selector},ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector){var isRe=/\[is=([^\]]*)\]/g;scopeSelector=lang_1.StringWrapper.replaceAllMapped(scopeSelector,isRe,function(m){return m[1]});for(var splits=[" ",">","+","~"],scoped=selector,attrName="["+scopeSelector+"]",i=0;i<splits.length;i++){var sep=splits[i],parts=scoped.split(sep);scoped=parts.map(function(p){var t=lang_1.StringWrapper.replaceAll(p.trim(),_polyfillHostRe,"");if(t.length>0&&!collection_1.ListWrapper.contains(splits,t)&&!lang_1.StringWrapper.contains(t,attrName)){var re=/([^:]*)(:*)(.*)/g,m=lang_1.RegExpWrapper.firstMatch(re,t);lang_1.isPresent(m)&&(p=m[1]+attrName+m[2]+m[3])}return p}).join(sep)}return scoped},ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){return selector=lang_1.StringWrapper.replaceAll(selector,_colonHostContextRe,_polyfillHostContext),selector=lang_1.StringWrapper.replaceAll(selector,_colonHostRe,_polyfillHost)},ShadowCss}();exports.ShadowCss=ShadowCss;var _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=lang_1.RegExpWrapper.create("("+_polyfillHost+_parenSuffix,"im"),_cssColonHostContextRe=lang_1.RegExpWrapper.create("("+_polyfillHostContext+_parenSuffix,"im"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_shadowDOMSelectorsRe=[/>>>/g,/::shadow/g,/::content/g,/\/deep\//g,/\/shadow-deep\//g,/\/shadow\//g],_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=lang_1.RegExpWrapper.create(_polyfillHost,"im"),_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*[\s\S]*?\*\//g,_ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){function CssRule(selector,content){this.selector=selector,this.content=content}return CssRule}();exports.CssRule=CssRule,exports.processRules=processRules;var StringWithEscapedBlocks=function(){function StringWithEscapedBlocks(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}return StringWithEscapedBlocks}();return module.exports}),$__System.registerDynamic("3d",["36","3f","40","6","41","3c","42","3e","37","b","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},source_module_1=$__require("36"),view_1=$__require("3f"),xhr_1=$__require("40"),lang_1=$__require("6"),async_1=$__require("41"),shadow_css_1=$__require("3c"),url_resolver_1=$__require("42"),style_url_resolver_1=$__require("3e"),util_1=$__require("37"),di_1=$__require("b"),COMPONENT_VARIABLE="%COMP%",HOST_ATTR="_nghost-"+COMPONENT_VARIABLE,CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE,StyleCompiler=function(){function StyleCompiler(_xhr,_urlResolver){this._xhr=_xhr,this._urlResolver=_urlResolver,this._styleCache=new Map,this._shadowCss=new shadow_css_1.ShadowCss}return StyleCompiler.prototype.compileComponentRuntime=function(template){var styles=template.styles,styleAbsUrls=template.styleUrls;return this._loadStyles(styles,styleAbsUrls,template.encapsulation===view_1.ViewEncapsulation.Emulated)},StyleCompiler.prototype.compileComponentCodeGen=function(template){var shim=template.encapsulation===view_1.ViewEncapsulation.Emulated;return this._styleCodeGen(template.styles,template.styleUrls,shim)},StyleCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){var styleWithImports=style_url_resolver_1.extractStyleUrls(this._urlResolver,stylesheetUrl,cssText);return[this._styleModule(stylesheetUrl,!1,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,!1)),this._styleModule(stylesheetUrl,!0,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,!0))]},StyleCompiler.prototype.clearCache=function(){this._styleCache.clear()},StyleCompiler.prototype._loadStyles=function(plainStyles,absUrls,encapsulate){var _this=this,promises=absUrls.map(function(absUrl){var cacheKey=""+absUrl+(encapsulate?".shim":""),result=_this._styleCache.get(cacheKey);return lang_1.isBlank(result)&&(result=_this._xhr.get(absUrl).then(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,absUrl,style);return _this._loadStyles([styleWithImports.style],styleWithImports.styleUrls,encapsulate)}),_this._styleCache.set(cacheKey,result)),result});return async_1.PromiseWrapper.all(promises).then(function(nestedStyles){var result=plainStyles.map(function(plainStyle){return _this._shimIfNeeded(plainStyle,encapsulate)});return nestedStyles.forEach(function(styles){return result.push(styles)}),result})},StyleCompiler.prototype._styleCodeGen=function(plainStyles,absUrls,shim){for(var _this=this,arrayPrefix=lang_1.IS_DART?"const":"",styleExpressions=plainStyles.map(function(plainStyle){return util_1.escapeSingleQuoteString(_this._shimIfNeeded(plainStyle,shim))}),i=0;i<absUrls.length;i++){var moduleUrl=this._createModuleUrl(absUrls[i],shim);styleExpressions.push(source_module_1.moduleRef(moduleUrl)+"STYLES")}var expressionSource=arrayPrefix+" ["+styleExpressions.join(",")+"]";return new source_module_1.SourceExpression([],expressionSource)},StyleCompiler.prototype._styleModule=function(stylesheetUrl,shim,expression){var moduleSource="\n      "+expression.declarations.join("\n")+"\n      "+util_1.codeGenExportVariable("STYLES")+expression.expression+";\n    ";return new source_module_1.SourceModule(this._createModuleUrl(stylesheetUrl,shim),moduleSource)},StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style},StyleCompiler.prototype._createModuleUrl=function(stylesheetUrl,shim){return shim?stylesheetUrl+".shim"+util_1.MODULE_SUFFIX:""+stylesheetUrl+util_1.MODULE_SUFFIX},StyleCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[xhr_1.XHR,url_resolver_1.UrlResolver])],StyleCompiler)}();return exports.StyleCompiler=StyleCompiler,module.exports}),$__System.registerDynamic("43",["6","a","30","36","45","46","47","3f","37","b","44","3"],!0,function($__require,exports,module){"use strict";function codeGenEventHandler(view,boundElementIndex,eventName){return util_1.codeGenValueFn(["event"],view.expression+".triggerEventHandlers("+util_1.escapeValue(eventName)+", event, "+boundElementIndex+")")}function codeGenViewFactoryName(component,embeddedTemplateIndex){return"viewFactory_"+component.type.name+embeddedTemplateIndex}function codeGenViewEncapsulation(value){return lang_1.IS_DART?""+proto_view_compiler_1.METADATA_MODULE_REF+value:""+value}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),collection_1=$__require("a"),template_ast_1=$__require("30"),source_module_1=$__require("36"),view_1=$__require("45"),view_type_1=$__require("46"),element_1=$__require("47"),view_2=$__require("3f"),util_1=$__require("37"),di_1=$__require("b"),proto_view_compiler_1=$__require("44");exports.VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({AppView:view_1.AppView,AppElement:element_1.AppElement,flattenNestedViewRenderNodes:view_1.flattenNestedViewRenderNodes,checkSlotCount:view_1.checkSlotCount});var ViewCompiler=function(){function ViewCompiler(){}return ViewCompiler.prototype.compileComponentRuntime=function(component,template,styles,protoViews,changeDetectorFactories,componentViewFactory){var viewFactory=new RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory);return viewFactory.createViewFactory(template,0,[])},ViewCompiler.prototype.compileComponentCodeGen=function(component,template,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory){var viewFactory=new CodeGenViewFactory(component,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory),targetStatements=[],viewFactoryExpression=viewFactory.createViewFactory(template,0,targetStatements);return new source_module_1.SourceExpression(targetStatements.map(function(stmt){return stmt.statement}),viewFactoryExpression.expression)},ViewCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ViewCompiler)}();exports.ViewCompiler=ViewCompiler;var CodeGenViewFactory=function(){function CodeGenViewFactory(component,styles,protoViews,changeDetectorExpressions,componentViewFactory){this.component=component,this.styles=styles,this.protoViews=protoViews,this.changeDetectorExpressions=changeDetectorExpressions,this.componentViewFactory=componentViewFactory,this._nextVarId=0}return CodeGenViewFactory.prototype._nextVar=function(prefix){return""+prefix+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype._nextRenderVar=function(){return this._nextVar("render")},CodeGenViewFactory.prototype._nextAppVar=function(){return this._nextVar("app")},CodeGenViewFactory.prototype._nextDisposableVar=function(){return"disposable"+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){var varName=this._nextRenderVar(),statement="var "+varName+" = "+renderer.expression+".createText("+(lang_1.isPresent(parent)?parent.expression:null)+", "+util_1.escapeSingleQuoteString(text)+");";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(varName)},CodeGenViewFactory.prototype.createElement=function(renderer,parentRenderNode,name,rootSelector,targetStatements){var valueExpr,varName=this._nextRenderVar();valueExpr=lang_1.isPresent(rootSelector)?rootSelector.expression+" == null ?\n        "+renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+") :\n        "+renderer.expression+".selectRootElement("+rootSelector.expression+");":renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+")";var statement="var "+varName+" = "+valueExpr+";";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(varName)},CodeGenViewFactory.prototype.createTemplateAnchor=function(renderer,parentRenderNode,targetStatements){var varName=this._nextRenderVar(),valueExpr=renderer.expression+".createTemplateAnchor("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+");";return targetStatements.push(new util_1.Statement("var "+varName+" = "+valueExpr)),new util_1.Expression(varName)},CodeGenViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){var disposableVar=this._nextDisposableVar(),eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);return targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listenGlobal("+util_1.escapeValue(eventAst.target)+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");")),new util_1.Expression(disposableVar)},CodeGenViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){var disposableVar=this._nextDisposableVar(),eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);return targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listen("+renderNode.expression+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");")),new util_1.Expression(disposableVar)},CodeGenViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".setElementAttribute("+renderNode.expression+", "+util_1.escapeSingleQuoteString(attrName)+", "+util_1.escapeSingleQuoteString(attrValue)+");"))},CodeGenViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){var appVar=this._nextAppVar(),varValue="new "+proto_view_compiler_1.APP_EL_MODULE_REF+"AppElement("+appProtoEl.expression+", "+appView.expression+",\n      "+(lang_1.isPresent(parentAppEl)?parentAppEl.expression:null)+", "+renderNode.expression+", "+(lang_1.isPresent(embeddedViewFactory)?embeddedViewFactory.expression:null)+")";return targetStatements.push(new util_1.Statement("var "+appVar+" = "+varValue+";")),new util_1.Expression(appVar)},CodeGenViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,view,appEl,component,contentNodesByNgContentIndex,targetStatements){var codeGenContentNodes;codeGenContentNodes=this.component.type.isHost?view.expression+".projectableNodes":"["+contentNodesByNgContentIndex.map(function(nodes){return util_1.codeGenFlatArray(nodes)}).join(",")+"]",targetStatements.push(new util_1.Statement(this.componentViewFactory(component)+"("+renderer.expression+", "+viewManager.expression+", "+appEl.expression+", "+codeGenContentNodes+", null, null, null);"))},CodeGenViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return new util_1.Expression(projectableNodes.expression+"["+ngContentIndex+"]",!0)},CodeGenViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".projectNodes("+parent.expression+", "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"flattenNestedViewRenderNodes("+nodes.expression+"));"))},CodeGenViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var compileProtoView=this.protoViews[embeddedTemplateIndex],isHostView=this.component.type.isHost,isComponentView=0===embeddedTemplateIndex&&!isHostView,visitor=new ViewBuilderVisitor(new util_1.Expression("renderer"),new util_1.Expression("viewManager"),new util_1.Expression("projectableNodes"),isHostView?new util_1.Expression("rootSelector"):null,new util_1.Expression("view"),compileProtoView,targetStatements,this);template_ast_1.templateVisitAll(visitor,asts,new ParentElement(isComponentView?new util_1.Expression("parentRenderNode"):null,null,null));var appProtoView=compileProtoView.protoView.expression,viewFactoryName=codeGenViewFactoryName(this.component,embeddedTemplateIndex),changeDetectorFactory=this.changeDetectorExpressions.expressions[embeddedTemplateIndex],factoryArgs=["parentRenderer","viewManager","containerEl","projectableNodes","rootSelector","dynamicallyCreatedProviders","rootInjector"],initRendererStmts=[],rendererExpr="parentRenderer";if(0===embeddedTemplateIndex){var renderCompTypeVar=this._nextVar("renderType");targetStatements.push(new util_1.Statement("var "+renderCompTypeVar+" = null;"));var stylesVar=this._nextVar("styles");targetStatements.push(new util_1.Statement(util_1.CONST_VAR+" "+stylesVar+" = "+this.styles.expression+";"));var encapsulation=this.component.template.encapsulation;initRendererStmts.push("if ("+renderCompTypeVar+" == null) {\n        "+renderCompTypeVar+" = viewManager.createRenderComponentType("+codeGenViewEncapsulation(encapsulation)+", "+stylesVar+");\n      }"),rendererExpr="parentRenderer.renderComponent("+renderCompTypeVar+")"}var statement="\n"+util_1.codeGenFnHeader(factoryArgs,viewFactoryName)+"{\n  "+initRendererStmts.join("\n")+"\n  var renderer = "+rendererExpr+";\n  var view = new "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"AppView(\n    "+appProtoView+", renderer, viewManager,\n    projectableNodes,\n    containerEl,\n    dynamicallyCreatedProviders, rootInjector,\n    "+changeDetectorFactory+"()\n  );\n  "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"checkSlotCount("+util_1.escapeValue(this.component.type.name)+", "+this.component.template.ngContentSelectors.length+", projectableNodes);\n  "+(isComponentView?"var parentRenderNode = renderer.createViewRoot(view.containerAppElement.nativeElement);":"")+"\n  "+visitor.renderStmts.map(function(stmt){return stmt.statement}).join("\n")+"\n  "+visitor.appStmts.map(function(stmt){return stmt.statement}).join("\n")+"\n\n  view.init("+util_1.codeGenFlatArray(visitor.rootNodesOrAppElements)+", "+util_1.codeGenArray(visitor.renderNodes)+", "+util_1.codeGenArray(visitor.appDisposables)+",\n            "+util_1.codeGenArray(visitor.appElements)+");\n  return view;\n}";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(viewFactoryName)},CodeGenViewFactory}(),RuntimeViewFactory=function(){function RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory){this.component=component,this.styles=styles,this.protoViews=protoViews,this.changeDetectorFactories=changeDetectorFactories,this.componentViewFactory=componentViewFactory}return RuntimeViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){return renderer.createText(parent,text)},RuntimeViewFactory.prototype.createElement=function(renderer,parent,name,rootSelector,targetStatements){var el;return el=lang_1.isPresent(rootSelector)?renderer.selectRootElement(rootSelector):renderer.createElement(parent,name)},RuntimeViewFactory.prototype.createTemplateAnchor=function(renderer,parent,targetStatements){return renderer.createTemplateAnchor(parent)},RuntimeViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){return renderer.listenGlobal(eventAst.target,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex)})},RuntimeViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){return renderer.listen(renderNode,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex)})},RuntimeViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){renderer.setElementAttribute(renderNode,attrName,attrValue)},RuntimeViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){return new element_1.AppElement(appProtoEl,appView,parentAppEl,renderNode,embeddedViewFactory)},RuntimeViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,appView,appEl,component,contentNodesByNgContentIndex,targetStatements){var flattenedContentNodes;if(this.component.type.isHost)flattenedContentNodes=appView.projectableNodes;else{flattenedContentNodes=collection_1.ListWrapper.createFixedSize(contentNodesByNgContentIndex.length);for(var i=0;i<contentNodesByNgContentIndex.length;i++)flattenedContentNodes[i]=util_1.flattenArray(contentNodesByNgContentIndex[i],[])}this.componentViewFactory(component)(renderer,viewManager,appEl,flattenedContentNodes)},RuntimeViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return projectableNodes[ngContentIndex]},RuntimeViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){renderer.projectNodes(parent,view_1.flattenNestedViewRenderNodes(nodes))},RuntimeViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var _this=this,compileProtoView=this.protoViews[embeddedTemplateIndex],isComponentView=compileProtoView.protoView.type===view_type_1.ViewType.COMPONENT,renderComponentType=null;return function(parentRenderer,viewManager,containerEl,projectableNodes,rootSelector,dynamicallyCreatedProviders,rootInjector){void 0===rootSelector&&(rootSelector=null),void 0===dynamicallyCreatedProviders&&(dynamicallyCreatedProviders=null),void 0===rootInjector&&(rootInjector=null),view_1.checkSlotCount(_this.component.type.name,_this.component.template.ngContentSelectors.length,projectableNodes);var renderer;0===embeddedTemplateIndex?(lang_1.isBlank(renderComponentType)&&(renderComponentType=viewManager.createRenderComponentType(_this.component.template.encapsulation,_this.styles)),
renderer=parentRenderer.renderComponent(renderComponentType)):renderer=parentRenderer;var changeDetector=_this.changeDetectorFactories[embeddedTemplateIndex](),view=new view_1.AppView(compileProtoView.protoView,renderer,viewManager,projectableNodes,containerEl,dynamicallyCreatedProviders,rootInjector,changeDetector),visitor=new ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,compileProtoView,[],_this),parentRenderNode=isComponentView?renderer.createViewRoot(containerEl.nativeElement):null;return template_ast_1.templateVisitAll(visitor,asts,new ParentElement(parentRenderNode,null,null)),view.init(util_1.flattenArray(visitor.rootNodesOrAppElements,[]),visitor.renderNodes,visitor.appDisposables,visitor.appElements),view}},RuntimeViewFactory}(),ParentElement=function(){function ParentElement(renderNode,appEl,component){if(this.renderNode=renderNode,this.appEl=appEl,this.component=component,lang_1.isPresent(component)){this.contentNodesByNgContentIndex=collection_1.ListWrapper.createFixedSize(component.template.ngContentSelectors.length);for(var i=0;i<this.contentNodesByNgContentIndex.length;i++)this.contentNodesByNgContentIndex[i]=[]}else this.contentNodesByNgContentIndex=null}return ParentElement.prototype.addContentNode=function(ngContentIndex,nodeExpr){this.contentNodesByNgContentIndex[ngContentIndex].push(nodeExpr)},ParentElement}(),ViewBuilderVisitor=function(){function ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,protoView,targetStatements,factory){this.renderer=renderer,this.viewManager=viewManager,this.projectableNodes=projectableNodes,this.rootSelector=rootSelector,this.view=view,this.protoView=protoView,this.targetStatements=targetStatements,this.factory=factory,this.renderStmts=[],this.renderNodes=[],this.appStmts=[],this.appElements=[],this.appDisposables=[],this.rootNodesOrAppElements=[],this.elementCount=0}return ViewBuilderVisitor.prototype._addRenderNode=function(renderNode,appEl,ngContentIndex,parent){this.renderNodes.push(renderNode),lang_1.isPresent(parent.component)?lang_1.isPresent(ngContentIndex)&&parent.addContentNode(ngContentIndex,lang_1.isPresent(appEl)?appEl:renderNode):lang_1.isBlank(parent.renderNode)&&this.rootNodesOrAppElements.push(lang_1.isPresent(appEl)?appEl:renderNode)},ViewBuilderVisitor.prototype._getParentRenderNode=function(ngContentIndex,parent){return lang_1.isPresent(parent.component)&&parent.component.template.encapsulation!==view_2.ViewEncapsulation.Native?null:parent.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(ast,parent){return this._visitText("",ast.ngContentIndex,parent)},ViewBuilderVisitor.prototype.visitText=function(ast,parent){return this._visitText(ast.value,ast.ngContentIndex,parent)},ViewBuilderVisitor.prototype._visitText=function(value,ngContentIndex,parent){var renderNode=this.factory.createText(this.renderer,this._getParentRenderNode(ngContentIndex,parent),value,this.renderStmts);return this._addRenderNode(renderNode,null,ngContentIndex,parent),null},ViewBuilderVisitor.prototype.visitNgContent=function(ast,parent){var nodesExpression=this.factory.getProjectedNodes(this.projectableNodes,ast.index);return lang_1.isPresent(parent.component)?lang_1.isPresent(ast.ngContentIndex)&&parent.addContentNode(ast.ngContentIndex,nodesExpression):lang_1.isPresent(parent.renderNode)?this.factory.appendProjectedNodes(this.renderer,parent.renderNode,nodesExpression,this.renderStmts):this.rootNodesOrAppElements.push(nodesExpression),null},ViewBuilderVisitor.prototype.visitElement=function(ast,parent){var _this=this,renderNode=this.factory.createElement(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),ast.name,this.rootSelector,this.renderStmts),component=ast.getComponent(),elementIndex=this.elementCount++,protoEl=this.protoView.protoElements[elementIndex];protoEl.renderEvents.forEach(function(eventAst){var disposable;disposable=lang_1.isPresent(eventAst.target)?_this.factory.createGlobalEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,eventAst,_this.renderStmts):_this.factory.createElementEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,renderNode,eventAst,_this.renderStmts),_this.appDisposables.push(disposable)});for(var i=0;i<protoEl.attrNameAndValues.length;i++){var attrName=protoEl.attrNameAndValues[i][0],attrValue=protoEl.attrNameAndValues[i][1];this.factory.setElementAttribute(this.renderer,renderNode,attrName,attrValue,this.renderStmts)}var appEl=null;lang_1.isPresent(protoEl.appProtoEl)&&(appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,null,this.appStmts),this.appElements.push(appEl)),this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent);var newParent=new ParentElement(renderNode,lang_1.isPresent(appEl)?appEl:parent.appEl,component);return template_ast_1.templateVisitAll(this,ast.children,newParent),lang_1.isPresent(appEl)&&lang_1.isPresent(component)&&this.factory.createAndSetComponentView(this.renderer,this.viewManager,this.view,appEl,component,newParent.contentNodesByNgContentIndex,this.appStmts),null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var renderNode=this.factory.createTemplateAnchor(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),this.renderStmts),elementIndex=this.elementCount++,protoEl=this.protoView.protoElements[elementIndex],embeddedViewFactory=this.factory.createViewFactory(ast.children,protoEl.embeddedTemplateIndex,this.targetStatements),appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,embeddedViewFactory,this.appStmts);return this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent),this.appElements.push(appEl),null},ViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitAttr=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitEvent=function(ast,ctx){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null},ViewBuilderVisitor}();return module.exports}),$__System.registerDynamic("36",["6","3"],!0,function($__require,exports,module){"use strict";function moduleRef(moduleUrl){return"#MODULE["+moduleUrl+"]"}var lang_1=($__require("3"),$__require("6")),MODULE_REGEXP=/#MODULE\[([^\]]*)\]/g;exports.moduleRef=moduleRef;var SourceModule=function(){function SourceModule(moduleUrl,sourceWithModuleRefs){this.moduleUrl=moduleUrl,this.sourceWithModuleRefs=sourceWithModuleRefs}return SourceModule.getSourceWithoutImports=function(sourceWithModuleRefs){return lang_1.StringWrapper.replaceAllMapped(sourceWithModuleRefs,MODULE_REGEXP,function(match){return""})},SourceModule.prototype.getSourceWithImports=function(){var _this=this,moduleAliases={},imports=[],newSource=lang_1.StringWrapper.replaceAllMapped(this.sourceWithModuleRefs,MODULE_REGEXP,function(match){var moduleUrl=match[1],alias=moduleAliases[moduleUrl];return lang_1.isBlank(alias)&&(moduleUrl==_this.moduleUrl?alias="":(alias="import"+imports.length,imports.push([moduleUrl,alias])),moduleAliases[moduleUrl]=alias),alias.length>0?alias+".":""});return new SourceWithImports(newSource,imports)},SourceModule}();exports.SourceModule=SourceModule;var SourceExpression=function(){function SourceExpression(declarations,expression){this.declarations=declarations,this.expression=expression}return SourceExpression}();exports.SourceExpression=SourceExpression;var SourceExpressions=function(){function SourceExpressions(declarations,expressions){this.declarations=declarations,this.expressions=expressions}return SourceExpressions}();exports.SourceExpressions=SourceExpressions;var SourceWithImports=function(){function SourceWithImports(source,imports){this.source=source,this.imports=imports}return SourceWithImports}();return exports.SourceWithImports=SourceWithImports,module.exports}),$__System.registerDynamic("44",["6","a","30","36","45","46","47","37","b","3"],!0,function($__require,exports,module){"use strict";function visitAndReturnContext(visitor,asts,context){return template_ast_1.templateVisitAll(visitor,asts,context),context}function mapToKeyValueArray(data){var entryArray=[];collection_1.StringMapWrapper.forEach(data,function(value,name){entryArray.push([name,value])}),collection_1.ListWrapper.sort(entryArray,function(entry1,entry2){return lang_1.StringWrapper.compare(entry1[0],entry2[0])});var keyValueArray=[];return entryArray.forEach(function(entry){keyValueArray.push([entry[0],entry[1]])}),keyValueArray}function mergeAttributeValue(attrName,attrValue1,attrValue2){return attrName==CLASS_ATTR||attrName==STYLE_ATTR?attrValue1+" "+attrValue2:attrValue2}function keyValueArrayToStringMap(keyValueArray){for(var stringMap={},i=0;i<keyValueArray.length;i++){var entry=keyValueArray[i];stringMap[entry[0]]=entry[1]}return stringMap}function codeGenDirectivesArray(directives){var expressions=directives.map(function(directiveType){return typeRef(directiveType.type)});return"["+expressions.join(",")+"]"}function codeGenTypesArray(types){var expressions=types.map(typeRef);return"["+expressions.join(",")+"]"}function codeGenViewType(value){return lang_1.IS_DART?""+exports.VIEW_TYPE_MODULE_REF+value:""+value}function typeRef(type){return""+source_module_1.moduleRef(type.moduleUrl)+type.name}function getViewType(component,embeddedTemplateIndex){return embeddedTemplateIndex>0?view_type_1.ViewType.EMBEDDED:component.type.isHost?view_type_1.ViewType.HOST:view_type_1.ViewType.COMPONENT}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),collection_1=$__require("a"),template_ast_1=$__require("30"),source_module_1=$__require("36"),view_1=$__require("45"),view_type_1=$__require("46"),element_1=$__require("47"),util_1=$__require("37"),di_1=$__require("b");exports.PROTO_VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({AppProtoView:view_1.AppProtoView,AppProtoElement:element_1.AppProtoElement,ViewType:view_type_1.ViewType}),exports.APP_VIEW_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/view"+util_1.MODULE_SUFFIX),exports.VIEW_TYPE_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/view_type"+util_1.MODULE_SUFFIX),exports.APP_EL_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/element"+util_1.MODULE_SUFFIX),exports.METADATA_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/metadata/view"+util_1.MODULE_SUFFIX);var IMPLICIT_TEMPLATE_VAR="$implicit",CLASS_ATTR="class",STYLE_ATTR="style",ProtoViewCompiler=function(){function ProtoViewCompiler(){}return ProtoViewCompiler.prototype.compileProtoViewRuntime=function(metadataCache,component,template,pipes){var protoViewFactory=new RuntimeProtoViewFactory(metadataCache,component,pipes),allProtoViews=[];return protoViewFactory.createCompileProtoView(template,[],[],allProtoViews),new CompileProtoViews([],allProtoViews)},ProtoViewCompiler.prototype.compileProtoViewCodeGen=function(resolvedMetadataCacheExpr,component,template,pipes){var protoViewFactory=new CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes),allProtoViews=[],allStatements=[];return protoViewFactory.createCompileProtoView(template,[],allStatements,allProtoViews),new CompileProtoViews(allStatements.map(function(stmt){return stmt.statement}),allProtoViews)},ProtoViewCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ProtoViewCompiler)}();exports.ProtoViewCompiler=ProtoViewCompiler;var CompileProtoViews=function(){function CompileProtoViews(declarations,protoViews){this.declarations=declarations,this.protoViews=protoViews}return CompileProtoViews}();exports.CompileProtoViews=CompileProtoViews;var CompileProtoView=function(){function CompileProtoView(embeddedTemplateIndex,protoElements,protoView){this.embeddedTemplateIndex=embeddedTemplateIndex,this.protoElements=protoElements,this.protoView=protoView}return CompileProtoView}();exports.CompileProtoView=CompileProtoView;var CompileProtoElement=function(){function CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl){this.boundElementIndex=boundElementIndex,this.attrNameAndValues=attrNameAndValues,this.variableNameAndValues=variableNameAndValues,this.renderEvents=renderEvents,this.directives=directives,this.embeddedTemplateIndex=embeddedTemplateIndex,this.appProtoEl=appProtoEl}return CompileProtoElement}();exports.CompileProtoElement=CompileProtoElement;var ProtoViewFactory=function(){function ProtoViewFactory(component){this.component=component}return ProtoViewFactory.prototype.createCompileProtoView=function(template,templateVariableBindings,targetStatements,targetProtoViews){var embeddedTemplateIndex=targetProtoViews.length;targetProtoViews.push(null);var builder=new ProtoViewBuilderVisitor(this,targetStatements,targetProtoViews);template_ast_1.templateVisitAll(builder,template);var viewType=getViewType(this.component,embeddedTemplateIndex),appProtoView=this.createAppProtoView(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements),cpv=new CompileProtoView(embeddedTemplateIndex,builder.protoElements,appProtoView);return targetProtoViews[embeddedTemplateIndex]=cpv,cpv},ProtoViewFactory}(),CodeGenProtoViewFactory=function(_super){function CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes){_super.call(this,component),this.resolvedMetadataCacheExpr=resolvedMetadataCacheExpr,this.pipes=pipes,this._nextVarId=0}return __extends(CodeGenProtoViewFactory,_super),CodeGenProtoViewFactory.prototype._nextProtoViewVar=function(embeddedTemplateIndex){return"appProtoView"+this._nextVarId++ +"_"+this.component.type.name+embeddedTemplateIndex},CodeGenProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var protoViewVarName=this._nextProtoViewVar(embeddedTemplateIndex),viewTypeExpr=codeGenViewType(viewType),pipesExpr=0===embeddedTemplateIndex?codeGenTypesArray(this.pipes.map(function(pipeMeta){return pipeMeta.type})):null,statement="var "+protoViewVarName+" = "+exports.APP_VIEW_MODULE_REF+"AppProtoView.create("+this.resolvedMetadataCacheExpr.expression+", "+viewTypeExpr+", "+pipesExpr+", "+util_1.codeGenStringMap(templateVariableBindings)+");";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(protoViewVarName)},CodeGenProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var varName="appProtoEl"+this._nextVarId++ +"_"+this.component.type.name,value=exports.APP_EL_MODULE_REF+"AppProtoElement.create(\n        "+this.resolvedMetadataCacheExpr.expression+",\n        "+boundElementIndex+",\n        "+util_1.codeGenStringMap(attrNameAndValues)+",\n        "+codeGenDirectivesArray(directives)+",\n        "+util_1.codeGenStringMap(variableNameAndValues)+"\n      )",statement="var "+varName+" = "+value+";";return targetStatements.push(new util_1.Statement(statement)),new util_1.Expression(varName)},CodeGenProtoViewFactory}(ProtoViewFactory),RuntimeProtoViewFactory=function(_super){function RuntimeProtoViewFactory(metadataCache,component,pipes){_super.call(this,component),this.metadataCache=metadataCache,this.pipes=pipes}return __extends(RuntimeProtoViewFactory,_super),RuntimeProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var pipes=0===embeddedTemplateIndex?this.pipes.map(function(pipeMeta){return pipeMeta.type.runtime}):[],templateVars=keyValueArrayToStringMap(templateVariableBindings);return view_1.AppProtoView.create(this.metadataCache,viewType,pipes,templateVars)},RuntimeProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var attrs=keyValueArrayToStringMap(attrNameAndValues);return element_1.AppProtoElement.create(this.metadataCache,boundElementIndex,attrs,directives.map(function(dirMeta){return dirMeta.type.runtime}),keyValueArrayToStringMap(variableNameAndValues))},RuntimeProtoViewFactory}(ProtoViewFactory),ProtoViewBuilderVisitor=function(){function ProtoViewBuilderVisitor(factory,allStatements,allProtoViews){this.factory=factory,this.allStatements=allStatements,this.allProtoViews=allProtoViews,this.protoElements=[],this.boundElementCount=0}return ProtoViewBuilderVisitor.prototype._readAttrNameAndValues=function(directives,attrAsts){var attrs=visitAndReturnContext(this,attrAsts,{});return directives.forEach(function(directiveMeta){collection_1.StringMapWrapper.forEach(directiveMeta.hostAttributes,function(value,name){var prevValue=attrs[name];attrs[name]=lang_1.isPresent(prevValue)?mergeAttributeValue(name,prevValue,value):value})}),mapToKeyValueArray(attrs)},ProtoViewBuilderVisitor.prototype.visitBoundText=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitText=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitNgContent=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitElement=function(ast,context){var _this=this,boundElementIndex=null;ast.isBound()&&(boundElementIndex=this.boundElementCount++);var component=ast.getComponent(),variableNameAndValues=[];lang_1.isBlank(component)&&ast.exportAsVars.forEach(function(varAst){variableNameAndValues.push([varAst.name,null])});var directives=[],renderEvents=visitAndReturnContext(this,ast.outputs,new Map);collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,renderEvents,variableNameAndValues,directives))});var renderEventArray=[];renderEvents.forEach(function(eventAst,_){return renderEventArray.push(eventAst)});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs);return this._addProtoElement(ast.isBound(),boundElementIndex,attrNameAndValues,variableNameAndValues,renderEventArray,directives,null),template_ast_1.templateVisitAll(this,ast.children),null},ProtoViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,context){var _this=this,boundElementIndex=this.boundElementCount++,directives=[];collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,new Map,[],directives))});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs),templateVariableBindings=ast.vars.map(function(varAst){return[varAst.value.length>0?varAst.value:IMPLICIT_TEMPLATE_VAR,varAst.name]}),nestedProtoView=this.factory.createCompileProtoView(ast.children,templateVariableBindings,this.allStatements,this.allProtoViews);return this._addProtoElement(!0,boundElementIndex,attrNameAndValues,[],[],directives,nestedProtoView.embeddedTemplateIndex),null},ProtoViewBuilderVisitor.prototype._addProtoElement=function(isBound,boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex){var appProtoEl=null;isBound&&(appProtoEl=this.factory.createAppProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,this.allStatements));var compileProtoEl=new CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl);this.protoElements.push(compileProtoEl)},ProtoViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null},ProtoViewBuilderVisitor.prototype.visitAttr=function(ast,attrNameAndValues){return attrNameAndValues[ast.name]=ast.value,null},ProtoViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return ctx.targetDirectives.push(ast.directive),template_ast_1.templateVisitAll(this,ast.hostEvents,ctx.hostEventTargetAndNames),ast.exportAsVars.forEach(function(varAst){ctx.targetVariableNameAndValues.push([varAst.name,ctx.index])}),null},ProtoViewBuilderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return eventTargetAndNames.set(ast.fullName,ast),null},ProtoViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null},ProtoViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null},ProtoViewBuilderVisitor}(),DirectiveContext=function(){function DirectiveContext(index,boundElementIndex,hostEventTargetAndNames,targetVariableNameAndValues,targetDirectives){this.index=index,this.boundElementIndex=boundElementIndex,this.hostEventTargetAndNames=hostEventTargetAndNames,this.targetVariableNameAndValues=targetVariableNameAndValues,this.targetDirectives=targetDirectives}return DirectiveContext}();return module.exports}),$__System.registerDynamic("30",["6","3"],!0,function($__require,exports,module){"use strict";function templateVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[];return asts.forEach(function(ast){var astResult=ast.visit(visitor,context);lang_1.isPresent(astResult)&&result.push(astResult)}),result}var lang_1=($__require("3"),$__require("6")),TextAst=function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},TextAst}();exports.TextAst=TextAst;var BoundTextAst=function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context)},BoundTextAst}();exports.BoundTextAst=BoundTextAst;var AttrAst=function(){function AttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},AttrAst}();exports.AttrAst=AttrAst;var BoundElementPropertyAst=function(){function BoundElementPropertyAst(name,type,value,unit,sourceSpan){this.name=name,this.type=type,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan}return BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context)},BoundElementPropertyAst}();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=function(){function BoundEventAst(name,target,handler,sourceSpan){this.name=name,this.target=target,this.handler=handler,this.sourceSpan=sourceSpan}return BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return lang_1.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),BoundEventAst}();exports.BoundEventAst=BoundEventAst;var VariableAst=function(){function VariableAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context)},VariableAst}();exports.VariableAst=VariableAst;var ElementAst=function(){function ElementAst(name,attrs,inputs,outputs,exportAsVars,directives,children,ngContentIndex,sourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.exportAsVars=exportAsVars,this.directives=directives,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},ElementAst.prototype.isBound=function(){return this.inputs.length>0||this.outputs.length>0||this.exportAsVars.length>0||this.directives.length>0},ElementAst.prototype.getComponent=function(){return this.directives.length>0&&this.directives[0].directive.isComponent?this.directives[0].directive:null},ElementAst}();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=function(){function EmbeddedTemplateAst(attrs,outputs,vars,directives,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.vars=vars,this.directives=directives,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context)},EmbeddedTemplateAst}();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}return BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context)},BoundDirectivePropertyAst}();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,exportAsVars,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.exportAsVars=exportAsVars,this.sourceSpan=sourceSpan}return DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context)},DirectiveAst}();exports.DirectiveAst=DirectiveAst;var NgContentAst=function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}return NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context)},NgContentAst}();exports.NgContentAst=NgContentAst,function(PropertyBindingType){PropertyBindingType[PropertyBindingType.Property=0]="Property",PropertyBindingType[PropertyBindingType.Attribute=1]="Attribute",PropertyBindingType[PropertyBindingType.Class=2]="Class",PropertyBindingType[PropertyBindingType.Style=3]="Style"}(exports.PropertyBindingType||(exports.PropertyBindingType={}));exports.PropertyBindingType;return exports.templateVisitAll=templateVisitAll,module.exports}),$__System.registerDynamic("48",["a","6","13","e","32","49","4a","4b","4e","30","4f","50","4c","3e","4d","37","3"],!0,function($__require,exports,module){"use strict";function splitClasses(classAttrValue){return lang_1.StringWrapper.split(classAttrValue.trim(),/\s+/g)}function createElementCssSelector(elementName,matchableAttrs){var cssSelector=new selector_1.CssSelector,elNameNoNs=html_tags_1.splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<matchableAttrs.length;i++){var attrName=matchableAttrs[i][0],attrNameNoNs=html_tags_1.splitNsName(attrName)[1],attrValue=matchableAttrs[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),attrName.toLowerCase()==CLASS_ATTR){var classes=splitClasses(attrValue);classes.forEach(function(className){return cssSelector.addClassName(className)})}}return cssSelector}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},collection_1=$__require("a"),lang_1=$__require("6"),core_1=$__require("13"),lang_2=$__require("6"),exceptions_1=$__require("e"),change_detection_1=$__require("32"),html_parser_1=$__require("49"),html_tags_1=$__require("4a"),parse_util_1=$__require("4b"),ast_1=$__require("4e"),template_ast_1=$__require("30"),selector_1=$__require("4f"),element_schema_registry_1=$__require("50"),template_preparser_1=$__require("4c"),style_url_resolver_1=$__require("3e"),html_ast_1=$__require("4d"),util_1=$__require("37"),BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,TEMPLATE_ELEMENT="template",TEMPLATE_ATTR="template",TEMPLATE_ATTR_PREFIX="*",CLASS_ATTR="class",PROPERTY_PARTS_SEPARATOR=".",ATTRIBUTE_PREFIX="attr",CLASS_PREFIX="class",STYLE_PREFIX="style",TEXT_CSS_SELECTOR=selector_1.CssSelector.parse("*")[0];exports.TEMPLATE_TRANSFORMS=lang_2.CONST_EXPR(new core_1.OpaqueToken("TemplateTransforms"));var TemplateParseError=function(_super){function TemplateParseError(message,span){_super.call(this,span,message)}return __extends(TemplateParseError,_super),TemplateParseError}(parse_util_1.ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParser=function(){function TemplateParser(_exprParser,_schemaRegistry,_htmlParser,transforms){this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this.transforms=transforms}return TemplateParser.prototype.parse=function(template,directives,pipes,templateUrl){var parseVisitor=new TemplateParseVisitor(directives,pipes,this._exprParser,this._schemaRegistry),htmlAstWithErrors=this._htmlParser.parse(template,templateUrl),result=html_ast_1.htmlVisitAll(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_COMPONENT),errors=htmlAstWithErrors.errors.concat(parseVisitor.errors);if(errors.length>0){var errorString=errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}return lang_1.isPresent(this.transforms)&&this.transforms.forEach(function(transform){result=template_ast_1.templateVisitAll(transform,result)}),result},TemplateParser=__decorate([core_1.Injectable(),__param(3,core_1.Optional()),__param(3,core_1.Inject(exports.TEMPLATE_TRANSFORMS)),__metadata("design:paramtypes",[change_detection_1.Parser,element_schema_registry_1.ElementSchemaRegistry,html_parser_1.HtmlParser,Array])],TemplateParser)}();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=function(){function TemplateParseVisitor(directives,pipes,_exprParser,_schemaRegistry){var _this=this;this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new selector_1.SelectorMatcher,collection_1.ListWrapper.forEachWithIndex(directives,function(directive,index){var selector=selector_1.CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive),_this.directivesIndex.set(directive,index)}),this.pipesByName=new Map,pipes.forEach(function(pipe){return _this.pipesByName.set(pipe.name,pipe)})}return TemplateParseVisitor.prototype._reportError=function(message,sourceSpan){this.errors.push(new TemplateParseError(message,sourceSpan))},TemplateParseVisitor.prototype._parseInterpolation=function(value,sourceSpan){
var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseAction=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseAction(value,sourceInfo);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseBinding=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseBinding(value,sourceInfo);return this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(""+e,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(value,sourceSpan){var _this=this,sourceInfo=sourceSpan.start.toString();try{var bindings=this._exprParser.parseTemplateBindings(value,sourceInfo);return bindings.forEach(function(binding){lang_1.isPresent(binding.expression)&&_this._checkPipes(binding.expression,sourceSpan)}),bindings}catch(e){return this._reportError(""+e,sourceSpan),[]}},TemplateParseVisitor.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(lang_1.isPresent(ast)){var collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach(function(pipeName){_this.pipesByName.has(pipeName)||_this._reportError("The pipe '"+pipeName+"' could not be found",sourceSpan)})}},TemplateParseVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR),expr=this._parseInterpolation(ast.value,ast.sourceSpan);return lang_1.isPresent(expr)?new template_ast_1.BoundTextAst(expr,ngContentIndex,ast.sourceSpan):new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)},TemplateParseVisitor.prototype.visitAttr=function(ast,contex){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)},TemplateParseVisitor.prototype.visitElement=function(element,component){var _this=this,nodeName=element.name,preparsedElement=template_preparser_1.preparseElement(element);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE)return null;if(preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET&&style_url_resolver_1.isStyleUrlResolvable(preparsedElement.hrefAttr))return null;var matchableAttrs=[],elementOrDirectiveProps=[],vars=[],events=[],templateElementOrDirectiveProps=[],templateVars=[],templateMatchableAttrs=[],hasInlineTemplates=!1,attrs=[];element.attrs.forEach(function(attr){var hasBinding=_this._parseAttr(attr,matchableAttrs,elementOrDirectiveProps,events,vars),hasTemplateBinding=_this._parseInlineTemplateBinding(attr,templateMatchableAttrs,templateElementOrDirectiveProps,templateVars);hasBinding||hasTemplateBinding||(attrs.push(_this.visitAttr(attr,null)),matchableAttrs.push([attr.name,attr.value])),hasTemplateBinding&&(hasInlineTemplates=!0)});var parsedElement,lcElName=html_tags_1.splitNsName(nodeName.toLowerCase())[1],isTemplateElement=lcElName==TEMPLATE_ELEMENT,elementCssSelector=createElementCssSelector(nodeName,matchableAttrs),directives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,elementCssSelector),elementOrDirectiveProps,isTemplateElement?[]:vars,element.sourceSpan),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,directives),children=html_ast_1.htmlVisitAll(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,Component.create(directives)),elementNgContentIndex=hasInlineTemplates?null:component.findNgContentIndex(elementCssSelector);if(preparsedElement.type===template_preparser_1.PreparsedElementType.NG_CONTENT)lang_1.isPresent(element.children)&&element.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",element.sourceSpan),parsedElement=new template_ast_1.NgContentAst(this.ngContentCount++,elementNgContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directives,events),this._assertNoComponentsNorElementBindingsOnTemplate(directives,elementProps,element.sourceSpan),parsedElement=new template_ast_1.EmbeddedTemplateAst(attrs,events,vars,directives,children,elementNgContentIndex,element.sourceSpan);else{this._assertOnlyOneComponent(directives,element.sourceSpan);var elementExportAsVars=vars.filter(function(varAst){return 0===varAst.value.length});parsedElement=new template_ast_1.ElementAst(nodeName,attrs,elementProps,events,elementExportAsVars,directives,children,elementNgContentIndex,element.sourceSpan)}if(hasInlineTemplates){var templateCssSelector=createElementCssSelector(TEMPLATE_ELEMENT,templateMatchableAttrs),templateDirectives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,templateCssSelector),templateElementOrDirectiveProps,[],element.sourceSpan),templateElementProps=this._createElementPropertyAsts(element.name,templateElementOrDirectiveProps,templateDirectives);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectives,templateElementProps,element.sourceSpan),parsedElement=new template_ast_1.EmbeddedTemplateAst([],[],templateVars,templateDirectives,[parsedElement],component.findNgContentIndex(templateCssSelector),element.sourceSpan)}return parsedElement},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(attr,targetMatchableAttrs,targetProps,targetVars){var templateBindingsSource=null;if(attr.name==TEMPLATE_ATTR)templateBindingsSource=attr.value;else if(attr.name.startsWith(TEMPLATE_ATTR_PREFIX)){var key=attr.name.substring(TEMPLATE_ATTR_PREFIX.length);templateBindingsSource=0==attr.value.length?key:key+" "+attr.value}if(lang_1.isPresent(templateBindingsSource)){for(var bindings=this._parseTemplateBindings(templateBindingsSource,attr.sourceSpan),i=0;i<bindings.length;i++){var binding=bindings[i];binding.keyIsVar?(targetVars.push(new template_ast_1.VariableAst(binding.key,binding.name,attr.sourceSpan)),targetMatchableAttrs.push([binding.key,binding.name])):lang_1.isPresent(binding.expression)?this._parsePropertyAst(binding.key,binding.expression,attr.sourceSpan,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this._parseLiteralAttr(binding.key,null,attr.sourceSpan,targetProps))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(attr,targetMatchableAttrs,targetProps,targetEvents,targetVars){var attrName=this._normalizeAttributeName(attr.name),attrValue=attr.value,bindParts=lang_1.RegExpWrapper.firstMatch(BIND_NAME_REGEXP,attrName),hasBinding=!1;if(lang_1.isPresent(bindParts))if(hasBinding=!0,lang_1.isPresent(bindParts[1]))this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);else if(lang_1.isPresent(bindParts[2])){var identifier=bindParts[5];this._parseVariable(identifier,attrValue,attr.sourceSpan,targetVars)}else lang_1.isPresent(bindParts[3])?this._parseEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents):lang_1.isPresent(bindParts[4])?(this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)):lang_1.isPresent(bindParts[6])?(this._parseProperty(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)):lang_1.isPresent(bindParts[7])?this._parseProperty(bindParts[7],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps):lang_1.isPresent(bindParts[8])&&this._parseEvent(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);else hasBinding=this._parsePropertyInterpolation(attrName,attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);return hasBinding||this._parseLiteralAttr(attrName,attrValue,attr.sourceSpan,targetProps),hasBinding},TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return attrName.toLowerCase().startsWith("data-")?attrName.substring(5):attrName},TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',sourceSpan),targetVars.push(new template_ast_1.VariableAst(identifier,value,sourceSpan))},TemplateParseVisitor.prototype._parseProperty=function(name,expression,sourceSpan,targetMatchableAttrs,targetProps){this._parsePropertyAst(name,this._parseBinding(expression,sourceSpan),sourceSpan,targetMatchableAttrs,targetProps)},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(name,value,sourceSpan,targetMatchableAttrs,targetProps){var expr=this._parseInterpolation(value,sourceSpan);return lang_1.isPresent(expr)?(this._parsePropertyAst(name,expr,sourceSpan,targetMatchableAttrs,targetProps),!0):!1},TemplateParseVisitor.prototype._parsePropertyAst=function(name,ast,sourceSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new BoundElementOrDirectiveProperty(name,ast,!1,sourceSpan))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){this._parseEvent(name+"Change",expression+"=$event",sourceSpan,targetMatchableAttrs,targetEvents)},TemplateParseVisitor.prototype._parseEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){var parts=util_1.splitAtColon(name,[null,name]),target=parts[0],eventName=parts[1],ast=this._parseAction(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new template_ast_1.BoundEventAst(eventName,target,ast,sourceSpan))},TemplateParseVisitor.prototype._parseLiteralAttr=function(name,value,sourceSpan,targetProps){targetProps.push(new BoundElementOrDirectiveProperty(name,this._exprParser.wrapLiteralPrimitive(value,""),!0,sourceSpan))},TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this,directives=[];return selectorMatcher.match(elementCssSelector,function(selector,directive){directives.push(directive)}),collection_1.ListWrapper.sort(directives,function(dir1,dir2){var dir1Comp=dir1.isComponent,dir2Comp=dir2.isComponent;return dir1Comp&&!dir2Comp?-1:!dir1Comp&&dir2Comp?1:_this.directivesIndex.get(dir1)-_this.directivesIndex.get(dir2)}),directives},TemplateParseVisitor.prototype._createDirectiveAsts=function(elementName,directives,props,possibleExportAsVars,sourceSpan){var _this=this,matchedVariables=new Set,directiveAsts=directives.map(function(directive){var hostProperties=[],hostEvents=[],directiveProperties=[];_this._createDirectiveHostPropertyAsts(elementName,directive.hostProperties,sourceSpan,hostProperties),_this._createDirectiveHostEventAsts(directive.hostListeners,sourceSpan,hostEvents),_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties);var exportAsVars=[];return possibleExportAsVars.forEach(function(varAst){(0===varAst.value.length&&directive.isComponent||directive.exportAs==varAst.value)&&(exportAsVars.push(varAst),matchedVariables.add(varAst.name))}),new template_ast_1.DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,exportAsVars,sourceSpan)});return possibleExportAsVars.forEach(function(varAst){varAst.value.length>0&&!collection_1.SetWrapper.has(matchedVariables,varAst.name)&&_this._reportError('There is no directive with "exportAs" set to "'+varAst.value+'"',varAst.sourceSpan)}),directiveAsts},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(elementName,hostProps,sourceSpan,targetPropertyAsts){var _this=this;lang_1.isPresent(hostProps)&&collection_1.StringMapWrapper.forEach(hostProps,function(expression,propName){var exprAst=_this._parseBinding(expression,sourceSpan);targetPropertyAsts.push(_this._createElementPropertyAst(elementName,propName,exprAst,sourceSpan))})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(hostListeners,sourceSpan,targetEventAsts){var _this=this;lang_1.isPresent(hostListeners)&&collection_1.StringMapWrapper.forEach(hostListeners,function(expression,propName){_this._parseEvent(propName,expression,sourceSpan,[],targetEventAsts)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps){if(lang_1.isPresent(directiveProperties)){var boundPropsByName=new Map;boundProps.forEach(function(boundProp){var prevValue=boundPropsByName.get(boundProp.name);(lang_1.isBlank(prevValue)||prevValue.isLiteral)&&boundPropsByName.set(boundProp.name,boundProp)}),collection_1.StringMapWrapper.forEach(directiveProperties,function(elProp,dirProp){var boundProp=boundPropsByName.get(elProp);lang_1.isPresent(boundProp)&&targetBoundDirectiveProps.push(new template_ast_1.BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,directives){var _this=this,boundElementProps=[],boundDirectivePropsIndex=new Map;return directives.forEach(function(directive){directive.inputs.forEach(function(prop){boundDirectivePropsIndex.set(prop.templateName,prop)})}),props.forEach(function(prop){!prop.isLiteral&&lang_1.isBlank(boundDirectivePropsIndex.get(prop.name))&&boundElementProps.push(_this._createElementPropertyAst(elementName,prop.name,prop.expression,prop.sourceSpan))}),boundElementProps},TemplateParseVisitor.prototype._createElementPropertyAst=function(elementName,name,ast,sourceSpan){var bindingType,boundPropertyName,unit=null,parts=name.split(PROPERTY_PARTS_SEPARATOR);if(1===parts.length)boundPropertyName=this._schemaRegistry.getMappedPropName(parts[0]),bindingType=template_ast_1.PropertyBindingType.Property,this._schemaRegistry.hasProperty(elementName,boundPropertyName)||this._reportError("Can't bind to '"+boundPropertyName+"' since it isn't a known native property",sourceSpan);else if(parts[0]==ATTRIBUTE_PREFIX){boundPropertyName=parts[1];var nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){var ns=boundPropertyName.substring(0,nsSeparatorIdx),name_1=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=html_tags_1.mergeNsAndName(ns,name_1)}bindingType=template_ast_1.PropertyBindingType.Attribute}else parts[0]==CLASS_PREFIX?(boundPropertyName=parts[1],bindingType=template_ast_1.PropertyBindingType.Class):parts[0]==STYLE_PREFIX?(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=template_ast_1.PropertyBindingType.Style):(this._reportError("Invalid property name '"+name+"'",sourceSpan),bindingType=null);return new template_ast_1.BoundElementPropertyAst(boundPropertyName,bindingType,ast,unit,sourceSpan)},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){var componentTypeNames=[];return directives.forEach(function(directive){var typeName=directive.directive.type.name;directive.directive.isComponent&&componentTypeNames.push(typeName)}),componentTypeNames},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component: "+componentTypeNames.join(","),sourceSpan)},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this,componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError("Components on an embedded template: "+componentTypeNames.join(","),sourceSpan),elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+" not used by any directive on an embedded template",sourceSpan)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this,allDirectiveEvents=new Set;directives.forEach(function(directive){collection_1.StringMapWrapper.forEach(directive.directive.outputs,function(eventName,_){allDirectiveEvents.add(eventName)})}),events.forEach(function(event){(lang_1.isPresent(event.target)||!collection_1.SetWrapper.has(allDirectiveEvents,event.name))&&_this._reportError("Event binding "+event.fullName+" not emitted by any directive on an embedded template",event.sourceSpan)})},TemplateParseVisitor}(),NonBindableVisitor=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(ast,component){var preparsedElement=template_preparser_1.preparseElement(ast);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET)return null;var attrNameAndValues=ast.attrs.map(function(attrAst){return[attrAst.name,attrAst.value]}),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=component.findNgContentIndex(selector),children=html_ast_1.htmlVisitAll(this,ast.children,EMPTY_COMPONENT);return new template_ast_1.ElementAst(ast.name,html_ast_1.htmlVisitAll(this,ast.attrs),[],[],[],[],children,ngContentIndex,ast.sourceSpan)},NonBindableVisitor.prototype.visitAttr=function(ast,context){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)},NonBindableVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR);return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)},NonBindableVisitor}(),BoundElementOrDirectiveProperty=function(){function BoundElementOrDirectiveProperty(name,expression,isLiteral,sourceSpan){this.name=name,this.expression=expression,this.isLiteral=isLiteral,this.sourceSpan=sourceSpan}return BoundElementOrDirectiveProperty}();exports.splitClasses=splitClasses;var Component=function(){function Component(ngContentIndexMatcher,wildcardNgContentIndex){this.ngContentIndexMatcher=ngContentIndexMatcher,this.wildcardNgContentIndex=wildcardNgContentIndex}return Component.create=function(directives){if(0===directives.length||!directives[0].directive.isComponent)return EMPTY_COMPONENT;for(var matcher=new selector_1.SelectorMatcher,ngContentSelectors=directives[0].directive.template.ngContentSelectors,wildcardNgContentIndex=null,i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];lang_1.StringWrapper.equals(selector,"*")?wildcardNgContentIndex=i:matcher.addSelectables(selector_1.CssSelector.parse(ngContentSelectors[i]),i)}return new Component(matcher,wildcardNgContentIndex)},Component.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];return this.ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex)}),collection_1.ListWrapper.sort(ngContentIndices),lang_1.isPresent(this.wildcardNgContentIndex)&&ngContentIndices.push(this.wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null},Component}(),EMPTY_COMPONENT=new Component(new selector_1.SelectorMatcher,null),NON_BINDABLE_VISITOR=new NonBindableVisitor,PipeCollector=function(_super){function PipeCollector(){_super.apply(this,arguments),this.pipes=new Set}return __extends(PipeCollector,_super),PipeCollector.prototype.visitPipe=function(ast){return this.pipes.add(ast.name),ast.exp.visit(this),this.visitAll(ast.args),null},PipeCollector}(ast_1.RecursiveAstVisitor);return exports.PipeCollector=PipeCollector,module.exports}),$__System.registerDynamic("3e",["6","3"],!0,function($__require,exports,module){"use strict";function isStyleUrlResolvable(url){if(lang_1.isBlank(url)||0===url.length||"/"==url[0])return!1;var schemeMatch=lang_1.RegExpWrapper.firstMatch(_urlWithSchemaRe,url);return lang_1.isBlank(schemeMatch)||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[],modifiedCssText=lang_1.StringWrapper.replaceAllMapped(cssText,_cssImportRe,function(m){var url=lang_1.isPresent(m[1])?m[1]:m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]});return new StyleWithImports(modifiedCssText,foundUrls)}var lang_1=($__require("3"),$__require("6")),StyleWithImports=function(){function StyleWithImports(style,styleUrls){this.style=style,this.styleUrls=styleUrls}return StyleWithImports}();exports.StyleWithImports=StyleWithImports,exports.isStyleUrlResolvable=isStyleUrlResolvable,exports.extractStyleUrls=extractStyleUrls;var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,_urlWithSchemaRe=/^([a-zA-Z\-\+\.]+):/g;return module.exports}),$__System.registerDynamic("4d",["6","3"],!0,function($__require,exports,module){"use strict";function htmlVisitAll(visitor,asts,context){void 0===context&&(context=null);var result=[];return asts.forEach(function(ast){var astResult=ast.visit(visitor,context);lang_1.isPresent(astResult)&&result.push(astResult)}),result}var lang_1=($__require("3"),$__require("6")),HtmlTextAst=function(){function HtmlTextAst(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}return HtmlTextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)},HtmlTextAst}();exports.HtmlTextAst=HtmlTextAst;var HtmlAttrAst=function(){function HtmlAttrAst(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}return HtmlAttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)},HtmlAttrAst}();exports.HtmlAttrAst=HtmlAttrAst;var HtmlElementAst=function(){function HtmlElementAst(name,attrs,children,sourceSpan){this.name=name,this.attrs=attrs,this.children=children,this.sourceSpan=sourceSpan}return HtmlElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)},HtmlElementAst}();return exports.HtmlElementAst=HtmlElementAst,exports.htmlVisitAll=htmlVisitAll,module.exports}),$__System.registerDynamic("51",["6","a","4b","4a","3"],!0,function($__require,exports,module){"use strict";function tokenizeHtml(sourceContent,sourceUrl){return new _HtmlTokenizer(new parse_util_1.ParseSourceFile(sourceContent,sourceUrl)).tokenize()}function unexpectedCharacterErrorMsg(charCode){var char=charCode===$EOF?"EOF":lang_1.StringWrapper.fromCharCode(charCode);return'Unexpected character "'+char+'"'}function unknownEntityErrorMsg(entitySrc){return'Unknown entity "'+entitySrc+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(code){return!isWhitespace(code)||code===$EOF}function isWhitespace(code){return code>=$TAB&&$SPACE>=code||code===$NBSP}function isNameEnd(code){return isWhitespace(code)||code===$GT||code===$SLASH||code===$SQ||code===$DQ||code===$EQ}function isPrefixEnd(code){return($a>code||code>$z)&&($A>code||code>$Z)&&($0>code||code>$9)}function isDigitEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiHexDigit(code)}function isNamedEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiLetter(code)}function isTextEnd(code){return code===$LT||code===$EOF}function isAsciiLetter(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code}function isAsciiHexDigit(code){return code>=$a&&$f>=code||code>=$A&&$F>=code||code>=$0&&$9>=code}function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)}function toUpperCaseCharCode(code){return code>=$a&&$z>=code?code-$a+$A:code}function mergeTextTokens(srcTokens){for(var lastDstToken,dstTokens=[],i=0;i<srcTokens.length;i++){var token=srcTokens[i];lang_1.isPresent(lastDstToken)&&lastDstToken.type==HtmlTokenType.TEXT&&token.type==HtmlTokenType.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),collection_1=$__require("a"),parse_util_1=$__require("4b"),html_tags_1=$__require("4a");!function(HtmlTokenType){HtmlTokenType[HtmlTokenType.TAG_OPEN_START=0]="TAG_OPEN_START",HtmlTokenType[HtmlTokenType.TAG_OPEN_END=1]="TAG_OPEN_END",HtmlTokenType[HtmlTokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",HtmlTokenType[HtmlTokenType.TAG_CLOSE=3]="TAG_CLOSE",HtmlTokenType[HtmlTokenType.TEXT=4]="TEXT",HtmlTokenType[HtmlTokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",HtmlTokenType[HtmlTokenType.RAW_TEXT=6]="RAW_TEXT",HtmlTokenType[HtmlTokenType.COMMENT_START=7]="COMMENT_START",HtmlTokenType[HtmlTokenType.COMMENT_END=8]="COMMENT_END",HtmlTokenType[HtmlTokenType.CDATA_START=9]="CDATA_START",HtmlTokenType[HtmlTokenType.CDATA_END=10]="CDATA_END",HtmlTokenType[HtmlTokenType.ATTR_NAME=11]="ATTR_NAME",HtmlTokenType[HtmlTokenType.ATTR_VALUE=12]="ATTR_VALUE",HtmlTokenType[HtmlTokenType.DOC_TYPE=13]="DOC_TYPE",HtmlTokenType[HtmlTokenType.EOF=14]="EOF"}(exports.HtmlTokenType||(exports.HtmlTokenType={}));var HtmlTokenType=exports.HtmlTokenType,HtmlToken=function(){function HtmlToken(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}return HtmlToken}();exports.HtmlToken=HtmlToken;var HtmlTokenError=function(_super){function HtmlTokenError(errorMsg,tokenType,span){_super.call(this,span,errorMsg),this.tokenType=tokenType}return __extends(HtmlTokenError,_super),HtmlTokenError}(parse_util_1.ParseError);exports.HtmlTokenError=HtmlTokenError;var HtmlTokenizeResult=function(){function HtmlTokenizeResult(tokens,errors){this.tokens=tokens,this.errors=errors}return HtmlTokenizeResult}();exports.HtmlTokenizeResult=HtmlTokenizeResult,exports.tokenizeHtml=tokenizeHtml;var $EOF=0,$TAB=9,$LF=10,$CR=13,$SPACE=32,$BANG=33,$DQ=34,$HASH=35,$AMPERSAND=38,$SQ=39,$MINUS=45,$SLASH=47,$0=48,$SEMICOLON=59,$9=57,$COLON=58,$LT=60,$EQ=61,$GT=62,$LBRACKET=91,$RBRACKET=93,$A=65,$F=70,$X=88,$Z=90,$a=97,$f=102,$z=122,$x=120,$NBSP=160,CR_OR_CRLF_REGEXP=/\r\n?/g,ControlFlowError=function(){function ControlFlowError(error){this.error=error}return ControlFlowError}(),_HtmlTokenizer=function(){function _HtmlTokenizer(file){this.file=file,this.peek=-1,this.index=-1,this.line=0,this.column=-1,this.tokens=[],this.errors=[],this.input=file.content,this.length=file.content.length,this._advance()}return _HtmlTokenizer.prototype._processCarriageReturns=function(content){return lang_1.StringWrapper.replaceAll(content,CR_OR_CRLF_REGEXP,"\n")},_HtmlTokenizer.prototype.tokenize=function(){for(;this.peek!==$EOF;){var start=this._getLocation();try{this._attemptCharCode($LT)?this._attemptCharCode($BANG)?this._attemptCharCode($LBRACKET)?this._consumeCdata(start):this._attemptCharCode($MINUS)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode($SLASH)?this._consumeTagClose(start):this._consumeTagOpen(start):this._consumeText()}catch(e){if(!(e instanceof ControlFlowError))throw e;this.errors.push(e.error)}}return this._beginToken(HtmlTokenType.EOF),this._endToken([]),new HtmlTokenizeResult(mergeTextTokens(this.tokens),this.errors)},_HtmlTokenizer.prototype._getLocation=function(){return new parse_util_1.ParseLocation(this.file,this.index,this.line,this.column)},_HtmlTokenizer.prototype._getSpan=function(start,end){return lang_1.isBlank(start)&&(start=this._getLocation()),lang_1.isBlank(end)&&(end=this._getLocation()),new parse_util_1.ParseSourceSpan(start,end)},_HtmlTokenizer.prototype._beginToken=function(type,start){void 0===start&&(start=null),lang_1.isBlank(start)&&(start=this._getLocation()),this.currentTokenStart=start,this.currentTokenType=type},_HtmlTokenizer.prototype._endToken=function(parts,end){void 0===end&&(end=null),lang_1.isBlank(end)&&(end=this._getLocation());var token=new HtmlToken(this.currentTokenType,parts,new parse_util_1.ParseSourceSpan(this.currentTokenStart,end));return this.tokens.push(token),this.currentTokenStart=null,this.currentTokenType=null,token},_HtmlTokenizer.prototype._createError=function(msg,span){var error=new HtmlTokenError(msg,this.currentTokenType,span);return this.currentTokenStart=null,this.currentTokenType=null,new ControlFlowError(error)},_HtmlTokenizer.prototype._advance=function(){if(this.index>=this.length)throw this._createError(unexpectedCharacterErrorMsg($EOF),this._getSpan());this.peek===$LF?(this.line++,this.column=0):this.peek!==$LF&&this.peek!==$CR&&this.column++,this.index++,this.peek=this.index>=this.length?$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)},_HtmlTokenizer.prototype._attemptCharCode=function(charCode){return this.peek===charCode?(this._advance(),!0):!1},_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){return compareCharCodeCaseInsensitive(this.peek,charCode)?(this._advance(),!0):!1},_HtmlTokenizer.prototype._requireCharCode=function(charCode){var location=this._getLocation();if(!this._attemptCharCode(charCode))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(location,location))},_HtmlTokenizer.prototype._attemptStr=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCode(lang_1.StringWrapper.charCodeAt(chars,i)))return!1;return!0},_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(lang_1.StringWrapper.charCodeAt(chars,i)))return!1;return!0},_HtmlTokenizer.prototype._requireStr=function(chars){var location=this._getLocation();if(!this._attemptStr(chars))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(location))},_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(predicate){for(;!predicate(this.peek);)this._advance()},_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._getLocation();if(this._attemptCharCodeUntilFn(predicate),this.index-start.offset<len)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(start,start))},_HtmlTokenizer.prototype._attemptUntilChar=function(char){for(;this.peek!==char;)this._advance()},_HtmlTokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&this.peek===$AMPERSAND)return this._decodeEntity();var index=this.index;return this._advance(),this.input[index]},_HtmlTokenizer.prototype._decodeEntity=function(){var start=this._getLocation();if(this._advance(),!this._attemptCharCode($HASH)){var startPosition=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this.peek!=$SEMICOLON)return this._restorePosition(startPosition),"&";this._advance();var name_1=this.input.substring(start.offset+1,this.index-1),char=html_tags_1.NAMED_ENTITIES[name_1];if(lang_1.isBlank(char))throw this._createError(unknownEntityErrorMsg(name_1),this._getSpan(start));return char}var isHex=this._attemptCharCode($x)||this._attemptCharCode($X),numberStart=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this.peek!=$SEMICOLON)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());this._advance();var strNum=this.input.substring(numberStart,this.index-1);try{var charCode=lang_1.NumberWrapper.parseInt(strNum,isHex?16:10);return lang_1.StringWrapper.fromCharCode(charCode)}catch(e){var entity=this.input.substring(start.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(entity),this._getSpan(start))}},_HtmlTokenizer.prototype._consumeRawText=function(decodeEntities,firstCharOfEnd,attemptEndRest){var tagCloseStart,textStart=this._getLocation();this._beginToken(decodeEntities?HtmlTokenType.ESCAPABLE_RAW_TEXT:HtmlTokenType.RAW_TEXT,textStart);
for(var parts=[];;){if(tagCloseStart=this._getLocation(),this._attemptCharCode(firstCharOfEnd)&&attemptEndRest())break;for(this.index>tagCloseStart.offset&&parts.push(this.input.substring(tagCloseStart.offset,this.index));this.peek!==firstCharOfEnd;)parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))],tagCloseStart)},_HtmlTokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(HtmlTokenType.COMMENT_START,start),this._requireCharCode($MINUS),this._endToken([]);var textToken=this._consumeRawText(!1,$MINUS,function(){return _this._attemptStr("->")});this._beginToken(HtmlTokenType.COMMENT_END,textToken.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(HtmlTokenType.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]);var textToken=this._consumeRawText(!1,$RBRACKET,function(){return _this._attemptStr("]>")});this._beginToken(HtmlTokenType.CDATA_END,textToken.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeDocType=function(start){this._beginToken(HtmlTokenType.DOC_TYPE,start),this._attemptUntilChar($GT),this._advance(),this._endToken([this.input.substring(start.offset+2,this.index-1)])},_HtmlTokenizer.prototype._consumePrefixAndName=function(){for(var nameOrPrefixStart=this.index,prefix=null;this.peek!==$COLON&&!isPrefixEnd(this.peek);)this._advance();var nameStart;this.peek===$COLON?(this._advance(),prefix=this.input.substring(nameOrPrefixStart,this.index-1),nameStart=this.index):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,this.index===nameStart?1:0);var name=this.input.substring(nameStart,this.index);return[prefix,name]},_HtmlTokenizer.prototype._consumeTagOpen=function(start){var lowercaseTagName,savedPos=this._savePosition();try{if(!isAsciiLetter(this.peek))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());var nameStart=this.index;for(this._consumeTagOpenStart(start),lowercaseTagName=this.input.substring(nameStart,this.index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this.peek!==$SLASH&&this.peek!==$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof ControlFlowError)return this._restorePosition(savedPos),this._beginToken(HtmlTokenType.TEXT,start),void this._endToken(["<"]);throw e}var contentTokenType=html_tags_1.getHtmlTagDefinition(lowercaseTagName).contentType;contentTokenType===html_tags_1.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(lowercaseTagName,!1):contentTokenType===html_tags_1.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(lowercaseTagName,!0)},_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(lowercaseTagName,decodeEntities){var _this=this,textToken=this._consumeRawText(decodeEntities,$LT,function(){return _this._attemptCharCode($SLASH)?(_this._attemptCharCodeUntilFn(isNotWhitespace),_this._attemptStrCaseInsensitive(lowercaseTagName)?(_this._attemptCharCodeUntilFn(isNotWhitespace),_this._attemptCharCode($GT)?!0:!1):!1):!1});this._beginToken(HtmlTokenType.TAG_CLOSE,textToken.sourceSpan.end),this._endToken([null,lowercaseTagName])},_HtmlTokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(HtmlTokenType.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();this._endToken(parts)},_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(HtmlTokenType.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)},_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(HtmlTokenType.ATTR_VALUE);var value;if(this.peek===$SQ||this.peek===$DQ){var quoteChar=this.peek;this._advance();for(var parts=[];this.peek!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._advance()}else{var valueStart=this.index;this._requireCharCodeUntilFn(isNameEnd,1),value=this.input.substring(valueStart,this.index)}this._endToken([this._processCarriageReturns(value)])},_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode($SLASH)?HtmlTokenType.TAG_OPEN_END_VOID:HtmlTokenType.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode($GT),this._endToken([])},_HtmlTokenizer.prototype._consumeTagClose=function(start){this._beginToken(HtmlTokenType.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName;prefixAndName=this._consumePrefixAndName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode($GT),this._endToken(prefixAndName)},_HtmlTokenizer.prototype._consumeText=function(){var start=this._getLocation();this._beginToken(HtmlTokenType.TEXT,start);for(var parts=[this._readChar(!0)];!isTextEnd(this.peek);)parts.push(this._readChar(!0));this._endToken([this._processCarriageReturns(parts.join(""))])},_HtmlTokenizer.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]},_HtmlTokenizer.prototype._restorePosition=function(position){this.peek=position[0],this.index=position[1],this.column=position[2],this.line=position[3];var nbTokens=position[4];nbTokens<this.tokens.length&&(this.tokens=collection_1.ListWrapper.slice(this.tokens,0,nbTokens))},_HtmlTokenizer}();return module.exports}),$__System.registerDynamic("4b",["3"],!0,function($__require,exports,module){"use strict";var ParseLocation=($__require("3"),function(){function ParseLocation(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}return ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},ParseLocation}());exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){function ParseSourceFile(content,url){this.content=content,this.url=url}return ParseSourceFile}();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=function(){function ParseSourceSpan(start,end){this.start=start,this.end=end}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();exports.ParseSourceSpan=ParseSourceSpan;var ParseError=function(){function ParseError(span,msg){this.span=span,this.msg=msg}return ParseError.prototype.toString=function(){var source=this.span.start.file.content,ctxStart=this.span.start.offset;ctxStart>source.length-1&&(ctxStart=source.length-1);for(var ctxEnd=ctxStart,ctxLen=0,ctxLines=0;100>ctxLen&&ctxStart>0&&(ctxStart--,ctxLen++,"\n"!=source[ctxStart]||3!=++ctxLines););for(ctxLen=0,ctxLines=0;100>ctxLen&&ctxEnd<source.length-1&&(ctxEnd++,ctxLen++,"\n"!=source[ctxEnd]||3!=++ctxLines););var context=source.substring(ctxStart,this.span.start.offset)+"[ERROR ->]"+source.substring(this.span.start.offset,ctxEnd+1);return this.msg+' ("'+context+'"): '+this.span.start},ParseError}();return exports.ParseError=ParseError,module.exports}),$__System.registerDynamic("49",["6","a","4d","b","51","4b","4a","3"],!0,function($__require,exports,module){"use strict";function getElementFullName(prefix,localName,parentElement){return lang_1.isBlank(prefix)&&(prefix=html_tags_1.getHtmlTagDefinition(localName).implicitNamespacePrefix,lang_1.isBlank(prefix)&&lang_1.isPresent(parentElement)&&(prefix=html_tags_1.getNsPrefix(parentElement.name))),html_tags_1.mergeNsAndName(prefix,localName)}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),collection_1=$__require("a"),html_ast_1=$__require("4d"),di_1=$__require("b"),html_lexer_1=$__require("51"),parse_util_1=$__require("4b"),html_tags_1=$__require("4a"),HtmlTreeError=function(_super){function HtmlTreeError(elementName,span,msg){_super.call(this,span,msg),this.elementName=elementName}return __extends(HtmlTreeError,_super),HtmlTreeError.create=function(elementName,span,msg){return new HtmlTreeError(elementName,span,msg)},HtmlTreeError}(parse_util_1.ParseError);exports.HtmlTreeError=HtmlTreeError;var HtmlParseTreeResult=function(){function HtmlParseTreeResult(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}return HtmlParseTreeResult}();exports.HtmlParseTreeResult=HtmlParseTreeResult;var HtmlParser=function(){function HtmlParser(){}return HtmlParser.prototype.parse=function(sourceContent,sourceUrl){var tokensAndErrors=html_lexer_1.tokenizeHtml(sourceContent,sourceUrl),treeAndErrors=new TreeBuilder(tokensAndErrors.tokens).build();return new HtmlParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))},HtmlParser=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],HtmlParser)}();exports.HtmlParser=HtmlParser;var TreeBuilder=function(){function TreeBuilder(tokens){this.tokens=tokens,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return TreeBuilder.prototype.build=function(){for(;this.peek.type!==html_lexer_1.HtmlTokenType.EOF;)this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.TEXT||this.peek.type===html_lexer_1.HtmlTokenType.RAW_TEXT||this.peek.type===html_lexer_1.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._advance();return new HtmlParseTreeResult(this.rootNodes,this.errors)},TreeBuilder.prototype._advance=function(){var prev=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],prev},TreeBuilder.prototype._advanceIf=function(type){return this.peek.type===type?this._advance():null},TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance()),this._advanceIf(html_lexer_1.HtmlTokenType.CDATA_END)},TreeBuilder.prototype._consumeComment=function(startToken){this._advanceIf(html_lexer_1.HtmlTokenType.RAW_TEXT),this._advanceIf(html_lexer_1.HtmlTokenType.COMMENT_END)},TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];if(text.length>0&&"\n"==text[0]){var parent_1=this._getParentElement();lang_1.isPresent(parent_1)&&0==parent_1.children.length&&html_tags_1.getHtmlTagDefinition(parent_1.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new html_ast_1.HtmlTextAst(text,token.sourceSpan))},TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var el=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(el.name).isVoid&&this.elementStack.pop()}},TreeBuilder.prototype._consumeStartTag=function(startTagToken){for(var prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];this.peek.type===html_lexer_1.HtmlTokenType.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));var fullName=getElementFullName(prefix,name,this._getParentElement()),selfClosing=!1;this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),selfClosing=!0,null!=html_tags_1.getNsPrefix(fullName)||html_tags_1.getHtmlTagDefinition(fullName).isVoid||this.errors.push(HtmlTreeError.create(fullName,startTagToken.sourceSpan,'Only void and foreign elements can be self closed "'+startTagToken.parts[1]+'"'))):this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END&&(this._advance(),selfClosing=!1);var end=this.peek.sourceSpan.start,el=new html_ast_1.HtmlElementAst(fullName,attrs,[],new parse_util_1.ParseSourceSpan(startTagToken.sourceSpan.start,end));this._pushElement(el),selfClosing&&this._popElement(fullName)},TreeBuilder.prototype._pushElement=function(el){if(this.elementStack.length>0){var parentEl=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(parentEl.name).isClosedByChild(el.name)&&this.elementStack.pop()}var tagDef=html_tags_1.getHtmlTagDefinition(el.name),parentEl=this._getParentElement();if(tagDef.requireExtraParent(lang_1.isPresent(parentEl)?parentEl.name:null)){var newParent=new html_ast_1.HtmlElementAst(tagDef.parentToAdd,[],[el],el.sourceSpan);this._addToParent(newParent),this.elementStack.push(newParent),this.elementStack.push(el)}else this._addToParent(el),this.elementStack.push(el)},TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());html_tags_1.getHtmlTagDefinition(fullName).isVoid?this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,'Void elements do not have end tags "'+endTagToken.parts[1]+'"')):this._popElement(fullName)||this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,'Unexpected closing tag "'+endTagToken.parts[1]+'"'))},TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this.elementStack.length-1;stackIndex>=0;stackIndex--){var el=this.elementStack[stackIndex];if(el.name==fullName)return collection_1.ListWrapper.splice(this.elementStack,stackIndex,this.elementStack.length-stackIndex),!0;if(!html_tags_1.getHtmlTagDefinition(el.name).closedByParent)return!1}return!1},TreeBuilder.prototype._consumeAttr=function(attrName){var fullName=html_tags_1.mergeNsAndName(attrName.parts[0],attrName.parts[1]),end=attrName.sourceSpan.end,value="";if(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end}return new html_ast_1.HtmlAttrAst(fullName,value,new parse_util_1.ParseSourceSpan(attrName.sourceSpan.start,end))},TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?collection_1.ListWrapper.last(this.elementStack):null},TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();lang_1.isPresent(parent)?parent.children.push(node):this.rootNodes.push(node)},TreeBuilder}();return module.exports}),$__System.registerDynamic("4c",["6","4a","3"],!0,function($__require,exports,module){"use strict";function preparseElement(ast){var selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1;ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();lcAttrName==NG_CONTENT_SELECT_ATTR?selectAttr=attr.value:lcAttrName==LINK_STYLE_HREF_ATTR?hrefAttr=attr.value:lcAttrName==LINK_STYLE_REL_ATTR?relAttr=attr.value:attr.name==NG_NON_BINDABLE_ATTR&&(nonBindable=!0)}),selectAttr=normalizeNgContentSelect(selectAttr);var nodeName=ast.name.toLowerCase(),type=PreparsedElementType.OTHER;return html_tags_1.splitNsName(nodeName)[1]==NG_CONTENT_ELEMENT?type=PreparsedElementType.NG_CONTENT:nodeName==STYLE_ELEMENT?type=PreparsedElementType.STYLE:nodeName==SCRIPT_ELEMENT?type=PreparsedElementType.SCRIPT:nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable)}function normalizeNgContentSelect(selectAttr){return lang_1.isBlank(selectAttr)||0===selectAttr.length?"*":selectAttr}var lang_1=($__require("3"),$__require("6")),html_tags_1=$__require("4a"),NG_CONTENT_SELECT_ATTR="select",NG_CONTENT_ELEMENT="ng-content",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable";exports.preparseElement=preparseElement,function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(exports.PreparsedElementType||(exports.PreparsedElementType={}));var PreparsedElementType=exports.PreparsedElementType,PreparsedElement=function(){function PreparsedElement(type,selectAttr,hrefAttr,nonBindable){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable}return PreparsedElement}();return exports.PreparsedElement=PreparsedElement,module.exports}),$__System.registerDynamic("52",["53","6","e","41","40","42","3e","b","3f","4d","49","4c","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},directive_metadata_1=$__require("53"),lang_1=$__require("6"),exceptions_1=$__require("e"),async_1=$__require("41"),xhr_1=$__require("40"),url_resolver_1=$__require("42"),style_url_resolver_1=$__require("3e"),di_1=$__require("b"),view_1=$__require("3f"),html_ast_1=$__require("4d"),html_parser_1=$__require("49"),template_preparser_1=$__require("4c"),TemplateNormalizer=function(){function TemplateNormalizer(_xhr,_urlResolver,_htmlParser){this._xhr=_xhr,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser}return TemplateNormalizer.prototype.normalizeTemplate=function(directiveType,template){var _this=this;if(lang_1.isPresent(template.template))return async_1.PromiseWrapper.resolve(this.normalizeLoadedTemplate(directiveType,template,template.template,directiveType.moduleUrl));if(lang_1.isPresent(template.templateUrl)){var sourceAbsUrl=this._urlResolver.resolve(directiveType.moduleUrl,template.templateUrl);return this._xhr.get(sourceAbsUrl).then(function(templateContent){return _this.normalizeLoadedTemplate(directiveType,template,templateContent,sourceAbsUrl)})}throw new exceptions_1.BaseException("No template specified for component "+directiveType.name)},TemplateNormalizer.prototype.normalizeLoadedTemplate=function(directiveType,templateMeta,template,templateAbsUrl){var _this=this,rootNodesAndErrors=this._htmlParser.parse(template,directiveType.name);if(rootNodesAndErrors.errors.length>0){var errorString=rootNodesAndErrors.errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}var visitor=new TemplatePreparseVisitor;html_ast_1.htmlVisitAll(visitor,rootNodesAndErrors.rootNodes);var allStyles=templateMeta.styles.concat(visitor.styles),allStyleAbsUrls=visitor.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(templateAbsUrl,url)}).concat(templateMeta.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(directiveType.moduleUrl,url)})),allResolvedStyles=allStyles.map(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,templateAbsUrl,style);return styleWithImports.styleUrls.forEach(function(styleUrl){return allStyleAbsUrls.push(styleUrl)}),styleWithImports.style}),encapsulation=templateMeta.encapsulation;return encapsulation===view_1.ViewEncapsulation.Emulated&&0===allResolvedStyles.length&&0===allStyleAbsUrls.length&&(encapsulation=view_1.ViewEncapsulation.None),new directive_metadata_1.CompileTemplateMetadata({encapsulation:encapsulation,template:template,templateUrl:templateAbsUrl,styles:allResolvedStyles,styleUrls:allStyleAbsUrls,ngContentSelectors:visitor.ngContentSelectors})},TemplateNormalizer=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[xhr_1.XHR,url_resolver_1.UrlResolver,html_parser_1.HtmlParser])],TemplateNormalizer)}();exports.TemplateNormalizer=TemplateNormalizer;var TemplatePreparseVisitor=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=template_preparser_1.preparseElement(ast);switch(preparsedElement.type){case template_preparser_1.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case template_preparser_1.PreparsedElementType.STYLE:var textContent="";ast.children.forEach(function(child){child instanceof html_ast_1.HtmlTextAst&&(textContent+=child.value)}),this.styles.push(textContent);break;case template_preparser_1.PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,html_ast_1.htmlVisitAll(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitAttr=function(ast,context){return null},TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null},TemplatePreparseVisitor}();return module.exports}),$__System.registerDynamic("4f",["a","6","e","3"],!0,function($__require,exports,module){"use strict";var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),exceptions_1=$__require("e"),_EMPTY_ATTR_VALUE="",_SELECTOR_REGEXP=lang_1.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),CssSelector=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(selector){for(var match,results=[],_addResult=function(res,cssSel){cssSel.notSelectors.length>0&&lang_1.isBlank(cssSel.element)&&collection_1.ListWrapper.isEmpty(cssSel.classNames)&&collection_1.ListWrapper.isEmpty(cssSel.attrs)&&(cssSel.element="*"),res.push(cssSel)},cssSelector=new CssSelector,matcher=lang_1.RegExpWrapper.matcher(_SELECTOR_REGEXP,selector),current=cssSelector,inNot=!1;lang_1.isPresent(match=lang_1.RegExpMatcherWrapper.next(matcher));){if(lang_1.isPresent(match[1])){if(inNot)throw new exceptions_1.BaseException("Nesting :not is not allowed in a selector");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}if(lang_1.isPresent(match[2])&&current.setElement(match[2]),lang_1.isPresent(match[3])&&current.addClassName(match[3]),lang_1.isPresent(match[4])&&current.addAttribute(match[4],match[5]),lang_1.isPresent(match[6])&&(inNot=!1,current=cssSelector),lang_1.isPresent(match[7])){if(inNot)throw new exceptions_1.BaseException("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results},CssSelector.prototype.isElementSelector=function(){return lang_1.isPresent(this.element)&&collection_1.ListWrapper.isEmpty(this.classNames)&&collection_1.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},CssSelector.prototype.setElement=function(element){void 0===element&&(element=null),this.element=element},CssSelector.prototype.getMatchingElementTemplate=function(){for(var tagName=lang_1.isPresent(this.element)?this.element:"div",classAttr=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",attrs="",i=0;i<this.attrs.length;i+=2){var attrName=this.attrs[i],attrValue=""!==this.attrs[i+1]?'="'+this.attrs[i+1]+'"':"";attrs+=" "+attrName+attrValue}return"<"+tagName+classAttr+attrs+"></"+tagName+">"},CssSelector.prototype.addAttribute=function(name,value){void 0===value&&(value=_EMPTY_ATTR_VALUE),this.attrs.push(name),value=lang_1.isPresent(value)?value.toLowerCase():_EMPTY_ATTR_VALUE,this.attrs.push(value)},CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase())},CssSelector.prototype.toString=function(){var res="";if(lang_1.isPresent(this.element)&&(res+=this.element),lang_1.isPresent(this.classNames))for(var i=0;i<this.classNames.length;i++)res+="."+this.classNames[i];if(lang_1.isPresent(this.attrs))for(var i=0;i<this.attrs.length;){var attrName=this.attrs[i++],attrValue=this.attrs[i++];res+="["+attrName,attrValue.length>0&&(res+="="+attrValue),res+="]"}return this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")"}),res},CssSelector}();exports.CssSelector=CssSelector;var SelectorMatcher=function(){function SelectorMatcher(){this._elementMap=new collection_1.Map,this._elementPartialMap=new collection_1.Map,this._classMap=new collection_1.Map,this._classPartialMap=new collection_1.Map,this._attrValueMap=new collection_1.Map,this._attrValuePartialMap=new collection_1.Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher},SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(var i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)},SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(lang_1.isPresent(element)){var isTerminal=0===attrs.length&&0===classNames.length;isTerminal?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(lang_1.isPresent(classNames))for(var index=0;index<classNames.length;index++){var isTerminal=0===attrs.length&&index===classNames.length-1,className=classNames[index];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(lang_1.isPresent(attrs))for(var index=0;index<attrs.length;){var isTerminal=index===attrs.length-2,attrName=attrs[index++],attrValue=attrs[index++];if(isTerminal){var terminalMap=matcher._attrValueMap,terminalValuesMap=terminalMap.get(attrName);lang_1.isBlank(terminalValuesMap)&&(terminalValuesMap=new collection_1.Map,terminalMap.set(attrName,terminalValuesMap)),this._addTerminal(terminalValuesMap,attrValue,selectable)}else{var parttialMap=matcher._attrValuePartialMap,partialValuesMap=parttialMap.get(attrName);lang_1.isBlank(partialValuesMap)&&(partialValuesMap=new collection_1.Map,parttialMap.set(attrName,partialValuesMap)),matcher=this._addPartial(partialValuesMap,attrValue)}}},SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map.get(name);lang_1.isBlank(terminalList)&&(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)},SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map.get(name);return lang_1.isBlank(matcher)&&(matcher=new SelectorMatcher,map.set(name,matcher)),matcher},SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){for(var result=!1,element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,lang_1.isPresent(classNames))for(var index=0;index<classNames.length;index++){var className=classNames[index];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(lang_1.isPresent(attrs))for(var index=0;index<attrs.length;){var attrName=attrs[index++],attrValue=attrs[index++],terminalValuesMap=this._attrValueMap.get(attrName);lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)||(result=this._matchTerminal(terminalValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,attrValue,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap.get(attrName);lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)||(result=this._matchPartial(partialValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,attrValue,cssSelector,matchedCallback)||result}return result},SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name))return!1;var selectables=map.get(name),starSelectables=map.get("*");if(lang_1.isPresent(starSelectables)&&(selectables=selectables.concat(starSelectables)),lang_1.isBlank(selectables))return!1;for(var selectable,result=!1,index=0;index<selectables.length;index++)selectable=selectables[index],result=selectable.finalize(cssSelector,matchedCallback)||result;return result},SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name))return!1;var nestedSelector=map.get(name);return lang_1.isBlank(nestedSelector)?!1:nestedSelector.match(cssSelector,matchedCallback)},SelectorMatcher}();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=function(){function SelectorListContext(selectors){this.selectors=selectors,this.alreadyMatched=!1}return SelectorListContext}();exports.SelectorListContext=SelectorListContext;var SelectorContext=function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}return SelectorContext.prototype.finalize=function(cssSelector,callback){var result=!0;if(this.notSelectors.length>0&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var notMatcher=SelectorMatcher.createNotMatcher(this.notSelectors);result=!notMatcher.match(cssSelector,null)}return result&&lang_1.isPresent(callback)&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(lang_1.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result},SelectorContext}();return exports.SelectorContext=SelectorContext,module.exports}),$__System.registerDynamic("53",["6","e","a","32","3f","4f","37","33","3"],!0,function($__require,exports,module){"use strict";function createHostComponentMeta(componentType,componentSelector){var template=selector_1.CssSelector.parse(componentSelector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({runtime:Object,name:"Host"+componentType.name,moduleUrl:componentType.moduleUrl,isHost:!0}),template:new CompileTemplateMetadata({template:template,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:change_detection_1.ChangeDetectionStrategy.Default,inputs:[],outputs:[],
host:{},lifecycleHooks:[],isComponent:!0,dynamicLoadable:!1,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function arrayFromJson(obj,fn){return lang_1.isBlank(obj)?null:obj.map(function(o){return objFromJson(o,fn)})}function arrayToJson(obj){return lang_1.isBlank(obj)?null:obj.map(objToJson)}function objFromJson(obj,fn){return lang_1.isString(obj)||lang_1.isBlank(obj)?obj:fn(obj)}function objToJson(obj){return lang_1.isString(obj)||lang_1.isBlank(obj)?obj:obj.toJson()}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),change_detection_1=$__require("32"),view_1=$__require("3f"),selector_1=$__require("4f"),util_1=$__require("37"),interfaces_1=$__require("33"),HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,CompileMetadataWithIdentifier=function(){function CompileMetadataWithIdentifier(){}return CompileMetadataWithIdentifier.fromJson=function(data){return _COMPILE_METADATA_FROM_JSON[data["class"]](data)},Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}();exports.CompileMetadataWithIdentifier=CompileMetadataWithIdentifier;var CompileMetadataWithType=function(_super){function CompileMetadataWithType(){_super.apply(this,arguments)}return __extends(CompileMetadataWithType,_super),CompileMetadataWithType.fromJson=function(data){return _COMPILE_METADATA_FROM_JSON[data["class"]](data)},Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithType}(CompileMetadataWithIdentifier);exports.CompileMetadataWithType=CompileMetadataWithType;var CompileIdentifierMetadata=function(){function CompileIdentifierMetadata(_a){var _b=void 0===_a?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,constConstructor=_b.constConstructor;this.runtime=runtime,this.name=name,this.prefix=prefix,this.moduleUrl=moduleUrl,this.constConstructor=constConstructor}return CompileIdentifierMetadata.fromJson=function(data){return new CompileIdentifierMetadata({name:data.name,prefix:data.prefix,moduleUrl:data.moduleUrl,constConstructor:data.constConstructor})},CompileIdentifierMetadata.prototype.toJson=function(){return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,constConstructor:this.constConstructor}},Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}();exports.CompileIdentifierMetadata=CompileIdentifierMetadata;var CompileDiDependencyMetadata=function(){function CompileDiDependencyMetadata(_a){var _b=void 0===_a?{}:_a,isAttribute=_b.isAttribute,isSelf=_b.isSelf,isHost=_b.isHost,isSkipSelf=_b.isSkipSelf,isOptional=_b.isOptional,query=_b.query,viewQuery=_b.viewQuery,token=_b.token;this.isAttribute=lang_1.normalizeBool(isAttribute),this.isSelf=lang_1.normalizeBool(isSelf),this.isHost=lang_1.normalizeBool(isHost),this.isSkipSelf=lang_1.normalizeBool(isSkipSelf),this.isOptional=lang_1.normalizeBool(isOptional),this.query=query,this.viewQuery=viewQuery,this.token=token}return CompileDiDependencyMetadata.fromJson=function(data){return new CompileDiDependencyMetadata({token:objFromJson(data.token,CompileIdentifierMetadata.fromJson),query:objFromJson(data.query,CompileQueryMetadata.fromJson),viewQuery:objFromJson(data.viewQuery,CompileQueryMetadata.fromJson),isAttribute:data.isAttribute,isSelf:data.isSelf,isHost:data.isHost,isSkipSelf:data.isSkipSelf,isOptional:data.isOptional})},CompileDiDependencyMetadata.prototype.toJson=function(){return{token:objToJson(this.token),query:objToJson(this.query),viewQuery:objToJson(this.viewQuery),isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional}},CompileDiDependencyMetadata}();exports.CompileDiDependencyMetadata=CompileDiDependencyMetadata;var CompileProviderMetadata=function(){function CompileProviderMetadata(_a){var token=_a.token,useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.deps=deps,this.multi=multi}return CompileProviderMetadata.fromJson=function(data){return new CompileProviderMetadata({token:objFromJson(data.token,CompileIdentifierMetadata.fromJson),useClass:objFromJson(data.useClass,CompileTypeMetadata.fromJson)})},CompileProviderMetadata.prototype.toJson=function(){return{token:objToJson(this.token),useClass:objToJson(this.useClass)}},CompileProviderMetadata}();exports.CompileProviderMetadata=CompileProviderMetadata;var CompileFactoryMetadata=function(){function CompileFactoryMetadata(_a){var runtime=_a.runtime,name=_a.name,moduleUrl=_a.moduleUrl,constConstructor=_a.constConstructor,diDeps=_a.diDeps;this.runtime=runtime,this.name=name,this.moduleUrl=moduleUrl,this.diDeps=diDeps,this.constConstructor=constConstructor}return Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileFactoryMetadata.prototype.toJson=function(){return null},CompileFactoryMetadata}();exports.CompileFactoryMetadata=CompileFactoryMetadata;var CompileTypeMetadata=function(){function CompileTypeMetadata(_a){var _b=void 0===_a?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,isHost=_b.isHost,constConstructor=_b.constConstructor,diDeps=_b.diDeps;this.runtime=runtime,this.name=name,this.moduleUrl=moduleUrl,this.prefix=prefix,this.isHost=lang_1.normalizeBool(isHost),this.constConstructor=constConstructor,this.diDeps=lang_1.normalizeBlank(diDeps)}return CompileTypeMetadata.fromJson=function(data){return new CompileTypeMetadata({name:data.name,moduleUrl:data.moduleUrl,prefix:data.prefix,isHost:data.isHost,constConstructor:data.constConstructor,diDeps:arrayFromJson(data.diDeps,CompileDiDependencyMetadata.fromJson)})},Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),CompileTypeMetadata.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,constConstructor:this.constConstructor,diDeps:arrayToJson(this.diDeps)}},CompileTypeMetadata}();exports.CompileTypeMetadata=CompileTypeMetadata;var CompileQueryMetadata=function(){function CompileQueryMetadata(_a){var _b=void 0===_a?{}:_a,selectors=_b.selectors,descendants=_b.descendants,first=_b.first,propertyName=_b.propertyName;this.selectors=selectors,this.descendants=descendants,this.first=lang_1.normalizeBool(first),this.propertyName=propertyName}return CompileQueryMetadata.fromJson=function(data){return new CompileQueryMetadata({selectors:arrayFromJson(data.selectors,CompileIdentifierMetadata.fromJson),descendants:data.descendants,first:data.first,propertyName:data.propertyName})},CompileQueryMetadata.prototype.toJson=function(){return{selectors:arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName}},CompileQueryMetadata}();exports.CompileQueryMetadata=CompileQueryMetadata;var CompileTemplateMetadata=function(){function CompileTemplateMetadata(_a){var _b=void 0===_a?{}:_a,encapsulation=_b.encapsulation,template=_b.template,templateUrl=_b.templateUrl,styles=_b.styles,styleUrls=_b.styleUrls,ngContentSelectors=_b.ngContentSelectors;this.encapsulation=lang_1.isPresent(encapsulation)?encapsulation:view_1.ViewEncapsulation.Emulated,this.template=template,this.templateUrl=templateUrl,this.styles=lang_1.isPresent(styles)?styles:[],this.styleUrls=lang_1.isPresent(styleUrls)?styleUrls:[],this.ngContentSelectors=lang_1.isPresent(ngContentSelectors)?ngContentSelectors:[]}return CompileTemplateMetadata.fromJson=function(data){return new CompileTemplateMetadata({encapsulation:lang_1.isPresent(data.encapsulation)?view_1.VIEW_ENCAPSULATION_VALUES[data.encapsulation]:data.encapsulation,template:data.template,templateUrl:data.templateUrl,styles:data.styles,styleUrls:data.styleUrls,ngContentSelectors:data.ngContentSelectors})},CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:lang_1.isPresent(this.encapsulation)?lang_1.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors}},CompileTemplateMetadata}();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=function(){function CompileDirectiveMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,hostListeners=_b.hostListeners,hostProperties=_b.hostProperties,hostAttributes=_b.hostAttributes,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,template=_b.template;this.type=type,this.isComponent=isComponent,this.dynamicLoadable=dynamicLoadable,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.lifecycleHooks=lifecycleHooks,this.providers=lang_1.normalizeBlank(providers),this.viewProviders=lang_1.normalizeBlank(viewProviders),this.queries=queries,this.viewQueries=viewQueries,this.template=template}return CompileDirectiveMetadata.create=function(_a){var _b=void 0===_a?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,host=_b.host,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,template=_b.template,hostListeners={},hostProperties={},hostAttributes={};lang_1.isPresent(host)&&collection_1.StringMapWrapper.forEach(host,function(value,key){var matches=lang_1.RegExpWrapper.firstMatch(HOST_REG_EXP,key);lang_1.isBlank(matches)?hostAttributes[key]=value:lang_1.isPresent(matches[1])?hostProperties[matches[1]]=value:lang_1.isPresent(matches[2])&&(hostListeners[matches[2]]=value)});var inputsMap={};lang_1.isPresent(inputs)&&inputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});var outputsMap={};return lang_1.isPresent(outputs)&&outputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({type:type,isComponent:lang_1.normalizeBool(isComponent),dynamicLoadable:lang_1.normalizeBool(dynamicLoadable),selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,lifecycleHooks:lang_1.isPresent(lifecycleHooks)?lifecycleHooks:[],providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,template:template})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata.fromJson=function(data){return new CompileDirectiveMetadata({isComponent:data.isComponent,dynamicLoadable:data.dynamicLoadable,selector:data.selector,exportAs:data.exportAs,type:lang_1.isPresent(data.type)?CompileTypeMetadata.fromJson(data.type):data.type,changeDetection:lang_1.isPresent(data.changeDetection)?change_detection_1.CHANGE_DETECTION_STRATEGY_VALUES[data.changeDetection]:data.changeDetection,inputs:data.inputs,outputs:data.outputs,hostListeners:data.hostListeners,hostProperties:data.hostProperties,hostAttributes:data.hostAttributes,lifecycleHooks:data.lifecycleHooks.map(function(hookValue){return interfaces_1.LIFECYCLE_HOOKS_VALUES[hookValue]}),template:lang_1.isPresent(data.template)?CompileTemplateMetadata.fromJson(data.template):data.template,providers:arrayFromJson(data.providers,CompileProviderMetadata.fromJson)})},CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,dynamicLoadable:this.dynamicLoadable,selector:this.selector,exportAs:this.exportAs,type:lang_1.isPresent(this.type)?this.type.toJson():this.type,changeDetection:lang_1.isPresent(this.changeDetection)?lang_1.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(hook){return lang_1.serializeEnum(hook)}),template:lang_1.isPresent(this.template)?this.template.toJson():this.template,providers:arrayToJson(this.providers)}},CompileDirectiveMetadata}();exports.CompileDirectiveMetadata=CompileDirectiveMetadata,exports.createHostComponentMeta=createHostComponentMeta;var CompilePipeMetadata=function(){function CompilePipeMetadata(_a){var _b=void 0===_a?{}:_a,type=_b.type,name=_b.name,pure=_b.pure;this.type=type,this.name=name,this.pure=lang_1.normalizeBool(pure)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata.fromJson=function(data){return new CompilePipeMetadata({type:lang_1.isPresent(data.type)?CompileTypeMetadata.fromJson(data.type):data.type,name:data.name,pure:data.pure})},CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:lang_1.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},CompilePipeMetadata}();exports.CompilePipeMetadata=CompilePipeMetadata;var _COMPILE_METADATA_FROM_JSON={Directive:CompileDirectiveMetadata.fromJson,Pipe:CompilePipeMetadata.fromJson,Type:CompileTypeMetadata.fromJson,Identifier:CompileIdentifierMetadata.fromJson};return module.exports}),$__System.registerDynamic("54",["6","33","3"],!0,function($__require,exports,module){"use strict";function hasLifecycleHook(lcInterface,token){if(!(token instanceof lang_1.Type))return!1;var proto=token.prototype;switch(lcInterface){case interfaces_1.LifecycleHooks.AfterContentInit:return!!proto.ngAfterContentInit;case interfaces_1.LifecycleHooks.AfterContentChecked:return!!proto.ngAfterContentChecked;case interfaces_1.LifecycleHooks.AfterViewInit:return!!proto.ngAfterViewInit;case interfaces_1.LifecycleHooks.AfterViewChecked:return!!proto.ngAfterViewChecked;case interfaces_1.LifecycleHooks.OnChanges:return!!proto.ngOnChanges;case interfaces_1.LifecycleHooks.DoCheck:return!!proto.ngDoCheck;case interfaces_1.LifecycleHooks.OnDestroy:return!!proto.ngOnDestroy;case interfaces_1.LifecycleHooks.OnInit:return!!proto.ngOnInit;default:return!1}}var lang_1=($__require("3"),$__require("6")),interfaces_1=$__require("33");return exports.hasLifecycleHook=hasLifecycleHook,module.exports}),$__System.registerDynamic("33",["3"],!0,function($__require,exports,module){"use strict";$__require("3");!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(exports.LifecycleHooks||(exports.LifecycleHooks={}));var LifecycleHooks=exports.LifecycleHooks;return exports.LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked],module.exports}),$__System.registerDynamic("55",["b","6","e","53","56","57","58","59","54","33","31","5a","37","42","3"],!0,function($__require,exports,module){"use strict";function flattenDirectives(view,platformDirectives){var directives=[];return lang_1.isPresent(platformDirectives)&&flattenArray(platformDirectives,directives),lang_1.isPresent(view.directives)&&flattenArray(view.directives,directives),directives}function flattenPipes(view,platformPipes){var pipes=[];return lang_1.isPresent(platformPipes)&&flattenArray(platformPipes,pipes),lang_1.isPresent(view.pipes)&&flattenArray(view.pipes,pipes),pipes}function flattenArray(tree,out){for(var i=0;i<tree.length;i++){var item=di_1.resolveForwardRef(tree[i]);lang_1.isArray(item)?flattenArray(item,out):out.push(item)}}function isValidType(value){return lang_1.isPresent(value)&&value instanceof lang_1.Type}function calcModuleUrl(type,cmpMetadata){var moduleId=cmpMetadata.moduleId;if(lang_1.isPresent(moduleId)){var scheme=url_resolver_1.getUrlScheme(moduleId);return lang_1.isPresent(scheme)&&scheme.length>0?moduleId:"package:"+moduleId+util_1.MODULE_SUFFIX}return reflection_1.reflector.importUri(type)}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=$__require("b"),lang_1=$__require("6"),exceptions_1=$__require("e"),cpl=$__require("53"),md=$__require("56"),directive_resolver_1=$__require("57"),pipe_resolver_1=$__require("58"),view_resolver_1=$__require("59"),directive_lifecycle_reflector_1=$__require("54"),interfaces_1=$__require("33"),reflection_1=$__require("31"),di_2=$__require("b"),platform_directives_and_pipes_1=$__require("5a"),util_1=$__require("37"),url_resolver_1=$__require("42"),RuntimeMetadataResolver=function(){function RuntimeMetadataResolver(_directiveResolver,_pipeResolver,_viewResolver,_platformDirectives,_platformPipes){this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._viewResolver=_viewResolver,this._platformDirectives=_platformDirectives,this._platformPipes=_platformPipes,this._directiveCache=new Map,this._pipeCache=new Map}return RuntimeMetadataResolver.prototype.getDirectiveMetadata=function(directiveType){var meta=this._directiveCache.get(directiveType);if(lang_1.isBlank(meta)){var dirMeta=this._directiveResolver.resolve(directiveType),moduleUrl=null,templateMeta=null,changeDetectionStrategy=null;if(dirMeta instanceof md.ComponentMetadata){var cmpMeta=dirMeta;moduleUrl=calcModuleUrl(directiveType,cmpMeta);var viewMeta=this._viewResolver.resolve(directiveType);templateMeta=new cpl.CompileTemplateMetadata({encapsulation:viewMeta.encapsulation,template:viewMeta.template,templateUrl:viewMeta.templateUrl,styles:viewMeta.styles,styleUrls:viewMeta.styleUrls}),changeDetectionStrategy=cmpMeta.changeDetection}meta=cpl.CompileDirectiveMetadata.create({selector:dirMeta.selector,exportAs:dirMeta.exportAs,isComponent:lang_1.isPresent(templateMeta),dynamicLoadable:!0,type:new cpl.CompileTypeMetadata({name:lang_1.stringify(directiveType),moduleUrl:moduleUrl,runtime:directiveType}),template:templateMeta,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs,outputs:dirMeta.outputs,host:dirMeta.host,lifecycleHooks:interfaces_1.LIFECYCLE_HOOKS_VALUES.filter(function(hook){return directive_lifecycle_reflector_1.hasLifecycleHook(hook,directiveType)})}),this._directiveCache.set(directiveType,meta)}return meta},RuntimeMetadataResolver.prototype.getPipeMetadata=function(pipeType){var meta=this._pipeCache.get(pipeType);if(lang_1.isBlank(meta)){var pipeMeta=this._pipeResolver.resolve(pipeType),moduleUrl=reflection_1.reflector.importUri(pipeType);meta=new cpl.CompilePipeMetadata({type:new cpl.CompileTypeMetadata({name:lang_1.stringify(pipeType),moduleUrl:moduleUrl,runtime:pipeType}),name:pipeMeta.name,pure:pipeMeta.pure}),this._pipeCache.set(pipeType,meta)}return meta},RuntimeMetadataResolver.prototype.getViewDirectivesMetadata=function(component){for(var _this=this,view=this._viewResolver.resolve(component),directives=flattenDirectives(view,this._platformDirectives),i=0;i<directives.length;i++)if(!isValidType(directives[i]))throw new exceptions_1.BaseException("Unexpected directive value '"+lang_1.stringify(directives[i])+"' on the View of component '"+lang_1.stringify(component)+"'");return directives.map(function(type){return _this.getDirectiveMetadata(type)})},RuntimeMetadataResolver.prototype.getViewPipesMetadata=function(component){for(var _this=this,view=this._viewResolver.resolve(component),pipes=flattenPipes(view,this._platformPipes),i=0;i<pipes.length;i++)if(!isValidType(pipes[i]))throw new exceptions_1.BaseException("Unexpected piped value '"+lang_1.stringify(pipes[i])+"' on the View of component '"+lang_1.stringify(component)+"'");return pipes.map(function(type){return _this.getPipeMetadata(type)})},RuntimeMetadataResolver=__decorate([di_2.Injectable(),__param(3,di_2.Optional()),__param(3,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_DIRECTIVES)),__param(4,di_2.Optional()),__param(4,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_PIPES)),__metadata("design:paramtypes",[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,view_resolver_1.ViewResolver,Array,Array])],RuntimeMetadataResolver)}();return exports.RuntimeMetadataResolver=RuntimeMetadataResolver,module.exports}),$__System.registerDynamic("37",["6","3"],!0,function($__require,exports,module){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}function escapeSingleQuoteString(input){return lang_1.isBlank(input)?null:"'"+escapeString(input,SINGLE_QUOTE_ESCAPE_STRING_RE)+"'"}function escapeDoubleQuoteString(input){return lang_1.isBlank(input)?null:'"'+escapeString(input,DOUBLE_QUOTE_ESCAPE_STRING_RE)+'"'}function escapeString(input,re){return lang_1.StringWrapper.replaceAllMapped(input,re,function(match){return"$"==match[0]?lang_1.IS_DART?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":"\\"+match[0]})}function codeGenExportVariable(name){return lang_1.IS_DART?"const "+name+" = ":"var "+name+" = exports['"+name+"'] = "}function codeGenConstConstructorCall(name){return lang_1.IS_DART?"const "+name:"new "+name}function codeGenValueFn(params,value,fnName){return void 0===fnName&&(fnName=""),lang_1.IS_DART?codeGenFnHeader(params,fnName)+" => "+value:codeGenFnHeader(params,fnName)+" { return "+value+"; }"}function codeGenFnHeader(params,fnName){return void 0===fnName&&(fnName=""),lang_1.IS_DART?fnName+"("+params.join(",")+")":"function "+fnName+"("+params.join(",")+")"}function codeGenToString(expr){return lang_1.IS_DART?"'${"+expr+"}'":expr}function splitAtColon(input,defaultValues){var parts=lang_1.StringWrapper.split(input.trim(),/\s*:\s*/g);return parts.length>1?parts:defaultValues}function escapeValue(value){return value instanceof Expression?value.expression:lang_1.isString(value)?escapeSingleQuoteString(value):lang_1.isBlank(value)?"null":""+value}function codeGenArray(data){return"["+data.map(escapeValue).join(",")+"]"}function codeGenFlatArray(values){for(var result="([",isFirstArrayEntry=!0,concatFn=lang_1.IS_DART?".addAll":"concat",i=0;i<values.length;i++){var value=values[i];value instanceof Expression&&value.isArray?(result+="])."+concatFn+"("+value.expression+")."+concatFn+"([",isFirstArrayEntry=!0):(isFirstArrayEntry||(result+=","),isFirstArrayEntry=!1,result+=escapeValue(value))}return result+="])"}function codeGenStringMap(keyValueArray){return"{"+keyValueArray.map(codeGenKeyValue).join(",")+"}"}function codeGenKeyValue(keyValue){return escapeValue(keyValue[0])+":"+escapeValue(keyValue[1])}function addAll(source,target){for(var i=0;i<source.length;i++)target.push(source[i])}function flattenArray(source,target){if(lang_1.isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];lang_1.isArray(item)?flattenArray(item,target):target.push(item)}return target}var lang_1=($__require("3"),$__require("6")),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g,SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,DOUBLE_QUOTE_ESCAPE_STRING_RE=/"|\\|\n|\r|\$/g;exports.MODULE_SUFFIX=lang_1.IS_DART?".dart":".js",exports.CONST_VAR=lang_1.IS_DART?"const":"var",exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase,exports.escapeSingleQuoteString=escapeSingleQuoteString,exports.escapeDoubleQuoteString=escapeDoubleQuoteString,exports.codeGenExportVariable=codeGenExportVariable,exports.codeGenConstConstructorCall=codeGenConstConstructorCall,exports.codeGenValueFn=codeGenValueFn,exports.codeGenFnHeader=codeGenFnHeader,exports.codeGenToString=codeGenToString,exports.splitAtColon=splitAtColon;var Statement=function(){function Statement(statement){this.statement=statement}return Statement}();exports.Statement=Statement;var Expression=function(){function Expression(expression,isArray){void 0===isArray&&(isArray=!1),this.expression=expression,this.isArray=isArray}return Expression}();return exports.Expression=Expression,exports.escapeValue=escapeValue,exports.codeGenArray=codeGenArray,exports.codeGenFlatArray=codeGenFlatArray,exports.codeGenStringMap=codeGenStringMap,exports.addAll=addAll,exports.flattenArray=flattenArray,module.exports}),$__System.registerDynamic("5b",["6","e","a","41","53","30","b","36","35","3d","43","44","48","52","55","45","32","5c","37","3"],!0,function($__require,exports,module){"use strict";function assertComponent(meta){if(!meta.isComponent)throw new exceptions_1.BaseException("Could not compile '"+meta.type.name+"' because it is not a component.")}function templateModuleUrl(moduleUrl){var urlWithoutSuffix=moduleUrl.substring(0,moduleUrl.length-util_1.MODULE_SUFFIX.length);return urlWithoutSuffix+".template"+util_1.MODULE_SUFFIX}function codeGenHostViewFactoryName(type){return"hostViewFactory_"+type.name}function codeGenComponentViewFactoryName(nestedCompType){return source_module_1.moduleRef(templateModuleUrl(nestedCompType.type.moduleUrl))+"viewFactory_"+nestedCompType.type.name+"0"}function mergeStringMaps(maps){var result={};return maps.forEach(function(map){collection_1.StringMapWrapper.forEach(map,function(value,key){result[key]=value})}),result}function removeDuplicates(items){var res=[];return items.forEach(function(item){var hasMatch=res.filter(function(r){return r.type.name==item.type.name&&r.type.moduleUrl==item.type.moduleUrl&&r.type.runtime==item.type.runtime}).length>0;hasMatch||res.push(item)}),res}function filterPipes(template,allPipes){var visitor=new PipeVisitor;return template_ast_1.templateVisitAll(visitor,template),allPipes.filter(function(pipeMeta){return collection_1.SetWrapper.has(visitor.collector.pipes,pipeMeta.name)})}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),async_1=$__require("41"),directive_metadata_1=$__require("53"),template_ast_1=$__require("30"),di_1=$__require("b"),source_module_1=$__require("36"),change_detector_compiler_1=$__require("35"),style_compiler_1=$__require("3d"),view_compiler_1=$__require("43"),proto_view_compiler_1=$__require("44"),template_parser_1=$__require("48"),template_normalizer_1=$__require("52"),runtime_metadata_1=$__require("55"),view_1=$__require("45"),change_detection_1=$__require("32"),resolved_metadata_cache_1=$__require("5c"),util_1=$__require("37");exports.METADATA_CACHE_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/resolved_metadata_cache"+util_1.MODULE_SUFFIX);var TemplateCompiler=function(){function TemplateCompiler(_runtimeMetadataResolver,_templateNormalizer,_templateParser,_styleCompiler,_cdCompiler,_protoViewCompiler,_viewCompiler,_resolvedMetadataCache,_genConfig){this._runtimeMetadataResolver=_runtimeMetadataResolver,this._templateNormalizer=_templateNormalizer,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._cdCompiler=_cdCompiler,this._protoViewCompiler=_protoViewCompiler,this._viewCompiler=_viewCompiler,this._resolvedMetadataCache=_resolvedMetadataCache,this._genConfig=_genConfig,this._hostCacheKeys=new Map,this._compiledTemplateCache=new Map,this._compiledTemplateDone=new Map}return TemplateCompiler.prototype.normalizeDirectiveMetadata=function(directive){return directive.isComponent?this._templateNormalizer.normalizeTemplate(directive.type,directive.template).then(function(normalizedTemplate){return new directive_metadata_1.CompileDirectiveMetadata({type:directive.type,isComponent:directive.isComponent,dynamicLoadable:directive.dynamicLoadable,selector:directive.selector,exportAs:directive.exportAs,changeDetection:directive.changeDetection,inputs:directive.inputs,outputs:directive.outputs,hostListeners:directive.hostListeners,hostProperties:directive.hostProperties,hostAttributes:directive.hostAttributes,lifecycleHooks:directive.lifecycleHooks,providers:directive.providers,template:normalizedTemplate})}):async_1.PromiseWrapper.resolve(directive)},TemplateCompiler.prototype.compileHostComponentRuntime=function(type){var compMeta=this._runtimeMetadataResolver.getDirectiveMetadata(type),hostCacheKey=this._hostCacheKeys.get(type);if(lang_1.isBlank(hostCacheKey)){hostCacheKey=new Object,this._hostCacheKeys.set(type,hostCacheKey),assertComponent(compMeta);var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);this._compileComponentRuntime(hostCacheKey,hostMeta,[compMeta],[],[])}return this._compiledTemplateDone.get(hostCacheKey).then(function(compiledTemplate){return new view_1.HostViewFactory(compMeta.selector,compiledTemplate.viewFactory)})},TemplateCompiler.prototype.clearCache=function(){this._styleCompiler.clearCache(),this._compiledTemplateCache.clear(),this._compiledTemplateDone.clear(),this._hostCacheKeys.clear()},TemplateCompiler.prototype.compileTemplatesCodeGen=function(components){
var _this=this;if(0===components.length)throw new exceptions_1.BaseException("No components given");var declarations=[];components.forEach(function(componentWithDirs){var compMeta=componentWithDirs.component;if(assertComponent(compMeta),_this._compileComponentCodeGen(compMeta,componentWithDirs.directives,componentWithDirs.pipes,declarations),compMeta.dynamicLoadable){var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector),viewFactoryExpression=_this._compileComponentCodeGen(hostMeta,[compMeta],[],declarations),constructionKeyword=lang_1.IS_DART?"const":"new",compiledTemplateExpr=constructionKeyword+" "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"HostViewFactory('"+compMeta.selector+"',"+viewFactoryExpression+")",varName=codeGenHostViewFactoryName(compMeta.type);declarations.push(""+util_1.codeGenExportVariable(varName)+compiledTemplateExpr+";")}});var moduleUrl=components[0].component.type.moduleUrl;return new source_module_1.SourceModule(""+templateModuleUrl(moduleUrl),declarations.join("\n"))},TemplateCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){return this._styleCompiler.compileStylesheetCodeGen(stylesheetUrl,cssText)},TemplateCompiler.prototype._compileComponentRuntime=function(cacheKey,compMeta,viewDirectives,pipes,compilingComponentsPath){var _this=this,uniqViewDirectives=removeDuplicates(viewDirectives),uniqViewPipes=removeDuplicates(pipes),compiledTemplate=this._compiledTemplateCache.get(cacheKey),done=this._compiledTemplateDone.get(cacheKey);return lang_1.isBlank(compiledTemplate)&&(compiledTemplate=new CompiledTemplate,this._compiledTemplateCache.set(cacheKey,compiledTemplate),done=async_1.PromiseWrapper.all([this._styleCompiler.compileComponentRuntime(compMeta.template)].concat(uniqViewDirectives.map(function(dirMeta){return _this.normalizeDirectiveMetadata(dirMeta)}))).then(function(stylesAndNormalizedViewDirMetas){var normalizedViewDirMetas=stylesAndNormalizedViewDirMetas.slice(1),styles=stylesAndNormalizedViewDirMetas[0],parsedTemplate=_this._templateParser.parse(compMeta.template.template,normalizedViewDirMetas,uniqViewPipes,compMeta.type.name),childPromises=[],usedDirectives=DirectiveCollector.findUsedDirectives(parsedTemplate);return usedDirectives.components.forEach(function(component){return _this._compileNestedComponentRuntime(component,compilingComponentsPath,childPromises)}),async_1.PromiseWrapper.all(childPromises).then(function(_){var filteredPipes=filterPipes(parsedTemplate,uniqViewPipes);return compiledTemplate.init(_this._createViewFactoryRuntime(compMeta,parsedTemplate,usedDirectives.directives,styles,filteredPipes)),compiledTemplate})}),this._compiledTemplateDone.set(cacheKey,done)),compiledTemplate},TemplateCompiler.prototype._compileNestedComponentRuntime=function(childComponentDir,parentCompilingComponentsPath,childPromises){var compilingComponentsPath=collection_1.ListWrapper.clone(parentCompilingComponentsPath),childCacheKey=childComponentDir.type.runtime,childViewDirectives=this._runtimeMetadataResolver.getViewDirectivesMetadata(childComponentDir.type.runtime),childViewPipes=this._runtimeMetadataResolver.getViewPipesMetadata(childComponentDir.type.runtime),childIsRecursive=collection_1.ListWrapper.contains(compilingComponentsPath,childCacheKey);compilingComponentsPath.push(childCacheKey),this._compileComponentRuntime(childCacheKey,childComponentDir,childViewDirectives,childViewPipes,compilingComponentsPath),childIsRecursive||childPromises.push(this._compiledTemplateDone.get(childCacheKey))},TemplateCompiler.prototype._createViewFactoryRuntime=function(compMeta,parsedTemplate,directives,styles,pipes){var _this=this;if(lang_1.IS_DART||!this._genConfig.useJit){var changeDetectorFactories=this._cdCompiler.compileComponentRuntime(compMeta.type,compMeta.changeDetection,parsedTemplate),protoViews=this._protoViewCompiler.compileProtoViewRuntime(this._resolvedMetadataCache,compMeta,parsedTemplate,pipes);return this._viewCompiler.compileComponentRuntime(compMeta,parsedTemplate,styles,protoViews.protoViews,changeDetectorFactories,function(compMeta){return _this._getNestedComponentViewFactory(compMeta)})}var declarations=[],viewFactoryExpr=this._createViewFactoryCodeGen("resolvedMetadataCache",compMeta,new source_module_1.SourceExpression([],"styles"),parsedTemplate,pipes,declarations),vars={exports:{},styles:styles,resolvedMetadataCache:this._resolvedMetadataCache};directives.forEach(function(dirMeta){vars[dirMeta.type.name]=dirMeta.type.runtime,dirMeta.isComponent&&dirMeta.type.runtime!==compMeta.type.runtime&&(vars["viewFactory_"+dirMeta.type.name+"0"]=_this._getNestedComponentViewFactory(dirMeta))}),pipes.forEach(function(pipeMeta){return vars[pipeMeta.type.name]=pipeMeta.type.runtime});var declarationsWithoutImports=source_module_1.SourceModule.getSourceWithoutImports(declarations.join("\n"));return lang_1.evalExpression("viewFactory_"+compMeta.type.name,viewFactoryExpr,declarationsWithoutImports,mergeStringMaps([vars,change_detector_compiler_1.CHANGE_DETECTION_JIT_IMPORTS,proto_view_compiler_1.PROTO_VIEW_JIT_IMPORTS,view_compiler_1.VIEW_JIT_IMPORTS]))},TemplateCompiler.prototype._getNestedComponentViewFactory=function(compMeta){return this._compiledTemplateCache.get(compMeta.type.runtime).viewFactory},TemplateCompiler.prototype._compileComponentCodeGen=function(compMeta,directives,pipes,targetDeclarations){var uniqueDirectives=removeDuplicates(directives),uniqPipes=removeDuplicates(pipes),styleExpr=this._styleCompiler.compileComponentCodeGen(compMeta.template),parsedTemplate=this._templateParser.parse(compMeta.template.template,uniqueDirectives,uniqPipes,compMeta.type.name),filteredPipes=filterPipes(parsedTemplate,uniqPipes);return this._createViewFactoryCodeGen(exports.METADATA_CACHE_MODULE_REF+"CODEGEN_RESOLVED_METADATA_CACHE",compMeta,styleExpr,parsedTemplate,filteredPipes,targetDeclarations)},TemplateCompiler.prototype._createViewFactoryCodeGen=function(resolvedMetadataCacheExpr,compMeta,styleExpr,parsedTemplate,pipes,targetDeclarations){var changeDetectorsExprs=this._cdCompiler.compileComponentCodeGen(compMeta.type,compMeta.changeDetection,parsedTemplate),protoViewExprs=this._protoViewCompiler.compileProtoViewCodeGen(new util_1.Expression(resolvedMetadataCacheExpr),compMeta,parsedTemplate,pipes),viewFactoryExpr=this._viewCompiler.compileComponentCodeGen(compMeta,parsedTemplate,styleExpr,protoViewExprs.protoViews,changeDetectorsExprs,codeGenComponentViewFactoryName);return util_1.addAll(changeDetectorsExprs.declarations,targetDeclarations),util_1.addAll(protoViewExprs.declarations,targetDeclarations),util_1.addAll(viewFactoryExpr.declarations,targetDeclarations),viewFactoryExpr.expression},TemplateCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[runtime_metadata_1.RuntimeMetadataResolver,template_normalizer_1.TemplateNormalizer,template_parser_1.TemplateParser,style_compiler_1.StyleCompiler,change_detector_compiler_1.ChangeDetectionCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,resolved_metadata_cache_1.ResolvedMetadataCache,change_detection_1.ChangeDetectorGenConfig])],TemplateCompiler)}();exports.TemplateCompiler=TemplateCompiler;var NormalizedComponentWithViewDirectives=function(){function NormalizedComponentWithViewDirectives(component,directives,pipes){this.component=component,this.directives=directives,this.pipes=pipes}return NormalizedComponentWithViewDirectives}();exports.NormalizedComponentWithViewDirectives=NormalizedComponentWithViewDirectives;var CompiledTemplate=function(){function CompiledTemplate(){this.viewFactory=null}return CompiledTemplate.prototype.init=function(viewFactory){this.viewFactory=viewFactory},CompiledTemplate}(),DirectiveCollector=function(){function DirectiveCollector(){this.directives=[],this.components=[]}return DirectiveCollector.findUsedDirectives=function(parsedTemplate){var collector=new DirectiveCollector;return template_ast_1.templateVisitAll(collector,parsedTemplate),collector},DirectiveCollector.prototype.visitBoundText=function(ast,context){return null},DirectiveCollector.prototype.visitText=function(ast,context){return null},DirectiveCollector.prototype.visitNgContent=function(ast,context){return null},DirectiveCollector.prototype.visitElement=function(ast,context){return template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},DirectiveCollector.prototype.visitEmbeddedTemplate=function(ast,context){return template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},DirectiveCollector.prototype.visitVariable=function(ast,ctx){return null},DirectiveCollector.prototype.visitAttr=function(ast,attrNameAndValues){return null},DirectiveCollector.prototype.visitDirective=function(ast,ctx){return ast.directive.isComponent&&this.components.push(ast.directive),this.directives.push(ast.directive),null},DirectiveCollector.prototype.visitEvent=function(ast,eventTargetAndNames){return null},DirectiveCollector.prototype.visitDirectiveProperty=function(ast,context){return null},DirectiveCollector.prototype.visitElementProperty=function(ast,context){return null},DirectiveCollector}(),PipeVisitor=function(){function PipeVisitor(){this.collector=new template_parser_1.PipeCollector}return PipeVisitor.prototype.visitBoundText=function(ast,context){return ast.value.visit(this.collector),null},PipeVisitor.prototype.visitText=function(ast,context){return null},PipeVisitor.prototype.visitNgContent=function(ast,context){return null},PipeVisitor.prototype.visitElement=function(ast,context){return template_ast_1.templateVisitAll(this,ast.inputs),template_ast_1.templateVisitAll(this,ast.outputs),template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},PipeVisitor.prototype.visitEmbeddedTemplate=function(ast,context){return template_ast_1.templateVisitAll(this,ast.outputs),template_ast_1.templateVisitAll(this,ast.directives),template_ast_1.templateVisitAll(this,ast.children),null},PipeVisitor.prototype.visitVariable=function(ast,ctx){return null},PipeVisitor.prototype.visitAttr=function(ast,attrNameAndValues){return null},PipeVisitor.prototype.visitDirective=function(ast,ctx){return template_ast_1.templateVisitAll(this,ast.inputs),template_ast_1.templateVisitAll(this,ast.hostEvents),template_ast_1.templateVisitAll(this,ast.hostProperties),null},PipeVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){return ast.handler.visit(this.collector),null},PipeVisitor.prototype.visitDirectiveProperty=function(ast,context){return ast.value.visit(this.collector),null},PipeVisitor.prototype.visitElementProperty=function(ast,context){return ast.value.visit(this.collector),null},PipeVisitor}();return module.exports}),$__System.registerDynamic("5d",["5e","5f","5b","b","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},compiler_1=$__require("5e"),view_ref_1=$__require("5f"),template_compiler_1=$__require("5b"),di_1=$__require("b"),RuntimeCompiler=function(_super){function RuntimeCompiler(){_super.apply(this,arguments)}return __extends(RuntimeCompiler,_super),RuntimeCompiler}(compiler_1.Compiler);exports.RuntimeCompiler=RuntimeCompiler;var RuntimeCompiler_=function(_super){function RuntimeCompiler_(_templateCompiler){_super.call(this),this._templateCompiler=_templateCompiler}return __extends(RuntimeCompiler_,_super),RuntimeCompiler_.prototype.compileInHost=function(componentType){return this._templateCompiler.compileHostComponentRuntime(componentType).then(function(hostViewFactory){return new view_ref_1.HostViewFactoryRef_(hostViewFactory)})},RuntimeCompiler_.prototype.clearCache=function(){_super.prototype.clearCache.call(this),this._templateCompiler.clearCache()},RuntimeCompiler_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[template_compiler_1.TemplateCompiler])],RuntimeCompiler_)}(compiler_1.Compiler_);return exports.RuntimeCompiler_=RuntimeCompiler_,module.exports}),$__System.registerDynamic("4a",["6","3"],!0,function($__require,exports,module){"use strict";function getHtmlTagDefinition(tagName){var result=TAG_DEFINITIONS[tagName.toLowerCase()];return lang_1.isPresent(result)?result:DEFAULT_TAG_DEFINITION}function splitNsName(elementName){if("@"!=elementName[0])return[null,elementName];var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,elementName);return[match[1],match[2]]}function getNsPrefix(elementName){return splitNsName(elementName)[0]}function mergeNsAndName(prefix,localName){return lang_1.isPresent(prefix)?"@"+prefix+":"+localName:localName}var lang_1=($__require("3"),$__require("6"));exports.NAMED_ENTITIES=lang_1.CONST_EXPR({Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"}),function(HtmlTagContentType){HtmlTagContentType[HtmlTagContentType.RAW_TEXT=0]="RAW_TEXT",HtmlTagContentType[HtmlTagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",HtmlTagContentType[HtmlTagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(exports.HtmlTagContentType||(exports.HtmlTagContentType={}));var HtmlTagContentType=exports.HtmlTagContentType,HtmlTagDefinition=function(){function HtmlTagDefinition(_a){var _this=this,_b=void 0===_a?{}:_a,closedByChildren=_b.closedByChildren,requiredParents=_b.requiredParents,implicitNamespacePrefix=_b.implicitNamespacePrefix,contentType=_b.contentType,closedByParent=_b.closedByParent,isVoid=_b.isVoid,ignoreFirstLf=_b.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,lang_1.isPresent(closedByChildren)&&closedByChildren.length>0&&closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=!0}),this.isVoid=lang_1.normalizeBool(isVoid),this.closedByParent=lang_1.normalizeBool(closedByParent)||this.isVoid,lang_1.isPresent(requiredParents)&&requiredParents.length>0&&(this.requiredParents={},this.parentToAdd=requiredParents[0],requiredParents.forEach(function(tagName){return _this.requiredParents[tagName]=!0})),this.implicitNamespacePrefix=implicitNamespacePrefix,this.contentType=lang_1.isPresent(contentType)?contentType:HtmlTagContentType.PARSABLE_DATA,this.ignoreFirstLf=lang_1.normalizeBool(ignoreFirstLf)}return HtmlTagDefinition.prototype.requireExtraParent=function(currentParent){if(lang_1.isBlank(this.requiredParents))return!1;if(lang_1.isBlank(currentParent))return!0;var lcParent=currentParent.toLowerCase();return 1!=this.requiredParents[lcParent]&&"template"!=lcParent},HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||lang_1.normalizeBool(this.closedByChildren[name.toLowerCase()])},HtmlTagDefinition}();exports.HtmlTagDefinition=HtmlTagDefinition;var TAG_DEFINITIONS={area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},DEFAULT_TAG_DEFINITION=new HtmlTagDefinition;exports.getHtmlTagDefinition=getHtmlTagDefinition;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;return exports.splitNsName=splitNsName,exports.getNsPrefix=getNsPrefix,exports.mergeNsAndName=mergeNsAndName,module.exports}),$__System.registerDynamic("50",["3"],!0,function($__require,exports,module){"use strict";var ElementSchemaRegistry=($__require("3"),function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){return!0},ElementSchemaRegistry.prototype.getMappedPropName=function(propName){return propName},ElementSchemaRegistry}());return exports.ElementSchemaRegistry=ElementSchemaRegistry,module.exports}),$__System.registerDynamic("60",["b","6","a","9","4a","50","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),lang_1=$__require("6"),collection_1=$__require("a"),dom_adapter_1=$__require("9"),html_tags_1=$__require("4a"),element_schema_registry_1=$__require("50"),NAMESPACE_URIS=lang_1.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),DomElementSchemaRegistry=function(_super){function DomElementSchemaRegistry(){_super.apply(this,arguments),this._protoElements=new Map}return __extends(DomElementSchemaRegistry,_super),DomElementSchemaRegistry.prototype._getProtoElement=function(tagName){var element=this._protoElements.get(tagName);if(lang_1.isBlank(element)){var nsAndName=html_tags_1.splitNsName(tagName);element=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]),this._protoElements.set(tagName,element)}return element},DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){if(-1!==tagName.indexOf("-"))return!0;var elm=this._getProtoElement(tagName);return dom_adapter_1.DOM.hasProperty(elm,propName)},DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){var mappedPropName=collection_1.StringMapWrapper.get(dom_adapter_1.DOM.attrToPropMap,propName);return lang_1.isPresent(mappedPropName)?mappedPropName:propName},DomElementSchemaRegistry=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],DomElementSchemaRegistry)}(element_schema_registry_1.ElementSchemaRegistry);return exports.DomElementSchemaRegistry=DomElementSchemaRegistry,module.exports}),$__System.registerDynamic("42",["b","6","61","3"],!0,function($__require,exports,module){"use strict";function createWithoutPackagePrefix(){return new UrlResolver}function getUrlScheme(url){var match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];return lang_1.isPresent(opt_scheme)&&out.push(opt_scheme+":"),lang_1.isPresent(opt_domain)&&(out.push("//"),lang_1.isPresent(opt_userInfo)&&out.push(opt_userInfo+"@"),out.push(opt_domain),lang_1.isPresent(opt_port)&&out.push(":"+opt_port)),lang_1.isPresent(opt_path)&&out.push(opt_path),lang_1.isPresent(opt_queryData)&&out.push("?"+opt_queryData),lang_1.isPresent(opt_fragment)&&out.push("#"+opt_fragment),out.join("")}function _split(uri){return lang_1.RegExpWrapper.firstMatch(_splitRe,uri)}function _removeDotSegments(path){if("/"==path)return"/";for(var leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function _joinAndCanonicalizePath(parts){var path=parts[_ComponentIndex.Path];return path=lang_1.isBlank(path)?"":_removeDotSegments(path),parts[_ComponentIndex.Path]=path,_buildFromEncodedParts(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}function _resolveUrl(base,url){var parts=_split(encodeURI(url)),baseParts=_split(base);if(lang_1.isPresent(parts[_ComponentIndex.Scheme]))return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)lang_1.isBlank(parts[i])&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);var path=baseParts[_ComponentIndex.Path];lang_1.isBlank(path)&&(path="/");var index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=$__require("b"),lang_1=$__require("6"),application_tokens_1=$__require("61"),di_2=$__require("b");exports.createWithoutPackagePrefix=createWithoutPackagePrefix,exports.DEFAULT_PACKAGE_URL_PROVIDER=new di_2.Provider(application_tokens_1.PACKAGE_ROOT_URL,{useValue:"/"});var UrlResolver=function(){function UrlResolver(packagePrefix){void 0===packagePrefix&&(packagePrefix=null),lang_1.isPresent(packagePrefix)&&(this._packagePrefix=lang_1.StringWrapper.stripRight(packagePrefix,"/")+"/")}return UrlResolver.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;return lang_1.isPresent(baseUrl)&&baseUrl.length>0&&(resolvedUrl=_resolveUrl(baseUrl,resolvedUrl)),lang_1.isPresent(this._packagePrefix)&&"package"==getUrlScheme(resolvedUrl)&&(resolvedUrl=resolvedUrl.replace("package:",this._packagePrefix)),resolvedUrl},UrlResolver=__decorate([di_1.Injectable(),__param(0,di_1.Inject(application_tokens_1.PACKAGE_ROOT_URL)),__metadata("design:paramtypes",[String])],UrlResolver)}();exports.UrlResolver=UrlResolver,exports.getUrlScheme=getUrlScheme;var _ComponentIndex,_splitRe=lang_1.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");return function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={})),module.exports}),$__System.registerDynamic("62",["5d","5b","53","36","5a","30","48","6","b","49","52","55","35","3d","43","44","5b","32","5e","5d","50","60","42","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}function _createChangeDetectorGenConfig(){return new change_detection_1.ChangeDetectorGenConfig(lang_1.assertionsEnabled(),!1,!0)}var runtime_compiler_1=($__require("3"),$__require("5d")),template_compiler_1=$__require("5b");exports.TemplateCompiler=template_compiler_1.TemplateCompiler;var directive_metadata_1=$__require("53");exports.CompileDirectiveMetadata=directive_metadata_1.CompileDirectiveMetadata,exports.CompileTypeMetadata=directive_metadata_1.CompileTypeMetadata,exports.CompileTemplateMetadata=directive_metadata_1.CompileTemplateMetadata;var source_module_1=$__require("36");exports.SourceModule=source_module_1.SourceModule,exports.SourceWithImports=source_module_1.SourceWithImports;var platform_directives_and_pipes_1=$__require("5a");exports.PLATFORM_DIRECTIVES=platform_directives_and_pipes_1.PLATFORM_DIRECTIVES,exports.PLATFORM_PIPES=platform_directives_and_pipes_1.PLATFORM_PIPES,__export($__require("30"));var template_parser_1=$__require("48");exports.TEMPLATE_TRANSFORMS=template_parser_1.TEMPLATE_TRANSFORMS;var lang_1=$__require("6"),di_1=$__require("b"),template_parser_2=$__require("48"),html_parser_1=$__require("49"),template_normalizer_1=$__require("52"),runtime_metadata_1=$__require("55"),change_detector_compiler_1=$__require("35"),style_compiler_1=$__require("3d"),view_compiler_1=$__require("43"),proto_view_compiler_1=$__require("44"),template_compiler_2=$__require("5b"),change_detection_1=$__require("32"),compiler_1=$__require("5e"),runtime_compiler_2=$__require("5d"),element_schema_registry_1=$__require("50"),dom_element_schema_registry_1=$__require("60"),url_resolver_1=$__require("42"),change_detection_2=$__require("32");return exports.COMPILER_PROVIDERS=lang_1.CONST_EXPR([change_detection_2.Lexer,change_detection_2.Parser,html_parser_1.HtmlParser,template_parser_2.TemplateParser,template_normalizer_1.TemplateNormalizer,runtime_metadata_1.RuntimeMetadataResolver,url_resolver_1.DEFAULT_PACKAGE_URL_PROVIDER,style_compiler_1.StyleCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,change_detector_compiler_1.ChangeDetectionCompiler,new di_1.Provider(change_detection_1.ChangeDetectorGenConfig,{useFactory:_createChangeDetectorGenConfig,deps:[]}),template_compiler_2.TemplateCompiler,new di_1.Provider(runtime_compiler_2.RuntimeCompiler,{useClass:runtime_compiler_1.RuntimeCompiler_}),new di_1.Provider(compiler_1.Compiler,{useExisting:runtime_compiler_2.RuntimeCompiler}),dom_element_schema_registry_1.DomElementSchemaRegistry,new di_1.Provider(element_schema_registry_1.ElementSchemaRegistry,{useExisting:dom_element_schema_registry_1.DomElementSchemaRegistry}),url_resolver_1.UrlResolver]),module.exports}),$__System.registerDynamic("63",["42","40","62","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}$__require("3");return __export($__require("42")),__export($__require("40")),__export($__require("62")),module.exports}),$__System.registerDynamic("40",["3"],!0,function($__require,exports,module){"use strict";var XHR=($__require("3"),function(){function XHR(){}return XHR.prototype.get=function(url){return null},XHR}());return exports.XHR=XHR,module.exports}),$__System.registerDynamic("10",["64","6","40","3"],!0,function($__require,exports,module){
"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),promise_1=$__require("64"),lang_1=$__require("6"),xhr_1=$__require("40"),XHRImpl=function(_super){function XHRImpl(){_super.apply(this,arguments)}return __extends(XHRImpl,_super),XHRImpl.prototype.get=function(url){var completer=promise_1.PromiseWrapper.completer(),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=lang_1.isPresent(xhr.response)?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),status>=200&&300>=status?completer.resolve(response):completer.reject("Failed to load "+url,null)},xhr.onerror=function(){completer.reject("Failed to load "+url,null)},xhr.send(),completer.promise},XHRImpl}(xhr_1.XHR);return exports.XHRImpl=XHRImpl,module.exports}),$__System.registerDynamic("65",["5","2c","6","63","13","66","10","b","3"],!0,function($__require,exports,module){"use strict";function bootstrap(appComponentType,customProviders){core_1.reflector.reflectionCapabilities=new reflection_capabilities_1.ReflectionCapabilities;var appProviders=lang_1.isPresent(customProviders)?[exports.BROWSER_APP_PROVIDERS,customProviders]:exports.BROWSER_APP_PROVIDERS;return core_1.platform(browser_common_2.BROWSER_PROVIDERS).application(appProviders).bootstrap(appComponentType)}var angular_entrypoint_1=($__require("3"),$__require("5"));exports.AngularEntrypoint=angular_entrypoint_1.AngularEntrypoint;var browser_common_1=$__require("2c");exports.BROWSER_PROVIDERS=browser_common_1.BROWSER_PROVIDERS,exports.ELEMENT_PROBE_PROVIDERS=browser_common_1.ELEMENT_PROBE_PROVIDERS,exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=browser_common_1.ELEMENT_PROBE_PROVIDERS_PROD_MODE,exports.inspectNativeElement=browser_common_1.inspectNativeElement,exports.BrowserDomAdapter=browser_common_1.BrowserDomAdapter,exports.By=browser_common_1.By,exports.Title=browser_common_1.Title,exports.DOCUMENT=browser_common_1.DOCUMENT,exports.enableDebugTools=browser_common_1.enableDebugTools,exports.disableDebugTools=browser_common_1.disableDebugTools;var lang_1=$__require("6"),browser_common_2=$__require("2c"),compiler_1=$__require("63"),core_1=$__require("13"),reflection_capabilities_1=$__require("66"),xhr_impl_1=$__require("10"),compiler_2=$__require("63"),di_1=$__require("b");return exports.BROWSER_APP_PROVIDERS=lang_1.CONST_EXPR([browser_common_2.BROWSER_APP_COMMON_PROVIDERS,compiler_1.COMPILER_PROVIDERS,new di_1.Provider(compiler_2.XHR,{useClass:xhr_impl_1.XHRImpl})]),exports.bootstrap=bootstrap,module.exports}),function(){var define=$__System.amdDefine;define("67",[],function(){return'<div class="ui inverted vertical center aligned segment splash-bg">\n	<div class="text container">\n\n		<div class="ui grid container">\n			<div class="computer tablet only row">\n				<div class="three wide column"></div>\n				<div class="ten wide column">\n					<img class="ui image big centered carbon-logo" src="assets/images/carbon-ldp-logo-lg.png"/>\n					<br/><br/><br/><br/><br/>\n					<h2 style="color:#e1dfdf">Carbon LDP is a cloud-based Linked Data Platform for building, hosting,\n						managing, and running web applications of all types - Web Services, Mobile, Big Data,\n						Analytics, IoT, Cognitive, etc.</h2>\n					<br/>\n				</div>\n				<div class="three wide column"></div>\n			</div>\n			<div class="mobile only row">\n				<div class="three wide column"></div>\n				<div class="ten wide column">\n					<img class="ui image medium centered carbon-logo" src="assets/images/carbon-ldp-logo-lg.png" style="margin-top:40px"/>\n					<h4 style="color:#e1dfdf">Carbon LDP is a cloud-based Linked Data Platform for building, hosting,\n						managing, and running web applications of all types - Web Services, Mobile, Big Data,\n						Analytics, IoT, Cognitive, etc.</h4>\n					<br/>\n				</div>\n				<div class="three wide column"></div>\n			</div>\n		</div>\n		<!--\n		<h2 style="color:#ccc">Carbon LDP is a cloud-based Linked Data Platform for building,<br/>\n			hosting, managing, and running web applications of all types -<br/>\n			Web Services, Mobile, Big Data, Analytics, IoT, Cognitive, etc.<br/><br/></h2>\n		-->\n\n		<!-- button class="ui inverted orange massive button">Get Started</button -->\n\n		<h4>Sign up to receive news and get notified when we launch!</h4>\n\n		<!--\n		<div class="ui action input">\n			<input type="text" placeholder="your@email.com">\n			<button class="ui primary button">Sign up</button>\n		</div>\n		<p>Promise, we don\'t spam :)</p>\n		-->\n\n	</div>\n</div>\n<div class="ui container">\n	<div class="ui vertical stripe segment">\n		<div class="ui middle aligned stackable grid container">\n			<div class="row">\n				<div class="ten wide column">\n					<h2>Innovation for the Next Web</h2>\n\n					<p>In his 2009 TED talk, Tim Berners-Lee (a.k.a. The Father of the Web) urged us onward toward the\n						complete vision for the World Wide Web. "It\'s called Linked Data," he said. "I want you to make\n						it. I want you to demand it." We\'re working to achieve that vision by creating an innovation\n						platform that can transform your enterprise and give you new advantages from advanced\n						technology.</p>\n				</div>\n				<div class="five wide right floated right aligned column">\n					<img src="assets/images/berners-lee.png"/>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="ui vertical stripe segment">\n		<div class="ui middle aligned stackable grid container">\n			<div class="row">\n				<div class="five wide left floated left aligned column">\n					<img src="assets/images/w3c-semantic-web.png"/>\n				</div>\n				<div class="ten wide column">\n					<h2>Standards Based</h2>\n\n					<p>Carbon LDP is based on Semantic Web standards developed by the World Wide Web Consortium (W3C)\n						with contributions from industry leaders such as IBM, Microsoft, and Oracle. Base22 is a member\n						of the W3C and participated in the development of the specification for the Linked Data\n						Platform (LDP). Carbon LDP is a fully compliant LDP server that will integrate and interoperate\n						with industry tools from leading vendors.</p>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="ui vertical stripe segment">\n		<div class="ui middle aligned stackable grid container">\n			<div class="row">\n				<div class="ten wide column">\n					<h2>What Developers Really Want</h2>\n\n					<p>As enterprise-class web engineers, our work takes us behind the scenes at world-leading\n						organizations. We know how industry titans use information technology and where many of their\n						pain-points exist. But we\'re not just filling gaps - we\'re creating an entirely new paradigm\n						that can transform the way you work. They say that "necessity is the mother of invention."\n						Carbon is the platform we\'ve always wanted, so we\'re building it. We think you\'re going to\n						love it too.</p>\n				</div>\n				<div class="five wide right floated right aligned column">\n					<img src="assets/images/web-developers.png"/>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n<div class="ui orange inverted vertical center aligned segment">\n	<h2>Sign up to receive news and get notified when we launch!</h2>\n\n	<div class="ui action input">\n		<input type="text" placeholder="your@email.com">\n		<button class="ui secondary button">Sign up</button>\n	</div>\n	<p>Promise, we don\'t spam :)</p>\n</div>'})}(),$__System.register("68",[],function(){return{setters:[],execute:function(){}}}),$__System.register("69",["13","2d","6c","6d","6a","6b","67","68"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,CodeMirrorComponent,template_html_1,HomeView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){HomeView=function(){function HomeView(router,element){this.router=router,this.element=element}return HomeView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.$mainMenu=jquery_1["default"]("header > .menu"),this.$carbonLogo=this.$element.find("img.carbon-logo"),this.hideMainMenu(),this.createDropdownMenus(),this.addMenuVisibilityHandlers()},HomeView.prototype.routerOnDeactivate=function(){this.removeMenuVisibilityHandlers(),this.showMainMenu()},HomeView.prototype.isActive=function(route){var instruction=this.router.generate([route]);return this.router.isRouteActive(instruction)},HomeView.prototype.showMainMenu=function(){this.$mainMenu.is(":visible")||this.toggleMainMenu()},HomeView.prototype.hideMainMenu=function(){this.$mainMenu.is(":visible")&&this.toggleMainMenu()},HomeView.prototype.toggleMainMenu=function(){this.$mainMenu.transition("fade down")},HomeView.prototype.createDropdownMenus=function(){this.$element.find(".ui.dropdown").dropdown({on:"hover"})},HomeView.prototype.addMenuVisibilityHandlers=function(){var view=this;this.$carbonLogo.visibility({once:!1,onBottomPassedReverse:function(calculations){view.hideMainMenu()},onBottomPassed:function(calculations){view.showMainMenu()}})},HomeView.prototype.removeMenuVisibilityHandlers=function(){this.$carbonLogo.visibility("destroy")},HomeView=__decorate([core_1.Component({selector:"home",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,CodeMirrorComponent.Class]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object])],HomeView);var _a,_b}(),exports_1("default",HomeView)}}}),function(){var define=$__System.amdDefine;define("6e",[],function(){return'<div class="ui main middle aligned center aligned grid container">\n	<div class="row">\n		<login></login>\n	</div>\n</div>'})}(),$__System.register("6f",["13","70","6d","6a","6e"],function(exports_1,context_1){"use strict";var core_1,LoginComponent_1,jquery_1,template_html_1,LoginView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(LoginComponent_1_1){LoginComponent_1=LoginComponent_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1}],execute:function(){LoginView=function(){function LoginView(element){this.element=element,this.$element=jquery_1["default"](this.element.nativeElement)}return LoginView=__decorate([core_1.Component({selector:"login-page",template:template_html_1["default"],directives:[LoginComponent_1["default"]]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],LoginView);var _a}(),exports_1("default",LoginView)}}}),function(){var define=$__System.amdDefine;define("71",[],function(){return'<article class="ui segment">\n	<p class="ui red ribbon label">{{blogPost.creationDate | date}}</p>\n\n	<div class="ui left aligned basic segment">\n		<h1><a [routerLink]="[ \'../BlogPost\', {id: blogPost.id} ]">{{ blogPost.title }}</a></h1>\n\n		<p>by {{ blogPost.author }}</p>\n	</div>\n	<div class="ui basic segment">\n		<div #excerpt>\n		</div>\n	</div>\n	<div class="ui right aligned basic segment">\n		<a [routerLink]="[ \'../BlogPost\', {id: blogPost.id} ]">Read More...</a>\n	</div>\n</article>'})}(),$__System.register("72",[],function(){return{setters:[],execute:function(){}}}),$__System.register("73",["13","2d","6c","6a","74","75","6b","71","72"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,ContentService_1,BlogPost_1,CodeMirrorComponent,template_html_1,BlogPostThumbnailComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(_1){},function(ContentService_1_1){ContentService_1=ContentService_1_1},function(BlogPost_1_1){BlogPost_1=BlogPost_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){BlogPostThumbnailComponent=function(){function BlogPostThumbnailComponent(router,element,dcl,contentService){this.router=router,this.element=element,this.dcl=dcl,this.contentService=contentService}return Object.defineProperty(BlogPostThumbnailComponent.prototype,"codeMirrorMode",{get:function(){return CodeMirrorComponent.Mode},enumerable:!0,configurable:!0}),BlogPostThumbnailComponent.prototype.ngOnInit=function(){this.isNewPost=!1,this.blogPost.creationDate&&(this.blogPost.creationDate=new Date(Date.parse(this.blogPost.creationDate.toString())),this.isNewPost=this.blogPost.creationDate.getDay()==(new Date).getDay())},BlogPostThumbnailComponent.prototype.ngAfterViewInit=function(){var excerpt=this.blogPost.excerpt;if(this.blogPost.filename){var CompiledComponent=function(){function CompiledComponent(){}return CompiledComponent=__decorate([core_1.Component({selector:"compiled-component",directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,CodeMirrorComponent.Class],template:excerpt}),__metadata("design:paramtypes",[])],CompiledComponent)}();this.dcl.loadIntoLocation(CompiledComponent,this.element,"excerpt")}},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof BlogPost_1["default"]&&BlogPost_1["default"])&&_a||Object)],BlogPostThumbnailComponent.prototype,"blogPost",void 0),BlogPostThumbnailComponent=__decorate([core_1.Component({selector:"blog-post-thumbnail",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,CodeMirrorComponent.Class]}),__metadata("design:paramtypes",["function"==typeof(_b="undefined"!=typeof router_1.Router&&router_1.Router)&&_b||Object,"function"==typeof(_c="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_c||Object,"function"==typeof(_d="undefined"!=typeof core_1.DynamicComponentLoader&&core_1.DynamicComponentLoader)&&_d||Object,"function"==typeof(_e="undefined"!=typeof ContentService_1["default"]&&ContentService_1["default"])&&_e||Object])],BlogPostThumbnailComponent);var _a,_b,_c,_d,_e}(),exports_1("default",BlogPostThumbnailComponent)}}}),function(){var define=$__System.amdDefine;define("76",[],function(){return'<div class="ui main grid container">\n	<div class="row">\n		<div class="twelve wide column">\n			<blog-post-thumbnail class="ui basic segment" *ngFor="#post of blogPosts; #i=index;" [blogPost]="post"></blog-post-thumbnail>\n		</div>\n		<aside class="four wide column">\n\n		</aside>\n	</div>\n</div>'})}(),$__System.register("77",[],function(){return{setters:[],execute:function(){}}}),$__System.register("78",["13","2d","6c","6d","6a","79","73","6b","76","77"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,BlogService_1,BlogPostThumbnailComponent_1,CodeMirrorComponent,template_html_1,BlogView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(BlogService_1_1){BlogService_1=BlogService_1_1},function(BlogPostThumbnailComponent_1_1){BlogPostThumbnailComponent_1=BlogPostThumbnailComponent_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){BlogView=function(){function BlogView(router,element,dcl,blogService){this.router=router,this.element=element,this.dcl=dcl,this.blogService=blogService}return BlogView.prototype.getPostsList=function(){var _this=this;this.blogService.getPostsList().then(function(blogPosts){_this.blogPosts=blogPosts})["catch"](console.error)},BlogView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},BlogView.prototype.routerOnActivate=function(){this.getPostsList()},BlogView=__decorate([core_1.Component({selector:"blog",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,BlogPostThumbnailComponent_1["default"],CodeMirrorComponent.Class],providers:[BlogService_1["default"]]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof core_1.DynamicComponentLoader&&core_1.DynamicComponentLoader)&&_c||Object,"function"==typeof(_d="undefined"!=typeof BlogService_1["default"]&&BlogService_1["default"])&&_d||Object])],BlogView);var _a,_b,_c,_d}(),exports_1("default",BlogView)}}}),$__System.register("75",[],function(exports_1,context_1){"use strict";var BlogPost;context_1&&context_1.id;return{setters:[],execute:function(){BlogPost=function(){function BlogPost(){}return BlogPost}(),exports_1("BlogPost",BlogPost),exports_1("default",BlogPost)}}}),function(){var define=$__System.amdDefine;define("7a",[],function(){return'<div class="ui main grid container">\n	<div class="row">\n		<div class="twelve wide column">\n			<article class="ui basic segment">\n				<div class="ui header">\n					<h1>{{ blogPost?.title }}</h1>\n\n					<small><span *ngIf="blogPost.author">By {{ blogPost?.author }}</span> <span>{{ blogPost?.creationDate | date }}</span></small>\n				</div>\n				<div class="ui clearing divider"></div>\n				<div>\n					<div #content></div>\n				</div>\n			</article>\n		</div>\n		<aside class="four wide column">\n\n		</aside>\n	</div>\n</div>'})}(),$__System.register("7b",[],function(){return{setters:[],execute:function(){}}}),$__System.register("7c",["13","2d","6c","6d","6a","79","75","6b","7a","7b"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,BlogService_1,BlogPost_1,CodeMirrorComponent,template_html_1,BlogPostView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(BlogService_1_1){BlogService_1=BlogService_1_1},function(BlogPost_1_1){BlogPost_1=BlogPost_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){BlogPostView=function(){function BlogPostView(router,element,dcl,routeParams,location,blogService){this.blogPost=new BlogPost_1["default"],this.router=router,this.element=element,this.dcl=dcl,this.routeParams=routeParams,this.location=location,this.blogService=blogService,this.postid=this.routeParams.get("id")}return Object.defineProperty(BlogPostView.prototype,"codeMirrorMode",{get:function(){return CodeMirrorComponent.Mode},enumerable:!0,configurable:!0}),BlogPostView.prototype.routerOnActivate=function(){var _this=this;"undefined"!=typeof this.postid&&null!==this.postid&&this.blogService.getPost(this.postid).then(function(post){_this.blogPost=post;var fileName=post.filename,postComponent=_this.createPostComponent(fileName);_this.renderPostComponent(postComponent)})},BlogPostView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},BlogPostView.prototype.createPostComponent=function(fileName){var view=this,CompiledComponent=function(){function CompiledComponent(element){this.element=element}return CompiledComponent.prototype.ngAfterViewInit=function(){},CompiledComponent=__decorate([core_1.Component({selector:"compiled-component",directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,CodeMirrorComponent.Class],templateUrl:view.location.platformStrategy.getBaseHref()+"assets/blog-posts/"+fileName}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],CompiledComponent);var _a}();return CompiledComponent},BlogPostView.prototype.renderPostComponent=function(postComponent){this.dcl.loadIntoLocation(postComponent,this.element,"content")},BlogPostView=__decorate([core_1.Component({selector:"blog-post",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,CodeMirrorComponent.Class],providers:[BlogService_1["default"],router_1.Location]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof core_1.DynamicComponentLoader&&core_1.DynamicComponentLoader)&&_c||Object,"function"==typeof(_d="undefined"!=typeof router_1.RouteParams&&router_1.RouteParams)&&_d||Object,"function"==typeof(_e="undefined"!=typeof router_1.Location&&router_1.Location)&&_e||Object,"function"==typeof(_f="undefined"!=typeof BlogService_1["default"]&&BlogService_1["default"])&&_f||Object])],BlogPostView);var _a,_b,_c,_d,_e,_f}(),exports_1("default",BlogPostView)}}}),function(){var define=$__System.amdDefine;define("7d",[],function(){return"<div #child></div>"})}(),$__System.register("7e",[],function(){return{setters:[],execute:function(){}}}),$__System.register("7f",["13","2d","6c","74","6b","6d","6a","7d","7e"],function(exports_1,context_1){"use strict";var __moduleName=context_1&&context_1.id,__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1,common_1,router_1,ContentService_1,CodeMirrorComponent,jquery_1,template_html_1,ContentView;return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(ContentService_1_1){ContentService_1=ContentService_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){ContentView=function(){function ContentView(router,contentService,routeParams,dynamicComponentLoader,elementRef){this.router=router,this.contentService=contentService,this.routeParams=routeParams,this.dynamicComponentLoader=dynamicComponentLoader,this.elementRef=elementRef,this.id=this.routeParams.get("id")}return ContentView.prototype.ngOnInit=function(){var _this=this;this.contentService.getDocumentById(this.id).then(function(templateResponse){var CompiledComponent=function(){function CompiledComponent(elementRef){this.host="dev.carbonldp.com",this.elementRef=elementRef,this.$element=jquery_1["default"](this.elementRef.nativeElement)}return CompiledComponent.prototype.ngAfterViewInit=function(){this.createAccordions(),this.evalJavascript(),this.$container=jquery_1["default"]("article"),this.sections=this.$container.children("section"),this.subSections=this.sections.children("section"),this.$followMenu=this.$element.find(".following.menu"),this.sidebar=this.$element.find("nav"),this.buildSideBar()},CompiledComponent.prototype.createAccordions=function(){this.$element.find(".ui.accordion").accordion()},CompiledComponent.prototype.evalJavascript=function(){var scripts=this.elementRef.nativeElement.querySelectorAll(".script"),i=0,scriptLength=scripts.length;for(i;scriptLength>i;i++)eval(scripts[i].textContent)},CompiledComponent.prototype.activateSection=function(elm){var $section=jquery_1["default"](elm),index=this.sections.index($section),$followSection=this.$followMenu.children(".item"),$activeSection=$followSection.eq(index),isActive=$activeSection.hasClass("active");isActive||($followSection.filter(".active").removeClass("active"),$activeSection.addClass("active"),this.$followMenu.accordion("open",index))},CompiledComponent.prototype.activatePrevious=function(){var $menuItems=this.$followMenu.children(".item"),$section=$menuItems.filter(".active"),index=$menuItems.index($section);$section.prev().size()>0&&($section.removeClass("active").prev(".item").addClass("active"),this.$followMenu.accordion("open",index-1))},CompiledComponent.prototype.activateSubSection=function(elm){var $section=jquery_1["default"](elm),index=this.subSections.index($section),$followSection=this.$followMenu.find(".menu > .item"),$activeSection=$followSection.eq(index),inClosedTab=jquery_1["default"](this).closest(".tab:not(.active)").size()>0,anotherSection=jquery_1["default"](this).filter("section").size()>0,isActive=$activeSection.hasClass("active");-1===index||inClosedTab||anotherSection||isActive||($followSection.filter(".active").removeClass("active"),$activeSection.addClass("active"))},CompiledComponent.prototype.buildSideBar=function(){if(this.sidebar){var html_1="",$sticky=void 0,_self_1=this;jquery_1["default"].each(this.sections,function(index,section){var $currentSection=jquery_1["default"](section),subSections=$currentSection.children("section"),activeClass=0===index?"active ":"",text=_self_1.getText($currentSection),safeName=_self_1.getSafeText(text),id=window.escape(safeName);_self_1.setId($currentSection),html_1+='<div class="item">',html_1+=0===subSections.size()?'<a class="'+activeClass+'title " href="#'+id+'"><b>'+text+"</b></a>":'<a class="'+activeClass+'title "><i class="dropdown icon"></i> <b>'+text+"</b></a>",subSections.size()>0&&(html_1+='<div class="'+activeClass+'content menu">',jquery_1["default"].each(subSections,function(index2,subSection){var $subSection=jquery_1["default"](subSection),text=_self_1.getText($subSection),safeName=_self_1.getSafeText(text),id=window.escape(safeName);_self_1.setId($subSection),html_1+='<a class="item" href="#'+id+'">'+text+"</a>"}),html_1+="</div>"),html_1+="</div>"}),this.$followMenu=jquery_1["default"]("<div />").addClass("ui vertical following fluid accordion text menu").html(html_1),$sticky=jquery_1["default"]("<div />").addClass("ui fixed sticky segment").html(this.$followMenu).prepend('<h4 class="ui header">Content</h4>'),this.sidebar.html($sticky),this.sidebar.find(".ui.sticky").sticky({context:"#article",offset:100}),this.sidebar.find(".ui.sticky").sticky("refresh"),this.$followMenu.accordion({exclusive:!1,animateChildren:!1,onChange:function(){_self_1.$element.find(".ui.sticky").sticky("refresh")}}).find(".menu a[href], .title[href]").on("click",this.scrollTo),this.sections.visibility({observeChanges:!1,once:!1,offset:150,onTopPassed:function(){_self_1.activateSection(this)},onTopPassedReverse:function(){_self_1.activatePrevious()}}),this.subSections.visibility({observeChanges:!1,once:!1,offset:150,onTopPassed:function(){_self_1.activateSubSection(this)},onTopPassedReverse:function(){_self_1.activateSubSection(this)}})}},CompiledComponent.prototype.getText=function($section){return $section.children(":header").eq(0).text()?$section.children(":header").eq(0).text():""},CompiledComponent.prototype.getSafeText=function(text){return text.replace(/\s+/g,"-").replace(/[^-,'A-Za-z0-9]+/g,"").toLowerCase()},CompiledComponent.prototype.setId=function($section){if($section.children(":header").eq(0).text()){var text=this.getText($section),safeName=this.getSafeText(text),id=window.escape(safeName);$section.attr("id",id)}},CompiledComponent.prototype.scrollTo=function(event){var id=jquery_1["default"](this).attr("href").replace("#",""),$element=jquery_1["default"]("#"+id),position=$element.offset().top-80;return $element.addClass("active"),jquery_1["default"]("html, body").animate({scrollTop:position},500),location.hash="#"+id,event.stopImmediatePropagation(),event.preventDefault(),!1},CompiledComponent.parameters=[[core_1.ElementRef]],CompiledComponent=__decorate([core_1.Component({selector:"child-component",directives:[CodeMirrorComponent.Class],template:templateResponse}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],CompiledComponent);var _a}();_this.dynamicComponentLoader.loadIntoLocation(CompiledComponent,_this.elementRef,"child")})},ContentView.parameters=[[router_1.Router],[ContentService_1["default"]],[router_1.RouteParams],[core_1.DynamicComponentLoader],[core_1.ElementRef]],
ContentView=__decorate([core_1.Component({selector:"compiled-content",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,CodeMirrorComponent.Class]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof ContentService_1["default"]&&ContentService_1["default"])&&_b||Object,"function"==typeof(_c="undefined"!=typeof router_1.RouteParams&&router_1.RouteParams)&&_c||Object,"function"==typeof(_d="undefined"!=typeof core_1.DynamicComponentLoader&&core_1.DynamicComponentLoader)&&_d||Object,"function"==typeof(_e="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_e||Object])],ContentView);var _a,_b,_c,_d,_e}(),exports_1("default",ContentView)}}}),function(){var define=$__System.amdDefine;define("80",[],function(){return'<div class="ui main middle aligned container">\n	<h3>\n		Carbon UI\n	</h3>\n\n	<div class="mainhead">\n		<div class="ui four item stackable tabs menu">\n			<a class="active item" data-tab="elements">Elements</a>\n			<a class="item" data-tab="collections">Collections</a>\n			<a class="item" data-tab="views">Views</a>\n			<a class="item" data-tab="modules">Modules</a>\n		</div>\n	</div>\n	<div class="main demo ui container">\n		<div class="ui active tab" data-tab="elements">\n			<h2 class="ui dividing header">\n				Elements\n				<a class="anchor" id="elements"></a>\n			</h2>\n\n\n			<!--Button-->\n			<h3 class="ui dividing header">\n				Button\n			</h3>\n\n			<div class="ui segment">\n				<div class="button demo">\n					<div class="ui button">\n						View\n					</div>\n					<div class="ui primary button">\n						<i class="shop icon"></i> Add to Cart\n					</div>\n					<div class="ui secondary button">\n						<i class="save icon"></i> Save for Later\n					</div>\n					<div class="ui labeled icon button">\n						<i class="star icon"></i>\n						Rate\n					</div>\n					<div class="ui basic button">Basic</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui animated button">\n						<div class="visible content">Horizontal</div>\n						<div class="hidden content">\n							Hidden\n						</div>\n					</div>\n					<div class="ui vertical animated button">\n						<div class="visible content">Vertical</div>\n						<div class="hidden content">\n							Hidden\n						</div>\n					</div>\n					<div class="ui animated fade button">\n						<div class="visible content">Fade In</div>\n						<div class="hidden content">\n							Hidden\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui facebook button">\n						<i class="facebook icon"></i>\n						Facebook\n					</div>\n					<div class="ui twitter button">\n						<i class="twitter icon"></i>\n						Twitter\n					</div>\n					<div class="ui google plus button">\n						<i class="google plus icon"></i>\n						Google Plus\n					</div>\n\n					<div class="ui hidden divider"></div>\n					<div class="ui buttons">\n						<div class="ui button">1</div>\n						<div class="ui button">2</div>\n						<div class="ui button">3</div>\n					</div>\n\n\n					<div class="ui buttons">\n						<div class="ui button">Cancel</div>\n						<div class="or"></div>\n						<div class="ui positive button">Save</div>\n					</div>\n\n					<div class="ui icon buttons">\n						<div class="ui button"><i class="align left icon"></i></div>\n						<div class="ui button"><i class="align center icon"></i></div>\n						<div class="ui button"><i class="align right icon"></i></div>\n						<div class="ui button"><i class="align justify icon"></i></div>\n					</div>\n					<div class="ui hidden divider"></div>\n					<div class="ui blue button">Blue</div>\n					<div class="ui red button">Red</div>\n					<div class="ui teal button">Teal</div>\n					<div class="ui blue basic button">Blue</div>\n					<div class="ui red basic button">Red</div>\n					<div class="ui teal basic button">Teal</div>\n\n					<div class="ui inverted segment">\n						<div class="ui inverted button">Inverted</div>\n						<div class="ui inverted blue button">Blue</div>\n						<div class="ui inverted red button">Red</div>\n						<div class="ui inverted basic button">Basic</div>\n						<div class="ui inverted blue basic button">Blue</div>\n						<div class="ui inverted red basic button">Red</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui vertical buttons">\n						<div class="ui button">Feed</div>\n						<div class="ui button">Messages</div>\n						<div class="ui button">Events</div>\n						<div class="ui button">Photos</div>\n					</div>\n\n					<div class="ui vertical buttons">\n						<div class="ui button">1</div>\n						<div class="ui button">2</div>\n						<div class="ui button">3</div>\n					</div>\n\n					<div class="ui vertical icon buttons">\n						<div class="ui button"><i class="align left icon"></i></div>\n						<div class="ui button"><i class="align center icon"></i></div>\n						<div class="ui button"><i class="align right icon"></i></div>\n						<div class="ui button"><i class="align justify icon"></i></div>\n					</div>\n\n				</div>\n			</div>\n\n\n			<!--Divider-->\n			<h4 class="ui dividing header">\n				Divider\n			</h4>\n\n			<div class="ui segment">\n				<div class="html">\n					<div class="ui center aligned segment">\n						<div class="ui button">A</div>\n						<div class="ui horizontal divider">and</div>\n						<div class="teal ui button">B</div>\n					</div>\n					<div class="ui two column stackable center aligned grid segment">\n						<div class="column">\n							<div class="ui button">A</div>\n						</div>\n						<div class="ui vertical divider">or</div>\n						<div class="column">\n							<div class="teal ui button">B</div>\n						</div>\n					</div>\n					<div class="ui horizontal divider">\n						<i class="heart icon"></i>\n					</div>\n					<h5 class="ui horizontal header divider">\n						<i class="bar chart icon"></i>\n						Specifications\n					</h5>\n\n					<div class="ui inverted segment">\n						<p>A</p>\n\n						<div class="ui inverted divider"></div>\n						<p>B</p>\n					</div>\n				</div>\n			</div>\n\n\n			<!--Flag-->\n			<h4 class="ui dividing header">\n				Flag\n			</h4>\n\n			<div class="ui segment">\n				<div class="flags">\n					<i class="andorra flag"></i>\n					<i class="uae flag"></i>\n					<i class="afghanistan flag"></i>\n					<i class="antigua flag"></i>\n					<i class="anguilla flag"></i>\n					<i class="albania flag"></i>\n					<i class="armenia flag"></i>\n					<i class="netherlands antilles flag"></i>\n					<i class="angola flag"></i>\n					<i class="argentina flag"></i>\n					<i class="american samoa flag"></i>\n					<i class="austria flag"></i>\n					<i class="australia flag"></i>\n					<i class="aruba flag"></i>\n					<i class="aland islands flag"></i>\n					<i class="azerbaijan flag"></i>\n					<i class="bosnia flag"></i>\n					<i class="barbados flag"></i>\n					<i class="bangladesh flag"></i>\n					<i class="belgium flag"></i>\n					<i class="burkina faso flag"></i>\n					<i class="bulgaria flag"></i>\n					<i class="bahrain flag"></i>\n					<i class="burundi flag"></i>\n					<i class="benin flag"></i>\n					<i class="bermuda flag"></i>\n					<i class="brunei flag"></i>\n					<i class="bolivia flag"></i>\n					<i class="brazil flag"></i>\n					<i class="bahamas flag"></i>\n					<i class="bhutan flag"></i>\n					<i class="bouvet island flag"></i>\n					<i class="botswana flag"></i>\n					<i class="belarus flag"></i>\n					<i class="belize flag"></i>\n					<i class="canada flag"></i>\n					<i class="cocos islands flag"></i>\n					<i class="congo flag"></i>\n					<i class="central african republic flag"></i>\n					<i class="congo brazzaville flag"></i>\n					<i class="switzerland flag"></i>\n					<i class="cote divoire flag"></i>\n					<i class="cook islands flag"></i>\n					<i class="chile flag"></i>\n					<i class="cameroon flag"></i>\n					<i class="china flag"></i>\n					<i class="colombia flag"></i>\n					<i class="costa rica flag"></i>\n					<i class="serbia flag"></i>\n					<i class="cuba flag"></i>\n					<i class="cape verde flag"></i>\n					<i class="christmas island flag"></i>\n					<i class="cyprus flag"></i>\n					<i class="czech republic flag"></i>\n					<i class="germany flag"></i>\n					<i class="djibouti flag"></i>\n					<i class="denmark flag"></i>\n					<i class="dominica flag"></i>\n					<i class="dominican republic flag"></i>\n					<i class="algeria flag"></i>\n					<i class="ecuador flag"></i>\n					<i class="estonia flag"></i>\n					<i class="egypt flag"></i>\n					<i class="western sahara flag"></i>\n					<i class="eritrea flag"></i>\n					<i class="spain flag"></i>\n					<i class="ethiopia flag"></i>\n					<i class="european union flag"></i>\n					<i class="finland flag"></i>\n					<i class="fiji flag"></i>\n					<i class="falkland islands flag"></i>\n					<i class="micronesia flag"></i>\n					<i class="faroe islands flag"></i>\n					<i class="france flag"></i>\n					<i class="gabon flag"></i>\n					<i class="united kingdom flag"></i>\n					<i class="grenada flag"></i>\n					<i class="georgia flag"></i>\n					<i class="french guiana flag"></i>\n					<i class="ghana flag"></i>\n					<i class="gibraltar flag"></i>\n					<i class="greenland flag"></i>\n					<i class="gambia flag"></i>\n					<i class="guinea flag"></i>\n					<i class="guadeloupe flag"></i>\n					<i class="equatorial guinea flag"></i>\n					<i class="greece flag"></i>\n					<i class="sandwich islands flag"></i>\n					<i class="guatemala flag"></i>\n					<i class="guam flag"></i>\n					<i class="guinea-bissau flag"></i>\n					<i class="guyana flag"></i>\n					<i class="hong kong flag"></i>\n					<i class="heard island flag"></i>\n					<i class="honduras flag"></i>\n					<i class="croatia flag"></i>\n					<i class="haiti flag"></i>\n					<i class="hungary flag"></i>\n					<i class="indonesia flag"></i>\n					<i class="ireland flag"></i>\n					<i class="israel flag"></i>\n					<i class="india flag"></i>\n					<i class="indian ocean territory flag"></i>\n					<i class="iraq flag"></i>\n					<i class="iran flag"></i>\n					<i class="iceland flag"></i>\n					<i class="italy flag"></i>\n					<i class="jamaica flag"></i>\n					<i class="jordan flag"></i>\n					<i class="japan flag"></i>\n					<i class="kenya flag"></i>\n					<i class="kyrgyzstan flag"></i>\n					<i class="cambodia flag"></i>\n					<i class="kiribati flag"></i>\n					<i class="comoros flag"></i>\n					<i class="saint kitts and nevis flag"></i>\n					<i class="north korea flag"></i>\n					<i class="south korea flag"></i>\n					<i class="kuwait flag"></i>\n					<i class="cayman islands flag"></i>\n					<i class="kazakhstan flag"></i>\n					<i class="laos flag"></i>\n					<i class="lebanon flag"></i>\n					<i class="saint lucia flag"></i>\n					<i class="liechtenstein flag"></i>\n					<i class="sri lanka flag"></i>\n					<i class="liberia flag"></i>\n					<i class="lesotho flag"></i>\n					<i class="lithuania flag"></i>\n					<i class="luxembourg flag"></i>\n					<i class="latvia flag"></i>\n					<i class="libya flag"></i>\n					<i class="morocco flag"></i>\n					<i class="monaco flag"></i>\n					<i class="moldova flag"></i>\n					<i class="montenegro flag"></i>\n					<i class="madagascar flag"></i>\n					<i class="marshall islands flag"></i>\n					<i class="macedonia flag"></i>\n					<i class="mali flag"></i>\n					<i class="burma flag"></i>\n					<i class="mongolia flag"></i>\n					<i class="macau flag"></i>\n					<i class="northern mariana islands flag"></i>\n					<i class="martinique flag"></i>\n					<i class="mauritania flag"></i>\n					<i class="montserrat flag"></i>\n					<i class="malta flag"></i>\n					<i class="mauritius flag"></i>\n					<i class="maldives flag"></i>\n					<i class="malawi flag"></i>\n					<i class="mexico flag"></i>\n					<i class="malaysia flag"></i>\n					<i class="mozambique flag"></i>\n					<i class="namibia flag"></i>\n					<i class="new caledonia flag"></i>\n					<i class="niger flag"></i>\n					<i class="norfolk island flag"></i>\n					<i class="nigeria flag"></i>\n					<i class="nicaragua flag"></i>\n					<i class="netherlands flag"></i>\n					<i class="norway flag"></i>\n					<i class="nepal flag"></i>\n					<i class="nauru flag"></i>\n					<i class="niue flag"></i>\n					<i class="new zealand flag"></i>\n					<i class="oman flag"></i>\n					<i class="panama flag"></i>\n					<i class="peru flag"></i>\n					<i class="french polynesia flag"></i>\n					<i class="new guinea flag"></i>\n					<i class="philippines flag"></i>\n					<i class="pakistan flag"></i>\n					<i class="poland flag"></i>\n					<i class="saint pierre flag"></i>\n					<i class="pitcairn islands flag"></i>\n					<i class="puerto rico flag"></i>\n					<i class="palestine flag"></i>\n					<i class="portugal flag"></i>\n					<i class="palau flag"></i>\n					<i class="paraguay flag"></i>\n					<i class="qatar flag"></i>\n					<i class="reunion flag"></i>\n					<i class="romania flag"></i>\n					<i class="serbia flag"></i>\n					<i class="russia flag"></i>\n					<i class="rwanda flag"></i>\n					<i class="saudi arabia flag"></i>\n					<i class="solomon islands flag"></i>\n					<i class="seychelles flag"></i>\n					<i class="sudan flag"></i>\n					<i class="sweden flag"></i>\n					<i class="singapore flag"></i>\n					<i class="saint helena flag"></i>\n					<i class="slovenia flag"></i>\n					<i class="jan mayen flag"></i>\n					<i class="slovakia flag"></i>\n					<i class="sierra leone flag"></i>\n					<i class="san marino flag"></i>\n					<i class="senegal flag"></i>\n					<i class="somalia flag"></i>\n					<i class="suriname flag"></i>\n					<i class="sao tome flag"></i>\n					<i class="el salvador flag"></i>\n					<i class="syria flag"></i>\n					<i class="swaziland flag"></i>\n					<i class="caicos islands flag"></i>\n					<i class="chad flag"></i>\n					<i class="french territories flag"></i>\n					<i class="togo flag"></i>\n					<i class="thailand flag"></i>\n					<i class="tajikistan flag"></i>\n					<i class="tokelau flag"></i>\n					<i class="timorleste flag"></i>\n					<i class="turkmenistan flag"></i>\n					<i class="tunisia flag"></i>\n					<i class="tonga flag"></i>\n					<i class="turkey flag"></i>\n					<i class="trinidad flag"></i>\n					<i class="tuvalu flag"></i>\n					<i class="taiwan flag"></i>\n					<i class="tanzania flag"></i>\n					<i class="ukraine flag"></i>\n					<i class="uganda flag"></i>\n					<i class="us minor islands flag"></i>\n					<i class="united states flag"></i>\n					<i class="uruguay flag"></i>\n					<i class="uzbekistan flag"></i>\n					<i class="vatican city flag"></i>\n					<i class="saint vincent flag"></i>\n					<i class="venezuela flag"></i>\n					<i class="british virgin islands flag"></i>\n					<i class="us virgin islands flag"></i>\n					<i class="vietnam flag"></i>\n					<i class="vanuatu flag"></i>\n					<i class="wallis and futuna flag"></i>\n					<i class="samoa flag"></i>\n					<i class="yemen flag"></i>\n					<i class="mayotte flag"></i>\n					<i class="south africa flag"></i>\n					<i class="zambia flag"></i>\n					<i class="zimbabwe flag"></i>\n				</div>\n			</div>\n\n\n			<!--Header-->\n			<h4 class="ui dividing header">\n				Header\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui two column grid">\n\n					<div class="column">\n						<h1 class="ui header">H1</h1>\n\n						<h2 class="ui header">H2</h2>\n\n						<h3 class="ui header">H3</h3>\n						<h4 class="ui header">H4</h4>\n						<h5 class="ui header">H5</h5>\n\n						<div class="ui icon header">\n							<i class="settings icon"></i>\n\n							<div class="content">\n								Icon Header\n								<div class="sub header">Sub-header</div>\n							</div>\n						</div>\n\n						<div class="ui header">\n							<i class="settings icon"></i>\n\n							<div class="content">\n								Header\n								<div class="sub header">Sub-header</div>\n							</div>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui block header">\n							<i class="settings icon"></i>\n\n							<div class="content">\n								Block\n								<div class="sub header">Sub-header</div>\n							</div>\n						</div>\n\n						<div class="ui dividing header">\n							<i class="settings icon"></i>\n\n							<div class="content">\n								Dividing\n								<div class="sub header">Sub-header</div>\n							</div>\n						</div>\n\n						<div class="ui teal dividing header">\n							<i class="settings icon"></i>\n\n							<div class="content">\n								Color\n								<div class="sub header">Sub-header</div>\n							</div>\n						</div>\n\n						<div class="ui top attached header">Attached</div>\n						<div class="ui attached segment"></div>\n						<div class="ui bottom attached header">Attached</div>\n					</div>\n				</div>\n			</div>\n\n\n			<!--Icon-->\n			<h4 class="ui dividing header">\n				Icon\n			</h4>\n\n			<div class="ui segment">\n				<div class="icons">\n					<div class="demo icons">\n						<i class="search icon"></i>\n						<i class="mail outline icon"></i>\n						<i class="external icon"></i>\n						<i class="wifi icon"></i>\n						<i class="setting icon"></i>\n						<i class="home icon"></i>\n						<i class="inbox icon"></i>\n						<i class="browser icon"></i>\n						<i class="tag icon"></i>\n						<i class="tags icon"></i>\n						<i class="calendar icon"></i>\n						<i class="comment icon"></i>\n						<i class="comments icon"></i>\n						<i class="shop icon"></i>\n						<i class="privacy icon"></i>\n						<i class="settings icon"></i>\n						<i class="trophy icon"></i>\n						<i class="payment icon"></i>\n						<i class="feed icon"></i>\n						<i class="alarm outline icon"></i>\n						<i class="tasks icon"></i>\n						<i class="cloud icon"></i>\n						<i class="lab icon"></i>\n						<i class="mail icon"></i>\n						<i class="idea icon"></i>\n						<i class="dashboard icon"></i>\n						<i class="sitemap icon"></i>\n						<i class="alarm icon"></i>\n						<i class="terminal icon"></i>\n						<i class="code icon"></i>\n						<i class="protect icon"></i>\n						<i class="calendar outline icon"></i>\n						<i class="ticket icon"></i>\n						<i class="external square icon"></i>\n						<i class="map icon"></i>\n						<i class="bug icon"></i>\n						<i class="mail square icon"></i>\n						<i class="history icon"></i>\n						<i class="options icon"></i>\n						<i class="comment outline icon"></i>\n						<i class="comments outline icon"></i>\n						<i class="download icon"></i>\n						<i class="repeat icon"></i>\n						<i class="refresh icon"></i>\n						<i class="lock icon"></i>\n						<i class="bookmark icon"></i>\n						<i class="print icon"></i>\n						<i class="write icon"></i>\n						<i class="theme icon"></i>\n						<i class="adjust icon"></i>\n						<i class="edit icon"></i>\n						<i class="external share icon"></i>\n						<i class="ban icon"></i>\n						<i class="mail forward icon"></i>\n						<i class="share icon"></i>\n						<i class="expand icon"></i>\n						<i class="compress icon"></i>\n						<i class="unhide icon"></i>\n						<i class="hide icon"></i>\n						<i class="random icon"></i>\n						<i class="retweet icon"></i>\n						<i class="sign out icon"></i>\n						<i class="pin icon"></i>\n						<i class="sign in icon"></i>\n						<i class="upload icon"></i>\n						<i class="call icon"></i>\n						<i class="call square icon"></i>\n						<i class="remove bookmark icon"></i>\n						<i class="unlock icon"></i>\n						<i class="configure icon"></i>\n						<i class="filter icon"></i>\n						<i class="wizard icon"></i>\n						<i class="undo icon"></i>\n						<i class="exchange icon"></i>\n						<i class="cloud download icon"></i>\n						<i class="cloud upload icon"></i>\n						<i class="reply icon"></i>\n						<i class="reply all icon"></i>\n						<i class="erase icon"></i>\n						<i class="unlock alternate icon"></i>\n						<i class="archive icon"></i>\n						<i class="translate icon"></i>\n						<i class="recycle icon"></i>\n						<i class="send icon"></i>\n						<i class="send outline icon"></i>\n						<i class="share alternate icon"></i>\n						<i class="share alternate square icon"></i>\n						<i class="wait icon"></i>\n						<i class="write square icon"></i>\n						<i class="share square icon"></i>\n						<i class="help circle icon"></i>\n						<i class="info circle icon"></i>\n						<i class="warning icon"></i>\n						<i class="warning circle icon"></i>\n						<i class="warning sign icon"></i>\n						<i class="help icon"></i>\n						<i class="info icon"></i>\n						<i class="announcement icon"></i>\n						<i class="users icon"></i>\n						<i class="doctor icon"></i>\n						<i class="female icon"></i>\n						<i class="male icon"></i>\n						<i class="child icon"></i>\n						<i class="user icon"></i>\n						<i class="handicap icon"></i>\n						<i class="student icon"></i>\n						<i class="grid layout icon"></i>\n						<i class="list layout icon"></i>\n						<i class="block layout icon"></i>\n						<i class="zoom icon"></i>\n						<i class="zoom out icon"></i>\n						<i class="resize vertical icon"></i>\n						<i class="resize horizontal icon"></i>\n						<i class="maximize icon"></i>\n						<i class="crop icon"></i>\n						<i class="cocktail icon"></i>\n						<i class="road icon"></i>\n						<i class="flag icon"></i>\n						<i class="book icon"></i>\n						<i class="gift icon"></i>\n						<i class="leaf icon"></i>\n						<i class="fire icon"></i>\n						<i class="plane icon"></i>\n						<i class="magnet icon"></i>\n						<i class="legal icon"></i>\n						<i class="lemon icon"></i>\n						<i class="world icon"></i>\n						<i class="travel icon"></i>\n						<i class="shipping icon"></i>\n						<i class="money icon"></i>\n						<i class="lightning icon"></i>\n						<i class="rain icon"></i>\n						<i class="treatment icon"></i>\n						<i class="suitcase icon"></i>\n						<i class="bar icon"></i>\n						<i class="flag outline icon"></i>\n						<i class="flag checkered icon"></i>\n						<i class="puzzle icon"></i>\n						<i class="fire extinguisher icon"></i>\n						<i class="rocket icon"></i>\n						<i class="anchor icon"></i>\n						<i class="bullseye icon"></i>\n						<i class="sun icon"></i>\n						<i class="moon icon"></i>\n						<i class="fax icon"></i>\n						<i class="life ring icon"></i>\n						<i class="bomb icon"></i>\n						<i class="crosshairs icon"></i>\n						<i class="asterisk icon"></i>\n						<i class="certificate icon"></i>\n						<i class="circle icon"></i>\n						<i class="quote left icon"></i>\n						<i class="quote right icon"></i>\n						<i class="ellipsis horizontal icon"></i>\n						<i class="ellipsis vertical icon"></i>\n						<i class="cube icon"></i>\n						<i class="cubes icon"></i>\n						<i class="circle notched icon"></i>\n						<i class="circle thin icon"></i>\n						<i class="checkmark icon"></i>\n						<i class="remove icon"></i>\n						<i class="checkmark box icon"></i>\n						<i class="move icon"></i>\n						<i class="add circle icon"></i>\n						<i class="minus circle icon"></i>\n						<i class="remove circle icon"></i>\n						<i class="check circle icon"></i>\n						<i class="remove circle outline icon"></i>\n						<i class="check circle outline icon"></i>\n						<i class="plus icon"></i>\n						<i class="minus icon"></i>\n						<i class="add square icon"></i>\n						<i class="radio icon"></i>\n						<i class="selected radio icon"></i>\n						<i class="minus square icon"></i>\n						<i class="minus square outline icon"></i>\n						<i class="check square icon"></i>\n						<i class="plus square outline icon"></i>\n						<i class="film icon"></i>\n						<i class="sound icon"></i>\n						<i class="photo icon"></i>\n						<i class="bar chart icon"></i>\n						<i class="camera retro icon"></i>\n						<i class="arrow circle outline down icon"></i>\n						<i class="arrow circle outline up icon"></i>\n						<i class="chevron left icon"></i>\n						<i class="chevron right icon"></i>\n						<i class="arrow left icon"></i>\n						<i class="arrow right icon"></i>\n						<i class="arrow up icon"></i>\n						<i class="arrow down icon"></i>\n						<i class="chevron up icon"></i>\n						<i class="chevron down icon"></i>\n						<i class="pointing right icon"></i>\n						<i class="pointing left icon"></i>\n						<i class="pointing up icon"></i>\n						<i class="pointing down icon"></i>\n						<i class="arrow circle left icon"></i>\n						<i class="arrow circle right icon"></i>\n						<i class="arrow circle up icon"></i>\n						<i class="arrow circle down icon"></i>\n						<i class="caret down icon"></i>\n						<i class="caret up icon"></i>\n						<i class="caret left icon"></i>\n						<i class="caret right icon"></i>\n						<i class="angle double left icon"></i>\n						<i class="angle double right icon"></i>\n						<i class="angle double up icon"></i>\n						<i class="angle double down icon"></i>\n						<i class="angle left icon"></i>\n						<i class="angle right icon"></i>\n						<i class="angle up icon"></i>\n						<i class="angle down icon"></i>\n						<i class="chevron circle left icon"></i>\n						<i class="chevron circle right icon"></i>\n						<i class="chevron circle up icon"></i>\n						<i class="chevron circle down icon"></i>\n						<i class="toggle down icon"></i>\n						<i class="toggle up icon"></i>\n						<i class="toggle right icon"></i>\n						<i class="long arrow down icon"></i>\n						<i class="long arrow up icon"></i>\n						<i class="long arrow left icon"></i>\n						<i class="long arrow right icon"></i>\n						<i class="arrow circle outline right icon"></i>\n						<i class="arrow circle outline left icon"></i>\n						<i class="toggle left icon"></i>\n						<i class="power icon"></i>\n						<i class="trash icon"></i>\n						<i class="disk outline icon"></i>\n						<i class="desktop icon"></i>\n						<i class="laptop icon"></i>\n						<i class="tablet icon"></i>\n						<i class="mobile icon"></i>\n						<i class="game icon"></i>\n						<i class="keyboard icon"></i>\n						<i class="folder icon"></i>\n						<i class="folder open icon"></i>\n						<i class="level up icon"></i>\n						<i class="level down icon"></i>\n						<i class="file icon"></i>\n						<i class="file outline icon"></i>\n						<i class="file text icon"></i>\n						<i class="file text outline icon"></i>\n						<i class="folder outline icon"></i>\n						<i class="folder open outline icon"></i>\n						<i class="file pdf outline icon"></i>\n						<i class="file word outline icon"></i>\n						<i class="file excel outline icon"></i>\n						<i class="file powerpoint outline icon"></i>\n						<i class="file image outline icon"></i>\n						<i class="file archive outline icon"></i>\n						<i class="file audio outline icon"></i>\n						<i class="file video outline icon"></i>\n						<i class="file code outline icon"></i>\n						<i class="barcode icon"></i>\n						<i class="qrcode icon"></i>\n						<i class="fork icon"></i>\n						<i class="html5 icon"></i>\n						<i class="css3 icon"></i>\n						<i class="rss square icon"></i>\n						<i class="openid icon"></i>\n						<i class="database icon"></i>\n						<i class="heart icon"></i>\n						<i class="star icon"></i>\n						<i class="empty star icon"></i>\n						<i class="thumbs outline up icon"></i>\n						<i class="thumbs outline down icon"></i>\n						<i class="star half icon"></i>\n						<i class="empty heart icon"></i>\n						<i class="smile icon"></i>\n						<i class="frown icon"></i>\n						<i class="meh icon"></i>\n						<i class="star half empty icon"></i>\n						<i class="thumbs up icon"></i>\n						<i class="thumbs down icon"></i>\n						<i class="music icon"></i>\n						<i class="video play outline icon"></i>\n						<i class="volume off icon"></i>\n						<i class="volume down icon"></i>\n						<i class="volume up icon"></i>\n						<i class="record icon"></i>\n						<i class="step backward icon"></i>\n						<i class="fast backward icon"></i>\n						<i class="backward icon"></i>\n						<i class="play icon"></i>\n						<i class="pause icon"></i>\n						<i class="stop icon"></i>\n						<i class="forward icon"></i>\n						<i class="fast forward icon"></i>\n						<i class="step forward icon"></i>\n						<i class="eject icon"></i>\n						<i class="unmute icon"></i>\n						<i class="mute icon"></i>\n						<i class="video play icon"></i>\n						<i class="marker icon"></i>\n						<i class="coffee icon"></i>\n						<i class="food icon"></i>\n						<i class="building outline icon"></i>\n						<i class="hospital icon"></i>\n						<i class="emergency icon"></i>\n						<i class="first aid icon"></i>\n						<i class="military icon"></i>\n						<i class="h icon"></i>\n						<i class="location arrow icon"></i>\n						<i class="space shuttle icon"></i>\n						<i class="university icon"></i>\n						<i class="building icon"></i>\n						<i class="paw icon"></i>\n						<i class="spoon icon"></i>\n						<i class="car icon"></i>\n						<i class="taxi icon"></i>\n						<i class="tree icon"></i>\n						<i class="table icon"></i>\n						<i class="columns icon"></i>\n						<i class="sort icon"></i>\n						<i class="sort ascending icon"></i>\n						<i class="sort descending icon"></i>\n						<i class="sort alphabet ascending icon"></i>\n						<i class="sort alphabet descending icon"></i>\n						<i class="sort content ascending icon"></i>\n						<i class="sort content descending icon"></i>\n						<i class="sort numeric ascending icon"></i>\n						<i class="sort numeric descending icon"></i>\n						<i class="font icon"></i>\n						<i class="bold icon"></i>\n						<i class="italic icon"></i>\n						<i class="text height icon"></i>\n						<i class="text width icon"></i>\n						<i class="align left icon"></i>\n						<i class="align center icon"></i>\n						<i class="align right icon"></i>\n						<i class="align justify icon"></i>\n						<i class="list icon"></i>\n						<i class="outdent icon"></i>\n						<i class="indent icon"></i>\n						<i class="linkify icon"></i>\n						<i class="cut icon"></i>\n						<i class="copy icon"></i>\n						<i class="attach icon"></i>\n						<i class="save icon"></i>\n						<i class="content icon"></i>\n						<i class="unordered list icon"></i>\n						<i class="ordered list icon"></i>\n						<i class="strikethrough icon"></i>\n						<i class="underline icon"></i>\n						<i class="paste icon"></i>\n						<i class="unlink icon"></i>\n						<i class="superscript icon"></i>\n						<i class="subscript icon"></i>\n						<i class="header icon"></i>\n						<i class="paragraph icon"></i>\n						<i class="euro icon"></i>\n						<i class="pound icon"></i>\n						<i class="dollar icon"></i>\n						<i class="rupee icon"></i>\n						<i class="yen icon"></i>\n						<i class="ruble icon"></i>\n						<i class="won icon"></i>\n						<i class="lira icon"></i>\n						<i class="twitter square icon"></i>\n						<i class="facebook square icon"></i>\n						<i class="linkedin square icon"></i>\n						<i class="github square icon"></i>\n						<i class="twitter icon"></i>\n						<i class="facebook icon"></i>\n						<i class="github icon"></i>\n						<i class="pinterest icon"></i>\n						<i class="pinterest square icon"></i>\n						<i class="google plus square icon"></i>\n						<i class="google plus icon"></i>\n						<i class="linkedin icon"></i>\n						<i class="github alternate icon"></i>\n						<i class="maxcdn icon"></i>\n						<i class="bitcoin icon"></i>\n						<i class="youtube square icon"></i>\n						<i class="youtube icon"></i>\n						<i class="xing icon"></i>\n						<i class="xing square icon"></i>\n						<i class="youtube play icon"></i>\n						<i class="dropbox icon"></i>\n						<i class="stack overflow icon"></i>\n						<i class="instagram icon"></i>\n						<i class="flickr icon"></i>\n						<i class="adn icon"></i>\n						<i class="bitbucket icon"></i>\n						<i class="bitbucket square icon"></i>\n						<i class="tumblr icon"></i>\n						<i class="tumblr square icon"></i>\n						<i class="apple icon"></i>\n						<i class="windows icon"></i>\n						<i class="android icon"></i>\n						<i class="linux icon"></i>\n						<i class="dribbble icon"></i>\n						<i class="skype icon"></i>\n						<i class="foursquare icon"></i>\n						<i class="trello icon"></i>\n						<i class="gittip icon"></i>\n						<i class="vk icon"></i>\n						<i class="weibo icon"></i>\n						<i class="renren icon"></i>\n						<i class="pagelines icon"></i>\n						<i class="stack exchange icon"></i>\n						<i class="vimeo icon"></i>\n						<i class="slack icon"></i>\n						<i class="wordpress icon"></i>\n						<i class="yahoo icon"></i>\n						<i class="google icon"></i>\n						<i class="reddit icon"></i>\n						<i class="reddit square icon"></i>\n						<i class="stumbleupon circle icon"></i>\n						<i class="stumbleupon icon"></i>\n						<i class="delicious icon"></i>\n						<i class="digg icon"></i>\n						<i class="pied piper icon"></i>\n						<i class="pied piper alternate icon"></i>\n						<i class="drupal icon"></i>\n						<i class="joomla icon"></i>\n						<i class="behance icon"></i>\n						<i class="behance square icon"></i>\n						<i class="steam icon"></i>\n						<i class="steam square icon"></i>\n						<i class="spotify icon"></i>\n						<i class="deviantart icon"></i>\n						<i class="soundcloud icon"></i>\n						<i class="vine icon"></i>\n						<i class="codepen icon"></i>\n						<i class="jsfiddle icon"></i>\n						<i class="rebel icon"></i>\n						<i class="empire icon"></i>\n						<i class="git square icon"></i>\n						<i class="git icon"></i>\n						<i class="hacker news icon"></i>\n						<i class="tencent weibo icon"></i>\n						<i class="qq icon"></i>\n						<i class="wechat icon"></i>\n						<i class="like icon"></i>\n						<i class="favorite icon"></i>\n						<i class="video icon"></i>\n						<i class="check icon"></i>\n						<i class="remove icon"></i>\n						<i class="close icon"></i>\n						<i class="cancel icon"></i>\n						<i class="delete icon"></i>\n						<i class="x icon"></i>\n						<i class="zoom in icon"></i>\n						<i class="magnify icon"></i>\n						<i class="shutdown icon"></i>\n						<i class="signal icon"></i>\n						<i class="clock icon"></i>\n						<i class="time icon"></i>\n						<i class="play circle outline icon"></i>\n						<i class="clockwise icon"></i>\n						<i class="headphone icon"></i>\n						<i class="volume off icon"></i>\n						<i class="camera icon"></i>\n						<i class="video camera icon"></i>\n						<i class="picture icon"></i>\n						<i class="pencil icon"></i>\n						<i class="compose icon"></i>\n						<i class="point icon"></i>\n						<i class="tint icon"></i>\n						<i class="signup icon"></i>\n						<i class="plus circle icon"></i>\n						<i class="minus circle icon"></i>\n						<i class="dont icon"></i>\n						<i class="minimize icon"></i>\n						<i class="add icon"></i>\n						<i class="eye icon"></i>\n						<i class="attention icon"></i>\n						<i class="cart icon"></i>\n						<i class="plane icon"></i>\n						<i class="shuffle icon"></i>\n						<i class="talk icon"></i>\n						<i class="chat icon"></i>\n						<i class="shopping cart icon"></i>\n						<i class="bar graph icon"></i>\n						<i class="key icon"></i>\n						<i class="privacy icon"></i>\n						<i class="cogs icon"></i>\n						<i class="discussions icon"></i>\n						<i class="like outline icon"></i>\n						<i class="dislike outline icon"></i>\n						<i class="heart outline icon"></i>\n						<i class="log out icon"></i>\n						<i class="thumb tack icon"></i>\n						<i class="winner icon"></i>\n						<i class="bookmark outline icon"></i>\n						<i class="phone square icon"></i>\n						<i class="phone square icon"></i>\n						<i class="credit card icon"></i>\n						<i class="rss icon"></i>\n						<i class="hdd outline icon"></i>\n						<i class="bullhorn icon"></i>\n						<i class="bell icon"></i>\n						<i class="hand outline right icon"></i>\n						<i class="hand outline left icon"></i>\n						<i class="hand outline up icon"></i>\n						<i class="hand outline down icon"></i>\n						<i class="globe icon"></i>\n						<i class="wrench icon"></i>\n						<i class="briefcase icon"></i>\n						<i class="group icon"></i>\n						<i class="flask icon"></i>\n						<i class="sidebar icon"></i>\n						<i class="bars icon"></i>\n						<i class="list ul icon"></i>\n						<i class="list ol icon"></i>\n						<i class="numbered list icon"></i>\n						<i class="magic icon"></i>\n						<i class="truck icon"></i>\n						<i class="currency icon"></i>\n						<i class="triangle down icon"></i>\n						<i class="dropdown icon"></i>\n						<i class="triangle up icon"></i>\n						<i class="triangle left icon"></i>\n						<i class="triangle right icon"></i>\n						<i class="envelope icon"></i>\n						<i class="conversation icon"></i>\n						<i class="lightning icon"></i>\n						<i class="umbrella icon"></i>\n						<i class="lightbulb icon"></i>\n						<i class="suitcase icon"></i>\n						<i class="bell outline icon"></i>\n						<i class="ambulance icon"></i>\n						<i class="medkit icon"></i>\n						<i class="fighter jet icon"></i>\n						<i class="beer icon"></i>\n						<i class="plus square icon"></i>\n						<i class="computer icon"></i>\n						<i class="circle outline icon"></i>\n						<i class="spinner icon"></i>\n						<i class="gamepad icon"></i>\n						<i class="star half full icon"></i>\n						<i class="remove link icon"></i>\n						<i class="question icon"></i>\n						<i class="attention icon"></i>\n						<i class="eraser icon"></i>\n						<i class="microphone icon"></i>\n						<i class="microphone slash icon"></i>\n						<i class="shield icon"></i>\n						<i class="target icon"></i>\n						<i class="play circle icon"></i>\n						<i class="pencil square icon"></i>\n						<i class="compass icon"></i>\n						<i class="eur icon"></i>\n						<i class="gbp icon"></i>\n						<i class="usd icon"></i>\n						<i class="inr icon"></i>\n						<i class="jpy icon"></i>\n						<i class="rub icon"></i>\n						<i class="krw icon"></i>\n						<i class="btc icon"></i>\n						<i class="try icon"></i>\n						<i class="zip icon"></i>\n						<i class="dot circle outline icon"></i>\n						<i class="sliders icon"></i>\n						<i class="graduation icon"></i>\n						<i class="weixin icon"></i>\n					</div>\n\n					<div class="ui divider"></div>\n\n					<i class="circular users icon"></i>\n					<i class="circular inverted users icon"></i>\n					<i class="circular settings icon"></i>\n					<i class="circular settings icon"></i>\n					<i class="bordered users icon"></i>\n					<i class="bordered inverted black users icon"></i>\n					<i class="spinner loading icon"></i>\n					<i class="notched circle loading icon"></i>\n					<i class="circular teal users icon"></i>\n					<i class="circular inverted teal users icon"></i>\n					<i class="bordered teal users icon"></i>\n					<i class="bordered inverted teal users icon"></i>\n					<i class="small settings icon"></i>\n					<i class="settings icon"></i>\n					<i class="large settings icon"></i>\n					<i class="big settings icon"></i>\n					<i class="huge settings icon"></i>\n					<i class="massive settings icon"></i>\n\n					<style type="text/css">\n						.demo.icons .icon {\n							font-size: 16px;\n							margin: 0em 4px 8px;\n						}\n					</style>\n				</div>\n			</div>\n\n\n			<!--Image-->\n			<h4 class="ui dividing header">\n				Image\n			</h4>\n\n			<div class="ui segment">\n				<img class="ui avatar image" src="assets/images/carbon-ui/square-image.png"> User Avatar\n				<div class="ui ignored hidden divider"></div>\n				<div class="ui small images">\n					<img class="ui image" src="assets/images/carbon-ui/image.png">\n					<img class="ui image" src="assets/images/carbon-ui/image.png">\n					<img class="ui image" src="assets/images/carbon-ui/image.png">\n					<img class="ui image" src="assets/images/carbon-ui/image.png">\n				</div>\n				<div class="ui ignored hidden divider"></div>\n				<img class="ui small circular image" src="assets/images/carbon-ui/square-image.png">\n			</div>\n\n\n			<!--Input-->\n			<h4 class="ui dividing header">\n				Input\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui action left icon input">\n					<i class="search icon"></i>\n					<input type="text" placeholder="Search...">\n\n					<div class="ui teal button">Search</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui corner labeled input">\n					<input type="text" placeholder="Required Field">\n\n					<div class="ui corner label">\n						<i class="asterisk icon"></i>\n					</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui labeled right icon input">\n					<div class="ui label">\n						http://\n					</div>\n					<input type="text" placeholder="domain.com">\n					<i class="add circle link icon"></i>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui labeled input">\n					<a class="ui label">\n						Label\n					</a>\n					<input type="text" placeholder="Placeholder...">\n				</div>\n				<div class="ui hidden divider"></div>\n				<div class="ui right labeled input">\n					<input type="text" placeholder="Placeholder...">\n					<a class="ui label">\n						Label\n					</a>\n				</div>\n			</div>\n\n\n			<!--Label-->\n			<h4 class="ui dividing header">\n				Label\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui image label">\n					<img src="assets/images/carbon-ui/avatar/small/justen.jpg">\n					email@address.com\n					<i class="delete icon"></i>\n				</div>\n				<a class="ui teal image label">\n					Some Name\n					<span class="detail">Group</span>\n				</a>\n				<a class="ui label">\n					<i class="mail icon"></i> Icon\n				</a>\n				<a class="ui tag label">Tag</a>\n\n				<div class="ui empty circular label"></div>\n				<div class="ui black empty circular label"></div>\n				<div class="ui teal empty circular label"></div>\n\n\n				<form class="ui fluid form">\n					<div class="two fields">\n						<div class="field">\n							<input placeholder="First name" type="text">\n\n							<div class="ui pointing label">\n								Pointing Label\n							</div>\n						</div>\n						<div class="field" placeholder="Last Name">\n							<div class="ui pointing below label">\n								Pointing below label\n							</div>\n							<input type="text">\n						</div>\n					</div>\n				</form>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui two item menu">\n					<a class="item">\n						Item\n					</a>\n					<a class="item">\n						Item\n						<div class="floating ui teal label">141</div>\n					</a>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui left floated tiny image">\n					<a class="ui left red corner label">\n						<i class="heart icon"></i>\n					</a>\n					<img src="assets/images/carbon-ui/square-image.png">\n				</div>\n				<div class="ui left floated tiny image">\n					<a class="ui left yellow corner label">\n						<i class="star icon"></i>\n					</a>\n					<img src="assets/images/carbon-ui/square-image.png">\n				</div>\n				<div class="ui left floated tiny image">\n					<a class="ui right corner label">\n						<i class="close icon"></i>\n					</a>\n					<img src="assets/images/carbon-ui/square-image.png">\n				</div>\n\n				<div class="ui hidden clearing divider"></div>\n				<div style="min-height: 8rem;" class="ui segment">\n					<div class="ui top attached label">Top Labeled</div>\n					<div class="ui bottom attached label">Bottom Labeled</div>\n				</div>\n				<div style="min-height: 8rem;" class="ui segment">\n					<div class="ui top left attached label">Top Left</div>\n					<div class="ui top right attached label">Top Right</div>\n					<div class="ui bottom left attached label">Bottom Left</div>\n					<div class="ui bottom right attached label">Bottom Right</div>\n				</div>\n				<div class="ui segment" style="min-height: 8rem;">\n					<a class="ui ribbon label">Ribbon</a>\n				</div>\n			</div>\n\n\n			<!--List-->\n			<h4 class="ui dividing header">\n				List\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui two column relaxed stackable grid">\n					<div class="column">\n						<div class="ui list">\n							<div class="item">\n								<div class="ui top aligned avatar image">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n									<div class="list">\n										<div class="item">\n											<i class="right triangle icon"></i>\n\n											<div class="content">\n												<a class="header">Sub Header</a>\n\n												<div class="description">Sub Description</div>\n											</div>\n										</div>\n										<div class="item">\n											<i class="right triangle icon"></i>\n\n											<div class="content">\n												<a class="header">Sub Header</a>\n\n												<div class="description">Sub Description</div>\n											</div>\n										</div>\n									</div>\n								</div>\n							</div>\n							<div class="item">\n								<div class="ui top aligned avatar image">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n									<div class="list">\n										<div class="item">\n											<i class="right triangle icon"></i>\n\n											<div class="content">\n												<a class="header">Sub Header</a>\n\n												<div class="description">Sub Description</div>\n											</div>\n										</div>\n										<div class="item">\n											<i class="right triangle icon"></i>\n\n											<div class="content">\n												<a class="header">Sub Header</a>\n\n												<div class="description">Sub Description</div>\n											</div>\n										</div>\n									</div>\n								</div>\n							</div>\n						</div>\n\n						<div class="ui divided very relaxed list">\n							<div class="item">\n								<i class="star icon"></i>\n\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n							<div class="item">\n								<i class="star icon"></i>\n\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n							<div class="item">\n								<i class="star icon"></i>\n\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n						</div>\n\n						<div class="ui divided very relaxed animated list">\n							<div class="item">\n								<div class="ui top aligned avatar image">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n							<div class="item">\n								<div class="ui top aligned avatar image">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n							<div class="item">\n								<div class="ui top aligned avatar image">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n						</div>\n\n					</div>\n\n					<div class="column">\n						<div class="ui bulleted link list">\n							<a class="item">Link</a>\n							<a class="item">Link</a>\n							<a class="item">Link</a>\n							<a class="item">Link</a>\n							<a class="item">Link</a>\n						</div>\n\n						<div class="ui selection list">\n							<a class="item">Selection</a>\n							<a class="item">Selection</a>\n							<a class="item">Selection</a>\n							<a class="item">Selection</a>\n							<a class="item">Selection</a>\n						</div>\n\n						<div class="ui bulleted list">\n							<div class="item">\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n								<div class="list">\n									<div class="item">\n										Sub-header\n									</div>\n									<div class="item">\n										Sub-header\n									</div>\n									<div class="item">\n										Sub-header\n									</div>\n								</div>\n							</div>\n							<div class="item">\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n							<div class="item">\n								<div class="content">\n									<div class="header">Header</div>\n									Description\n								</div>\n							</div>\n						</div>\n\n						<div class="ui ordered list">\n							<a class="item">Getting Started</a>\n							<a class="item">Introduction</a>\n\n							<div class="item">\n								<a>Languages</a>\n\n								<div class="list">\n									<a class="item">HTML</a>\n									<a class="item">Javascript</a>\n									<a class="item">CSS</a>\n								</div>\n							</div>\n							<a class="item">Review</a>\n						</div>\n					</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n\n				<div class="ui horizontal list">\n					<div class="item">\n						<div class="ui top aligned avatar image">\n							<img src="assets/images/carbon-ui/square-image.png">\n						</div>\n						<div class="content">\n							<div class="header">Header</div>\n							Description\n						</div>\n					</div>\n					<div class="item">\n						<div class="ui top aligned avatar image">\n							<img src="assets/images/carbon-ui/square-image.png">\n						</div>\n						<div class="content">\n							<div class="header">Header</div>\n							Description\n						</div>\n					</div>\n					<div class="item">\n						<div class="ui top aligned avatar image">\n							<img src="assets/images/carbon-ui/square-image.png">\n						</div>\n						<div class="content">\n							<div class="header">Header</div>\n							Description\n						</div>\n					</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n\n				<div class="ui divided relaxed horizontal list">\n					<div class="item">\n						<div class="ui top aligned avatar image">\n							<img src="assets/images/carbon-ui/square-image.png">\n						</div>\n						<div class="content">\n							<div class="header">Header</div>\n							Description\n						</div>\n					</div>\n					<div class="item">\n						<div class="ui top aligned avatar image">\n							<img src="assets/images/carbon-ui/square-image.png">\n						</div>\n						<div class="content">\n							<div class="header">Header</div>\n							Description\n						</div>\n					</div>\n					<div class="item">\n						<div class="ui top aligned avatar image">\n							<img src="assets/images/carbon-ui/square-image.png">\n						</div>\n						<div class="content">\n							<div class="header">Header</div>\n							Description\n						</div>\n					</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n\n				<div class="ui ordered horizontal list">\n					<div class="item">\n						<img class="ui avatar image" src="assets/images/carbon-ui/square-image.png">\n\n						<div class="content">\n							<div class="header">Steve Jobes</div>\n							50 Points\n						</div>\n					</div>\n					<div class="item">\n						<img class="ui avatar image" src="assets/images/carbon-ui/square-image.png">\n\n						<div class="content">\n							<div class="header">Stevie Feliciano</div>\n							44 Points\n						</div>\n					</div>\n					<div class="item">\n						<img class="ui avatar image" src="assets/images/carbon-ui/square-image.png">\n\n						<div class="content">\n							<div class="header">Jenny Hess</div>\n							11 Points\n						</div>\n					</div>\n				</div>\n			</div>\n\n\n			<!--Loader-->\n			<h4 class="ui dividing header">\n				Loader\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui four column stackable doubling grid">\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui mini loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui small loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui large loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n				</div>\n				<div class="ui four column stackable doubling grid">\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui mini text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui small text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui large text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n				</div>\n				<div class="ui four column stackable doubling grid">\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui mini loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui small loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active dimmer">\n								<div class="ui large loader"></div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n				</div>\n				<div class="ui four column stackable doubling grid">\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui mini text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui small text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui segment">\n							<div class="ui active inverted dimmer">\n								<div class="ui large text loader">\n									Loading\n								</div>\n							</div>\n							<br><br>\n							<br><br>\n							<br><br>\n						</div>\n					</div>\n				</div>\n\n				<div class="ui hidden clearing divider"></div>\n\n				<div class="ui segment">\n					<div class="ui active inverted dimmer">\n						<div class="ui indeterminate text active loader">\n							Preparing...\n						</div>\n					</div>\n					<br><br>\n					<br><br>\n					<br><br>\n				</div>\n\n				<div class="ui segment">\n					<div class="ui active dimmer">\n						<div class="ui indeterminate active loader"></div>\n					</div>\n					<br><br>\n					<br><br>\n					<br><br>\n				</div>\n\n			</div>\n\n\n			<!--Reveal-->\n			<h4 class="ui dividing header">\n				Reveal\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui slide down instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/ade.jpg" class="ui small bordered image">\n					</div>\n				</div>\n				<div class="ui slide up instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/chris.jpg" class="ui small bordered image">\n					</div>\n				</div>\n				<div class="ui slide left instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/christian.jpg" class="ui small bordered image">\n					</div>\n				</div>\n				<div class="ui slide right instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/daniel.jpg" class="ui small bordered image">\n					</div>\n				</div>\n\n				<div class="ui move down masked instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/elliot.jpg" class="ui small bordered image">\n					</div>\n				</div>\n				<div class="ui move up masked instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/helen.jpg" class="ui small bordered image">\n					</div>\n				</div>\n				<div class="ui move left masked instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/jenny.jpg" class="ui small bordered image">\n					</div>\n				</div>\n				<div class="ui move right masked instant reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/joe.jpg" class="ui small bordered image">\n					</div>\n				</div>\n\n				<div class="ui rotate left reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered circular image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/justen.jpg" class="ui small bordered circular image">\n					</div>\n				</div>\n				<div class="ui rotate reveal">\n					<div class="visible content">\n						<img src="assets/images/carbon-ui/white-image.png" class="ui small bordered circular image">\n					</div>\n					<div class="hidden content">\n						<img src="assets/images/carbon-ui/avatar/large/laura.jpg" class="ui small bordered circular image">\n					</div>\n				</div>\n\n			</div>\n\n\n			<!--Segment-->\n			<h4 class="ui dividing header">\n				Segment\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui piled segment"></div>\n				<div class="ui stacked segment"></div>\n				<div class="ui raised segment"></div>\n				<div class="ui secondary segment"></div>\n				<div class="ui tertiary segment"></div>\n				<div class="ui compact stacked segment"></div>\n				<div class="ui top attached segment"></div>\n				<div class="ui attached segment"></div>\n				<div class="ui bottom attached segment"></div>\n			</div>\n\n\n			<!--Step-->\n			<h4 class="ui dividing header">\n				Step\n			</h4>\n\n			<div class="ui segment">\n				<div class="ui steps">\n					<a class="step">\n						<div class="content">\n							<div class="title">Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n					<a class="active step">\n						<div class="content">\n							<div class="title">Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n				</div>\n				<div class="ui hidden divider"></div>\n				<div class="ui ordered vertical steps">\n					<a class="step">\n						<div class="content">\n							<div class="title">Previous Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n					<a class="active step">\n						<div class="content">\n							<div class="title">Active Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n					<a class="disabled step">\n						<div class="content">\n							<div class="title">Disabled Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n				</div>\n\n				<div class="ui hidden divider"></div>\n\n				<div class="ui vertical steps">\n					<a class="completed step">\n						<i class="truck icon"></i>\n\n						<div class="content">\n							<div class="title">Previous Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n					<a class="active step">\n						<i class="payment icon"></i>\n\n						<div class="content">\n							<div class="title">Active Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n					<a class="disabled step">\n						<i class="info icon"></i>\n\n						<div class="content">\n							<div class="title">Disabled Step</div>\n							<div class="description">Description</div>\n						</div>\n					</a>\n				</div>\n\n			</div>\n		</div>\n		<div class="ui tab" data-tab="collections">\n			<h2 class="ui dividing header">\n				Collections\n				<a class="anchor" id="collections"></a>\n			</h2>\n\n\n			<!--Breadcrumb-->\n			<h3 class="ui dividing header">\n				Breadcrumb\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui large breadcrumb">\n					<a class="section">Home</a>\n\n					<div class="divider"> /</div>\n					<a class="section">Store</a>\n\n					<div class="divider"> /</div>\n					<div class="active section">T-Shirt</div>\n				</div>\n				<div class="ui hidden divider"></div>\n				<div class="ui large breadcrumb">\n					<a class="section">Home</a>\n					<i class="right chevron icon divider"></i>\n					<a class="section">Registration</a>\n					<i class="right chevron icon divider"></i>\n\n					<div class="active section">Personal Information</div>\n				</div>\n			</div>\n\n\n			<!--Form-->\n			<h3 class="ui dividing header">\n				Form\n			</h3>\n\n			<div class="ui basic segment">\n				<div class="ui form segment">\n					<div class="two fields">\n						<div class="field">\n							<label>Selection Dropdown</label>\n\n							<div class="ui selection dropdown" tabindex="0">\n								<div class="default text">Select</div>\n								<i class="dropdown icon"></i>\n								<input name="hidden-field" type="hidden">\n\n								<div class="menu" tabindex="-1">\n									<div class="item" data-value="1">Choice 1</div>\n									<div class="item" data-value="2">Choice 2</div>\n								</div>\n							</div>\n						</div>\n						<div class="field">\n							<label>HTML Select</label>\n							<select>\n								<option value="">Select</option>\n								<option value="1">1</option>\n								<option value="2">2</option>\n							</select>\n						</div>\n					</div>\n					<div class="field">\n						<label>Text Area</label>\n						<textarea></textarea>\n					</div>\n					<div class="three required fields">\n						<div class="field">\n							<label>Required Input</label>\n							<input placeholder="Text Input" type="text">\n						</div>\n						<div class="field">\n							<label>Required Input</label>\n							<input placeholder="Text Input" type="text">\n						</div>\n						<div class="disabled field">\n							<label>Disabled Input</label>\n							<input placeholder="Text Input" disabled="disabled" type="text">\n						</div>\n					</div>\n					<div class="grouped fields">\n						<label>Radio Selection</label>\n\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" checked="checked" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n					</div>\n					<div class="field">\n						<label>Password</label>\n\n						<div class="ui left icon input">\n							<i class="lock icon"></i>\n							<input type="password">\n						</div>\n					</div>\n					<div class="inline field">\n						<div class="ui checkbox">\n							<input type="checkbox" tabindex="0" class="hidden">\n							<label>Checkbox</label>\n						</div>\n					</div>\n					<div class="grouped inline fields">\n						<label>Inline Radio Selection</label>\n\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" checked="checked" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>Radio Option</label>\n							</div>\n						</div>\n					</div>\n					<div class="inline fields">\n						<div class="field">\n							<label>Multiple Inline Fields</label>\n							<input placeholder="(xxx)" type="text">\n						</div>\n						<div class="field">\n							<input placeholder="xxx" type="text">\n						</div>\n						<div class="field">\n							<input placeholder="xxxx" type="text">\n						</div>\n					</div>\n					<div class="inline field">\n						<label>Inline Field</label>\n						<input placeholder="Text Input" type="text">\n					</div>\n					<h4 class="ui header">Sub-header</h4>\n\n					<div class="field">\n						<div class="ui toggle checkbox">\n							<input name="privacy" type="radio" tabindex="0" class="hidden">\n							<label>Toggle</label>\n						</div>\n					</div>\n					<div class="field">\n						<div class="ui slider checkbox">\n							<input name="top-posts" type="checkbox" tabindex="0" class="hidden">\n							<label>Option</label>\n						</div>\n					</div>\n					<div class="ui submit button">Submit</div>\n				</div>\n\n				<div class="ui warning form segment">\n					<div class="ui warning message">\n						<div class="header">Warning Message</div>\n						<ul class="list">\n							<li>Problem #1</li>\n							<li>Problem #2</li>\n						</ul>\n					</div>\n					<div class="two fields">\n						<div class="field">\n							<label>Input</label>\n							<input placeholder="Text Input" type="text">\n						</div>\n						<div class="field">\n							<label>Input</label>\n							<input placeholder="Text Input" type="text">\n						</div>\n					</div>\n					<div class="ui submit button">Submit</div>\n				</div>\n				<div class="ui error form segment">\n					<div class="ui error message">\n						<div class="header">Error Message</div>\n						<p>Error message long description</p>\n					</div>\n					<div class="two fields">\n						<div class="field error">\n							<label>Errored Input</label>\n							<input placeholder="Text Input" type="text">\n						</div>\n						<div class="field error">\n							<label>Errored Input</label>\n							<input placeholder="Text Input" type="text">\n						</div>\n					</div>\n					<div class="ui submit button">Submit</div>\n				</div>\n			</div>\n\n\n			<!--Grid-->\n			<h3 class="ui dividing header">\n				Grid\n			</h3>\n\n			<div class="ui segment">\n				<div class="shaded grid examples">\n\n					<div class="ui grid">\n						<div class="sixteen column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="fifteen column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="fourteen column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="thirteen column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="twelve column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="eleven column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="ten column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="nine column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="eight column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="seven column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="six column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="five column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="four column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="three column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="two column row">\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="one column row">\n							<div class="column"></div>\n						</div>\n					</div>\n\n					<div class="ui grid">\n						<div class="row">\n							<div class="one wide column"></div>\n							<div class="fifteen wide column"></div>\n						</div>\n						<div class="row">\n							<div class="two wide column"></div>\n							<div class="fourteen wide column"></div>\n						</div>\n						<div class="row">\n							<div class="three wide column"></div>\n							<div class="thirteen wide column"></div>\n						</div>\n						<div class="row">\n							<div class="four wide column"></div>\n							<div class="twelve wide column"></div>\n						</div>\n						<div class="row">\n							<div class="five wide column"></div>\n							<div class="eleven wide column"></div>\n						</div>\n						<div class="row">\n							<div class="six wide column"></div>\n							<div class="ten wide column"></div>\n						</div>\n						<div class="row">\n							<div class="seven wide column"></div>\n							<div class="nine wide column"></div>\n						</div>\n						<div class="row">\n							<div class="eight wide column"></div>\n							<div class="eight wide column"></div>\n						</div>\n						<div class="row">\n							<div class="nine wide column"></div>\n							<div class="seven wide column"></div>\n						</div>\n						<div class="row">\n							<div class="ten wide column"></div>\n							<div class="six wide column"></div>\n						</div>\n						<div class="row">\n							<div class="eleven wide column"></div>\n							<div class="five wide column"></div>\n						</div>\n						<div class="row">\n							<div class="twelve wide column"></div>\n							<div class="four wide column"></div>\n						</div>\n						<div class="row">\n							<div class="thirteen wide column"></div>\n							<div class="three wide column"></div>\n						</div>\n						<div class="row">\n							<div class="fourteen wide column"></div>\n							<div class="two wide column"></div>\n						</div>\n						<div class="row">\n							<div class="fifteen wide column"></div>\n							<div class="one wide column"></div>\n						</div>\n					</div>\n\n					<div class="ui relaxed grid">\n						<div class="eight column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="seven column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="six column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="five column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="four column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="three column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="two column row">\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="one column row">\n							<div class="column"></div>\n						</div>\n					</div>\n\n					<div class="ui very relaxed grid">\n						<div class="eight column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="seven column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="six column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="five column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="four column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="three column row">\n							<div class="column"></div>\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="two column row">\n							<div class="column"></div>\n							<div class="column"></div>\n						</div>\n						<div class="one column row">\n							<div class="column"></div>\n						</div>\n					</div>\n\n				</div>\n\n				<div class="ui clearing section divider"></div>\n\n				<div class="nested grid examples">\n\n					<div class="ui padded grid">\n						<div class="two column row">\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n						</div>\n						<div class="three column row">\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n						</div>\n						<div class="four column row">\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n						</div>\n						<div class="five column row">\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n						</div>\n						<div class="six column row">\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n							<div class="column">\n								<div class="ui two column grid">\n									<div class="column"></div>\n									<div class="column"></div>\n								</div>\n							</div>\n						</div>\n					</div>\n\n				</div>\n\n				<style type="text/css">\n\n					/* Shaded */\n					.demo .grid.shaded.examples .row {\n						position: relative;\n					}\n\n					.demo .grid.shaded.examples .grid > .column {\n						position: relative;\n						z-index: 11;\n					}\n\n					.demo .grid.shaded.examples .grid .column:not(.row):after {\n						background-color: #AAAAAA;\n						content: "";\n						display: block;\n						min-height: 1em;\n					}\n\n					.demo .grid.divided.examples .grid .column:not(.row):after {\n						background-color: rgba(0, 0, 0, 0.1);\n						content: "";\n						display: block;\n						min-height: 1em;\n					}\n\n					.demo .grid.nested.examples .grid .grid {\n						box-shadow: 0px 0px 0px 1px #F0F0F0 inset;\n					}\n\n					.demo .grid.nested.examples .grid .grid .column:after {\n						background-color: #AAAAAA;\n						content: "";\n						display: block;\n						min-height: 1em;\n					}\n\n					.demo .grid.simple.examples .grid .column:not(.row):not(.grid):after {\n						content: "";\n						display: block;\n						min-height: 50px;\n					}\n\n					/* Animation */\n					.demo .grid.examples {\n						margin: 0em !important;\n						padding: 0em !important;\n					}\n\n				</style>\n			</div>\n\n\n			<!--Menu-->\n			<h3 class="ui dividing header">\n				Menu\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui three item menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n					</a>\n					<a class="item">\n						C\n					</a>\n				</div>\n				<div class="ui vertical demo menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n						<div class="ui label">1</div>\n					</a>\n\n					<div class="item">\n						<div class="ui transparent icon input">\n							<input type="text" placeholder="Search...">\n							<i class="search icon"></i>\n						</div>\n					</div>\n				</div>\n				<div class="ui tabular menu">\n					<a class="active item">\n						Tab\n					</a>\n					<a class="item">\n						Tab\n					</a>\n				</div>\n				<div class="ui text demo menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n					</a>\n					<a class="item">\n						C\n					</a>\n				</div>\n				<div class="ui secondary demo menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n					</a>\n					<a class="item">\n						C\n					</a>\n				</div>\n				<div class="ui secondary pointing three item demo menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n					</a>\n					<a class="item">\n						C\n					</a>\n				</div>\n				<div class="ui secondary vertical demo menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n					</a>\n					<a class="item">\n						C\n					</a>\n				</div>\n				<div class="ui secondary pointing vertical demo menu">\n					<a class="active item">\n						A\n					</a>\n					<a class="item">\n						B\n					</a>\n					<a class="item">\n						C\n					</a>\n				</div>\n\n\n			</div>\n\n\n			<!--Message-->\n			<h3 class="ui dividing header">\n				Message\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui message">\n					<i class="close icon"></i>\n					Closable message\n				</div>\n				<div class="ui warning icon message">\n					<div class="content">\n						<div class="header">Warning Message</div>\n						<ul class="list">\n							<li>List item</li>\n							<li>List item</li>\n						</ul>\n					</div>\n				</div>\n				<div class="ui message">\n					<div class="header">\n						List Message\n					</div>\n					<ul class="list">\n						<li>List item 1</li>\n						<li>List item 2</li>\n						<li>List item 3</li>\n					</ul>\n				</div>\n				<div class="ui info message">\n					<div class="header">Info Message</div>\n					<p>Example description</p>\n				</div>\n				<div class="ui success message">\n					<div class="content">\n						<div class="header">Positive Message</div>\n						<p>Example description</p>\n					</div>\n				</div>\n				<div class="ui icon error message">\n					<i class="attention circle icon"></i>\n\n					<div class="content">\n						<div class="header">Negative Message</div>\n						<p>Example description</p>\n					</div>\n				</div>\n				<div class="ui top attached message">\n					Top attached\n				</div>\n				<div class="ui bottom attached message">\n					Bottom attached\n				</div>\n\n\n			</div>\n\n\n			<!--Table-->\n			<h3 class="ui dividing header">\n				Table\n			</h3>\n\n			<div class="ui segment">\n				<table class="ui celled striped table">\n					<thead>\n						<tr>\n							<th colspan="3">\n								Files\n							</th>\n						</tr>\n					</thead>\n					<tbody>\n						<tr>\n							<td class="disabled">\n								<i class="folder icon"></i> folder\n							</td>\n							<td>Comment</td>\n							<td class="right aligned collapsing">10 hours ago</td>\n						</tr>\n						<tr>\n							<td>\n								<i class="folder icon"></i> folder2\n							</td>\n							<td>Comment</td>\n							<td class="right aligned">10 hours ago</td>\n						</tr>\n						<tr>\n							<td>\n								<i class="folder icon"></i> folder3\n							</td>\n							<td>Comment</td>\n							<td class="right aligned">10 hours ago</td>\n						</tr>\n						<tr>\n							<td class="collapsing">\n								<i class="file outline icon"></i> package.json\n							</td>\n							<td>Comment</td>\n							<td class="right aligned">10 hours ago</td>\n						</tr>\n						<tr>\n							<td>\n								<i class="file outline icon"></i> Gruntfile.js\n							</td>\n							<td>Comment</td>\n							<td class="right aligned">10 hours ago</td>\n						</tr>\n					</tbody>\n				</table>\n\n				<table class="ui definition table">\n					<thead>\n						<tr>\n							<th></th>\n							<th>Header 1</th>\n							<th>Header 2</th>\n						</tr>\n					</thead>\n					<tbody>\n						<tr>\n							<td>Definition</td>\n							<td>1A</td>\n							<td>1B</td>\n						</tr>\n						<tr>\n							<td>Definition</td>\n							<td>2A</td>\n							<td>2B</td>\n						</tr>\n					</tbody>\n				</table>\n\n				<table class="ui compact celled definition table">\n					<thead>\n						<tr>\n							<th></th>\n							<th>Name</th>\n							<th>Registration Date</th>\n							<th>E-mail address</th>\n							<th>Premium Plan</th>\n						</tr>\n					</thead>\n					<tbody>\n						<tr>\n							<td class="collapsing">\n								<div class="ui fitted slider checkbox">\n									<input type="checkbox" tabindex="0" class="hidden"> <label></label>\n								</div>\n							</td>\n							<td></td>\n							<td></td>\n							<td></td>\n							<td></td>\n						</tr>\n						<tr>\n							<td class="collapsing">\n								<div class="ui fitted slider checkbox">\n									<input type="checkbox" tabindex="0" class="hidden"> <label></label>\n								</div>\n							</td>\n							<td></td>\n							<td></td>\n							<td></td>\n							<td></td>\n						</tr>\n						<tr>\n							<td class="collapsing">\n								<div class="ui fitted slider checkbox">\n									<input type="checkbox" tabindex="0" class="hidden"> <label></label>\n								</div>\n							</td>\n							<td></td>\n							<td></td>\n							<td></td>\n							<td></td>\n						</tr>\n					</tbody>\n					<tfoot class="full-width">\n						<tr>\n							<th></th>\n							<th colspan="4">\n								<div class="ui right floated small primary labeled icon button">\n									<i class="user icon"></i> Primary\n								</div>\n								<div class="ui small button">\n									Button\n								</div>\n								<div class="ui small disabled button">\n									Disabled\n								</div>\n							</th>\n						</tr>\n					</tfoot>\n				</table>\n\n				<table class="ui celled table">\n					<thead>\n						<tr>\n							<th>Name</th>\n							<th>Status</th>\n							<th>Notes</th>\n						</tr>\n					</thead>\n					<tbody>\n						<tr>\n							<td>User 1</td>\n							<td>Value</td>\n							<td>Comment</td>\n						</tr>\n						<tr class="active">\n							<td>User 1</td>\n							<td>Selected</td>\n							<td>Data</td>\n						</tr>\n						<tr class="disabled">\n							<td>User 1</td>\n							<td>Value</td>\n							<td>Comment</td>\n						</tr>\n						<tr>\n							<td class="active">User 2</td>\n							<td>Value</td>\n							<td>Data</td>\n						</tr>\n						<tr>\n							<td>User 1</td>\n							<td>Value</td>\n							<td class="warning">\n								<i class="attention icon"></i>\n								Warning\n							</td>\n						</tr>\n						<tr>\n							<td>User 3</td>\n							<td>Value</td>\n							<td class="negative">Data</td>\n						</tr>\n						<tr>\n							<td>User 1</td>\n							<td>Value</td>\n							<td class="positive">\n								<i class="icon close"></i> Positive\n							</td>\n						</tr>\n						<tr class="warning">\n							<td>User 2</td>\n							<td>\n								<i class="attention icon"></i>\n								Warning\n							</td>\n							<td>Data</td>\n						</tr>\n						<tr class="positive">\n							<td>User 2</td>\n							<td><i class="icon checkmark"></i> Positive</td>\n							<td>Data</td>\n						</tr>\n						<tr class="negative">\n							<td>User 2</td>\n							<td>Value</td>\n							<td>Data</td>\n						</tr>\n					</tbody>\n				</table>\n\n				<table class="ui inverted teal celled striped table">\n					<thead>\n						<tr>\n							<th>Name</th>\n							<th>Status</th>\n							<th>Notes</th>\n						</tr>\n					</thead>\n					<tbody>\n						<tr>\n							<td>User 1</td>\n							<td>Data</td>\n							<td>Data</td>\n						</tr>\n						<tr>\n							<td>User 3</td>\n							<td>Data</td>\n							<td>Data</td>\n						</tr>\n						<tr>\n							<td>User 2</td>\n							<td>Denied</td>\n							<td>Data</td>\n						</tr>\n					</tbody>\n					<tfoot>\n						<tr>\n							<th>Footer</th>\n							<th>Footer</th>\n							<th></th>\n						</tr>\n					</tfoot>\n				</table>\n			</div>\n		</div>\n		<div class="ui tab" data-tab="views">\n			<h2 class="ui dividing header">\n				Views\n				<a class="anchor" id="views"></a>\n			</h2>\n\n\n			<!--Card-->\n			<h3 class="ui dividing header">\n				Card\n			</h3>\n\n			<div class="ui segment">\n				<div class="">\n					<div class="ui card">\n						<div class="image dimmable">\n							<div class="ui dimmer transition hidden">\n								<div class="content">\n									<div class="center">\n										<div class="ui inverted button">Add Friend</div>\n									</div>\n								</div>\n							</div>\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<div class="header">Title</div>\n							<div class="meta">\n								<a class="group">Meta</a>\n							</div>\n							<div class="description">One or two sentence description that may go to several lines</div>\n						</div>\n						<div class="extra content">\n							<a class="right floated created">Arbitrary</a>\n							<a class="friends">\n								Arbitrary</a>\n						</div>\n					</div>\n					<div class="ui card">\n						<div class="content">\n							<div class="header">\n								<img src="assets/images/carbon-ui/square-image.png" class="ui avatar image">\n								Abbreviated Header\n							</div>\n							<div class="description">\n								Short Description\n							</div>\n						</div>\n						<div class="ui two bottom attached buttons">\n							<div class="ui button">\n								Action 1\n							</div>\n							<div class="ui button">\n								Action 2\n							</div>\n						</div>\n					</div>\n					<div class="ui four cards">\n						<div class="card">\n							<div class="image">\n								<a class="ui corner red label"><i class="heart icon"></i></a>\n								<img src="assets/images/carbon-ui/white-image.png">\n							</div>\n						</div>\n						<div class="card">\n							<div class="image">\n								<a class="ui corner red label"><i class="heart icon"></i></a>\n								<img src="assets/images/carbon-ui/white-image.png">\n							</div>\n						</div>\n						<div class="card">\n							<div class="image">\n								<a class="ui corner red label"><i class="heart icon"></i></a>\n								<img src="assets/images/carbon-ui/white-image.png">\n							</div>\n						</div>\n						<div class="card">\n							<div class="image">\n								<a class="ui corner red label"><i class="heart icon"></i></a>\n								<img src="assets/images/carbon-ui/white-image.png">\n							</div>\n						</div>\n					</div>\n					<div class="ui four cards">\n						<div class="card">\n							<div class="image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="extra">\n								<div data-rating="4" class="ui star rating"><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i></div>\n							</div>\n						</div>\n						<div class="card">\n							<div class="image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="extra">\n								<div data-rating="2" class="ui star rating"><i class="icon active"></i><i class="icon active"></i><i class="icon"></i><i class="icon"></i></div>\n							</div>\n						</div>\n						<div class="card">\n							<div class="image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="extra">\n								<div data-rating="3" class="ui star rating"><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i><i class="icon"></i></div>\n							</div>\n						</div>\n						<div class="card">\n							<div class="image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="extra">\n								<div data-rating="4" class="ui star rating"><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i></div>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.demo .star.rating\' )\n								.rating()\n							;\n							$( \'.demo .card .dimmer\' )\n								.dimmer( {\n									on: \'hover\'\n								} )\n							;\n						} )\n					;\n				</script>\n\n			</div>\n\n\n			<!--Feed-->\n			<h3 class="ui dividing header">\n				Feed\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui two column stackable grid">\n					<div class="column">\n						<div class="ui feed">\n							<div class="event">\n								<div class="label">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="summary">\n										<a class="user">\n											Username\n										</a> added you as a friend\n									</div>\n								</div>\n							</div>\n							<div class="event">\n								<div class="label">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									You added Username to the group <a>Group Name</a>\n								</div>\n							</div>\n							<div class="event">\n								<div class="label">\n									<img src="assets/images/carbon-ui/square-image.png">\n								</div>\n								<div class="content">\n									<div class="date">\n										Time period ago\n									</div>\n									<div class="summary">\n										<a>Username</a> added <a>new photos</a>\n									</div>\n									<div class="extra images">\n										<a><img src="assets/images/carbon-ui/image.png"></a>\n									</div>\n									<div class="meta">\n										<a class="like">\n											<i class="like icon"></i> 1 Like\n										</a>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class="column">\n						<div class="ui feed">\n							<div class="event">\n								<div class="label">\n									<i class="pencil icon"></i>\n								</div>\n								<div class="content">\n									<div class="summary">\n										You wrote something\n										<div class="date">\n											Time period ago\n										</div>\n									</div>\n									<div class="extra text">\n										Blockquote\n									</div>\n									<div class="meta">\n										<a>Metadata</a>\n										<a>Metadata</a>\n									</div>\n								</div>\n							</div>\n							<div class="event">\n								<div class="label">\n									<i class="photo icon"></i>\n								</div>\n								<div class="content">\n									<div class="summary">\n										You uploaded a photo\n										<div class="date">\n											Time period ago\n										</div>\n									</div>\n									<div class="meta">\n										<a>Metadata</a>\n										<a>Metadata</a>\n									</div>\n								</div>\n							</div>\n						</div>\n						<div class="ui hidden divider"></div>\n						<div class="ui feed">\n							<div class="event">\n								<div class="content">\n									<div class="summary">\n										<a>Elliot Fu</a> added <a>Jenny Hess</a> as a friend\n									</div>\n								</div>\n							</div>\n							<div class="event">\n								<div class="content">\n									<div class="summary">\n										<a>Stevie Feliciano</a> added <a>Elliot Fu</a> as a friend\n									</div>\n								</div>\n							</div>\n							<div class="event">\n								<div class="content">\n									<div class="summary">\n										<a>Helen Troy</a> added <a>Christian Rocha</a> as a friend\n									</div>\n								</div>\n							</div>\n							<div class="event">\n								<div class="content">\n									<div class="summary">\n										<a>Christian Rocha</a> signed up for the site.\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n\n\n			<!--Item-->\n			<h3 class="ui dividing header">\n				Item\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui relaxed divided items">\n					<div class="item">\n						<div class="ui small image">\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<a class="header">Content Header</a>\n\n							<div class="meta">\n								<a>Date</a>\n								<a>Category</a>\n							</div>\n							<div class="description">\n								A description which may flow for several lines and give context to the content.\n							</div>\n							<div class="extra">\n								<img src="assets/images/carbon-ui/square-image.png" class="ui circular avatar image"> Username\n							</div>\n						</div>\n					</div>\n					<div class="item">\n						<div class="ui small image">\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<a class="header">Content Header</a>\n\n							<div class="meta">\n								<a>Date</a>\n								<a>Category</a>\n							</div>\n							<div class="description">\n								A description which may flow for several lines and give context to the content.\n							</div>\n							<div class="extra">\n								<div class="ui right floated primary button">\n									Primary\n									<i class="right chevron icon"></i>\n								</div>\n								<div class="ui label">Limited</div>\n							</div>\n						</div>\n					</div>\n					<div class="item">\n						<div class="ui small image">\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<a class="header">Content Header</a>\n\n							<div class="meta">\n								<a>Date</a>\n								<a>Category</a>\n							</div>\n							<div class="description">\n								A description which may flow for several lines and give context to the content.\n							</div>\n							<div class="extra">\n								<div class="ui right floated primary button">\n									Primary\n									<i class="right chevron icon"></i>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n\n				<div class="ui divided items">\n					<div class="link item">\n						<div class="ui tiny image">\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<a class="header">Content Header</a>\n\n							<div class="description">\n								A description which may flow for several lines and give context to the content.\n							</div>\n						</div>\n					</div>\n					<div class="link item">\n						<div class="ui tiny image">\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<a class="header">Content Header</a>\n\n							<div class="description">\n								A description which may flow for several lines and give context to the content.\n							</div>\n						</div>\n					</div>\n					<div class="link item">\n						<div class="ui tiny image">\n							<img src="assets/images/carbon-ui/image.png">\n						</div>\n						<div class="content">\n							<a class="header">Content Header</a>\n\n							<div class="description">\n								A description which may flow for several lines and give context to the content.\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n\n\n			<!--Statistic-->\n			<h3 class="ui dividing header">\n				Statistic\n			</h3>\n\n\n			<div class="ui segment">\n				<div class="ui statistic">\n					<div class="label">\n						Top Label\n					</div>\n					<div class="value">\n						4:05\n					</div>\n				</div>\n\n				<div class="ui divider"></div>\n\n				<div class="ui statistic">\n					<div class="value">\n						22\n					</div>\n					<div class="label">\n						Bottom Label\n					</div>\n				</div>\n\n				<div class="ui divider"></div>\n\n				<div class="ui statistic">\n					<div class="text value">\n						Eighty<br>\n						Two\n					</div>\n					<div class="label">\n						Text\n					</div>\n				</div>\n				<div class="ui statistic">\n					<div class="value">\n						<i class="ticket icon"></i> 5\n					</div>\n					<div class="label">\n						Labeled Icon\n					</div>\n				</div>\n\n				<div class="ui divider"></div>\n\n				<div class="ui horizontal statistics">\n					<div class="statistic">\n						<div class="value">\n							<i class="trophy icon"></i>\n							22\n						</div>\n						<div class="label">\n							Horizonal Label\n						</div>\n					</div>\n					<div class="statistic">\n						<div class="value">\n							<i class="ticket icon"></i>\n							51\n						</div>\n						<div class="label">\n							Horizonal Label\n						</div>\n					</div>\n					<div class="statistic">\n						<div class="value">\n							<i class="protect icon"></i>\n							81\n						</div>\n						<div class="label">\n							Horizonal Label\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div class="ui tab" data-tab="modules">\n			<h2 class="ui dividing header">\n				Modules\n				<a class="anchor" id="modules"></a>\n			</h2>\n\n\n			<!--Accordion-->\n			<h3 class="ui dividing header">\n				Accordion\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui vertical accordion menu">\n					<div class="item">\n						<a class="title">\n							<i class="dropdown icon" tabindex="0">\n								<div class="menu" tabindex="-1"></div>\n							</i>\n							Menu Item\n						</a>\n\n						<div class="content">\n							<div class="ui form transition hidden">\n								<div class="grouped fields">\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="small" tabindex="0" class="hidden">\n											<label>Choice 1</label>\n										</div>\n									</div>\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="medium" tabindex="0" class="hidden">\n											<label>Choice 2</label>\n										</div>\n									</div>\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="large" tabindex="0" class="hidden">\n											<label>Choice 3</label>\n										</div>\n									</div>\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="x-large" tabindex="0" class="hidden">\n											<label>Choice 4</label>\n										</div>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class="item">\n						<a class="title">\n							<i class="dropdown icon" tabindex="0">\n								<div class="menu" tabindex="-1"></div>\n							</i>\n							Menu Item\n						</a>\n\n						<div class="content">\n							<div class="ui form">\n								<div class="grouped fields">\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="small" tabindex="0" class="hidden">\n											<label>Choice A</label>\n										</div>\n									</div>\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="medium" tabindex="0" class="hidden">\n											<label>Choice B</label>\n										</div>\n									</div>\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="large" tabindex="0" class="hidden">\n											<label>Choice C</label>\n										</div>\n									</div>\n									<div class="field">\n										<div class="ui radio checkbox">\n											<input type="radio" value="x-large" tabindex="0" class="hidden">\n											<label>Choice D</label>\n										</div>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<div class="ui divider"></div>\n\n				<div class="ui accordion">\n					<div class="ui header title">\n						<i class="dropdown icon"></i>\n						FAQ Question 1?\n					</div>\n					<div class="content">\n						<img class="ui wireframe image transition hidden" src="assets/images/carbon-ui/paragraph.png">\n					</div>\n					<div class="ui header title">\n						<i class="dropdown icon"></i>\n						FAQ Question 2?\n					</div>\n					<div class="content">\n						<img class="ui wireframe image transition hidden" src="assets/images/carbon-ui/paragraph.png">\n					</div>\n					<div class="ui header title">\n						<i class="dropdown icon"></i>\n						FAQ Question 3?\n					</div>\n					<div class="content">\n						<img class="ui wireframe image transition hidden" src="assets/images/carbon-ui/paragraph.png">\n					</div>\n				</div>\n\n				<div class="ui divider"></div>\n\n				<div class="ui styled accordion">\n					<div class="active title">\n						<i class="dropdown icon"></i>\n						Title\n					</div>\n					<div class="active content">\n						<img class="ui wireframe image" src="assets/images/carbon-ui/paragraph.png">\n					</div>\n					<div class="title">\n						<i class="dropdown icon"></i>\n						Title\n					</div>\n					<div class="content">\n						<img class="ui wireframe image" src="assets/images/carbon-ui/paragraph.png">\n					</div>\n					<div class="title">\n						<i class="dropdown icon"></i>\n						Title\n					</div>\n					<div class="content">\n						<img class="ui wireframe image" src="assets/images/carbon-ui/paragraph.png">\n					</div>\n				</div>\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.demo .example .ui.accordion\' )\n								.accordion()\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Checkbox-->\n			<h3 class="ui dividing header">\n				Checkbox\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui checkbox">\n					<input type="checkbox" name="fun" tabindex="0" class="hidden">\n					<label>Checkbox</label>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui form">\n					<div class="inline fields">\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" checked="checked" tabindex="0" class="hidden">\n								<label>A</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>B</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>C</label>\n							</div>\n						</div>\n						<div class="field">\n							<div class="ui radio checkbox">\n								<input type="radio" name="fruit" tabindex="0" class="hidden">\n								<label>D</label>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui slider checkbox">\n					<input type="checkbox" name="newsletter" tabindex="0" class="hidden">\n					<label>Slider</label>\n				</div>\n\n				<div class="ui hidden divider"></div>\n				<div class="ui toggle checkbox">\n					<input type="checkbox" name="public" tabindex="0" class="hidden">\n					<label>Toggle</label>\n				</div>\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.demo .ui.checkbox\' )\n								.checkbox()\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Dimmer-->\n			<h3 class="ui dividing header">\n				Dimmer\n			</h3>\n\n			<div class="ui segment">\n				<div class="dimmer demo">\n					<div class="ui segment dimmable">\n						<h3 class="ui header">\n							Dimmable Section\n						</h3>\n\n						<div class="ui small images">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n						</div>\n						<img class="ui medium wireframe image" src="assets/images/carbon-ui/media-paragraph.png">\n\n						<div class="ui dimmer transition hidden"></div>\n					</div>\n					<div class="ui ignored ignored icon buttons">\n						<div class="ui show button"><i class="plus icon"></i></div>\n						<div class="ui hide button"><i class="minus icon"></i></div>\n					</div>\n				</div>\n				<div class="dimmer demo">\n					<div class="ui segment dimmable">\n						<h3 class="ui header">\n							Inverted Dimmer\n						</h3>\n\n						<div class="ui small images">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n						</div>\n						<img class="ui medium wireframe image" src="assets/images/carbon-ui/media-paragraph.png">\n\n						<div class="ui inverted dimmer transition hidden"></div>\n					</div>\n					<div class="ui ignored ignored icon buttons">\n						<div class="ui show button"><i class="plus icon"></i></div>\n						<div class="ui hide button"><i class="minus icon"></i></div>\n					</div>\n				</div>\n				<div class="dimmer demo">\n					<div class="ui segment">\n						<h3 class="ui header">\n							Dimmer With Content\n						</h3>\n\n						<div class="ui small images">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n							<img class="ui wireframe image" src="assets/images/carbon-ui/image.png">\n						</div>\n						<img class="ui medium wireframe image" src="assets/images/carbon-ui/media-paragraph.png">\n\n						<div class="ui dimmer">\n							<div class="content">\n								<div class="center">\n									<h2 class="ui inverted icon header">\n										<i class="heart icon"></i>\n										Dimmed Message!\n									</h2>\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class="ui ignored ignored icon buttons">\n						<div class="ui show button"><i class="plus icon"></i></div>\n						<div class="ui hide button"><i class="minus icon"></i></div>\n					</div>\n				</div>\n\n				<style type="text/css">\n					.dimmer.demo:not(.page) {\n						margin: 2em 0em;\n					}\n\n					h4 + .dimmer.demo {\n						margin-top: 0em;\n					}\n				</style>\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n\n							// selector cache\n							var\n								$pageDimmer = $( \'.demo.page.dimmer\' ),\n								$demo = $( \'.dimmer.demo\' ),\n								$showButton = $demo.find( \'.show.button\' ),\n								$pageButton = $demo.find( \'.page.button\' ),\n								$hideButton = $demo.find( \'.hide.button\' ),\n							// alias\n								handler\n								;\n\n							// event handlers\n							handler = {\n								show: function() {\n									$( this )\n										.closest( \'.demo\' )\n										.find( \'.segment\' )\n										.dimmer( \'show\' )\n									;\n								},\n								hide: function() {\n									$( this )\n										.closest( \'.demo\' )\n										.find( \'.segment\' )\n										.dimmer( \'hide\' )\n									;\n								},\n								page: function() {\n									$( \'body > .demo.page.dimmer\' )\n										.dimmer( \'show\' )\n									;\n								}\n							};\n\n							$pageDimmer\n								.dimmer()\n							;\n\n							$pageButton\n								.on( \'click\', handler.page )\n							;\n							$showButton\n								.on( \'click\', handler.show )\n							;\n							$hideButton\n								.on( \'click\', handler.hide )\n							;\n\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Dropdown-->\n			<h3 class="ui dividing header">\n				Dropdown\n			</h3>\n\n			<div class="ui segment">\n				<div class="dropdown demos">\n					<div class="ui floating dropdown labeled search icon button">\n						<i class="world icon"></i>\n						<input class="search" autocomplete="off" tabindex="0"><span class="text">Select Language</span>\n\n						<div class="menu" tabindex="-1">\n							<div class="item">Arabic</div>\n							<div class="item">Chinese</div>\n							<div class="item">Danish</div>\n							<div class="item">Dutch</div>\n							<div class="item">English</div>\n							<div class="item">French</div>\n							<div class="item">German</div>\n							<div class="item">Greek</div>\n							<div class="item">Hungarian</div>\n							<div class="item">Italian</div>\n							<div class="item">Japanese</div>\n							<div class="item">Korean</div>\n							<div class="item">Lithuanian</div>\n							<div class="item">Persian</div>\n							<div class="item">Polish</div>\n							<div class="item">Portuguese</div>\n							<div class="item">Russian</div>\n							<div class="item">Spanish</div>\n							<div class="item">Swedish</div>\n							<div class="item">Turkish</div>\n							<div class="item">Vietnamese</div>\n						</div>\n					</div>\n					<div class="ui search selection dropdown">\n						<input type="hidden" name="country">\n						<i class="dropdown icon"></i>\n						<input class="search" autocomplete="off" tabindex="0">\n\n						<div class="default text">Select Country</div>\n						<div class="menu" tabindex="-1">\n							<div data-value="ad" class="item"><i class="ad flag"></i>Andorra</div>\n							<div data-value="ae" class="item"><i class="ae flag"></i>U.A.E</div>\n							<div data-value="af" class="item"><i class="af flag"></i>Afghanistan</div>\n							<div data-value="ag" class="item"><i class="ag flag"></i>Antigua</div>\n							<div data-value="ai" class="item"><i class="ai flag"></i>Anguilla</div>\n							<div data-value="al" class="item"><i class="al flag"></i>Albania</div>\n							<div data-value="am" class="item"><i class="am flag"></i>Armenia</div>\n							<div data-value="an" class="item"><i class="an flag"></i>Netherlands Antilles</div>\n							<div data-value="ao" class="item"><i class="ao flag"></i>Angola</div>\n							<div data-value="ar" class="item"><i class="ar flag"></i>Argentina</div>\n							<div data-value="as" class="item"><i class="as flag"></i>American Samoa</div>\n							<div data-value="at" class="item"><i class="at flag"></i>Austria</div>\n							<div data-value="au" class="item"><i class="au flag"></i>Australia</div>\n							<div data-value="aw" class="item"><i class="aw flag"></i>Aruba</div>\n							<div data-value="ax" class="item"><i class="ax flag"></i>Aland Islands</div>\n							<div data-value="az" class="item"><i class="az flag"></i>Azerbaijan</div>\n							<div data-value="ba" class="item"><i class="ba flag"></i>Bosnia</div>\n							<div data-value="bb" class="item"><i class="bb flag"></i>Barbados</div>\n							<div data-value="bd" class="item"><i class="bd flag"></i>Bangladesh</div>\n							<div data-value="be" class="item"><i class="be flag"></i>Belgium</div>\n							<div data-value="bf" class="item"><i class="bf flag"></i>Burkina Faso</div>\n							<div data-value="bg" class="item"><i class="bg flag"></i>Bulgaria</div>\n							<div data-value="bh" class="item"><i class="bh flag"></i>Bahrain</div>\n							<div data-value="bi" class="item"><i class="bi flag"></i>Burundi</div>\n							<div data-value="bj" class="item"><i class="bj flag"></i>Benin</div>\n							<div data-value="bm" class="item"><i class="bm flag"></i>Bermuda</div>\n							<div data-value="bn" class="item"><i class="bn flag"></i>Brunei</div>\n							<div data-value="bo" class="item"><i class="bo flag"></i>Bolivia</div>\n							<div data-value="br" class="item"><i class="br flag"></i>Brazil</div>\n							<div data-value="bs" class="item"><i class="bs flag"></i>Bahamas</div>\n							<div data-value="bt" class="item"><i class="bt flag"></i>Bhutan</div>\n							<div data-value="bv" class="item"><i class="bv flag"></i>Bouvet Island</div>\n							<div data-value="bw" class="item"><i class="bw flag"></i>Botswana</div>\n							<div data-value="by" class="item"><i class="by flag"></i>Belarus</div>\n							<div data-value="bz" class="item"><i class="bz flag"></i>Belize</div>\n							<div data-value="ca" class="item"><i class="ca flag"></i>Canada</div>\n							<div data-value="cc" class="item"><i class="cc flag"></i>Cocos Islands</div>\n							<div data-value="cd" class="item"><i class="cd flag"></i>Congo</div>\n							<div data-value="cf" class="item"><i class="cf flag"></i>Central African Republic</div>\n							<div data-value="cg" class="item"><i class="cg flag"></i>Congo Brazzaville</div>\n							<div data-value="ch" class="item"><i class="ch flag"></i>Switzerland</div>\n							<div data-value="ci" class="item"><i class="ci flag"></i>Cote Divoire</div>\n							<div data-value="ck" class="item"><i class="ck flag"></i>Cook Islands</div>\n							<div data-value="cl" class="item"><i class="cl flag"></i>Chile</div>\n							<div data-value="cm" class="item"><i class="cm flag"></i>Cameroon</div>\n							<div data-value="cn" class="item"><i class="cn flag"></i>China</div>\n							<div data-value="co" class="item"><i class="co flag"></i>Colombia</div>\n							<div data-value="cr" class="item"><i class="cr flag"></i>Costa Rica</div>\n							<div data-value="cs" class="item"><i class="cs flag"></i>Serbia</div>\n							<div data-value="cu" class="item"><i class="cu flag"></i>Cuba</div>\n							<div data-value="cv" class="item"><i class="cv flag"></i>Cape Verde</div>\n							<div data-value="cx" class="item"><i class="cx flag"></i>Christmas Island</div>\n							<div data-value="cy" class="item"><i class="cy flag"></i>Cyprus</div>\n							<div data-value="cz" class="item"><i class="cz flag"></i>Czech Republic</div>\n							<div data-value="de" class="item"><i class="de flag"></i>Germany</div>\n							<div data-value="dj" class="item"><i class="dj flag"></i>Djibouti</div>\n							<div data-value="dk" class="item"><i class="dk flag"></i>Denmark</div>\n							<div data-value="dm" class="item"><i class="dm flag"></i>Dominica</div>\n							<div data-value="do" class="item"><i class="do flag"></i>Dominican Republic</div>\n							<div data-value="dz" class="item"><i class="dz flag"></i>Algeria</div>\n							<div data-value="ec" class="item"><i class="ec flag"></i>Ecuador</div>\n							<div data-value="ee" class="item"><i class="ee flag"></i>Estonia</div>\n							<div data-value="eg" class="item"><i class="eg flag"></i>Egypt</div>\n							<div data-value="eh" class="item"><i class="eh flag"></i>Western Sahara</div>\n							<div data-value="er" class="item"><i class="er flag"></i>Eritrea</div>\n							<div data-value="es" class="item"><i class="es flag"></i>Spain</div>\n							<div data-value="et" class="item"><i class="et flag"></i>Ethiopia</div>\n							<div data-value="eu" class="item"><i class="eu flag"></i>European Union</div>\n							<div data-value="fi" class="item"><i class="fi flag"></i>Finland</div>\n							<div data-value="fj" class="item"><i class="fj flag"></i>Fiji</div>\n							<div data-value="fk" class="item"><i class="fk flag"></i>Falkland Islands</div>\n							<div data-value="fm" class="item"><i class="fm flag"></i>Micronesia</div>\n							<div data-value="fo" class="item"><i class="fo flag"></i>Faroe Islands</div>\n							<div data-value="fr" class="item"><i class="fr flag"></i>France</div>\n							<div data-value="ga" class="item"><i class="ga flag"></i>Gabon</div>\n							<div data-value="gb" class="item"><i class="gb flag"></i>United Kingdom</div>\n							<div data-value="gd" class="item"><i class="gd flag"></i>Grenada</div>\n							<div data-value="ge" class="item"><i class="ge flag"></i>Georgia</div>\n							<div data-value="gf" class="item"><i class="gf flag"></i>French Guiana</div>\n							<div data-value="gh" class="item"><i class="gh flag"></i>Ghana</div>\n							<div data-value="gi" class="item"><i class="gi flag"></i>Gibraltar</div>\n							<div data-value="gl" class="item"><i class="gl flag"></i>Greenland</div>\n							<div data-value="gm" class="item"><i class="gm flag"></i>Gambia</div>\n							<div data-value="gn" class="item"><i class="gn flag"></i>Guinea</div>\n							<div data-value="gp" class="item"><i class="gp flag"></i>Guadeloupe</div>\n							<div data-value="gq" class="item"><i class="gq flag"></i>Equatorial Guinea</div>\n							<div data-value="gr" class="item"><i class="gr flag"></i>Greece</div>\n							<div data-value="gs" class="item"><i class="gs flag"></i>Sandwich Islands</div>\n							<div data-value="gt" class="item"><i class="gt flag"></i>Guatemala</div>\n							<div data-value="gu" class="item"><i class="gu flag"></i>Guam</div>\n							<div data-value="gw" class="item"><i class="gw flag"></i>Guinea-Bissau</div>\n							<div data-value="gy" class="item"><i class="gy flag"></i>Guyana</div>\n							<div data-value="hk" class="item"><i class="hk flag"></i>Hong Kong</div>\n							<div data-value="hm" class="item"><i class="hm flag"></i>Heard Island</div>\n							<div data-value="hn" class="item"><i class="hn flag"></i>Honduras</div>\n							<div data-value="hr" class="item"><i class="hr flag"></i>Croatia</div>\n							<div data-value="ht" class="item"><i class="ht flag"></i>Haiti</div>\n							<div data-value="hu" class="item"><i class="hu flag"></i>Hungary</div>\n							<div data-value="id" class="item"><i class="id flag"></i>Indonesia</div>\n							<div data-value="ie" class="item"><i class="ie flag"></i>Ireland</div>\n							<div data-value="il" class="item"><i class="il flag"></i>Israel</div>\n							<div data-value="in" class="item"><i class="in flag"></i>India</div>\n							<div data-value="io" class="item"><i class="io flag"></i>Indian Ocean Territory</div>\n							<div data-value="iq" class="item"><i class="iq flag"></i>Iraq</div>\n							<div data-value="ir" class="item"><i class="ir flag"></i>Iran</div>\n							<div data-value="is" class="item"><i class="is flag"></i>Iceland</div>\n							<div data-value="it" class="item"><i class="it flag"></i>Italy</div>\n							<div data-value="jm" class="item"><i class="jm flag"></i>Jamaica</div>\n							<div data-value="jo" class="item"><i class="jo flag"></i>Jordan</div>\n							<div data-value="jp" class="item"><i class="jp flag"></i>Japan</div>\n							<div data-value="ke" class="item"><i class="ke flag"></i>Kenya</div>\n							<div data-value="kg" class="item"><i class="kg flag"></i>Kyrgyzstan</div>\n							<div data-value="kh" class="item"><i class="kh flag"></i>Cambodia</div>\n							<div data-value="ki" class="item"><i class="ki flag"></i>Kiribati</div>\n							<div data-value="km" class="item"><i class="km flag"></i>Comoros</div>\n							<div data-value="kn" class="item"><i class="kn flag"></i>Saint Kitts and Nevis</div>\n							<div data-value="kp" class="item"><i class="kp flag"></i>North Korea</div>\n							<div data-value="kr" class="item"><i class="kr flag"></i>South Korea</div>\n							<div data-value="kw" class="item"><i class="kw flag"></i>Kuwait</div>\n							<div data-value="ky" class="item"><i class="ky flag"></i>Cayman Islands</div>\n							<div data-value="kz" class="item"><i class="kz flag"></i>Kazakhstan</div>\n							<div data-value="la" class="item"><i class="la flag"></i>Laos</div>\n							<div data-value="lb" class="item"><i class="lb flag"></i>Lebanon</div>\n							<div data-value="lc" class="item"><i class="lc flag"></i>Saint Lucia</div>\n							<div data-value="li" class="item"><i class="li flag"></i>Liechtenstein</div>\n							<div data-value="lk" class="item"><i class="lk flag"></i>Sri Lanka</div>\n							<div data-value="lr" class="item"><i class="lr flag"></i>Liberia</div>\n							<div data-value="ls" class="item"><i class="ls flag"></i>Lesotho</div>\n							<div data-value="lt" class="item"><i class="lt flag"></i>Lithuania</div>\n							<div data-value="lu" class="item"><i class="lu flag"></i>Luxembourg</div>\n							<div data-value="lv" class="item"><i class="lv flag"></i>Latvia</div>\n							<div data-value="ly" class="item"><i class="ly flag"></i>Libya</div>\n							<div data-value="ma" class="item"><i class="ma flag"></i>Morocco</div>\n							<div data-value="mc" class="item"><i class="mc flag"></i>Monaco</div>\n							<div data-value="md" class="item"><i class="md flag"></i>Moldova</div>\n							<div data-value="me" class="item"><i class="me flag"></i>Montenegro</div>\n							<div data-value="mg" class="item"><i class="mg flag"></i>Madagascar</div>\n							<div data-value="mh" class="item"><i class="mh flag"></i>Marshall Islands</div>\n							<div data-value="mk" class="item"><i class="mk flag"></i>MacEdonia</div>\n							<div data-value="ml" class="item"><i class="ml flag"></i>Mali</div>\n							<div data-value="ar" class="item"><i class="ar flag"></i>Burma</div>\n							<div data-value="mn" class="item"><i class="mn flag"></i>Mongolia</div>\n							<div data-value="mo" class="item"><i class="mo flag"></i>MacAu</div>\n							<div data-value="mp" class="item"><i class="mp flag"></i>Northern Mariana Islands</div>\n							<div data-value="mq" class="item"><i class="mq flag"></i>Martinique</div>\n							<div data-value="mr" class="item"><i class="mr flag"></i>Mauritania</div>\n							<div data-value="ms" class="item"><i class="ms flag"></i>Montserrat</div>\n							<div data-value="mt" class="item"><i class="mt flag"></i>Malta</div>\n							<div data-value="mu" class="item"><i class="mu flag"></i>Mauritius</div>\n							<div data-value="mv" class="item"><i class="mv flag"></i>Maldives</div>\n							<div data-value="mw" class="item"><i class="mw flag"></i>Malawi</div>\n							<div data-value="mx" class="item"><i class="mx flag"></i>Mexico</div>\n							<div data-value="my" class="item"><i class="my flag"></i>Malaysia</div>\n							<div data-value="mz" class="item"><i class="mz flag"></i>Mozambique</div>\n							<div data-value="na" class="item"><i class="na flag"></i>Namibia</div>\n							<div data-value="nc" class="item"><i class="nc flag"></i>New Caledonia</div>\n							<div data-value="ne" class="item"><i class="ne flag"></i>Niger</div>\n							<div data-value="nf" class="item"><i class="nf flag"></i>Norfolk Island</div>\n							<div data-value="ng" class="item"><i class="ng flag"></i>Nigeria</div>\n							<div data-value="ni" class="item"><i class="ni flag"></i>Nicaragua</div>\n							<div data-value="nl" class="item"><i class="nl flag"></i>Netherlands</div>\n							<div data-value="no" class="item"><i class="no flag"></i>Norway</div>\n							<div data-value="np" class="item"><i class="np flag"></i>Nepal</div>\n							<div data-value="nr" class="item"><i class="nr flag"></i>Nauru</div>\n							<div data-value="nu" class="item"><i class="nu flag"></i>Niue</div>\n							<div data-value="nz" class="item"><i class="nz flag"></i>New Zealand</div>\n							<div data-value="om" class="item"><i class="om flag"></i>Oman</div>\n							<div data-value="pa" class="item"><i class="pa flag"></i>Panama</div>\n							<div data-value="pe" class="item"><i class="pe flag"></i>Peru</div>\n							<div data-value="pf" class="item"><i class="pf flag"></i>French Polynesia</div>\n							<div data-value="pg" class="item"><i class="pg flag"></i>New Guinea</div>\n							<div data-value="ph" class="item"><i class="ph flag"></i>Philippines</div>\n							<div data-value="pk" class="item"><i class="pk flag"></i>Pakistan</div>\n							<div data-value="pl" class="item"><i class="pl flag"></i>Poland</div>\n							<div data-value="pm" class="item"><i class="pm flag"></i>Saint Pierre</div>\n							<div data-value="pn" class="item"><i class="pn flag"></i>Pitcairn Islands</div>\n							<div data-value="pr" class="item"><i class="pr flag"></i>Puerto Rico</div>\n							<div data-value="ps" class="item"><i class="ps flag"></i>Palestine</div>\n							<div data-value="pt" class="item"><i class="pt flag"></i>Portugal</div>\n							<div data-value="pw" class="item"><i class="pw flag"></i>Palau</div>\n							<div data-value="py" class="item"><i class="py flag"></i>Paraguay</div>\n							<div data-value="qa" class="item"><i class="qa flag"></i>Qatar</div>\n							<div data-value="re" class="item"><i class="re flag"></i>Reunion</div>\n							<div data-value="ro" class="item"><i class="ro flag"></i>Romania</div>\n							<div data-value="rs" class="item"><i class="rs flag"></i>Serbia</div>\n							<div data-value="ru" class="item"><i class="ru flag"></i>Russia</div>\n							<div data-value="rw" class="item"><i class="rw flag"></i>Rwanda</div>\n							<div data-value="sa" class="item"><i class="sa flag"></i>Saudi Arabia</div>\n							<div data-value="sb" class="item"><i class="sb flag"></i>Solomon Islands</div>\n							<div data-value="sc" class="item"><i class="sc flag"></i>Seychelles</div>\n							<div data-value="sd" class="item"><i class="sd flag"></i>Sudan</div>\n							<div data-value="se" class="item"><i class="se flag"></i>Sweden</div>\n							<div data-value="sg" class="item"><i class="sg flag"></i>Singapore</div>\n							<div data-value="sh" class="item"><i class="sh flag"></i>Saint Helena</div>\n							<div data-value="si" class="item"><i class="si flag"></i>Slovenia</div>\n							<div data-value="sj" class="item"><i class="sj flag"></i>Svalbard, I Flag Jan Mayen</div>\n							<div data-value="sk" class="item"><i class="sk flag"></i>Slovakia</div>\n							<div data-value="sl" class="item"><i class="sl flag"></i>Sierra Leone</div>\n							<div data-value="sm" class="item"><i class="sm flag"></i>San Marino</div>\n							<div data-value="sn" class="item"><i class="sn flag"></i>Senegal</div>\n							<div data-value="so" class="item"><i class="so flag"></i>Somalia</div>\n							<div data-value="sr" class="item"><i class="sr flag"></i>Suriname</div>\n							<div data-value="st" class="item"><i class="st flag"></i>Sao Tome</div>\n							<div data-value="sv" class="item"><i class="sv flag"></i>El Salvador</div>\n							<div data-value="sy" class="item"><i class="sy flag"></i>Syria</div>\n							<div data-value="sz" class="item"><i class="sz flag"></i>Swaziland</div>\n							<div data-value="tc" class="item"><i class="tc flag"></i>Caicos Islands</div>\n							<div data-value="td" class="item"><i class="td flag"></i>Chad</div>\n							<div data-value="tf" class="item"><i class="tf flag"></i>French Territories</div>\n							<div data-value="tg" class="item"><i class="tg flag"></i>Togo</div>\n							<div data-value="th" class="item"><i class="th flag"></i>Thailand</div>\n							<div data-value="tj" class="item"><i class="tj flag"></i>Tajikistan</div>\n							<div data-value="tk" class="item"><i class="tk flag"></i>Tokelau</div>\n							<div data-value="tl" class="item"><i class="tl flag"></i>Timorleste</div>\n							<div data-value="tm" class="item"><i class="tm flag"></i>Turkmenistan</div>\n							<div data-value="tn" class="item"><i class="tn flag"></i>Tunisia</div>\n							<div data-value="to" class="item"><i class="to flag"></i>Tonga</div>\n							<div data-value="tr" class="item"><i class="tr flag"></i>Turkey</div>\n							<div data-value="tt" class="item"><i class="tt flag"></i>Trinidad</div>\n							<div data-value="tv" class="item"><i class="tv flag"></i>Tuvalu</div>\n							<div data-value="tw" class="item"><i class="tw flag"></i>Taiwan</div>\n							<div data-value="tz" class="item"><i class="tz flag"></i>Tanzania</div>\n							<div data-value="ua" class="item"><i class="ua flag"></i>Ukraine</div>\n							<div data-value="ug" class="item"><i class="ug flag"></i>Uganda</div>\n							<div data-value="um" class="item"><i class="um flag"></i>Us Minor Islands</div>\n							<div data-value="us" class="item"><i class="us flag"></i>United States</div>\n							<div data-value="uy" class="item"><i class="uy flag"></i>Uruguay</div>\n							<div data-value="uz" class="item"><i class="uz flag"></i>Uzbekistan</div>\n							<div data-value="va" class="item"><i class="va flag"></i>Vatican City</div>\n							<div data-value="vc" class="item"><i class="vc flag"></i>Saint Vincent</div>\n							<div data-value="ve" class="item"><i class="ve flag"></i>Venezuela</div>\n							<div data-value="vg" class="item"><i class="vg flag"></i>British Virgin Islands</div>\n							<div data-value="vi" class="item"><i class="vi flag"></i>Us Virgin Islands</div>\n							<div data-value="vn" class="item"><i class="vn flag"></i>Vietnam</div>\n							<div data-value="vu" class="item"><i class="vu flag"></i>Vanuatu</div>\n							<div data-value="wf" class="item"><i class="wf flag"></i>Wallis and Futuna</div>\n							<div data-value="ws" class="item"><i class="ws flag"></i>Samoa</div>\n							<div data-value="ye" class="item"><i class="ye flag"></i>Yemen</div>\n							<div data-value="yt" class="item"><i class="yt flag"></i>Mayotte</div>\n							<div data-value="za" class="item"><i class="za flag"></i>South Africa</div>\n							<div data-value="zm" class="item"><i class="zm flag"></i>Zambia</div>\n							<div data-value="zw" class="item"><i class="zw flag"></i>Zimbabwe</div>\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui searchable floating dropdown labeled icon button" tabindex="0">\n						<i class="filter icon"></i>\n						<span class="text">Filter Posts</span>\n\n						<div class="menu" tabindex="-1">\n							<div class="header">\n								Filter\n							</div>\n							<div class="item">\n								<div class="ui red empty circular label"></div>\n								Tag A\n							</div>\n							<div class="item">\n								<div class="ui blue empty circular label"></div>\n								Tag B\n							</div>\n							<div class="item">\n								<div class="ui black empty circular label"></div>\n								Tag C\n							</div>\n							<div class="item">\n								<div class="ui green empty circular label"></div>\n								Tag D\n							</div>\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					Show me posts trending\n					<div class="ui inline dropdown" tabindex="0">\n						<div class="text">today</div>\n						<i class="dropdown icon"></i>\n\n						<div class="menu" tabindex="-1">\n							<div class="item active selected" data-text="today">Today</div>\n							<div class="item" data-text="this week">This Week</div>\n							<div class="item" data-text="this month">This Month</div>\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui left pointing dropdown icon button" tabindex="0">\n						<i class="settings icon"></i>\n\n						<div class="menu" tabindex="-1">\n							<div class="ui transparent left icon input">\n								<i class="search icon"></i>\n								<input name="search" placeholder="Search issues..." type="text">\n							</div>\n							<div class="divider"></div>\n							<div class="header">\n								<i class="tags icon"></i>\n								Filter by tag\n							</div>\n							<div class="item">\n								<div class="ui red empty circular label"></div>\n								Important\n							</div>\n							<div class="item">\n								<div class="ui blue empty circular label"></div>\n								Announcement\n							</div>\n							<div class="item">\n								<div class="ui black empty circular label"></div>\n								Discussion\n							</div>\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui menu">\n						<a class="item">\n							Home\n						</a>\n\n						<div class="ui dropdown item" tabindex="0">\n							<span class="text">Shopping</span>\n							<i class="dropdown icon" tabindex="0">\n								<div class="menu" tabindex="-1"></div>\n							</i>\n\n							<div class="menu" tabindex="-1">\n								<div class="header">Categories</div>\n								<div class="item">\n									<i class="dropdown icon" tabindex="0">\n										<div class="menu" tabindex="-1"></div>\n									</i>\n									<span class="text">Clothing</span>\n\n									<div class="menu">\n										<div class="header">Mens</div>\n										<div class="item">Shirts</div>\n										<div class="item">Pants</div>\n										<div class="item">Jeans</div>\n										<div class="item">Shoes</div>\n										<div class="divider"></div>\n										<div class="header">Womens</div>\n										<div class="item">Dresses</div>\n										<div class="item">Shoes</div>\n										<div class="item">Bags</div>\n									</div>\n								</div>\n								<div class="item">Home Goods</div>\n								<div class="item">Bedroom</div>\n								<div class="divider"></div>\n								<div class="header">Order</div>\n								<div class="item">Status</div>\n								<div class="item">Cancellations</div>\n							</div>\n						</div>\n						<a class="item">\n							Forums\n						</a>\n						<a class="item">\n							Contact Us\n						</a>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui vertical menu">\n						<a class="item">\n							Home\n						</a>\n\n						<div class="ui left pointing dropdown item" tabindex="0">\n							<i class="dropdown icon" tabindex="0">\n								<div class="menu" tabindex="-1"></div>\n							</i>\n							Messages\n							<div class="menu" tabindex="-1">\n								<div class="item">Inbox</div>\n								<div class="item">Starred</div>\n								<div class="item">Sent Mail</div>\n								<div class="item">Drafts (143)</div>\n								<div class="divider"></div>\n								<div class="item">Spam (1009)</div>\n								<div class="item">Trash</div>\n							</div>\n						</div>\n						<a class="item">\n							Browse\n						</a>\n						<a class="item">\n							Help\n						</a>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui icon buttons">\n						<div class="ui top left pointing dropdown button" tabindex="0">\n							<i class="user icon"></i>\n\n							<div class="menu" tabindex="-1">\n								<div class="item"><i class="edit icon"></i>Edit User</div>\n								<div class="item"><i class="delete icon"></i>Remove User</div>\n								<div class="item"><i class="hide icon"></i>Make Invisible</div>\n							</div>\n						</div>\n						<div class="ui top left pointing dropdown button" tabindex="0">\n							<i class="users icon"></i>\n\n							<div class="menu" tabindex="-1">\n								<div class="item"><i class="edit icon"></i>Edit Group</div>\n								<div class="item"><i class="delete icon"></i>Remove Group</div>\n								<div class="item"><i class="hide icon"></i>Hide from Group</div>\n							</div>\n						</div>\n						<div class="ui top right pointing dropdown button" tabindex="0">\n							<i class="settings icon"></i>\n\n							<div class="menu" tabindex="-1">\n								<div class="item"><i class="edit icon"></i> Edit</div>\n								<div class="item"><i class="delete icon"></i> Remove</div>\n								<div class="item"><i class="hide icon"></i> Hide</div>\n							</div>\n						</div>\n					</div>\n\n				</div>\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.demo .ui.dropdown\' )\n								.dropdown()\n							;\n							$( \'.demo .ui.menu .dropdown\' )\n								.dropdown( {\n									on: \'hover\'\n								} )\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Modal-->\n			<h3 class="ui dividing header">\n				Modal\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui standard demo button">Standard Modal</div>\n				<div class="ui minimal demo button">Basic Modal</div>\n				<div class="ui fullscreen demo button">Full-Screen Modal</div>\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.demo.modal\' ).modal();\n							$( \'.standard.demo.modal\' ).modal( \'attach events\', \'.standard.demo.button\' );\n							$( \'.basic.demo.modal\' ).modal( \'attach events\', \'.minimal.demo.button\' );\n							$( \'.fullscreen.demo.modal\' ).modal( \'attach events\', \'.fullscreen.demo.button\' );\n						} )\n					;\n				</script>\n				<div class="ui standard demo modal">\n					<i class="close icon"></i>\n\n					<div class="header">\n						Profile Picture\n					</div>\n					<div class="image content">\n						<div class="ui medium image">\n							<img src="assets/images/carbon-ui/avatar/large/chris.jpg">\n						</div>\n						<div class="description">\n							<div class="ui header">We\'ve auto-chosen a profile image for you.</div>\n							<p>We\'ve grabbed the following image from the <a href="https://www.gravatar.com" target="_blank">gravatar</a> image associated with your registered e-mail address.</p>\n\n							<p>Is it okay to use this photo?</p>\n						</div>\n					</div>\n					<div class="actions">\n						<div class="ui black button">\n							Nope\n						</div>\n						<div class="ui positive right labeled icon button">\n							Yep, that\'s me\n							<i class="checkmark icon"></i>\n						</div>\n					</div>\n				</div>\n				<div class="ui basic demo modal transition hidden" style="margin-top: -139.5px;">\n					<div class="header">\n						Archive Old Messages\n					</div>\n					<div class="image content">\n						<div class="image">\n							<i class="archive icon"></i>\n						</div>\n						<div class="description">\n							<p>Your inbox is getting full, would you like us to enable automatic archiving of old messages?</p>\n						</div>\n					</div>\n					<div class="actions">\n						<div class="two fluid ui inverted buttons">\n							<div class="ui red basic cancel inverted button">\n								<i class="remove icon"></i>\n								No\n							</div>\n							<div class="ui green ok basic inverted button">\n								<i class="checkmark icon"></i>\n								Yes\n							</div>\n						</div>\n					</div>\n				</div>\n				<div class="ui fullscreen demo modal">\n					<i class="close icon"></i>\n\n					<div class="header">\n						Update Your Settings\n					</div>\n					<div class="content">\n						<div class="ui form">\n							<h4 class="ui dividing header">Give us your feedback</h4>\n\n							<div class="field">\n								<label>Feedback</label>\n								<textarea></textarea>\n							</div>\n							<div class="field">\n								<div class="ui checkbox">\n									<input type="checkbox" checked="checked" name="contact-me" tabindex="0" class="hidden">\n									<label>It\'s okay to contact me.</label>\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class="actions">\n						<div class="ui button">Cancel</div>\n						<div class="ui green button">Send</div>\n					</div>\n				</div>\n			</div>\n\n\n			<!--Popup-->\n			<h3 class="ui dividing header">\n				Popup\n			</h3>\n\n			<div class="ui segment">\n				<div class="popup demos">\n					<img src="assets/images/carbon-ui/avatar/small/elliot.jpg" data-title="Elliot Fu" data-content="Elliot has been a member since July 2012" class="ui avatar image">\n					<img src="assets/images/carbon-ui/avatar/small/stevie.jpg" data-title="Stevie Feliciano" data-content="Stevie has been a member since August 2013" class="ui avatar image">\n					<img src="assets/images/carbon-ui/avatar/small/matt.jpg" data-title="Matt" data-content="Matt has been a member since July 2014" class="ui avatar image">\n\n					<div class="ui button">Fluid Popup</div>\n					<div class="ui fluid popup top left transition hidden" style="top: auto; bottom: 516.333px; left: 102.562px; right: auto; width: 671px;">\n						<div class="ui four column divided center aligned grid">\n							<div class="column">1</div>\n							<div class="column">2</div>\n							<div class="column">3</div>\n							<div class="column">4</div>\n						</div>\n					</div>\n\n					<div class="ui button" data-html="<div class=\'header\'>User Rating</div><div class=\'content\'><div class=\'ui star rating\'><i class=\'active icon\'></i><i class=\'active icon\'></i><i class=\'active icon\'></i><i class=\'icon\'></i><i class=\'icon\'></i></div></div>">HTML Content</div>\n					<div class="ui button">Basic Popup</div>\n					<div class="ui basic popup">\n						Basic pop-up\n					</div>\n					<div class="ui button">Small</div>\n					<div class="ui small popup top left transition hidden" style="top: auto; bottom: 516.333px; left: 491.438px; right: auto;">\n						Small pop-up\n					</div>\n					<div class="ui button">Large</div>\n					<div class="ui large popup">\n						Large pop-up\n					</div>\n					<div class="ui button" data-variation="inverted" data-content="Inverted pop-up">\n						Inverted\n					</div>\n					<div class="ui menu">\n						<a class="active item">\n							Link\n						</a>\n						<a class="browse item">\n							<i class="dropdown icon" tabindex="0">\n								<div class="menu" tabindex="-1"></div>\n							</i>\n							Popup Link\n						</a>\n\n						<div class="ui flowing popup">\n							<div class="ui four column relaxed equal height divided grid">\n								<div class="ui column">\n									<h3 class="ui header">Fabrics</h3>\n\n									<div class="ui link list">\n										<a class="item">Cashmere</a>\n										<a class="item">Linen</a>\n										<a class="item">Cotton</a>\n										<a class="item">Viscose</a>\n									</div>\n								</div>\n								<div class="ui column">\n									<h3 class="ui header">Sizes</h3>\n\n									<div class="ui link list">\n										<a class="item">Small</a>\n										<a class="item">Medium</a>\n										<a class="item">Large</a>\n										<a class="item">Plus Sizes</a>\n									</div>\n								</div>\n								<div class="ui column">\n									<h3 class="ui header">Colors</h3>\n\n									<div class="ui link list">\n										<a class="item">Neutrals</a>\n										<a class="item">Brights</a>\n										<a class="item">Pastels</a>\n									</div>\n								</div>\n								<div class="ui column">\n									<h3 class="ui header">Types</h3>\n\n									<div class="ui link list">\n										<a class="item">Knitwear</a>\n										<a class="item">Outerwear</a>\n										<a class="item">Pants</a>\n										<a class="item">Shoes</a>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n\n					<div class="position example">\n						<div class="ui equal width center aligned middle aligned padded grid segment">\n							<div class="row">\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Top Left" data-position="top left"></i>\n								</div>\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Top Center" data-position="top center"></i>\n								</div>\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Top Right" data-position="top right"></i>\n								</div>\n							</div>\n							<div class="row">\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Left Center" data-position="left center"></i>\n								</div>\n								<div class="column"></div>\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Right Center" data-position="right center"></i>\n								</div>\n							</div>\n							<div class="row">\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Bottom Left" data-position="bottom left"></i>\n								</div>\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Bottom Center" data-position="bottom center"></i>\n								</div>\n								<div class="column">\n									<i class="square inverted red heart icon link" data-content="Bottom Right" data-position="bottom right"></i>\n								</div>\n							</div>\n						</div>\n					</div>\n\n				</div>\n\n				<script type="text/javascript">\n					$( document ).ready( function() {\n						$( \'.popup.demos .position .icon\' ).popup();\n						$( \'.popup.demos .avatar\' ).popup();\n						$( \'.popup.demos .button\' ).popup();\n						$( \'.popup.demos .menu .browse\' ).popup( {\n							inline   : true,\n							hoverable: true,\n							position : \'bottom left\',\n							delay    : {\n								show: 300,\n								hide: 800\n							}\n						} );\n					} );\n				</script>\n			</div>\n\n\n			<!--Progress-->\n			<h3 class="ui dividing header">\n				Progress\n			</h3>\n\n			<div class="ui segment">\n				<div class="ui basic demo progress active" data-percent="30">\n					<div class="bar" style="transition-duration: 300ms; width: 30%;">\n						<div class="progress"></div>\n					</div>\n					<div class="label">30% Complete</div>\n				</div>\n\n\n				<div class="ui indicating demo progress active" data-percent="70">\n					<div class="bar" style="transition-duration: 300ms; width: 70%;"></div>\n					<div class="label">70% Done</div>\n				</div>\n\n				<div class="ui teal file demo progress active" data-value="6" data-total="20" data-percent="35">\n					<div class="bar" style="transition-duration: 300ms; width: 35%;">\n						<div class="progress"></div>\n					</div>\n					<div class="label">Uploading 7 of 20</div>\n				</div>\n\n				<div class="ui attached segment">\n					<div class="ui top attached indicating demo progress active" data-percent="70">\n						<div class="bar" style="transition-duration: 300ms; width: 70%;"></div>\n					</div>\n					<div class="ui bottom attached demo progress active" data-percent="22">\n						<div class="bar" style="transition-duration: 300ms; width: 22%;"></div>\n					</div>\n				</div>\n\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.attached.progress.demo\' )\n								.progress( {\n									label: false,\n									value: Math.floor( Math.random() * 5 ) + 1\n								} )\n							;\n							$( \'.basic.progress.demo\' )\n								.progress( {\n									label: false,\n									value: Math.floor( Math.random() * 5 ) + 1,\n									text : {\n										active : \'{percent}% Complete\',\n										success: \'Done!\'\n									}\n								} )\n							;\n							$( \'.indicating.progress.demo\' )\n								.progress( {\n									label: true,\n									total: 10,\n									value: Math.floor( Math.random() * 5 ) + 1,\n									text : {\n										active : \'{percent}% Done\',\n										success: \'Completed!\'\n									}\n								} )\n							;\n							$( \'.file.progress.demo\' )\n								.progress( {\n									label: false,\n									text : {\n										active : \'Uploading {value} of {total}\',\n										success: \'{total} Files Uploaded!\'\n									}\n								} )\n							;\n							var progress = function() {\n								$( \'.demo.progress\' ).progress( \'increment\' );\n								setTimeout( progress, (Math.random() * 2000) + 300 );\n							};\n							setTimeout( progress, 1000 );\n\n							setInterval( function() {\n								$( \'.demo.progress\' ).progress( \'reset\' );\n							}, 30000 );\n\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Rating-->\n			<h3 class="ui dividing header">\n				Rating\n			</h3>\n\n			<div class="ui segment">\n				<div class="rating demos">\n					<div class="ui relaxed divided items">\n						<div class="item">\n							<div class="content">\n								<div class="ui large star rating" data-rating="2" data-max-rating="4"><i class="icon active"></i><i class="icon active"></i><i class="icon"></i><i class="icon"></i></div>\n								<div class="header">\n									<img src="assets/images/carbon-ui/square-image.png" class="ui avatar image">\n									Choice #1\n								</div>\n							</div>\n						</div>\n						<div class="item">\n							<div class="content">\n								<div class="ui large star rating" data-rating="3" data-max-rating="4"><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i><i class="icon"></i></div>\n								<div class="header">\n									<img src="assets/images/carbon-ui/square-image.png" class="ui avatar image">\n									Choice #2\n								</div>\n							</div>\n						</div>\n						<div class="item">\n							<div class="content">\n								<div class="ui large star rating" data-rating="4" data-max-rating="4"><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i><i class="icon active"></i></div>\n								<div class="header">\n									<img src="assets/images/carbon-ui/square-image.png" class="ui avatar image">\n									Choice #3\n								</div>\n							</div>\n						</div>\n					</div>\n\n					<div class="ui divider"></div>\n\n					<div class="ui relaxed divided items">\n						<div class="item">\n							<div class="ui tiny image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="content">\n								<a class="header">Content Header</a>\n\n								<div class="description">\n									A description which may flow for several lines and give context to the content.\n								</div>\n								<div class="extra">\n									11\n									<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n								</div>\n							</div>\n						</div>\n						<div class="item">\n							<div class="ui tiny image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="content">\n								<a class="header">Content Header</a>\n\n								<div class="description">\n									A description which may flow for several lines and give context to the content.\n								</div>\n								<div class="extra">\n									42\n									<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n								</div>\n							</div>\n						</div>\n						<div class="item">\n							<div class="ui tiny image">\n								<img src="assets/images/carbon-ui/image.png">\n							</div>\n							<div class="content">\n								<a class="header">Content Header</a>\n\n								<div class="description">\n									A description which may flow for several lines and give context to the content.\n								</div>\n								<div class="extra">\n									16\n									<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n								</div>\n							</div>\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui horizontal divided relaxed list">\n						<div class="item">\n							<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui star rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui star rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui star rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui star rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n						<div class="item">\n							<div class="ui heart rating" data-rating="0" data-max-rating="1"><i class="icon"></i></div>\n						</div>\n					</div>\n				</div>\n\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.rating.demos .items .ui.rating\' )\n								.rating()\n							;\n							$( \'.rating.demos .list .ui.rating\' )\n								.rating( {\n									clearable: true\n								} )\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Search-->\n			<h3 class="ui dividing header">\n				Search\n			</h3>\n\n			<div class="ui segment">\n				<div class="search demo">\n\n					<div class="ui remote search focus">\n						<div class="ui icon input">\n							<input class="prompt" type="text" placeholder="Remote search..." autocomplete="off">\n							<i class="search icon"></i>\n						</div>\n						<div class="results transition hidden"><a class="result">\n							<div class="content">\n								<div class="title">asshole</div>\n							</div>\n						</a><a class="result">\n							<div class="content">\n								<div class="title">ashley</div>\n							</div>\n						</a><a class="result">\n							<div class="content">\n								<div class="title">asdfgh</div>\n							</div>\n						</a></div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui category search">\n						<div class="ui left icon input">\n							<i class="search icon"></i>\n							<input class="prompt" type="text" placeholder="Category search..." autocomplete="off">\n						</div>\n						<div class="results"></div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n\n					<div class="ui local search">\n						<div class="ui left icon input">\n							<i class="world icon"></i>\n							<input class="prompt" type="text" placeholder="Local search..." autocomplete="off">\n						</div>\n						<div class="results"></div>\n					</div>\n\n				</div>\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							var content = [\n								{ title: \'Andorrs\' },\n								{ title: \'United Arab Emirates\' },\n								{ title: \'Afghanistas\' },\n								{ title: \'Antigus\' },\n								{ title: \'Anguills\' },\n								{ title: \'Albanis\' },\n								{ title: \'Armenis\' },\n								{ title: \'Netherlands Antilles\' },\n								{ title: \'Angols\' },\n								{ title: \'Argentins\' },\n								{ title: \'American Samos\' },\n								{ title: \'Austris\' },\n								{ title: \'Australis\' },\n								{ title: \'Arubs\' },\n								{ title: \'Aland Islands\' },\n								{ title: \'Azerbaijas\' },\n								{ title: \'Bosnis\' },\n								{ title: \'Barbados\' },\n								{ title: \'Bangladess\' },\n								{ title: \'Belgius\' },\n								{ title: \'Burkina Fass\' },\n								{ title: \'Bulgaris\' },\n								{ title: \'Bahrais\' },\n								{ title: \'Burunds\' },\n								{ title: \'Benis\' },\n								{ title: \'Bermuds\' },\n								{ title: \'Brunes\' },\n								{ title: \'Bolivis\' },\n								{ title: \'Brazis\' },\n								{ title: \'Bahamas\' },\n								{ title: \'Bhutas\' },\n								{ title: \'Bouvet Islans\' },\n								{ title: \'Botswans\' },\n								{ title: \'Belarus\' },\n								{ title: \'Belizs\' },\n								{ title: \'Canads\' },\n								{ title: \'Cocos Islands\' },\n								{ title: \'Congs\' },\n								{ title: \'Central African Republis\' },\n								{ title: \'Congo Brazzavills\' },\n								{ title: \'Switzerlans\' },\n								{ title: \'Cote Divoirs\' },\n								{ title: \'Cook Islands\' },\n								{ title: \'Chils\' },\n								{ title: \'Cameroos\' },\n								{ title: \'Chins\' },\n								{ title: \'Colombis\' },\n								{ title: \'Costa Rics\' },\n								{ title: \'Serbis\' },\n								{ title: \'Cubs\' },\n								{ title: \'Cape Verds\' },\n								{ title: \'Christmas Islans\' },\n								{ title: \'Cyprus\' },\n								{ title: \'Czech Republis\' },\n								{ title: \'Germans\' },\n								{ title: \'Djibouts\' },\n								{ title: \'Denmars\' },\n								{ title: \'Dominics\' },\n								{ title: \'Dominican Republis\' },\n								{ title: \'Algeris\' },\n								{ title: \'Ecuados\' },\n								{ title: \'Estonis\' },\n								{ title: \'Egyps\' },\n								{ title: \'Western Sahars\' },\n								{ title: \'Eritres\' },\n								{ title: \'Spais\' },\n								{ title: \'Ethiopis\' },\n								{ title: \'European Unios\' },\n								{ title: \'Finlans\' },\n								{ title: \'Fijs\' },\n								{ title: \'Falkland Islands\' },\n								{ title: \'Micronesis\' },\n								{ title: \'Faroe Islands\' },\n								{ title: \'Francs\' },\n								{ title: \'Gabos\' },\n								{ title: \'Englans\' },\n								{ title: \'Grenads\' },\n								{ title: \'Georgis\' },\n								{ title: \'French Guians\' },\n								{ title: \'Ghans\' },\n								{ title: \'Gibraltas\' },\n								{ title: \'Greenlans\' },\n								{ title: \'Gambis\' },\n								{ title: \'Guines\' },\n								{ title: \'Guadeloups\' },\n								{ title: \'Equatorial Guines\' },\n								{ title: \'Greecs\' },\n								{ title: \'Sandwich Islands\' },\n								{ title: \'Guatemals\' },\n								{ title: \'Guas\' },\n								{ title: \'Guinea-Bissas\' },\n								{ title: \'Guyans\' },\n								{ title: \'Hong Kons\' },\n								{ title: \'Heard Islans\' },\n								{ title: \'Honduras\' },\n								{ title: \'Croatis\' },\n								{ title: \'Haits\' },\n								{ title: \'Hungars\' },\n								{ title: \'Indonesis\' },\n								{ title: \'Irelans\' },\n								{ title: \'Israes\' },\n								{ title: \'Indis\' },\n								{ title: \'Indian Ocean Territors\' },\n								{ title: \'Iras\' },\n								{ title: \'Iras\' },\n								{ title: \'Icelans\' },\n								{ title: \'Itals\' },\n								{ title: \'Jamaics\' },\n								{ title: \'Jordas\' },\n								{ title: \'Japas\' },\n								{ title: \'Kenys\' },\n								{ title: \'Kyrgyzstas\' },\n								{ title: \'Cambodis\' },\n								{ title: \'Kiribats\' },\n								{ title: \'Comoros\' },\n								{ title: \'Saint Kitts and Nevis\' },\n								{ title: \'North Kores\' },\n								{ title: \'South Kores\' },\n								{ title: \'Kuwais\' },\n								{ title: \'Cayman Islands\' },\n								{ title: \'Kazakhstas\' },\n								{ title: \'Laos\' },\n								{ title: \'Lebanos\' },\n								{ title: \'Saint Lucis\' },\n								{ title: \'Liechtensteis\' },\n								{ title: \'Sri Lanks\' },\n								{ title: \'Liberis\' },\n								{ title: \'Lesoths\' },\n								{ title: \'Lithuanis\' },\n								{ title: \'Luxembours\' },\n								{ title: \'Latvis\' },\n								{ title: \'Libys\' },\n								{ title: \'Moroccs\' },\n								{ title: \'Monacs\' },\n								{ title: \'Moldovs\' },\n								{ title: \'Montenegrs\' },\n								{ title: \'Madagascas\' },\n								{ title: \'Marshall Islands\' },\n								{ title: \'MacEdonis\' },\n								{ title: \'Mals\' },\n								{ title: \'Burms\' },\n								{ title: \'Mongolis\' },\n								{ title: \'MacAs\' },\n								{ title: \'Northern Mariana Islands\' },\n								{ title: \'Martiniqus\' },\n								{ title: \'Mauritanis\' },\n								{ title: \'Montserras\' },\n								{ title: \'Malts\' },\n								{ title: \'Mauritius\' },\n								{ title: \'Maldives\' },\n								{ title: \'Malaws\' },\n								{ title: \'Mexics\' },\n								{ title: \'Malaysis\' },\n								{ title: \'Mozambiqus\' },\n								{ title: \'Namibis\' },\n								{ title: \'New Caledonis\' },\n								{ title: \'Niges\' },\n								{ title: \'Norfolk Islans\' },\n								{ title: \'Nigeris\' },\n								{ title: \'Nicaragus\' },\n								{ title: \'Netherlands\' },\n								{ title: \'Norwas\' },\n								{ title: \'Nepas\' },\n								{ title: \'Naurs\' },\n								{ title: \'Nius\' },\n								{ title: \'New Zealans\' },\n								{ title: \'Omas\' },\n								{ title: \'Panams\' },\n								{ title: \'Pers\' },\n								{ title: \'French Polynesis\' },\n								{ title: \'New Guines\' },\n								{ title: \'Philippines\' },\n								{ title: \'Pakistas\' },\n								{ title: \'Polans\' },\n								{ title: \'Saint Pierrs\' },\n								{ title: \'Pitcairn Islands\' },\n								{ title: \'Puerto Rics\' },\n								{ title: \'Palestins\' },\n								{ title: \'Portugas\' },\n								{ title: \'Palas\' },\n								{ title: \'Paraguas\' },\n								{ title: \'Qatas\' },\n								{ title: \'Reunios\' },\n								{ title: \'Romanis\' },\n								{ title: \'Serbis\' },\n								{ title: \'Russis\' },\n								{ title: \'Rwands\' },\n								{ title: \'Saudi Arabis\' },\n								{ title: \'Solomon Islands\' },\n								{ title: \'Seychelles\' },\n								{ title: \'Sudas\' },\n								{ title: \'Swedes\' },\n								{ title: \'Singapors\' },\n								{ title: \'Saint Helens\' },\n								{ title: \'Slovenis\' },\n								{ title: \'Svalbard, I Flag Jan Mayes\' },\n								{ title: \'Slovakis\' },\n								{ title: \'Sierra Leons\' },\n								{ title: \'San Marins\' },\n								{ title: \'Senegas\' },\n								{ title: \'Somalis\' },\n								{ title: \'Surinams\' },\n								{ title: \'Sao Toms\' },\n								{ title: \'El Salvados\' },\n								{ title: \'Syris\' },\n								{ title: \'Swazilans\' },\n								{ title: \'Caicos Islands\' },\n								{ title: \'Chas\' },\n								{ title: \'French Territories\' },\n								{ title: \'Togs\' },\n								{ title: \'Thailans\' },\n								{ title: \'Tajikistas\' },\n								{ title: \'Tokelas\' },\n								{ title: \'Timorlests\' },\n								{ title: \'Turkmenistas\' },\n								{ title: \'Tunisis\' },\n								{ title: \'Tongs\' },\n								{ title: \'Turkes\' },\n								{ title: \'Trinidas\' },\n								{ title: \'Tuvals\' },\n								{ title: \'Taiwas\' },\n								{ title: \'Tanzanis\' },\n								{ title: \'Ukrains\' },\n								{ title: \'Ugands\' },\n								{ title: \'Us Minor Islands\' },\n								{ title: \'United States\' },\n								{ title: \'Uruguas\' },\n								{ title: \'Uzbekistas\' },\n								{ title: \'Vatican Cits\' },\n								{ title: \'Saint Vincens\' },\n								{ title: \'Venezuels\' },\n								{ title: \'British Virgin Islands\' },\n								{ title: \'Us Virgin Islands\' },\n								{ title: \'Vietnas\' },\n								{ title: \'Vanuats\' },\n								{ title: \'Wallis and Futuns\' },\n								{ title: \'Samos\' },\n								{ title: \'Yemes\' },\n								{ title: \'Mayotts\' },\n								{ title: \'South Africs\' },\n								{ title: \'Zambis\' },\n								{ title: \'Zimbabws\' }\n							];\n							$( \'.search.demo .local\' )\n								.search( {\n									source: content\n								} )\n							;\n							$( \'.search.demo .remote\' )\n								.search( {\n									apiSettings: {\n										action: \'search\'\n									}\n								} )\n							;\n							$( \'.search.demo .category\' )\n								.search( {\n									type: \'category\',\n									apiSettings: {\n										action: \'categorySearch\'\n									}\n								} )\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Shape-->\n			<h3 class="ui dividing header">\n				Shape\n			</h3>\n\n			<div class="ui segment">\n				<div class="shape demos">\n					<div class="ui two column center aligned stackable doubling grid">\n						<div class="column">\n							<div class="ui shape">\n								<div class="sides">\n									<div class="active side">\n										<img src="assets/images/carbon-ui/image.png" class="ui medium image">\n									</div>\n									<div class="side">\n										<img src="assets/images/carbon-ui/image-text.png" class="ui medium image">\n									</div>\n								</div>\n							</div>\n\n							<div class="ui ignored hidden divider"></div>\n\n							<div class="ui ignored icon direction buttons">\n								<div class="ui button" data-animation="flip" title="Flip Left" data-direction="left"><i class="left long arrow icon"></i></div>\n								<div class="ui button" data-animation="flip" title="Flip Up" data-direction="up"><i class="up long arrow icon"></i></div>\n								<div class="ui icon button" data-animation="flip" title="Flip Down" data-direction="down"><i class="down long arrow icon"></i></div>\n								<div class="ui icon button" data-animation="flip" title="Flip Right" data-direction="right"><i class="right long arrow icon"></i></div>\n							</div>\n\n							<div class="ui ignored icon direction buttons">\n								<div class="ui button" title="Flip Over" data-animation="flip" data-direction="over"><i class="retweet icon"></i></div>\n								<div class="ui button" title="Flip Back" data-animation="flip" data-direction="back"><i class="flipped retweet icon"></i></div>\n							</div>\n						</div>\n						<div class="column">\n							<div class="ui cube shape">\n								<div class="sides">\n									<div class="active side">\n										<div class="content">\n											<div class="center">\n												1\n											</div>\n										</div>\n									</div>\n									<div class="side">\n										<div class="content">\n											<div class="center">\n												2\n											</div>\n										</div>\n									</div>\n									<div class="side">\n										<div class="content">\n											<div class="center">\n												3\n											</div>\n										</div>\n									</div>\n									<div class="side">\n										<div class="content">\n											<div class="center">\n												4\n											</div>\n										</div>\n									</div>\n									<div class="side">\n										<div class="content">\n											<div class="center">\n												5\n											</div>\n										</div>\n									</div>\n									<div class="side">\n										<div class="content">\n											<div class="center">\n												6\n											</div>\n										</div>\n									</div>\n								</div>\n							</div>\n\n							<div class="ui ignored hidden divider"></div>\n\n							<div class="ui ignored icon direction buttons">\n								<div class="ui button" data-animation="flip" title="Flip Left" data-direction="left"><i class="left long arrow icon"></i></div>\n								<div class="ui button" data-animation="flip" title="Flip Up" data-direction="up"><i class="up long arrow icon"></i></div>\n								<div class="ui icon button" data-animation="flip" data-direction="down" title="Flip Down"><i class="down long arrow icon"></i></div>\n								<div class="ui icon button" data-animation="flip" title="Flip Right" data-direction="right"><i class="right long arrow icon"></i></div>\n							</div>\n							<div class="ui ignored icon direction buttons">\n								<div class="ui button" title="Flip Over" data-animation="flip" data-direction="over"><i class="retweet icon"></i></div>\n								<div class="ui button" title="Flip Back" data-animation="flip" data-direction="back"><i class="flipped retweet icon"></i></div>\n							</div>\n						</div>\n						<div class="sixteen wide left aligned column">\n							<div class="ui text shape">\n								<div class="sides">\n									<div class="active ui header side">Did you know? This side starts visible.</div>\n									<div class="ui header side">Help, its another side!</div>\n									<div class="ui header side">This is the last side</div>\n								</div>\n							</div>\n\n							<div class="ui ignored hidden divider"></div>\n\n							<div class="ui ignored icon direction buttons">\n								<div class="ui button" data-animation="flip" title="Flip Left" data-direction="left"><i class="left long arrow icon"></i></div>\n								<div class="ui button" data-animation="flip" title="Flip Up" data-direction="up"><i class="up long arrow icon"></i></div>\n								<div class="ui icon button" data-animation="flip" title="Flip Down" data-direction="down"><i class="down long arrow icon"></i></div>\n								<div class="ui icon button" data-animation="flip" title="Flip Right" data-direction="right"><i class="right long arrow icon"></i></div>\n							</div>\n							<div class="ui ignored icon direction buttons">\n								<div class="ui button" title="Flip Over" data-animation="flip" data-direction="over"><i class="retweet icon"></i></div>\n								<div class="ui button" title="Flip Back" data-animation="flip" data-direction="back"><i class="flipped retweet icon"></i></div>\n							</div>\n\n						</div>\n					</div>\n				</div>\n\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n\n							var\n								$demo = $( \'.shape.demos .ui.shape\' ),\n								$directionButton = $( \'.shape.demos .direction .button\' ),\n								handler\n								;\n\n							// event handlers\n							handler = {\n								rotate: function() {\n									var\n										$shape = $( this ).closest( \'.buttons\' ).prevAll( \'.ui.shape\' ).eq( 0 ),\n										direction = $( this ).data( \'direction\' ) || false,\n										animation = $( this ).data( \'animation\' ) || false\n										;\n									if( direction && animation ) {\n										$shape\n											.shape( animation + \'.\' + direction )\n										;\n									}\n								}\n							};\n\n							// attach events\n							$demo\n								.shape()\n							;\n							$directionButton\n								.on( \'click\', handler.rotate )\n								.popup( {\n									position: \'bottom center\'\n								} )\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Sidebar-->\n			<h3 class="ui dividing header">\n				Sidebar\n			</h3>\n\n			<div class="ui segment">\n				<div class="sidebar direction demo">\n\n					<div class="ui pushable dimmable" style="overflow-y:hidden;">\n						<div class="ui left demo vertical inverted labeled icon sidebar menu">\n							<a class="item">\n								<i class="home icon"></i>\n								Home\n							</a>\n							<a class="item">\n								<i class="block layout icon"></i>\n								Topics\n							</a>\n							<a class="item">\n								<i class="smile icon"></i>\n								Friends\n							</a>\n							<a class="item">\n								<i class="calendar icon"></i>\n								History\n							</a>\n						</div>\n						<div class="ui right demo sidebar vertical inverted menu">\n							<a class="header item">File Permissions</a>\n							<a class="item">Share on Social</a>\n							<a class="item">Share by E-mail</a>\n							<a class="item">Edit Permissions</a>\n							<a class="item">Delete Permanently</a>\n						</div>\n						<div class="ui top demo sidebar ui segment">\n							<div class="ui center aligned page grid">\n								<div class="one column row">\n									<div class="sixteen wide column">\n										<h3 class="ui header">New Content Awaits</h3>\n									</div>\n								</div>\n								<div class="three column divided row">\n									<div class="column">\n										<img class="ui wireframe image" src="assets/images/carbon-ui/media-paragraph.png">\n									</div>\n									<div class="column">\n										<img class="ui wireframe image" src="assets/images/carbon-ui/media-paragraph.png">\n									</div>\n									<div class="column">\n										<img class="ui wireframe image" src="assets/images/carbon-ui/media-paragraph.png">\n									</div>\n								</div>\n							</div>\n						</div>\n						<div class="ui bottom demo inverted nine item labeled icon sidebar menu">\n							<a class="item">\n								<i class="home icon"></i>\n								Home\n							</a>\n							<a class="item">\n								<i class="block layout icon"></i>\n								Topics\n							</a>\n							<a class="item">\n								<i class="smile icon"></i>\n								Friends\n							</a>\n							<a class="item">\n								<i class="calendar icon"></i>\n								History\n							</a>\n							<a class="item">\n								<i class="mail icon"></i>\n								Messages\n							</a>\n							<a class="item">\n								<i class="chat icon"></i>\n								Discussions\n							</a>\n							<a class="item">\n								<i class="trophy icon"></i>\n								Achievements\n							</a>\n							<a class="item">\n								<i class="shop icon"></i>\n								Store\n							</a>\n							<a class="item">\n								<i class="settings icon"></i>\n								Settings\n							</a>\n						</div>\n						<div class="pusher">\n							<div class="ui segment">\n								<h3 class="ui header">Application Content</h3>\n								<img class="ui wireframe image" src="assets/images/carbon-ui/short-paragraph.png">\n								<img class="ui wireframe image" src="assets/images/carbon-ui/short-paragraph.png">\n								<img class="ui wireframe image" src="assets/images/carbon-ui/short-paragraph.png">\n								<img class="ui wireframe image" src="assets/images/carbon-ui/short-paragraph.png">\n							</div>\n\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n					<div class="ui toggle dim checkbox checked">\n						<input type="checkbox" name="dim" tabindex="0" class="hidden">\n						<label>Dim Page</label>\n					</div>\n\n					<div class="ui hidden divider"></div>\n					<div class="ui buttons">\n						<div class="ui button active" data-direction="left">\n							Left\n						</div>\n						<div class="ui button" data-direction="right">\n							Right\n						</div>\n						<div class="ui button" data-direction="top">\n							Top\n						</div>\n						<div class="ui button" data-direction="bottom">\n							Bottom\n						</div>\n					</div>\n\n					<div class="ui hidden divider"></div>\n					<h5 class="ui header">Animation</h5>\n\n					<div class="ui button" data-transition="overlay">\n						Overlay\n					</div>\n					<div class="ui button" data-transition="push">\n						Push\n					</div>\n					<div class="ui button" data-transition="scale down">\n						Scale Down\n					</div>\n\n					<h5 class="ui header">Horizontal-Only Animation</h5>\n\n					<div class="ui button" data-transition="uncover">\n						Uncover\n					</div>\n					<div class="ui button" data-transition="slide along">\n						Slide Along\n					</div>\n					<div class="ui button" data-transition="slide out">\n						Slide Out\n					</div>\n				</div>\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n\n							$( \'.sidebar.direction.demo\' )\n								.find( \'.buttons .button\' )\n								.on( \'click\', function() {\n									var\n										direction = $( this ).data( \'direction\' )\n										;\n									$( this ).addClass( \'active\' ).siblings().removeClass( \'active\' );\n									if( direction === \'top\' || direction === \'bottom\' ) {\n										$( \'.horizontal.button\' ).addClass( \'disabled\' );\n									}\n									else {\n										$( \'.horizontal.button\' ).removeClass( \'disabled\' );\n									}\n								} )\n								.end()\n								.children( \'.button\' )\n								.on( \'click\', function() {\n									var\n										transition = $( this ).data( \'transition\' ),\n										direction = $( \'.sidebar.direction.demo .buttons .button.active\' ).data( \'direction\' ),\n										dimPage = $( \'.sidebar.direction.demo .dim\' ).checkbox( \'is checked\' )\n										;\n									if( $( this ).filter( \'.disabled\' ).size() === 0 ) {\n										$( \'.\' + direction + \'.demo.sidebar\' )\n											.not( \'.styled\' )\n											.sidebar( \'setting\', {\n												dimPage         : dimPage,\n												transition: transition,\n												mobileTransition: transition\n											} )\n										;\n										$( \'.\' + direction + \'.demo.sidebar\' ).not( \'.styled\' ).sidebar( \'toggle\' );\n									}\n\n								} )\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Tab-->\n			<h3 class="ui dividing header">\n				Tab\n			</h3>\n\n			<div class="ui segment">\n				<div class="tab demo">\n					<div class="ui secondary menu">\n						<a class="item" data-tab="first">First</a>\n						<a class="item active" data-tab="second">Second</a>\n						<a class="item" data-tab="third">Third</a>\n					</div>\n					<div class="ui tab segment" data-tab="first">\n						<div class="ui top attached tabular menu">\n							<a class="active item" data-tab="first/a">1A</a>\n							<a class="item" data-tab="first/b">1B</a>\n							<a class="item" data-tab="first/c">1C</a>\n						</div>\n						<div class="ui bottom attached active tab segment" data-tab="first/a">1A</div>\n						<div class="ui bottom attached tab segment" data-tab="first/b">1B</div>\n						<div class="ui bottom attached tab segment" data-tab="first/c">1C</div>\n					</div>\n					<div class="ui tab segment active" data-tab="second">\n						<div class="ui top attached tabular menu">\n							<a class="item" data-tab="second/a">2A</a>\n							<a class="item" data-tab="second/b">2B</a>\n							<a class="item active" data-tab="second/c">2C</a>\n						</div>\n						<div class="ui bottom attached tab segment" data-tab="second/a">2A</div>\n						<div class="ui bottom attached tab segment" data-tab="second/b">2B</div>\n						<div class="ui bottom attached tab segment active" data-tab="second/c">2C</div>\n					</div>\n					<div class="ui tab segment" data-tab="third">\n						<div class="ui top attached tabular menu">\n							<a class="item" data-tab="third/a">3A</a>\n							<a class="item" data-tab="third/b">3B</a>\n							<a class="item" data-tab="third/c">3C</a>\n						</div>\n						<div class="ui bottom attached tab segment" data-tab="third/a">3A</div>\n						<div class="ui bottom attached tab segment" data-tab="third/b">3B</div>\n						<div class="ui bottom attached tab segment" data-tab="third/c">3C</div>\n					</div>\n				</div>\n\n\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.tab.demo .menu .item\' )\n								.tab( {\n									history: true,\n									context: $( \'.tab.demo\' )\n								} )\n							;\n						} )\n					;\n				</script>\n			</div>\n\n\n			<!--Transition-->\n			<h3 class="ui dividing header">\n				Transition\n			</h3>\n\n			<div class="ui segment">\n				<div class="transition demo">\n\n					<div class="ui small images">\n						<img class="ui image" src="assets/images/carbon-ui/leaves/14.png">\n						<img class="ui image" src="assets/images/carbon-ui/leaves/20.png">\n						<img class="ui image" src="assets/images/carbon-ui/leaves/12.png">\n						<img class="ui image" src="assets/images/carbon-ui/leaves/9.png">\n						<img class="ui image" src="assets/images/carbon-ui/leaves/13.png">\n					</div>\n\n					<div class="ui button">Flash</div>\n					<div class="ui button">Shake</div>\n					<div class="ui button">Pulse</div>\n					<div class="ui button">Tada</div>\n					<div class="ui button">Bounce</div>\n					<div class="ui button">Drop</div>\n					<div class="ui button">Browse</div>\n					<div class="ui button">Horizontal Flip</div>\n					<div class="ui button">Vertical Flip</div>\n					<div class="ui button">Fade</div>\n					<div class="ui button">Fade Up</div>\n					<div class="ui button">Fade Down</div>\n					<div class="ui button">Scale</div>\n					<div class="ui button">Slide Down</div>\n					<div class="ui button">Slide Up</div>\n\n				</div>\n				<style type="text/css">\n					.transition.demo .button {\n						margin-bottom: 0.5em;\n					}\n\n					/* Dont hide on hide */\n					.transition.demo .ui.hidden.image {\n						display: inline-block !important;\n					}\n				</style>\n				<script type="text/javascript">\n					$( document )\n						.ready( function() {\n							$( \'.transition.demo .button\' ).on( \'click\', function() {\n								var animation = $( this ).text();\n								if( typeof animation == \'string\' ) {\n									animation = animation.toLowerCase();\n								}\n								$( \'.transition.demo .image\' ).transition( {\n									animation: animation,\n									interval : 200\n								} );\n							} );\n						} );\n				</script>\n			</div>\n		</div>\n	</div>\n</div>';
})}(),$__System.register("81",[],function(){return{setters:[],execute:function(){}}}),$__System.register("82",["13","2d","6b","6d","6a","80","81"],function(exports_1,context_1){"use strict";var core_1,common_1,CodeMirrorComponent,jquery_1,template_html_1,UIExamplesView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){UIExamplesView=function(){function UIExamplesView(element){this.element=element}return UIExamplesView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.mainMenu=this.$element.find(".mainhead .menu "),this.mainMenu.find(".item").tab(),this.elementsTabContent=this.$element.find('.ui.tab[data-tab="elements"]'),this.collectionsTabContent=this.$element.find('.ui.tab[data-tab="collections"]'),this.viewsTabContent=this.$element.find('.ui.tab[data-tab="views"]'),this.modulesTabContent=this.$element.find('.ui.tab[data-tab="modules"]'),this.enableCollectionsJavascript(),this.enableViewsJavascript(),this.enableModulesJavascript()},UIExamplesView.prototype.enableCollectionsJavascript=function(){this.collectionsTabContent.find(".ui.dropdown").dropdown(),this.collectionsTabContent.find(".ui.checkbox").checkbox(),this.collectionsTabContent.find(".menu a.item").on("click",function(){jquery_1["default"](this).hasClass("dropdown")||jquery_1["default"](this).addClass("active").closest(".ui.menu").find("item").not(jquery_1["default"](this)).removeClass("active")}),this.collectionsTabContent.find(".message .close").on("click",function(){jquery_1["default"](this).closest(".message").transition("scale out")})},UIExamplesView.prototype.enableViewsJavascript=function(){this.viewsTabContent.find(".star.rating").rating(),this.viewsTabContent.find(".card .dimmer").dimmer({on:"hover"})},UIExamplesView.prototype.enableModulesJavascript=function(){var demo;this.modulesTabContent.find(".ui.accordion").accordion(),this.modulesTabContent.find(".ui.checkbox").checkbox(),demo=this.modulesTabContent.find(".dimmer.demo"),demo.find(".show.button").on("click",function(){jquery_1["default"](this).closest(".demo").find(".segment").dimmer("show")}),demo.find(".hide.button").on("click",function(){jquery_1["default"](this).closest(".demo").find(".segment").dimmer("hide")}),demo=this.modulesTabContent.find(".dropdown.demos"),demo.find(".ui.dropdown").dropdown(),demo.find(".ui.menu .dropdown").dropdown({on:"hover"}),this.modulesTabContent.find(".ui.fullscreen.demo.modal").modal("attach events",".ui.fullscreen.demo.button"),this.modulesTabContent.find(".ui.standard.demo.modal").modal("attach events",".ui.standard.demo.button"),this.modulesTabContent.find(".ui.basic.demo.modal").modal("attach events",".ui.minimal.demo.button"),demo=this.modulesTabContent.find(".popup.demos"),demo.find(".position .icon").popup(),demo.find(".avatar").popup(),demo.find(".button").popup(),demo.find(".menu .browse").popup({inline:!0,hoverable:!0,position:"bottom left",delay:{show:300,hide:800}}),this.modulesTabContent.find(".attached.progress.demo").progress({label:!1,value:Math.floor(5*Math.random())+1}),this.modulesTabContent.find(".basic.progress.demo").progress({label:!1,value:Math.floor(5*Math.random())+1,text:{active:"{percent}% Complete",success:"Done!"}}),this.modulesTabContent.find(".indicating.progress.demo").progress({label:!0,total:10,value:Math.floor(5*Math.random())+1,text:{active:"{percent}% Done",success:"Completed!"}}),this.modulesTabContent.find(".file.progress.demo").progress({label:!1,text:{active:"Uploading {value} of {total}",success:"{total} Files Uploaded!"}});var _self=this,progress=function(){_self.modulesTabContent.find(".demo.progress").progress("increment"),setTimeout(progress,2e3*Math.random()+300)};setTimeout(progress,1e3),setInterval(function(){_self.modulesTabContent.find(".demo.progress").progress("reset")},3e4),this.modulesTabContent.find(".rating.demos .items .ui.rating").rating(),this.modulesTabContent.find(".rating.demos .list .ui.rating").rating({clearable:!0}),jquery_1["default"].extend(jquery_1["default"].fn.api.settings.api,{categorySearch:"//api.semantic-ui.com/search/category/{query}",getOverrides:"/src/themes/{$theme}/{$type}s/{$element}.overrides",getVariables:"/src/themes/{$theme}/{$type}s/{$element}.variables",search:"//api.semantic-ui.com/search/{query}"});var content=[{title:"Andorrs"},{title:"United Arab Emirates"},{title:"Afghanistas"},{title:"Antigus"},{title:"Anguills"},{title:"Albanis"},{title:"Armenis"},{title:"Netherlands Antilles"},{title:"Angols"},{title:"Argentins"},{title:"American Samos"},{title:"Austris"},{title:"Australis"},{title:"Arubs"},{title:"Aland Islands"},{title:"Azerbaijas"},{title:"Bosnis"},{title:"Barbados"},{title:"Bangladess"},{title:"Belgius"},{title:"Burkina Fass"},{title:"Bulgaris"},{title:"Bahrais"},{title:"Burunds"},{title:"Benis"},{title:"Bermuds"},{title:"Brunes"},{title:"Bolivis"},{title:"Brazis"},{title:"Bahamas"},{title:"Bhutas"},{title:"Bouvet Islans"},{title:"Botswans"},{title:"Belarus"},{title:"Belizs"},{title:"Canads"},{title:"Cocos Islands"},{title:"Congs"},{title:"Central African Republis"},{title:"Congo Brazzavills"},{title:"Switzerlans"},{title:"Cote Divoirs"},{title:"Cook Islands"},{title:"Chils"},{title:"Cameroos"},{title:"Chins"},{title:"Colombis"},{title:"Costa Rics"},{title:"Serbis"},{title:"Cubs"},{title:"Cape Verds"},{title:"Christmas Islans"},{title:"Cyprus"},{title:"Czech Republis"},{title:"Germans"},{title:"Djibouts"},{title:"Denmars"},{title:"Dominics"},{title:"Dominican Republis"},{title:"Algeris"},{title:"Ecuados"},{title:"Estonis"},{title:"Egyps"},{title:"Western Sahars"},{title:"Eritres"},{title:"Spais"},{title:"Ethiopis"},{title:"European Unios"},{title:"Finlans"},{title:"Fijs"},{title:"Falkland Islands"},{title:"Micronesis"},{title:"Faroe Islands"},{title:"Francs"},{title:"Gabos"},{title:"Englans"},{title:"Grenads"},{title:"Georgis"},{title:"French Guians"},{title:"Ghans"},{title:"Gibraltas"},{title:"Greenlans"},{title:"Gambis"},{title:"Guines"},{title:"Guadeloups"},{title:"Equatorial Guines"},{title:"Greecs"},{title:"Sandwich Islands"},{title:"Guatemals"},{title:"Guas"},{title:"Guinea-Bissas"},{title:"Guyans"},{title:"Hong Kons"},{title:"Heard Islans"},{title:"Honduras"},{title:"Croatis"},{title:"Haits"},{title:"Hungars"},{title:"Indonesis"},{title:"Irelans"},{title:"Israes"},{title:"Indis"},{title:"Indian Ocean Territors"},{title:"Iras"},{title:"Iras"},{title:"Icelans"},{title:"Itals"},{title:"Jamaics"},{title:"Jordas"},{title:"Japas"},{title:"Kenys"},{title:"Kyrgyzstas"},{title:"Cambodis"},{title:"Kiribats"},{title:"Comoros"},{title:"Saint Kitts and Nevis"},{title:"North Kores"},{title:"South Kores"},{title:"Kuwais"},{title:"Cayman Islands"},{title:"Kazakhstas"},{title:"Laos"},{title:"Lebanos"},{title:"Saint Lucis"},{title:"Liechtensteis"},{title:"Sri Lanks"},{title:"Liberis"},{title:"Lesoths"},{title:"Lithuanis"},{title:"Luxembours"},{title:"Latvis"},{title:"Libys"},{title:"Moroccs"},{title:"Monacs"},{title:"Moldovs"},{title:"Montenegrs"},{title:"Madagascas"},{title:"Marshall Islands"},{title:"MacEdonis"},{title:"Mals"},{title:"Burms"},{title:"Mongolis"},{title:"MacAs"},{title:"Northern Mariana Islands"},{title:"Martiniqus"},{title:"Mauritanis"},{title:"Montserras"},{title:"Malts"},{title:"Mauritius"},{title:"Maldives"},{title:"Malaws"},{title:"Mexics"},{title:"Malaysis"},{title:"Mozambiqus"},{title:"Namibis"},{title:"New Caledonis"},{title:"Niges"},{title:"Norfolk Islans"},{title:"Nigeris"},{title:"Nicaragus"},{title:"Netherlands"},{title:"Norwas"},{title:"Nepas"},{title:"Naurs"},{title:"Nius"},{title:"New Zealans"},{title:"Omas"},{title:"Panams"},{title:"Pers"},{title:"French Polynesis"},{title:"New Guines"},{title:"Philippines"},{title:"Pakistas"},{title:"Polans"},{title:"Saint Pierrs"},{title:"Pitcairn Islands"},{title:"Puerto Rics"},{title:"Palestins"},{title:"Portugas"},{title:"Palas"},{title:"Paraguas"},{title:"Qatas"},{title:"Reunios"},{title:"Romanis"},{title:"Serbis"},{title:"Russis"},{title:"Rwands"},{title:"Saudi Arabis"},{title:"Solomon Islands"},{title:"Seychelles"},{title:"Sudas"},{title:"Swedes"},{title:"Singapors"},{title:"Saint Helens"},{title:"Slovenis"},{title:"Svalbard, I Flag Jan Mayes"},{title:"Slovakis"},{title:"Sierra Leons"},{title:"San Marins"},{title:"Senegas"},{title:"Somalis"},{title:"Surinams"},{title:"Sao Toms"},{title:"El Salvados"},{title:"Syris"},{title:"Swazilans"},{title:"Caicos Islands"},{title:"Chas"},{title:"French Territories"},{title:"Togs"},{title:"Thailans"},{title:"Tajikistas"},{title:"Tokelas"},{title:"Timorlests"},{title:"Turkmenistas"},{title:"Tunisis"},{title:"Tongs"},{title:"Turkes"},{title:"Trinidas"},{title:"Tuvals"},{title:"Taiwas"},{title:"Tanzanis"},{title:"Ukrains"},{title:"Ugands"},{title:"Us Minor Islands"},{title:"United States"},{title:"Uruguas"},{title:"Uzbekistas"},{title:"Vatican Cits"},{title:"Saint Vincens"},{title:"Venezuels"},{title:"British Virgin Islands"},{title:"Us Virgin Islands"},{title:"Vietnas"},{title:"Vanuats"},{title:"Wallis and Futuns"},{title:"Samos"},{title:"Yemes"},{title:"Mayotts"},{title:"South Africs"},{title:"Zambis"},{title:"Zimbabw"}];demo=this.modulesTabContent.find(".search.demo"),demo.find(".local").search({source:content}),demo.find(".remote").search({apiSettings:{action:"search"}}),demo.find(".category").search({type:"category",apiSettings:{action:"categorySearch"}}),demo=this.modulesTabContent.find(".shape.demos .container");var handler,$directionButton=this.modulesTabContent.find(".shape.demos .direction .button");handler={rotate:function(){var $shape=jquery_1["default"](this).closest(".buttons").prevAll(".ui.shape").eq(0),direction=jquery_1["default"](this).data("direction")||!1,animation=jquery_1["default"](this).data("animation")||!1;direction&&animation&&$shape.shape(animation+"."+direction)}},demo.find(".ui.shape").shape(),$directionButton.on("click",handler.rotate).popup({position:"bottom center"}),demo=this.modulesTabContent.find(".sidebar.direction.demo"),demo.find(".buttons .button").on("click",function(){var direction=jquery_1["default"](this).data("direction");jquery_1["default"](this).addClass("active").siblings().removeClass("active"),"top"===direction||"bottom"===direction?_self.modulesTabContent.find(".horizontal.button").addClass("disabled"):_self.modulesTabContent.find(".horizontal.button").removeClass("disabled")}),demo.children(".button").on("click",function(){var transition=jquery_1["default"](this).data("transition"),direction=_self.modulesTabContent.find(".sidebar.direction.demo .buttons .button.active").data("direction"),dimPage=_self.modulesTabContent.find(".sidebar.direction.demo .dim").checkbox("is checked");0===jquery_1["default"](this).filter(".disabled").size()&&(_self.modulesTabContent.find("."+direction+".demo.sidebar").sidebar({context:_self.modulesTabContent.find(".pushable.dimmable"),dimPage:dimPage,transition:transition,mobileTransition:transition}),_self.modulesTabContent.find("."+direction+".demo.sidebar").not(".styled").sidebar("toggle"))}),demo=this.modulesTabContent.find(".tab.demo"),demo.find(".menu .item").tab({context:_self.modulesTabContent.find(".tab.demo")}),demo=this.modulesTabContent.find(".transition.demo"),demo.find(" .button").on("click",function(){var animation=jquery_1["default"](this).text();"string"==typeof animation&&(animation=animation.toLowerCase()),_self.modulesTabContent.find(".transition.demo .image").transition({animation:animation,interval:200})})},UIExamplesView=__decorate([core_1.Component({selector:"carbon-ui",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,CodeMirrorComponent.Class,common_1.FORM_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],UIExamplesView);var _a}(),exports_1("default",UIExamplesView)}}}),$__System.register("83",[],function(exports_1,context_1){"use strict";var ValidationService;context_1&&context_1.id;return{setters:[],execute:function(){ValidationService=function(){function ValidationService(){}return ValidationService.getValidatorErrorMessage=function(code){var config={required:"Required",invalidEmailAddress:"Invalid email address",invalidPassword:"Invalid password. Password must be at least 6 characters long, and contain a number."};return config[code]},ValidationService.emailValidator=function(control){return control.value.match(/[a-z0-9!#$%&"*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&"*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)?null:{invalidEmailAddress:!0}},ValidationService.passwordValidator=function(control){return control.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)?null:{invalidPassword:!0}},ValidationService}(),exports_1("ValidationService",ValidationService)}}}),function(){var define=$__System.amdDefine;define("84",[],function(){return'<div class="formContainer">\n	<form [ngFormModel]="loginForm" class="ui form attached segment large loginForm" role="form" (submit)="onSubmit(loginForm.value, $event)">\n		<div class="field" [ngClass]="{ error: (email.touched && !email.valid) }">\n			<div class="ui left icon input">\n				<i class="user icon"></i>\n				<input type="text"\n				       name="email"\n				       placeholder="E-mail address"\n				       ngControl="email">\n			</div>\n		</div>\n		<div class="field" [ngClass]="{ error: (password.touched && !password.valid) }">\n			<div class="ui left icon input">\n				<i class="lock icon"></i>\n				<input type="password"\n				       name="password"\n				       placeholder="password"\n				       ngControl="password">\n			</div>\n		</div>\n		<button type="submit"\n		        [ngClass]="{ loading: submitting }"\n		        class="ui fluid large california submit button"\n		        [disabled]="!loginForm.valid"\n		        (click)="onSubmit(loginForm.value, $event)">\n			Login\n		</button>\n	</form>\n	<div class="ui negative attached message segment" *ngIf="email.touched && !email.valid">\n		<ul class="list">\n			<li *ngIf="email.hasError(\'required\')">email is required.</li>\n			<li *ngIf="!email.hasError(\'required\') && email.hasError(\'invalidEmailAddress\')">Enter a valid email address.</li>\n		</ul>\n	</div>\n	<div class="ui negative attached message segment" *ngIf="password.touched && !password.valid">\n		<ul class="list">\n			<li *ngIf="password.hasError(\'required\')">password is required.</li>\n			<li *ngIf="!password.hasError(\'required\') && password.hasError(\'invalidPassword\')">password is invalid.</li>\n		</ul>\n	</div>\n	<div class="ui negative bottom attached message segment" *ngIf="!!errorMessage">\n		<ul class="list">\n			<li>{{errorMessage}}</li>\n		</ul>\n	</div>\n</div>'})}(),$__System.register("70",["13","6c","2d","83","6d","6a","84"],function(exports_1,context_1){"use strict";var core_1,router_1,common_1,ValidationService_1,jquery_1,template_html_1,LoginComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(router_1_1){router_1=router_1_1},function(common_1_1){common_1=common_1_1},function(ValidationService_1_1){ValidationService_1=ValidationService_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1}],execute:function(){LoginComponent=function(){function LoginComponent(router,element,formBuilder){this.router=router,this.submitting=!1,this.errorMessage="",this.router=router,this.element=element,this.formBuilder=formBuilder}return LoginComponent.prototype.ngOnInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.$loginForm=this.$element.find("form.loginForm"),this.loginForm=this.formBuilder.group({email:["",common_1.Validators.compose([common_1.Validators.required,ValidationService_1.ValidationService.emailValidator])],password:["",common_1.Validators.compose([common_1.Validators.required,ValidationService_1.ValidationService.passwordValidator])]}),this.email=this.loginForm.controls.email,this.password=this.loginForm.controls.password},LoginComponent.prototype.onSubmit=function(data,$event){$event.preventDefault(),this.submitting=!0,this.email.markAsTouched(),this.password.markAsTouched(),this.loginForm.valid?(this.shakeForm(),this.errorMessage="Service temporary unavailable."):this.shakeForm(),this.submitting=!1},LoginComponent.prototype.shakeForm=function(){var target=this.$element.find(".formContainer");this.container&&(target=jquery_1["default"](this.container)),target&&target.transition({animation:"shake"})},__decorate([core_1.Input(),__metadata("design:type",Object)],LoginComponent.prototype,"container",void 0),LoginComponent=__decorate([core_1.Component({selector:"login",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,common_1.FORM_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof common_1.FormBuilder&&common_1.FormBuilder)&&_c||Object])],LoginComponent);var _a,_b,_c}(),exports_1("default",LoginComponent)}}}),function(){var define=$__System.amdDefine;define("85",[],function(){return'<div class="ui grid">\n\n	<div class="computer tablet only row">\n		<div class="ui top fixed borderless menu primary-nav">\n			<div class="ui container">\n\n				<a class="item logo" [routerLink]="[ \'./Home\' ]"><img class="ui small image logo" src="assets/images/carbon-logo-150x48.png"/></a>\n\n				<a class="item" [routerLink]="[ \'./Home\' ]" [ngClass]="{active: isActive(\'./Home\') }">Home</a>\n				<a class="item" [routerLink]="[ \'./Blog\' ]" [ngClass]="{active: isActive(\'./Blog\') }">Blog</a>\n\n				<div class="ui dropdown link item">\n					<span class="text">Documentation</span>\n					<i class="dropdown icon"></i>\n\n					<div class="menu">\n						<a class="item" [routerLink]="[ \'./Docs\', {id: \'about-carbon-ldp.html\'} ]">About Carbon LDP</a>\n						<div class="divider"></div>\n						<div class="header">Essential Concepts</div>\n						<a class="item" [routerLink]="[ \'./Docs\', {id: \'linked-data-concepts.html\'} ]">Linked Data Concepts</a>\n						<a class="item" [routerLink]="[ \'./Docs\', {id: \'ldp-concepts.html\'} ]">Linked Data Platform Concepts</a>\n						<a class="item" [routerLink]="[ \'./Docs\', {id: \'carbon-ldp-concepts.html\'} ]">Carbon LDP Concepts</a>\n\n						<div class="divider"></div>\n						<div class="header">REST API</div>\n						<a class="item" [routerLink]="[ \'./Docs\', {id: \'getting-started-with-the-rest-api.html\'} ]">Getting Started</a>\n						<a class="item" [routerLink]="[ \'./Docs\', {id: \'interaction-models.html\'} ]">Interaction Models</a>\n					</div>\n				</div>\n				<div class="right menu">\n					<a *ngIf="!isActive(\'./Login\')" class="item login">\n						Log in\n					</a>\n					<div *ngIf="!isActive(\'./Login\')" class="ui login popup bottom left transition hidden">\n						<login [container]="\'.login.popup\'"></login>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="mobile only row">\n		<div class="ui fixed menu">\n			<a class="item logo" [routerLink]="[ \'./Home\' ]"><img class="ui small image logo" src="assets/images/carbon-logo-150x48.png"/></a>\n\n			<div class="menu">\n				<a class="item">\n					Log in\n				</a>\n				<a class="item">\n					Sign up\n				</a>\n			</div>\n\n			<div class="right menu open">\n				<a href="" class="menu item">\n					<i class="content icon"></i>\n				</a>\n			</div>\n		</div>\n		<div class="ui fixed vertical menu">\n			<a class="item" [routerLink]="[ \'./Home\' ]" [ngClass]="{active: isActive(\'./Home\') }">Home</a>\n			<a class="item" [routerLink]="[ \'./Blog\' ]" [ngClass]="{active: isActive(\'./Blog\') }">Blog</a>\n\n			<div class="ui dropdown link item">\n				<span class="text">Documentation</span>\n				<i class="dropdown icon"></i>\n\n				<div class="menu">\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'about-carbon-ldp.html\'} ]">About Carbon LDP</a>\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'essential-concepts.html\'} ]">Essential Concepts</a>\n\n					<div class="header">Essential Concepts</div>\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'linked-data-concepts.html\'} ]">Linked Data Concepts</a>\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'ldp-concepts.html\'} ]">Linked Data Platform Concepts</a>\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'carbon-ldp-concepts.html\'} ]">Carbon LDP Concepts</a>\n\n					<div class="divider"></div>\n					<div class="header">REST API</div>\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'getting-started-with-the-rest-api.html\'} ]">Getting Started</a>\n					<a class="item" [routerLink]="[ \'./Docs\', {id: \'interaction-models.html\'} ]">Interaction Models</a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'})}(),$__System.register("86",[],function(){return{setters:[],execute:function(){}}}),$__System.register("87",["13","2d","6c","6d","6a","70","85","86"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,LoginComponent_1,template_html_1,HeaderComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(LoginComponent_1_1){LoginComponent_1=LoginComponent_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){HeaderComponent=function(){function HeaderComponent(router,element){this.router=router,this.element=element}return HeaderComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.createDropdownMenus(),this.createCollapsableMenus(),this.createLoginPopUp()},HeaderComponent.prototype.isActive=function(route){var instruction=this.router.generate([route]);return this.router.isRouteActive(instruction)},HeaderComponent.prototype.createDropdownMenus=function(){this.$element.find(".ui.dropdown").dropdown({on:"hover"})},HeaderComponent.prototype.createCollapsableMenus=function(){var verticalMenu=this.$element.find(".ui.vertical.menu");this.$element.find(".right.menu.open").on("click",function(e){e.preventDefault(),verticalMenu.toggle()}),verticalMenu.toggle()},HeaderComponent.prototype.createLoginPopUp=function(){this.$element.find(".computer.tablet .login.item").popup({popup:this.$element.find(".login.popup"),hoverable:!1,position:"bottom left",on:"click",preserve:!0,transition:"pulse",hideOnScroll:!1,closable:!1})},HeaderComponent.prototype.ngAfterViewChecked=function(){this.createLoginPopUp()},HeaderComponent=__decorate([core_1.Component({selector:"header",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,LoginComponent_1["default"]]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object])],HeaderComponent);var _a,_b}(),exports_1("default",HeaderComponent)}}}),function(){var define=$__System.amdDefine;define("88",[],function(){return'<div class="ui vertical inverted footer segment">\n	<div class="ui middle aligned stackable grid container">\n		<div class="base22-logo four wide left floated left aligned column">\n			<a href="http://base22.com/"><img src="assets/images/base22-logo-white.png"></a>\n		</div>\n		<div class="eight wide center aligned stretched column">\n			© 2015 Base22 Technology Group, LLC. All Rights Reserved.\n		</div>\n		<div class="social-icons four wide right floated right aligned column">\n			<a href="https://plus.google.com/112247836322591347334"><i class="circular inverted orange google plus icon"></i></a>\n			<a href="https://www.facebook.com/carbonldp"><i class="circular inverted orange facebook icon"></i></a>\n			<a href="https://twitter.com/CarbonLDP"><i class="circular inverted orange twitter icon"></i></a>\n		</div>\n	</div>\n</div>'})}(),$__System.register("89",[],function(){return{setters:[],execute:function(){}}}),$__System.register("8a",["13","6d","6a","88","89"],function(exports_1,context_1){"use strict";function triggerPulseTransition(){var $element=jquery_1["default"](this);$element.transition("pulse")}var core_1,jquery_1,template_html_1,FooterComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){FooterComponent=function(){function FooterComponent(element){this.element=element}return FooterComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.addSocialButtonsAnimations()},FooterComponent.prototype.ngOnDestroy=function(){this.$element.find(".social-icons .icon").unbind("mouseenter",triggerPulseTransition)},FooterComponent.prototype.addSocialButtonsAnimations=function(){this.$element.find(".social-icons .icon").mouseenter(triggerPulseTransition)},FooterComponent=__decorate([core_1.Component({selector:"footer",template:template_html_1["default"],directives:[]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],FooterComponent);var _a}(),exports_1("default",FooterComponent)}}}),function(){var define=$__System.amdDefine;define("8b",[],function(){return'<header></header>\n<div class="page-content">\n	<router-outlet></router-outlet>\n</div>\n<footer></footer>'})}(),$__System.register("8c",[],function(){return{setters:[],execute:function(){}}}),$__System.register("8d",["13","2d","6c","69","6f","78","7c","7f","8e","82","87","8a","8b","8c"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,HomeView_1,LoginView_1,BlogView_1,BlogPostView_1,ContentView_1,SPARQLClientComponent_1,UIExamplesView_1,HeaderComponent_1,FooterComponent_1,template_html_1,WebsiteView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(HomeView_1_1){HomeView_1=HomeView_1_1},function(LoginView_1_1){LoginView_1=LoginView_1_1},function(BlogView_1_1){BlogView_1=BlogView_1_1},function(BlogPostView_1_1){BlogPostView_1=BlogPostView_1_1},function(ContentView_1_1){ContentView_1=ContentView_1_1},function(SPARQLClientComponent_1_1){SPARQLClientComponent_1=SPARQLClientComponent_1_1},function(UIExamplesView_1_1){UIExamplesView_1=UIExamplesView_1_1},function(HeaderComponent_1_1){HeaderComponent_1=HeaderComponent_1_1},function(FooterComponent_1_1){FooterComponent_1=FooterComponent_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_1){}],execute:function(){WebsiteView=function(){function WebsiteView(){}return WebsiteView=__decorate([core_1.Component({selector:"website",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,HeaderComponent_1["default"],FooterComponent_1["default"]]}),router_1.RouteConfig([{path:"",as:"Home",component:HomeView_1["default"],useAsDefault:!0},{path:"login",as:"Login",component:LoginView_1["default"]},{path:"blog",as:"Blog",component:BlogView_1["default"]},{path:"blog/posts/:id",as:"BlogPost",component:BlogPostView_1["default"]},{path:"docs/:id",as:"Docs",component:ContentView_1["default"]},{path:"sparql-client",as:"SPARQLClient",component:SPARQLClientComponent_1["default"]},{path:"ui-examples",as:"UIExamples",component:UIExamplesView_1["default"]}]),__metadata("design:paramtypes",[])],WebsiteView)}(),exports_1("default",WebsiteView)}}}),function(){var define=$__System.amdDefine;define("8f",[],function(){return"<router-outlet></router-outlet>"})}(),$__System.register("90",[],function(){return{setters:[],execute:function(){}}}),$__System.register("91",["13","2d","6c","8d","92","8f","90"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,WebsiteView_1,AppDevComponent_1,template_html_1,App,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),
r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(WebsiteView_1_1){WebsiteView_1=WebsiteView_1_1},function(AppDevComponent_1_1){AppDevComponent_1=AppDevComponent_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_1){}],execute:function(){App=function(){function App(){}return App=__decorate([core_1.Component({selector:"app",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES]}),router_1.RouteConfig([{path:"app-dev/...",as:"AppDev",component:AppDevComponent_1["default"],data:{alias:"AppDev",displayName:"Home"}},{path:"",redirectTo:["./Website"]},{path:"site/...",as:"Website",component:WebsiteView_1["default"]}]),__metadata("design:paramtypes",[])],App)}(),exports_1("default",App)}}}),$__System.registerDynamic("93",["94","95","96","97","98"],!0,function($__require,exports,module){"use strict";var App=$__require("94"),Pointer=$__require("95"),RDF=$__require("96"),Utils=$__require("97"),CS=$__require("98"),Apps=function(){function Apps(context){this.context=context}return Apps.prototype.get=function(uri){var _this=this,appsContainerURI=this.getAppsContainerURI();return RDF.URI.Util.isRelative(uri)&&(Utils.S.startsWith(uri,appsContainerURI)||(uri=RDF.URI.Util.resolve(appsContainerURI,uri)),uri=this.context.resolve(uri)),this.context.documents.get(uri).then(function(_a){var document=_a[0];_a[1];if(!document.types.indexOf(CS.Class.Application))throw new Error("The resource fetched is not a cs:Application.");return new App.Context(_this.context,document)})},Apps.prototype.getAll=function(){var _this=this;return this.context.documents.getMembers(this.getAppsContainerURI(),!1).then(function(_a){var members=_a[0];_a[1];return Pointer.Util.resolveAll(members)}).then(function(_a){var members=_a[0];_a[1];return members.map(function(member){return new App.Context(_this.context,member)})})},Apps.prototype.getAppsContainerURI=function(){if(!this.context.hasSetting("platform.apps.container"))throw new Error("The apps container URI hasn't been set.");return this.context.getSetting("platform.apps.container")},Apps}();return exports.Apps=Apps,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Apps,module.exports}),$__System.registerDynamic("94",["99","9a","96","97"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractContext_1=$__require("99"),NS=$__require("9a"),RDF=$__require("96"),Utils=$__require("97");exports.RDF_CLASS=NS.CS.Class.Application,exports.SCHEMA={name:{"@id":NS.CS.Predicate.name,"@type":NS.XSD.DataType.string},rootContainer:{"@id":NS.CS.Predicate.rootContainer,"@type":"@id"},allowsOrigin:{"@id":NS.CS.Predicate.allowsOrigin}};var AppContext=function(_super){function AppContext(parentContext,app){_super.call(this,parentContext),this.app=app,this.base=this.getBase(this.app)}return __extends(AppContext,_super),AppContext.prototype.resolve=function(uri){if(RDF.URI.Util.isAbsolute(uri))return uri;var finalURI=this.parentContext.resolve(this.base);return RDF.URI.Util.resolve(finalURI,uri)},AppContext.prototype.getBase=function(resource){return resource.rootContainer.id},AppContext}(AbstractContext_1["default"]);exports.Context=AppContext;var Factory=function(){function Factory(){}return Factory.prototype.hasClassProperties=function(resource){return Utils.hasPropertyDefined(resource,"rootContainer")},Factory}();return exports.Factory=Factory,exports.factory=new Factory,module.exports}),$__System.registerDynamic("9b",["9a"],!0,function($__require,exports,module){"use strict";var NS=$__require("9a");return exports.RDF_CLASS=NS.C.Class.API,exports.SCHEMA={version:{"@id":NS.C.Predicate.version,"@type":NS.XSD.DataType.string},buildDate:{"@id":NS.C.Predicate.buildDate,"@type":NS.XSD.DataType.dateTime}},module.exports}),$__System.registerDynamic("9c",["94","9b","9d","9e","9f","a0","a1"],!0,function($__require,exports,module){"use strict";var App=$__require("94"),APIDescription=$__require("9b"),Auth=$__require("9d"),Documents_1=$__require("9e"),Errors=$__require("9f"),LDP=$__require("a0"),ObjectSchema=$__require("a1"),Class=function(){function Class(){this.settings=new Map,this.generalObjectSchema=new ObjectSchema.DigestedObjectSchema,this.typeObjectSchemaMap=new Map,this.auth=new Auth.Class(this),this.documents=new Documents_1["default"](this),this.registerDefaultObjectSchemas()}return Object.defineProperty(Class.prototype,"parentContext",{get:function(){return null},enumerable:!0,configurable:!0}),Class.prototype.getBaseURI=function(){return this.resolve("")},Class.prototype.resolve=function(relativeURI){return relativeURI},Class.prototype.hasSetting=function(name){return this.settings.has(name)||this.parentContext&&this.parentContext.hasSetting(name)},Class.prototype.getSetting=function(name){return this.settings.has(name)?this.settings.get(name):this.parentContext&&this.parentContext.hasSetting(name)?this.parentContext.getSetting(name):null},Class.prototype.setSetting=function(name,value){this.settings.set(name,value)},Class.prototype.deleteSetting=function(name){this.settings["delete"](name)},Class.prototype.hasObjectSchema=function(type){return this.typeObjectSchemaMap.has(type)?!0:this.parentContext&&this.parentContext.hasObjectSchema(type)?!0:!1},Class.prototype.getObjectSchema=function(type){if(void 0===type&&(type=null),type)return this.typeObjectSchemaMap.has(type)?this.typeObjectSchemaMap.get(type):this.parentContext&&this.parentContext.hasObjectSchema(type)?this.parentContext.getObjectSchema(type):null;if(this.generalObjectSchema)return this.generalObjectSchema;if(this.parentContext)return this.parentContext.getObjectSchema();throw new Errors.IllegalStateError},Class.prototype.extendObjectSchema=function(typeOrObjectSchema,objectSchema){void 0===objectSchema&&(objectSchema=null);var type=objectSchema?typeOrObjectSchema:null;objectSchema=objectSchema?objectSchema:typeOrObjectSchema;var digestedSchema=ObjectSchema.Digester.digestSchema(objectSchema);type?this.extendTypeObjectSchema(digestedSchema,type):this.extendGeneralObjectSchema(digestedSchema)},Class.prototype.clearObjectSchema=function(type){void 0===type&&(type=null),type?this.typeObjectSchemaMap["delete"](type):this.generalObjectSchema=this.parentContext?null:new ObjectSchema.DigestedObjectSchema},Class.prototype.extendGeneralObjectSchema=function(digestedSchema){var digestedSchemaToExtend;digestedSchemaToExtend=this.generalObjectSchema?this.generalObjectSchema:this.parentContext?this.parentContext.getObjectSchema():new ObjectSchema.DigestedObjectSchema,this.generalObjectSchema=ObjectSchema.Digester.combineDigestedObjectSchemas([new ObjectSchema.DigestedObjectSchema,digestedSchemaToExtend,digestedSchema])},Class.prototype.extendTypeObjectSchema=function(digestedSchema,type){var digestedSchemaToExtend;digestedSchemaToExtend=this.typeObjectSchemaMap.has(type)?this.typeObjectSchemaMap.get(type):this.parentContext&&this.parentContext.hasObjectSchema(type)?this.parentContext.getObjectSchema(type):new ObjectSchema.DigestedObjectSchema;var extendedDigestedSchema=ObjectSchema.Digester.combineDigestedObjectSchemas([new ObjectSchema.DigestedObjectSchema,digestedSchemaToExtend,digestedSchema]);this.typeObjectSchemaMap.set(type,extendedDigestedSchema)},Class.prototype.registerDefaultObjectSchemas=function(){this.extendObjectSchema(LDP.RDFSource.RDF_CLASS,LDP.RDFSource.SCHEMA),this.extendObjectSchema(LDP.Container.RDF_CLASS,LDP.Container.SCHEMA),this.extendObjectSchema(LDP.BasicContainer.RDF_CLASS,LDP.Container.SCHEMA),this.extendObjectSchema(APIDescription.RDF_CLASS,APIDescription.SCHEMA),this.extendObjectSchema(App.RDF_CLASS,App.SCHEMA),this.extendObjectSchema(Auth.Token.RDF_CLASS,Auth.Token.CONTEXT)},Class}();return exports.Class=Class,exports.instance=new Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=exports.instance,module.exports}),$__System.registerDynamic("99",["9c","a1"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},SDKContext=$__require("9c"),ObjectSchema=$__require("a1"),AbstractContext=function(_super){function AbstractContext(parentContext){void 0===parentContext&&(parentContext=null),_super.call(this),this._parentContext=parentContext?parentContext:SDKContext.instance,this.generalObjectSchema=parentContext?null:new ObjectSchema.DigestedObjectSchema}return __extends(AbstractContext,_super),Object.defineProperty(AbstractContext.prototype,"parentContext",{get:function(){return this._parentContext},enumerable:!0,configurable:!0}),AbstractContext}(SDKContext.Class);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AbstractContext,module.exports}),$__System.registerDynamic("a2",["9f","a1","9a","95","96","97"],!0,function($__require,exports,module){"use strict";var Errors=$__require("9f"),ObjectSchema=$__require("a1"),NS=$__require("9a"),Pointer=$__require("95"),RDF=$__require("96"),Utils=$__require("97"),Class=function(){function Class(literalSerializers){void 0===literalSerializers&&(literalSerializers=null),this._literalSerializers=literalSerializers?literalSerializers:Class.getDefaultSerializers()}return Object.defineProperty(Class.prototype,"literalSerializers",{get:function(){return this._literalSerializers},enumerable:!0,configurable:!0}),Class.getDefaultSerializers=function(){var literalSerializers=new Map;return literalSerializers.set(NS.XSD.DataType.date,RDF.Literal.Serializers.XSD.dateSerializer),literalSerializers.set(NS.XSD.DataType.dateTime,RDF.Literal.Serializers.XSD.dateTimeSerializer),literalSerializers.set(NS.XSD.DataType.time,RDF.Literal.Serializers.XSD.timeSerializer),literalSerializers.set(NS.XSD.DataType.integer,RDF.Literal.Serializers.XSD.integerSerializer),literalSerializers.set(NS.XSD.DataType["int"],RDF.Literal.Serializers.XSD.integerSerializer),literalSerializers.set(NS.XSD.DataType.unsignedInt,RDF.Literal.Serializers.XSD.unsignedIntegerSerializer),literalSerializers.set(NS.XSD.DataType["float"],RDF.Literal.Serializers.XSD.floatSerializer),literalSerializers.set(NS.XSD.DataType["double"],RDF.Literal.Serializers.XSD.floatSerializer),literalSerializers.set(NS.XSD.DataType["boolean"],RDF.Literal.Serializers.XSD.booleanSerializer),literalSerializers.set(NS.XSD.DataType.string,RDF.Literal.Serializers.XSD.stringSerializer),literalSerializers},Class.prototype.compact=function(expandedObjectOrObjects,targetObjectOrObjectsOrDigestedContext,digestedSchemaOrPointerLibrary,pointerLibrary){void 0===pointerLibrary&&(pointerLibrary=null);var targetObjectOrObjects=pointerLibrary?targetObjectOrObjectsOrDigestedContext:null,digestedSchema=pointerLibrary?digestedSchemaOrPointerLibrary:targetObjectOrObjectsOrDigestedContext;if(pointerLibrary=pointerLibrary?pointerLibrary:digestedSchemaOrPointerLibrary,!Utils.isArray(expandedObjectOrObjects))return this.compactSingle(expandedObjectOrObjects,targetObjectOrObjects,digestedSchema,pointerLibrary);for(var expandedObjects=expandedObjectOrObjects,targetObjects=targetObjectOrObjects?targetObjectOrObjects:[],i=0,length_1=expandedObjects.length;length_1>i;i++){var expandedObject=expandedObjects[i],targetObject=targetObjects[i]=targetObjects[i]?targetObjects[i]:{};this.compactSingle(expandedObject,targetObject,digestedSchema,pointerLibrary)}return targetObjects},Class.prototype.expand=function(compactedObjectOrObjects,digestedSchema,pointerValidator){return void 0===pointerValidator&&(pointerValidator=null),Utils.isArray(compactedObjectOrObjects)?void 0:this.expandSingle(compactedObjectOrObjects,digestedSchema,pointerValidator)},Class.prototype.expandSingle=function(compactedObject,digestedSchema,pointerValidator){var _this=this,expandedObject={};return expandedObject["@id"]=compactedObject.id?compactedObject.id:"",compactedObject.types&&(expandedObject["@type"]=compactedObject.types),Utils.forEachOwnProperty(compactedObject,function(propertyName,value){if("id"!==propertyName)if(digestedSchema.properties.has(propertyName)){var definition=digestedSchema.properties.get(propertyName),expandedValue=_this.expandProperty(value,definition,pointerValidator);if(!expandedValue)return;expandedObject[definition.uri.toString()]=expandedValue}else if(RDF.URI.Util.isAbsolute(propertyName)){var expandedValue=_this.expandPropertyValues(value,pointerValidator);if(!expandedValue)return;expandedObject[propertyName]=expandedValue}}),expandedObject},Class.prototype.expandProperty=function(propertyValue,propertyDefinition,pointerValidator){switch(propertyDefinition.containerType){case null:return propertyDefinition.literal?this.expandPropertyLiteral(propertyValue,propertyDefinition.literalType.toString()):propertyDefinition.literal===!1?this.expandPropertyPointer(propertyValue,pointerValidator):this.expandPropertyValue(propertyValue,pointerValidator);case ObjectSchema.ContainerType.LIST:return propertyDefinition.literal?this.expandPropertyLiteralList(propertyValue,propertyDefinition.literalType.toString()):propertyDefinition.literal===!1?this.expandPropertyPointerList(propertyValue,pointerValidator):this.expandPropertyList(propertyValue,pointerValidator);case ObjectSchema.ContainerType.SET:return propertyDefinition.literal?this.expandPropertyLiterals(propertyValue,propertyDefinition.literalType.toString()):propertyDefinition.literal===!1?this.expandPropertyPointers(propertyValue,pointerValidator):this.expandPropertyValues(propertyValue,pointerValidator);case ObjectSchema.ContainerType.LANGUAGE:return this.expandPropertyLanguageMap(propertyValue);default:throw new Errors.IllegalArgumentError("The containerType specified is not supported.")}},Class.prototype.expandPropertyValue=function(propertyValue,pointerValidator){if(Utils.isArray(propertyValue))return this.expandPropertyValues(propertyValue,pointerValidator);var expandedValue=this.expandValue(propertyValue,pointerValidator);return expandedValue?[expandedValue]:null},Class.prototype.expandPropertyPointer=function(propertyValue,pointerValidator){var expandedPointer=this.expandPointer(propertyValue,pointerValidator);return expandedPointer?[expandedPointer]:null},Class.prototype.expandPropertyLiteral=function(propertyValue,literalType){var serializedValue=this.serializeLiteral(propertyValue,literalType);return null===serializedValue?null:[{"@value":serializedValue,"@type":literalType}]},Class.prototype.expandPropertyList=function(propertyValues,pointerValidator){propertyValues=Utils.isArray(propertyValues)?propertyValues:[propertyValues];var expandedArray=this.expandArray(propertyValues,pointerValidator);return expandedArray?[{"@list":expandedArray}]:null},Class.prototype.expandPropertyPointerList=function(propertyValues,pointerValidator){var listValues=this.expandPropertyPointers(propertyValues,pointerValidator);return[{"@list":listValues}]},Class.prototype.expandPropertyLiteralList=function(propertyValues,literalType){var listValues=this.expandPropertyLiterals(propertyValues,literalType);return[{"@list":listValues}]},Class.prototype.expandPropertyValues=function(propertyValues,pointerValidator){propertyValues=Utils.isArray(propertyValues)?propertyValues:[propertyValues];var expandedArray=this.expandArray(propertyValues,pointerValidator);return expandedArray?expandedArray:null},Class.prototype.expandPropertyPointers=function(propertyValues,pointerValidator){propertyValues=Utils.isArray(propertyValues)?propertyValues:[propertyValues];for(var expandedPointers=[],_i=0,propertyValues_1=propertyValues;_i<propertyValues_1.length;_i++){var propertyValue=propertyValues_1[_i],expandedPointer=this.expandPointer(propertyValue,pointerValidator);expandedPointer&&expandedPointers.push(expandedPointer)}return expandedPointers},Class.prototype.expandPropertyLiterals=function(propertyValues,literalType){propertyValues=Utils.isArray(propertyValues)?propertyValues:[propertyValues];for(var listValues=[],_i=0,propertyValues_2=propertyValues;_i<propertyValues_2.length;_i++){var propertyValue=propertyValues_2[_i],serializedValue=this.serializeLiteral(propertyValue,literalType);serializedValue&&listValues.push({"@value":serializedValue,"@type":literalType})}return listValues},Class.prototype.expandPropertyLanguageMap=function(propertyValue){var _this=this;if(!Utils.isObject(propertyValue))return null;var mapValues=[];return Utils.forEachOwnProperty(propertyValue,function(languageTag,value){var serializedValue=_this.literalSerializers.get(NS.XSD.DataType.string).serialize(value);mapValues.push({"@value":serializedValue,"@type":NS.XSD.DataType.string,"@language":languageTag})}),mapValues},Class.prototype.serializeLiteral=function(propertyValue,literalType){if(Pointer.Factory.is(propertyValue))return null;if(!this.literalSerializers.has(literalType))return null;try{return this.literalSerializers.get(literalType).serialize(propertyValue)}catch(error){return null}},Class.prototype.expandPointer=function(propertyValue,pointerValidator){return Pointer.Factory.is(propertyValue)?pointerValidator&&!pointerValidator.inScope(propertyValue)?null:{"@id":propertyValue.id}:null},Class.prototype.expandArray=function(propertyValue,pointerValidator){for(var listValues=[],_i=0,propertyValue_1=propertyValue;_i<propertyValue_1.length;_i++){var listValue=propertyValue_1[_i],expandedValue=this.expandValue(listValue,pointerValidator);expandedValue&&listValues.push(expandedValue)}return listValues.length?listValues:null},Class.prototype.expandValue=function(propertyValue,pointerValidator){return Utils.isArray(propertyValue)?null:Pointer.Factory.is(propertyValue)?this.expandPointer(propertyValue,pointerValidator):this.expandLiteral(propertyValue)},Class.prototype.expandLiteral=function(literalValue){var serializedValue,literalType;switch(!0){case Utils.isFunction(literalValue):return null;case Utils.isDate(literalValue):literalType=NS.XSD.DataType.dateTime;break;case Utils.isNumber(literalValue):literalType=NS.XSD.DataType["float"];break;case Utils.isBoolean(literalValue):literalType=NS.XSD.DataType["boolean"];break;case Utils.isString(literalValue):literalType=NS.XSD.DataType.string;break;default:return null}return serializedValue=this.literalSerializers.get(literalType).serialize(literalValue),{"@value":serializedValue,"@type":literalType}},Class.prototype.compactSingle=function(expandedObject,targetObject,digestedSchema,pointerLibrary){var _this=this,propertyURINameMap=this.getPropertyURINameMap(digestedSchema);if(!expandedObject["@id"])throw new Errors.IllegalArgumentError("The expandedObject doesn't have an @id defined.");return targetObject.id=expandedObject["@id"],targetObject.types=expandedObject["@type"]?expandedObject["@type"]:[],Utils.forEachOwnProperty(expandedObject,function(propertyURI,value){if("@id"!==propertyURI&&"@type"!==propertyURI)if(propertyURINameMap.has(propertyURI)){var propertyName=propertyURINameMap.get(propertyURI);_this.assignProperty(targetObject,expandedObject,propertyName,digestedSchema,pointerLibrary)}else _this.assignURIProperty(targetObject,expandedObject,propertyURI,pointerLibrary)}),targetObject},Class.prototype.assignProperty=function(compactedObject,expandedObject,propertyName,digestedSchema,pointerLibrary){var propertyDefinition=digestedSchema.properties.get(propertyName);compactedObject[propertyName]=this.getPropertyValue(expandedObject,propertyDefinition,pointerLibrary)},Class.prototype.assignURIProperty=function(compactedObject,expandedObject,propertyURI,pointerLibrary){var guessedDefinition=new ObjectSchema.DigestedPropertyDefinition;guessedDefinition.uri=new RDF.URI.Class(propertyURI),guessedDefinition.containerType=this.getPropertyContainerType(expandedObject[propertyURI]),compactedObject[propertyURI]=this.getPropertyValue(expandedObject,guessedDefinition,pointerLibrary)},Class.prototype.getPropertyContainerType=function(propertyValues){return 1!==propertyValues.length?ObjectSchema.ContainerType.SET:RDF.List.Factory.is(propertyValues[0])?ObjectSchema.ContainerType.LIST:null},Class.prototype.getPropertyValue=function(expandedObject,propertyDefinition,pointerLibrary){var propertyURI=propertyDefinition.uri.toString();switch(propertyDefinition.containerType){case null:return propertyDefinition.literal?this.getPropertyLiteral(expandedObject,propertyURI,propertyDefinition.literalType.toString()):propertyDefinition.literal===!1?this.getPropertyPointer(expandedObject,propertyURI,pointerLibrary):this.getProperty(expandedObject,propertyURI,pointerLibrary);case ObjectSchema.ContainerType.LIST:return propertyDefinition.literal?this.getPropertyLiteralList(expandedObject,propertyURI,propertyDefinition.literalType.toString()):propertyDefinition.literal===!1?this.getPropertyPointerList(expandedObject,propertyURI,pointerLibrary):this.getPropertyList(expandedObject,propertyURI,pointerLibrary);case ObjectSchema.ContainerType.SET:return propertyDefinition.literal?this.getPropertyLiterals(expandedObject,propertyURI,propertyDefinition.literalType.toString()):propertyDefinition.literal===!1?this.getPropertyPointers(expandedObject,propertyURI,pointerLibrary):this.getProperties(expandedObject,propertyURI,pointerLibrary);case ObjectSchema.ContainerType.LANGUAGE:return this.getPropertyLanguageMap(expandedObject,propertyURI);default:throw new Errors.IllegalArgumentError("The containerType specified is not supported.")}},Class.prototype.getProperty=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;var propertyValue=propertyValues[0];return this.parseValue(propertyValue,pointerLibrary)},Class.prototype.getPropertyPointer=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var _i=0,propertyValues_3=propertyValues;_i<propertyValues_3.length;_i++){var propertyValue=propertyValues_3[_i];if(RDF.Node.Factory.is(propertyValue))return pointerLibrary.getPointer(propertyValue["@id"])}return null},Class.prototype.getPropertyLiteral=function(expandedObject,propertyURI,literalType){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var _i=0,propertyValues_4=propertyValues;_i<propertyValues_4.length;_i++){var propertyValue=propertyValues_4[_i];if(RDF.Literal.Factory.is(propertyValue)&&RDF.Literal.Factory.hasType(propertyValue,literalType))return RDF.Literal.Factory.parse(propertyValue)}return null},Class.prototype.getPropertyList=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;var propertyList=this.getList(propertyValues);if(!propertyList)return null;for(var listValues=[],_i=0,_a=propertyList["@list"];_i<_a.length;_i++){var listValue=_a[_i];listValues.push(this.parseValue(listValue,pointerLibrary))}return listValues},Class.prototype.getPropertyPointerList=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;var propertyList=this.getList(propertyValues);if(!propertyList)return null;for(var listPointers=[],_i=0,_a=propertyList["@list"];_i<_a.length;_i++){var listValue=_a[_i];if(RDF.Node.Factory.is(listValue)){var pointer=pointerLibrary.getPointer(listValue["@id"]);listPointers.push(pointer)}}return listPointers},Class.prototype.getPropertyLiteralList=function(expandedObject,propertyURI,literalType){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;var propertyList=this.getList(propertyValues);if(!propertyList)return null;for(var listLiterals=[],_i=0,_a=propertyList["@list"];_i<_a.length;_i++){var listValue=_a[_i];RDF.Literal.Factory.is(listValue)&&RDF.Literal.Factory.hasType(listValue,literalType)&&listLiterals.push(RDF.Literal.Factory.parse(listValue))}return listLiterals},Class.prototype.getProperties=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;for(var properties=[],_i=0,propertyValues_5=propertyValues;_i<propertyValues_5.length;_i++){var propertyValue=propertyValues_5[_i];properties.push(this.parseValue(propertyValue,pointerLibrary))}return properties},Class.prototype.getPropertyPointers=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;for(var propertyPointers=[],_i=0,propertyValues_6=propertyValues;_i<propertyValues_6.length;_i++){var propertyValue=propertyValues_6[_i];if(RDF.Node.Factory.is(propertyValue)){var pointer=pointerLibrary.getPointer(propertyValue["@id"]);propertyPointers.push(pointer)}}return propertyPointers},Class.prototype.getPropertyLiterals=function(expandedObject,propertyURI,literalType){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var propertyLiterals=[],_i=0,propertyValues_7=propertyValues;_i<propertyValues_7.length;_i++){var propertyValue=propertyValues_7[_i];RDF.Literal.Factory.is(propertyValue)&&RDF.Literal.Factory.hasType(propertyValue,literalType)&&propertyLiterals.push(RDF.Literal.Factory.parse(propertyValue))}return propertyLiterals},Class.prototype.getPropertyLanguageMap=function(expandedObject,propertyURI){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var propertyLanguageMap={},_i=0,propertyValues_8=propertyValues;_i<propertyValues_8.length;_i++){var propertyValue=propertyValues_8[_i];if(RDF.Literal.Factory.is(propertyValue)&&RDF.Literal.Factory.hasType(propertyValue,NS.XSD.DataType.string)){var languageTag=propertyValue["@language"];languageTag&&(propertyLanguageMap[languageTag]=RDF.Literal.Factory.parse(propertyValue))}}return propertyLanguageMap},Class.prototype.getList=function(propertyValues){for(var _i=0,propertyValues_9=propertyValues;_i<propertyValues_9.length;_i++){var propertyValue=propertyValues_9[_i];if(RDF.List.Factory.is(propertyValue))return propertyValue}return null},Class.prototype.getPropertyURINameMap=function(digestedSchema){var map=new Map;return digestedSchema.properties.forEach(function(definition,propertyName){map.set(definition.uri.toString(),propertyName)}),map},Class.prototype.parseValue=function(propertyValue,pointerLibrary){if(RDF.Literal.Factory.is(propertyValue))return RDF.Literal.Factory.parse(propertyValue);if(RDF.Node.Factory.is(propertyValue))return pointerLibrary.getPointer(propertyValue["@id"]);if(RDF.List.Factory.is(propertyValue)){for(var parsedValue=[],listValues=propertyValue["@list"],_i=0,listValues_1=listValues;_i<listValues_1.length;_i++){var listValue=listValues_1[_i];parsedValue.push(this.parseValue(listValue,pointerLibrary))}return parsedValue}},Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("a3",["a4","97"],!0,function($__require,exports,module){"use strict";var Resource=$__require("a4"),Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.prototype.hasClassProperties=function(resource){return Utils.hasPropertyDefined(resource,"document")},Factory.prototype.create=function(idOrDocument,document){return void 0===document&&(document=null),this.createFrom({},idOrDocument,document)},Factory.prototype.createFrom=function(object,idOrDocument,document){void 0===document&&(document=null);var id=document?idOrDocument:Util.generateID(),resource=Resource.Factory.createFrom(object,id);return this.hasClassProperties(resource)?resource:(Object.defineProperties(resource,{document:{writable:!1,enumerable:!1,configurable:!0,value:document}}),resource)},Factory}();exports.Factory=Factory,exports.factory=new Factory;var Util=function(){function Util(){}return Util.generateID=function(){return"_:"+Utils.UUID.generate()},Util}();return exports.Util=Util,module.exports}),$__System.registerDynamic("a5",["a3","96","97"],!0,function($__require,exports,module){"use strict";var Fragment=$__require("a3"),RDF=$__require("96"),Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.prototype.hasClassProperties=function(resource){return Utils.hasPropertyDefined(resource,"slug")},Factory.prototype.create=function(slug,document){return this.createFrom({},slug,document)},Factory.prototype.createFrom=function(object,slug,document){var uri=document.id+"#"+slug,fragment=Fragment.factory.createFrom(object,uri,document);return this.hasClassProperties(fragment)?fragment:(Object.defineProperties(fragment,{slug:{enumerable:!1,configurable:!0,get:function(){return RDF.URI.Util.getFragment(fragment.id)},set:function(value){this.id=this.document.id+"#"+value}}}),fragment)},Factory}();return exports.Factory=Factory,exports.factory=new Factory,module.exports}),$__System.registerDynamic("a4",["95","97"],!0,function($__require,exports,module){"use strict";var Pointer=$__require("95"),Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.hasClassProperties=function(resource){return Utils.hasPropertyDefined(resource,"types")},Factory.create=function(id,types){return void 0===id&&(id=null),void 0===types&&(types=null),Factory.createFrom({},id,types)},Factory.createFrom=function(object,id,types){void 0===id&&(id=null),void 0===types&&(types=null),id=id?id:"",types=types?types:[];var resource=Factory.decorate(object);return resource.id=id,resource.types=types,resource},Factory.decorate=function(object){return Pointer.Factory.decorate(object),Factory.hasClassProperties(object)?object:(Object.defineProperties(object,{types:{writable:!0,enumerable:!1,configurable:!0,value:[]}}),object)},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("a6",["9f","a3","a2","a5","a1","95","96","a4","97"],!0,function($__require,exports,module){"use strict";function hasPointer(id){var document=this;return document.inScope(id)?!!document.getFragment(id):!1}function getPointer(id){var document=this;if(!document.inScope(id))return null;if(id===document.id)return document;var fragment=document.getFragment(id);return fragment=fragment?fragment:document.createFragment(id)}function inScope(idOrPointer){var document=this,id=Pointer.Factory.is(idOrPointer)?idOrPointer.id:idOrPointer;return id===document.id?!0:RDF.URI.Util.isBNodeID(id)?!0:RDF.URI.Util.isAbsolute(id)&&RDF.URI.Util.isFragmentOf(id,document.id)?!0:RDF.URI.Util.isAbsolute(document.id)||RDF.URI.Util.isAbsolute(id)||!RDF.URI.Util.isFragmentOf(id,document.id)?!1:!0}function hasFragment(id){var document=this;if(RDF.URI.Util.isAbsolute(id)){if(!RDF.URI.Util.isFragmentOf(id,document.id))return!1;id=RDF.URI.Util.hasFragment(id)?RDF.URI.Util.getFragment(id):id}else Utils.S.startsWith(id,"#")&&(id=id.substring(1));return document._fragmentsIndex.has(id)}function getFragment(id){var document=this;return RDF.URI.Util.isBNodeID(id)?document._fragmentsIndex.get(id):document.getNamedFragment(id)}function getNamedFragment(id){var document=this;if(RDF.URI.Util.isBNodeID(id))throw new Errors.IllegalArgumentError("Named fragments can't have a id that starts with '_:'.");if(RDF.URI.Util.isAbsolute(id)){if(!RDF.URI.Util.isFragmentOf(id,document.id))throw new Errors.IllegalArgumentError("The id is out of scope.");id=RDF.URI.Util.hasFragment(id)?RDF.URI.Util.getFragment(id):id}else Utils.S.startsWith(id,"#")&&(id=id.substring(1));return document._fragmentsIndex.get(id)}function getFragments(){var document=this;return Utils.A.from(document._fragmentsIndex.values());
}function createFragment(slug){void 0===slug&&(slug=null);var id,document=this;if(slug){if(!RDF.URI.Util.isBNodeID(slug))return document.createNamedFragment(slug);if(id=slug,this._fragmentsIndex.has(id))return this.getFragment(id)}else id=Fragment.Util.generateID();var fragment=Fragment.factory.create(id,document);return document._fragmentsIndex.set(id,fragment),fragment}function createNamedFragment(slug){var document=this;if(RDF.URI.Util.isBNodeID(slug))throw new Errors.IllegalArgumentError("Named fragments can't have a slug that starts with '_:'.");if(RDF.URI.Util.isAbsolute(slug)){if(!RDF.URI.Util.isFragmentOf(slug,document.id))throw new Errors.IllegalArgumentError("The slug is out of scope.");slug=RDF.URI.Util.hasFragment(slug)?RDF.URI.Util.getFragment(slug):slug}else Utils.S.startsWith(slug,"#")&&(slug=slug.substring(1));if(document._fragmentsIndex.has(slug))throw new Errors.IDAlreadyInUseError("The slug provided is already being used by a fragment.");var fragment=NamedFragment.factory.create(slug,document);return document._fragmentsIndex.set(slug,fragment),fragment}function removeFragment(fragmentOrSlug){var document=this,id=Utils.isString(fragmentOrSlug)?fragmentOrSlug:fragmentOrSlug.id;if(RDF.URI.Util.isAbsolute(id)){if(!RDF.URI.Util.isFragmentOf(id,document.id))return;id=RDF.URI.Util.hasFragment(id)?RDF.URI.Util.getFragment(id):id}else Utils.S.startsWith(id,"#")&&(id=id.substring(1));document._fragmentsIndex["delete"](id)}function toJSON(objectSchemaResolver,jsonldConverter){void 0===objectSchemaResolver&&(objectSchemaResolver=null),void 0===jsonldConverter&&(jsonldConverter=null),jsonldConverter=jsonldConverter?jsonldConverter:new JSONLDConverter_1["default"];var resources=[];resources.push(this),resources=resources.concat(this.getFragments());for(var expandedResources=[],_i=0,resources_1=resources;_i<resources_1.length;_i++){var resource=resources_1[_i],digestedContext=objectSchemaResolver?objectSchemaResolver.getSchemaFor(resource):new ObjectSchema.DigestedObjectSchema;expandedResources.push(jsonldConverter.expand(resource,digestedContext,this))}var graph={"@id":this.id,"@graph":expandedResources};return JSON.stringify(graph)}var Errors=$__require("9f"),Fragment=$__require("a3"),JSONLDConverter_1=$__require("a2"),NamedFragment=$__require("a5"),ObjectSchema=$__require("a1"),Pointer=$__require("95"),RDF=$__require("96"),Resource=$__require("a4"),Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.hasClassProperties=function(documentResource){return Utils.isObject(documentResource)&&Utils.hasPropertyDefined(documentResource,"_fragmentsIndex")&&Utils.hasFunction(documentResource,"hasFragment")&&Utils.hasFunction(documentResource,"getFragment")&&Utils.hasFunction(documentResource,"getNamedFragment")&&Utils.hasFunction(documentResource,"getFragments")&&Utils.hasFunction(documentResource,"createFragment")&&Utils.hasFunction(documentResource,"createNamedFragment")&&Utils.hasFunction(documentResource,"removeFragment")&&Utils.hasFunction(documentResource,"toJSON")},Factory.create=function(uri){return void 0===uri&&(uri=null),Factory.createFrom({},uri)},Factory.createFrom=function(object,uri){if(void 0===uri&&(uri=null),uri&&RDF.URI.Util.isBNodeID(uri))throw new Errors.IllegalArgumentError("Documents cannot have a BNodeID as a uri.");var resource=Resource.Factory.createFrom(object,uri),document=Factory.decorate(resource);return document},Factory.decorate=function(object){return Factory.hasClassProperties(object)?object:(Object.defineProperties(object,{_fragmentsIndex:{writable:!1,enumerable:!1,configurable:!0,value:new Map},hasPointer:{writable:!0,enumerable:!1,configurable:!0,value:hasPointer},getPointer:{writable:!0,enumerable:!1,configurable:!0,value:getPointer},inScope:{writable:!0,enumerable:!1,configurable:!0,value:inScope},hasFragment:{writable:!0,enumerable:!1,configurable:!0,value:hasFragment},getFragment:{writable:!0,enumerable:!1,configurable:!0,value:getFragment},getNamedFragment:{writable:!0,enumerable:!1,configurable:!0,value:getNamedFragment},getFragments:{writable:!0,enumerable:!1,configurable:!0,value:getFragments},createFragment:{writable:!0,enumerable:!1,configurable:!0,value:createFragment},createNamedFragment:{writable:!0,enumerable:!1,configurable:!0,value:createNamedFragment},removeFragment:{writable:!0,enumerable:!1,configurable:!0,value:removeFragment},toJSON:{writable:!0,enumerable:!1,configurable:!0,value:toJSON}}),object)},Factory}();return exports.Factory=Factory,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Document,module.exports}),$__System.registerDynamic("a7",["97"],!0,function($__require,exports,module){"use strict";function syncSnapshot(){var resource=this;resource._snapshot=Object.assign({},resource)}function isDirty(){var resource=this;return!Utils.O.areShallowlyEqual(resource,resource._snapshot)}var Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.hasClassProperties=function(object){return Utils.hasPropertyDefined(object,"_snapshot")&&Utils.hasFunction(object,"_syncSnapshot")&&Utils.hasFunction(object,"isDirty")},Factory.decorate=function(object,snapshot){if(void 0===snapshot&&(snapshot={}),Factory.hasClassProperties(object))return object;var persistedResource=object;return Object.defineProperties(persistedResource,{_snapshot:{writable:!0,enumerable:!1,configurable:!0,value:snapshot},_syncSnapshot:{writable:!1,enumerable:!1,configurable:!0,value:syncSnapshot},isDirty:{writable:!1,enumerable:!1,configurable:!0,value:isDirty}}),persistedResource},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("a8",["a7"],!0,function($__require,exports,module){"use strict";var PersistedResource=$__require("a7"),Factory=function(){function Factory(){}return Factory.decorate=function(fragment,snapshot){return void 0===snapshot&&(snapshot={}),PersistedResource.Factory.decorate(fragment,snapshot),fragment},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("a9",["a8"],!0,function($__require,exports,module){"use strict";var PersistedFragment=$__require("a8"),Factory=function(){function Factory(){}return Factory.decorate=function(fragment,snapshot){return void 0===snapshot&&(snapshot={}),PersistedFragment.Factory.decorate(fragment,snapshot),fragment},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("aa",["a6","a7","a8","a9","96","97"],!0,function($__require,exports,module){"use strict";function extendIsDirty(superFunction){return function(){var isDirty=superFunction.call(this);if(isDirty)return!0;for(var document=this,_i=0,_a=document.getFragments();_i<_a.length;_i++){var fragment=_a[_i];if(fragment.isDirty())return!0}for(var _b=0,_c=document._savedFragments;_b<_c.length;_b++){var fragment=_c[_b];if(!document.hasFragment(fragment.id))return!0}return!1}}function syncSavedFragments(){var document=this;document._savedFragments=Utils.A.from(document._fragmentsIndex.values())}function extendCreateFragment(superFunction){return function(slug){void 0===slug&&(slug=null);var fragment=superFunction.call(this,slug);return null!==slug?RDF.URI.Util.isBNodeID(slug)?PersistedFragment.Factory.decorate(fragment):PersistedNamedFragment.Factory.decorate(fragment):PersistedFragment.Factory.decorate(fragment)}}function extendCreateNamedFragment(superFunction){return function(slug){var fragment=superFunction.call(this,slug);return PersistedFragment.Factory.decorate(fragment)}}function refresh(){return null}function save(){var _this=this;return this._documents.save(this).then(function(response){return[_this,response]})}function destroy(){return this._documents["delete"](this)}function executeRawASKQuery(askQuery,requestOptions){return void 0===requestOptions&&(requestOptions={}),this._documents.executeRawASKQuery(this.id,askQuery,requestOptions)}function executeASKQuery(askQuery,requestOptions){return void 0===requestOptions&&(requestOptions={}),this._documents.executeASKQuery(this.id,askQuery,requestOptions)}function executeRawSELECTQuery(selectQuery,requestOptions){return void 0===requestOptions&&(requestOptions={}),this._documents.executeRawSELECTQuery(this.id,selectQuery,requestOptions)}function executeSELECTQuery(selectQuery,requestOptions){return void 0===requestOptions&&(requestOptions={}),this._documents.executeSELECTQuery(this.id,selectQuery,requestOptions)}function executeRawCONSTRUCTQuery(constructQuery,requestOptions){return void 0===requestOptions&&(requestOptions={}),this._documents.executeRawCONSTRUCTQuery(this.id,constructQuery,requestOptions)}function executeRawDESCRIBEQuery(describeQuery,requestOptions){return void 0===requestOptions&&(requestOptions={}),this._documents.executeRawDESCRIBEQuery(this.id,describeQuery,requestOptions)}var Document=$__require("a6"),PersistedResource=$__require("a7"),PersistedFragment=$__require("a8"),PersistedNamedFragment=$__require("a9"),RDF=$__require("96"),Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.hasClassProperties=function(document){return Utils.hasPropertyDefined(document,"_documents")&&Utils.hasPropertyDefined(document,"_etag")&&Utils.hasFunction(document,"refresh")&&Utils.hasFunction(document,"save")&&Utils.hasFunction(document,"destroy")&&Utils.hasFunction(document,"executeRawASKQuery")&&Utils.hasFunction(document,"executeASKQuery")&&Utils.hasFunction(document,"executeRawSELECTQuery")&&Utils.hasFunction(document,"executeSELECTQuery")&&Utils.hasFunction(document,"executeRawDESCRIBEQuery")&&Utils.hasFunction(document,"executeRawCONSTRUCTQuery")},Factory.is=function(object){return Factory.hasClassProperties(object)},Factory.create=function(uri,documents,snapshot){void 0===snapshot&&(snapshot={});var document=Document.Factory.create(uri);return Factory.decorate(document,documents,snapshot)},Factory.createFrom=function(object,uri,documents,snapshot){void 0===snapshot&&(snapshot={});var document=Document.Factory.createFrom(object,uri);return Factory.decorate(document,documents,snapshot)},Factory.decorate=function(document,documents,snapshot){if(void 0===snapshot&&(snapshot={}),PersistedResource.Factory.decorate(document,snapshot),Factory.hasClassProperties(document))return document;var persistedDocument=document;return Object.defineProperties(persistedDocument,{_documents:{writable:!1,enumerable:!1,configurable:!0,value:documents},_etag:{writable:!0,enumerable:!1,configurable:!0,value:null},_savedFragments:{writable:!0,enumerable:!1,configurable:!0,value:[]},_syncSavedFragments:{writable:!1,enumerable:!1,configurable:!0,value:syncSavedFragments},hasPointer:{writable:!1,enumerable:!1,configurable:!0,value:function(){var superFunction=persistedDocument.hasPointer;return function(id){return superFunction.call(this,id)?!0:this._documents.hasPointer(id)}}()},getPointer:{writable:!1,enumerable:!1,configurable:!0,value:function(){var superFunction=persistedDocument.getPointer,inScopeFunction=persistedDocument.inScope;return function(id){return inScopeFunction.call(this,id)?superFunction.call(this,id):this._documents.getPointer(id)}}()},inScope:{writable:!1,enumerable:!1,configurable:!0,value:function(){var superFunction=persistedDocument.inScope;return function(id){return superFunction.call(this,id)?!0:this._documents.inScope(id)}}()},refresh:{writable:!1,enumerable:!1,configurable:!0,value:refresh},save:{writable:!1,enumerable:!1,configurable:!0,value:save},destroy:{writable:!1,enumerable:!1,configurable:!0,value:destroy},executeRawASKQuery:{writable:!1,enumerable:!1,configurable:!0,value:executeRawASKQuery},executeASKQuery:{writable:!1,enumerable:!1,configurable:!0,value:executeASKQuery},executeRawSELECTQuery:{writable:!1,enumerable:!1,configurable:!0,value:executeRawSELECTQuery},executeSELECTQuery:{writable:!1,enumerable:!1,configurable:!0,value:executeSELECTQuery},executeRawCONSTRUCTQuery:{writable:!1,enumerable:!1,configurable:!0,value:executeRawCONSTRUCTQuery},executeRawDESCRIBEQuery:{writable:!1,enumerable:!1,configurable:!0,value:executeRawDESCRIBEQuery},createFragment:{writable:!1,enumerable:!1,configurable:!0,value:extendCreateFragment(persistedDocument.createFragment)},createNamedFragment:{writable:!1,enumerable:!1,configurable:!0,value:extendCreateNamedFragment(persistedDocument.createNamedFragment)},isDirty:{writable:!1,enumerable:!1,configurable:!0,value:extendIsDirty(persistedDocument.isDirty)}}),persistedDocument},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("a1",["9f","96","97"],!0,function($__require,exports,module){"use strict";var Errors=$__require("9f"),RDF=$__require("96"),Utils=$__require("97");!function(ContainerType){ContainerType[ContainerType.SET=0]="SET",ContainerType[ContainerType.LIST=1]="LIST",ContainerType[ContainerType.LANGUAGE=2]="LANGUAGE"}(exports.ContainerType||(exports.ContainerType={}));var ContainerType=exports.ContainerType,DigestedObjectSchema=function(){function DigestedObjectSchema(){this.base="",this.prefixes=new Map,this.properties=new Map,this.prefixedURIs=new Map}return DigestedObjectSchema}();exports.DigestedObjectSchema=DigestedObjectSchema;var DigestedPropertyDefinition=function(){function DigestedPropertyDefinition(){this.uri=null,this.literal=null,this.literalType=null,this.language=null,this.containerType=null}return DigestedPropertyDefinition}();exports.DigestedPropertyDefinition=DigestedPropertyDefinition;var Digester=function(){function Digester(){}return Digester.digestSchema=function(schemaOrSchemas){if(!Utils.isArray(schemaOrSchemas))return Digester.digestSingleSchema(schemaOrSchemas);for(var digestedSchemas=[],_i=0,_a=schemaOrSchemas;_i<_a.length;_i++){var schema=_a[_i];digestedSchemas.push(Digester.digestSingleSchema(schema))}return Digester.combineDigestedObjectSchemas(digestedSchemas)},Digester.combineDigestedObjectSchemas=function(digestedSchemas){if(0===digestedSchemas.length)throw new Errors.IllegalArgumentError("At least one DigestedObjectSchema needs to be specified.");for(var combinedSchema=digestedSchemas.shift(),_i=0,digestedSchemas_1=digestedSchemas;_i<digestedSchemas_1.length;_i++){var digestedSchema=digestedSchemas_1[_i];Utils.M.extend(combinedSchema.prefixes,digestedSchema.prefixes),Utils.M.extend(combinedSchema.prefixedURIs,digestedSchema.prefixedURIs),Utils.M.extend(combinedSchema.properties,digestedSchema.properties)}return Digester.resolvePrefixedURIs(combinedSchema),combinedSchema},Digester.digestSingleSchema=function(schema){var digestedSchema=new DigestedObjectSchema;for(var propertyName in schema)if(schema.hasOwnProperty(propertyName)&&"@reverse"!==propertyName&&"@index"!==propertyName&&"@base"!==propertyName&&"@vocab"!==propertyName){var propertyValue=schema[propertyName];if(Utils.isString(propertyValue)){if(RDF.URI.Util.isPrefixed(propertyName))throw new Errors.IllegalArgumentError("A prefixed property cannot be equal to another URI.");var uri=new RDF.URI.Class(propertyValue);RDF.URI.Util.isPrefixed(uri.stringValue)&&(uri=Digester.resolvePrefixedURI(uri,digestedSchema)),digestedSchema.prefixes.set(propertyName,uri)}else{if(!propertyValue||!Utils.isObject(propertyValue))throw new Errors.IllegalArgumentError("ObjectSchema Properties can only have string values or object values.");var schemaDefinition=propertyValue,digestedDefinition=new DigestedPropertyDefinition;if("@id"in schemaDefinition){if(RDF.URI.Util.isPrefixed(propertyName))throw new Errors.IllegalArgumentError("A prefixed property cannot have assigned another URI.");if(!Utils.isString(schemaDefinition["@id"]))throw new Errors.IllegalArgumentError("@id needs to point to a string");digestedDefinition.uri=Digester.resolvePrefixedURI(new RDF.URI.Class(schemaDefinition["@id"]),digestedSchema)}else{if(!RDF.URI.Util.isPrefixed(propertyName))throw new Errors.IllegalArgumentError("Every property definition needs to have a uri defined.");digestedDefinition.uri=Digester.resolvePrefixedURI(new RDF.URI.Class(propertyName),digestedSchema)}if("@type"in schemaDefinition){if(!Utils.isString(schemaDefinition["@type"]))throw new Errors.IllegalArgumentError("@type needs to point to a string");"@id"===schemaDefinition["@type"]?digestedDefinition.literal=!1:(digestedDefinition.literal=!0,digestedDefinition.literalType=Digester.resolvePrefixedURI(new RDF.URI.Class(schemaDefinition["@type"]),digestedSchema))}if("@language"in schemaDefinition){if(!Utils.isString(schemaDefinition["@language"]))throw new Errors.IllegalArgumentError("@language needs to point to a string");digestedDefinition.language=schemaDefinition["@language"]}if("@container"in schemaDefinition)switch(schemaDefinition["@container"]){case"@set":digestedDefinition.containerType=ContainerType.SET;break;case"@list":digestedDefinition.containerType=ContainerType.LIST;break;case"@language":if(null!==digestedDefinition.language)throw new Errors.IllegalArgumentError("@container cannot be set to @language when the property definition already contains an @language tag.");digestedDefinition.containerType=ContainerType.LANGUAGE;break;default:throw new Errors.IllegalArgumentError("@container needs to be equal to '@list', '@set', or '@language'")}digestedSchema.properties.set(propertyName,digestedDefinition)}}return Digester.resolvePrefixedURIs(digestedSchema),digestedSchema},Digester.resolvePrefixedURIs=function(digestedSchema){return digestedSchema.prefixes.forEach(function(prefixValue,prefixName){if(digestedSchema.prefixedURIs.has(prefixName)){for(var prefixedURIs=digestedSchema.prefixedURIs.get(prefixName),_i=0,prefixedURIs_1=prefixedURIs;_i<prefixedURIs_1.length;_i++){var prefixedURI=prefixedURIs_1[_i];Digester.resolvePrefixedURI(prefixedURI,digestedSchema)}digestedSchema.prefixedURIs["delete"](prefixName)}}),digestedSchema},Digester.resolvePrefixedURI=function(uri,digestedSchema){if(!RDF.URI.Util.isPrefixed(uri.stringValue))return uri;var uriParts=uri.stringValue.split(":"),prefix=uriParts[0],slug=uriParts[1];return digestedSchema.prefixes.has(prefix)?uri.stringValue=digestedSchema.prefixes.get(prefix)+slug:(digestedSchema.prefixedURIs.has(prefix)||digestedSchema.prefixedURIs.set(prefix,[]),digestedSchema.prefixedURIs.get(prefix).push(uri)),uri},Digester}();return exports.Digester=Digester,module.exports}),$__System.registerDynamic("ab",["9a","97"],!0,function($__require,exports,module){"use strict";var NS=$__require("9a"),Utils=$__require("97");exports.RDF_CLASS=NS.C.Class.AccessPoint,exports.SCHEMA={membershipResource:{"@id":NS.LDP.Predicate.membershipResource,"@type":"@id"}};var Factory=function(){function Factory(){}return Factory.prototype.hasClassProperties=function(resource){return Utils.hasPropertyDefined(resource,"membershipResource")},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("ac",["9a","95"],!0,function($__require,exports,module){"use strict";var NS=$__require("9a"),Pointer=$__require("95");exports.RDF_CLASS=NS.LDP.Class.BasicContainer;var Factory=function(){function Factory(){}return Factory.prototype.hasRDFClass=function(pointerOrExpandedObject){var types=[];if("@type"in pointerOrExpandedObject)types=pointerOrExpandedObject["@type"];else if("types"in pointerOrExpandedObject){var resource=pointerOrExpandedObject;types=Pointer.Util.getIDs(resource.types)}return-1!==types.indexOf(NS.LDP.Class.BasicContainer)},Factory}();return exports.Factory=Factory,exports.factory=new Factory,module.exports}),$__System.registerDynamic("ad",["9a","97"],!0,function($__require,exports,module){"use strict";var NS=$__require("9a"),Utils=$__require("97");exports.RDF_CLASS=NS.LDP.Class.Container,exports.SCHEMA={contains:{"@id":NS.LDP.Predicate.contains,"@container":"@set","@type":"@id"},members:{"@id":NS.LDP.Predicate.member,"@container":"@set","@type":"@id"},memberOfRelation:{"@id":NS.LDP.Predicate.memberOfRelation,"@type":"@id"},hasMemberRelation:{"@id":NS.LDP.Predicate.hasMemberRelation,"@type":"@id"},insertedContentRelation:{"@id":NS.LDP.Predicate.insertedContentRelation,"@type":"@id"}};var Factory=function(){function Factory(){}return Factory.hasClassProperties=function(resource){return Utils.hasPropertyDefined(resource,"memberOfRelation")&&Utils.hasPropertyDefined(resource,"hasMemberRelation")},Factory.hasRDFClass=function(resourceOrExpandedObject){var types=[];if("@type"in resourceOrExpandedObject)types=resourceOrExpandedObject["@type"];else if("types"in resourceOrExpandedObject){var resource=resourceOrExpandedObject;types=resource.types}return-1!==types.indexOf(exports.RDF_CLASS)||-1!==types.indexOf(NS.LDP.Class.BasicContainer)||-1!==types.indexOf(NS.LDP.Class.DirectContainer)||-1!==types.indexOf(NS.LDP.Class.IndirectContainer)},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("ae",["97"],!0,function($__require,exports,module){"use strict";function createChild(slugOrDocument,document){void 0===slugOrDocument&&(slugOrDocument=null),void 0===document&&(document=null);var slug=Utils.isString(slugOrDocument)?slugOrDocument:null;return document=slugOrDocument&&!Utils.isString(slugOrDocument)?slugOrDocument:document?document:null,null!==slug?this._documents.createChild(this.id,slug,document):this._documents.createChild(this.id,document)}var Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.hasClassProperties=function(document){return Utils.hasFunction(document,"createChild")},Factory.decorate=function(persistedDocument){return Factory.hasClassProperties(persistedDocument)?persistedDocument:(Object.defineProperties(persistedDocument,{createChild:{writable:!1,enumerable:!1,configurable:!0,value:createChild}}),persistedDocument)},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("af",["9a"],!0,function($__require,exports,module){"use strict";var NS=$__require("9a");exports.RDF_CLASS=NS.LDP.Class.RDFSource,exports.SCHEMA={created:{"@id":NS.C.Predicate.created,"@type":NS.XSD.DataType.dateTime},modified:{"@id":NS.C.Predicate.modified,"@type":NS.XSD.DataType.dateTime}};var Factory=function(){function Factory(){}return Factory}();return exports.Factory=Factory,exports.factory=new Factory,module.exports}),$__System.registerDynamic("a0",["ab","ac","ad","ae","af"],!0,function($__require,exports,module){"use strict";var AccessPoint=$__require("ab");exports.AccessPoint=AccessPoint;var BasicContainer=$__require("ac");exports.BasicContainer=BasicContainer;var Container=$__require("ad");exports.Container=Container;var PersistedContainer=$__require("ae");exports.PersistedContainer=PersistedContainer;var RDFSource=$__require("af");return exports.RDFSource=RDFSource,module.exports}),$__System.registerDynamic("b0",["97"],!0,function($__require,exports,module){"use strict";var Utils=$__require("97"),ValueTypes=function(){function ValueTypes(){}return Object.defineProperty(ValueTypes,"URI",{get:function(){return"uri"},enumerable:!0,configurable:!0}),Object.defineProperty(ValueTypes,"LITERAL",{get:function(){return"literal"},enumerable:!0,configurable:!0}),Object.defineProperty(ValueTypes,"BNODE",{get:function(){return"bnode"},enumerable:!0,configurable:!0}),ValueTypes}();exports.ValueTypes=ValueTypes;var Factory=function(){function Factory(){}return Factory.hasClassProperties=function(value){return Utils.hasPropertyDefined(value,"head")},Factory.is=function(value){return Utils.isObject(value)&&Factory.hasClassProperties(value)},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("b1",["b2"],!0,function($__require,exports,module){"use strict";var JSONParser_1=$__require("b2"),Class=function(){function Class(){}return Class.prototype.parse=function(input){var jsonParser=new JSONParser_1["default"];return jsonParser.parse(input).then(function(parsedObject){return parsedObject})},Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("b3",["9f","b4","96","97","b1"],!0,function($__require,exports,module){"use strict";var Errors=$__require("9f"),HTTP=$__require("b4"),RDF=$__require("96"),Utils=$__require("97"),RawResultsParser_1=$__require("b1"),Class=function(){function Class(){}return Class.executeRawASKQuery=function(url,askQuery,options){return void 0===options&&(options={}),options=Utils.extend(options,Class.defaultOptions),HTTP.Request.Util.setAcceptHeader("application/sparql-results+json",options),HTTP.Request.Util.setContentTypeHeader("application/sparql-query",options),HTTP.Request.Service.post(url,askQuery,options,Class.resultsParser)},Class.executeASKQuery=function(url,askQuery,options){return void 0===options&&(options={}),HTTP.Request.Service.post(url,askQuery,options,Class.resultsParser).then(function(_a){var rawResults=_a[0],response=_a[1];return[rawResults["boolean"],response]})},Class.executeRawSELECTQuery=function(url,selectQuery,options){return void 0===options&&(options={}),options=Utils.extend(options,Class.defaultOptions),HTTP.Request.Util.setAcceptHeader("application/sparql-results+json",options),HTTP.Request.Util.setContentTypeHeader("application/sparql-query",options),HTTP.Request.Service.post(url,selectQuery,options,Class.resultsParser)},Class.executeSELECTQuery=function(url,selectQuery,pointerLibrary,options){return Class.executeRawSELECTQuery(url,selectQuery,options).then(function(_a){for(var rawResults=_a[0],response=_a[1],rawBindings=rawResults.results.bindings,bindings=[],_i=0,rawBindings_1=rawBindings;_i<rawBindings_1.length;_i++){var bindingColumn=rawBindings_1[_i],binding={};for(var bindingRow in bindingColumn)if(bindingColumn.hasOwnProperty(bindingRow)){var bindingCell=bindingColumn[bindingRow];binding[bindingRow]=Class.parseRawBindingProperty(bindingCell,pointerLibrary)}bindings.push(binding)}var results={vars:rawResults.head.vars,bindings:bindings};return[results,response]})},Class.executeRawCONSTRUCTQuery=function(url,constructQuery,options){return void 0===options&&(options={}),options=Utils.extend(options,Class.defaultOptions),null===HTTP.Request.Util.getHeader("Accept",options)&&HTTP.Request.Util.setAcceptHeader("application/ld+json",options),HTTP.Request.Util.setContentTypeHeader("application/sparql-query",options),HTTP.Request.Service.post(url,constructQuery,options,Class.stringParser)},Class.executeRawDESCRIBEQuery=function(url,describeQuery,options){return void 0===options&&(options={}),options=Utils.extend(options,Class.defaultOptions),null===HTTP.Request.Util.getHeader("Accept",options)&&HTTP.Request.Util.setAcceptHeader("application/ld+json",options),HTTP.Request.Util.setContentTypeHeader("application/sparql-query",options),HTTP.Request.Service.post(url,describeQuery,options,Class.stringParser)},Class.parseRawBindingProperty=function(rawBindingProperty,pointerLibrary){switch(rawBindingProperty.type){case"uri":return pointerLibrary.getPointer(rawBindingProperty.value);case"bnode":throw new Errors.NotImplementedError("BNodes cannot be queried directly");case"literal":return"datatype"in rawBindingProperty?RDF.Literal.Factory.parse(rawBindingProperty.value,rawBindingProperty.datatype):RDF.Literal.Factory.parse(rawBindingProperty.value);default:throw new Errors.IllegalArgumentError("The bindingProperty has an unsupported type")}},Class.defaultOptions={},Class.resultsParser=new RawResultsParser_1["default"],Class.stringParser=new HTTP.StringParser.Class,Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("b5",[],!1,function($__require,$__exports,$__module){var _retrieveGlobal=$__System.get("@@global-helpers").prepareGlobal($__module.id,null,null);return function(){"use strict"}(),_retrieveGlobal()}),$__System.registerDynamic("b6",["b0","b1","b3","b5"],!0,function($__require,exports,module){"use strict";var RawResults=$__require("b0");exports.RawResults=RawResults;var RawResultsParser=$__require("b1");exports.RawResultsParser=RawResultsParser;var Service_1=$__require("b3");exports.Service=Service_1["default"];var SELECTResults=$__require("b5");return exports.SELECTResults=SELECTResults,module.exports}),$__System.registerDynamic("9e",["9f","b4","96","97","a2","aa","95","9a","a1","a0","b6"],!0,function($__require,exports,module){"use strict";var Errors=$__require("9f"),HTTP=$__require("b4"),RDF=$__require("96"),Utils=$__require("97"),JSONLDConverter=$__require("a2"),PersistedDocument=$__require("aa"),Pointer=$__require("95"),NS=$__require("9a"),ObjectSchema=$__require("a1"),LDP=$__require("a0"),SPARQL=$__require("b6"),Documents=function(){function Documents(context){if(void 0===context&&(context=null),this.context=context,this.pointers=new Map,this.context&&this.context.parentContext){var contextJSONLDConverter=this.context.parentContext.documents.jsonldConverter;this._jsonldConverter=new JSONLDConverter.Class(contextJSONLDConverter.literalSerializers)}else this._jsonldConverter=new JSONLDConverter.Class}return Object.defineProperty(Documents.prototype,"jsonldConverter",{get:function(){return this._jsonldConverter},enumerable:!0,configurable:!0}),Documents.prototype.inScope=function(idOrPointer){var id=Pointer.Factory.is(idOrPointer)?idOrPointer.id:idOrPointer;if(RDF.URI.Util.isBNodeID(id))return!1;if(this.context){var baseURI=this.context.getBaseURI();if(RDF.URI.Util.isAbsolute(id)&&RDF.URI.Util.isBaseOf(baseURI,id))return!0}else if(RDF.URI.Util.isAbsolute(id))return!0;return this.context&&this.context.parentContext?this.context.parentContext.documents.inScope(id):!1},Documents.prototype.hasPointer=function(id){return id=this.getPointerID(id),this.pointers.has(id)?!0:this.context&&this.context.parentContext?this.context.parentContext.documents.hasPointer(id):!1},Documents.prototype.getPointer=function(id){var localID=this.getPointerID(id);if(!localID){if(this.context&&this.context.parentContext)return this.context.parentContext.documents.getPointer(id);throw new Errors.IllegalArgumentError("The pointer id is not supported by this module.")}var pointer;return this.pointers.has(localID)||(pointer=this.createPointer(localID),this.pointers.set(localID,pointer)),this.pointers.get(localID)},Documents.prototype.get=function(uri,requestOptions){var _this=this;void 0===requestOptions&&(requestOptions={});var pointerID=this.getPointerID(uri);if(this.context&&(uri=this.context.resolve(uri)),this.pointers.has(pointerID)){var pointer_1=this.getPointer(uri);if(pointer_1.isResolved())return new Promise(function(resolve,reject){resolve([pointer_1,null])})}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),HTTP.Request.Util.setAcceptHeader("application/ld+json",requestOptions),HTTP.Request.Util.setPreferredInteractionModel(NS.LDP.Class.RDFSource,requestOptions),HTTP.Request.Service.get(uri,requestOptions,new RDF.Document.Parser).then(function(_a){var rdfDocuments=_a[0],response=_a[1],etag=HTTP.Response.Util.getETag(response);if(null===etag)throw new HTTP.Errors.BadResponseError("The response doesn't contain an ETag",response);var rdfDocument=_this.getRDFDocument(uri,rdfDocuments,response);if(null===rdfDocument)throw new HTTP.Errors.BadResponseError("No document was returned.",response);var documentResources=RDF.Document.Util.getDocumentResources(rdfDocument);if(documentResources.length>1)throw new HTTP.Errors.BadResponseError("The RDFDocument contains more than one document resource.",response);if(0===documentResources.length)throw new HTTP.Errors.BadResponseError("The RDFDocument doesn't contain a document resource.",response);var documentResource=documentResources[0],fragmentResources=RDF.Document.Util.getBNodeResources(rdfDocument),namedFragmentResources=RDF.Document.Util.getFragmentResources(rdfDocument),documentPointer=_this.getPointer(uri);documentPointer._resolved=!0;var document=PersistedDocument.Factory.createFrom(documentPointer,uri,_this);document._etag=etag;for(var fragments=[],_i=0,fragmentResources_1=fragmentResources;_i<fragmentResources_1.length;_i++){var fragmentResource=fragmentResources_1[_i];
fragments.push(document.createFragment(fragmentResource["@id"]))}for(var namedFragments=[],_b=0,namedFragmentResources_1=namedFragmentResources;_b<namedFragmentResources_1.length;_b++){var namedFragmentResource=namedFragmentResources_1[_b];namedFragments.push(document.createNamedFragment(namedFragmentResource["@id"]))}return _this.compact(documentResource,document,document),_this.compact(fragmentResources,fragments,document),_this.compact(namedFragmentResources,namedFragments,document),document._syncSnapshot(),fragments.forEach(function(fragment){return fragment._syncSnapshot()}),namedFragments.forEach(function(fragment){return fragment._syncSnapshot()}),document._syncSavedFragments(),LDP.Container.Factory.hasRDFClass(document)&&LDP.PersistedContainer.Factory.decorate(document),[document,response]})},Documents.prototype.createChild=function(parentURI,slugOrChildDocument,childDocumentOrRequestOptions,requestOptions){var _this=this;void 0===childDocumentOrRequestOptions&&(childDocumentOrRequestOptions={}),void 0===requestOptions&&(requestOptions={});var slug=Utils.isString(slugOrChildDocument)?slugOrChildDocument:null,childDocument=Utils.isString(slugOrChildDocument)?childDocumentOrRequestOptions:slugOrChildDocument;if(requestOptions=Utils.isString(slugOrChildDocument)?requestOptions:childDocumentOrRequestOptions,PersistedDocument.Factory.is(childDocument))return Utils.P.createRejectedPromise(new Errors.IllegalArgumentError("The childDocument provided has been already persisted."));if(childDocument.id&&!RDF.URI.Util.isBaseOf(parentURI,childDocument.id))return Utils.P.createRejectedPromise(new Errors.IllegalArgumentError("The childDocument's URI is not relative to the parentURI specified"));this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),HTTP.Request.Util.setAcceptHeader("application/ld+json",requestOptions),HTTP.Request.Util.setContentTypeHeader("application/ld+json",requestOptions),HTTP.Request.Util.setPreferredInteractionModel(NS.LDP.Class.Container,requestOptions),null!==slug&&HTTP.Request.Util.setSlug(slug,requestOptions);var body=childDocument.toJSON(this,this.jsonldConverter);return HTTP.Request.Service.post(parentURI,body,requestOptions).then(function(response){var locationHeader=response.headers.get("Location");if(null===locationHeader||locationHeader.values.length<1)throw new HTTP.Errors.BadResponseError("The response is missing a Location header.",response);if(1!==locationHeader.values.length)throw new HTTP.Errors.BadResponseError("The response contains more than one Location header.",response);var locationURI=locationHeader.values[0].toString(),pointer=_this.getPointer(locationURI);return[pointer,response]})},Documents.prototype.getMembers=function(uri,includeNonReadableOrRequestOptions,requestOptions){var _this=this;void 0===includeNonReadableOrRequestOptions&&(includeNonReadableOrRequestOptions=null),void 0===requestOptions&&(requestOptions={});var includeNonReadable=Utils.isBoolean(includeNonReadableOrRequestOptions)?includeNonReadableOrRequestOptions:!0;if(requestOptions=Utils.isObject(includeNonReadableOrRequestOptions)&&null!==includeNonReadableOrRequestOptions?includeNonReadableOrRequestOptions:requestOptions,!RDF.URI.Util.isAbsolute(uri)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");uri=this.context.resolve(uri)}this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),HTTP.Request.Util.setAcceptHeader("application/ld+json",requestOptions),HTTP.Request.Util.setPreferredInteractionModel(NS.LDP.Class.Container,requestOptions);var containerRetrievalPreferences={include:[NS.LDP.Class.PreferMinimalContainer,NS.LDP.Class.PreferMembership],omit:[NS.LDP.Class.PreferContainment,NS.C.Class.PreferContainmentResources,NS.C.Class.PreferMembershipResources]};return includeNonReadable?containerRetrievalPreferences.include.push(NS.C.Class.NonReadableMembershipResourceTriples):containerRetrievalPreferences.omit.push(NS.C.Class.NonReadableMembershipResourceTriples),HTTP.Request.Service.get(uri,requestOptions,new RDF.Document.Parser).then(function(_a){var rdfDocuments=_a[0],response=_a[1],rdfDocument=_this.getRDFDocument(uri,rdfDocuments,response);if(null===rdfDocument)throw new HTTP.Errors.BadResponseError("No document was returned.",response);var membershipResource,documentResource=_this.getDocumentResource(rdfDocument,response),membershipResourceURI=RDF.Node.Util.getPropertyURI(documentResource,NS.LDP.Predicate.membershipResource);if(documentResource["@id"]===membershipResourceURI)membershipResource=documentResource;else if(null===membershipResourceURI){if(-1===documentResource["@type"].indexOf(NS.LDP.Class.BasicContainer))throw new HTTP.Errors.BadResponseError("The document is not an ldp:BasicContainer and it doesn't contain an ldp:membershipResource triple.",response);membershipResource=documentResource}else{var membershipResourceDocument=_this.getRDFDocument(membershipResourceURI,rdfDocuments,response);if(null===membershipResourceDocument)throw new HTTP.Errors.BadResponseError("The membershipResource document was not included in the response.",response);membershipResource=_this.getDocumentResource(membershipResourceDocument,response)}var hasMemberRelation=RDF.Node.Util.getPropertyURI(documentResource,NS.LDP.Predicate.hasMemberRelation),memberPointers=RDF.Value.Util.getPropertyPointers(membershipResource,hasMemberRelation,_this);return[memberPointers,response]})},Documents.prototype.save=function(persistedDocument,requestOptions){void 0===requestOptions&&(requestOptions={}),this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),HTTP.Request.Util.setAcceptHeader("application/ld+json",requestOptions),HTTP.Request.Util.setContentTypeHeader("application/ld+json",requestOptions),HTTP.Request.Util.setPreferredInteractionModel(NS.LDP.Class.RDFSource,requestOptions),HTTP.Request.Util.setIfMatchHeader(persistedDocument._etag,requestOptions);var body=persistedDocument.toJSON(this,this.jsonldConverter);return HTTP.Request.Service.put(persistedDocument.id,body,requestOptions).then(function(response){return[persistedDocument,response]})},Documents.prototype["delete"]=function(persistedDocument,requestOptions){return void 0===requestOptions&&(requestOptions={}),this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),HTTP.Request.Util.setAcceptHeader("application/ld+json",requestOptions),HTTP.Request.Util.setPreferredInteractionModel(NS.LDP.Class.RDFSource,requestOptions),HTTP.Request.Util.setIfMatchHeader(persistedDocument._etag,requestOptions),HTTP.Request.Service["delete"](persistedDocument.id,persistedDocument.toJSON(),requestOptions)},Documents.prototype.getSchemaFor=function(object){return"@id"in object?this.getDigestedObjectSchemaForExpandedObject(object):this.getDigestedObjectSchemaForDocument(object)},Documents.prototype.executeRawASKQuery=function(documentURI,askQuery,requestOptions){if(void 0===requestOptions&&(requestOptions={}),!RDF.URI.Util.isAbsolute(documentURI)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");documentURI=this.context.resolve(documentURI)}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),SPARQL.Service.executeRawASKQuery(documentURI,askQuery,requestOptions)},Documents.prototype.executeASKQuery=function(documentURI,askQuery,requestOptions){if(void 0===requestOptions&&(requestOptions={}),!RDF.URI.Util.isAbsolute(documentURI)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");documentURI=this.context.resolve(documentURI)}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),SPARQL.Service.executeASKQuery(documentURI,askQuery,requestOptions)},Documents.prototype.executeRawSELECTQuery=function(documentURI,selectQuery,requestOptions){if(void 0===requestOptions&&(requestOptions={}),!RDF.URI.Util.isAbsolute(documentURI)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");documentURI=this.context.resolve(documentURI)}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),SPARQL.Service.executeRawSELECTQuery(documentURI,selectQuery,requestOptions)},Documents.prototype.executeSELECTQuery=function(documentURI,selectQuery,requestOptions){if(void 0===requestOptions&&(requestOptions={}),!RDF.URI.Util.isAbsolute(documentURI)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");documentURI=this.context.resolve(documentURI)}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),SPARQL.Service.executeSELECTQuery(documentURI,selectQuery,this,requestOptions)},Documents.prototype.executeRawCONSTRUCTQuery=function(documentURI,constructQuery,requestOptions){if(void 0===requestOptions&&(requestOptions={}),!RDF.URI.Util.isAbsolute(documentURI)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");documentURI=this.context.resolve(documentURI)}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),SPARQL.Service.executeRawCONSTRUCTQuery(documentURI,constructQuery,requestOptions)},Documents.prototype.executeRawDESCRIBEQuery=function(documentURI,constructQuery,requestOptions){if(void 0===requestOptions&&(requestOptions={}),!RDF.URI.Util.isAbsolute(documentURI)){if(!this.context)throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");documentURI=this.context.resolve(documentURI)}return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(requestOptions),SPARQL.Service.executeRawDESCRIBEQuery(documentURI,constructQuery,requestOptions)},Documents.prototype.getRDFDocument=function(requestURL,rdfDocuments,response){if(rdfDocuments=rdfDocuments.filter(function(rdfDocument){return rdfDocument["@id"]===requestURL}),rdfDocuments.length>1)throw new HTTP.Errors.BadResponseError("Several documents share the same id.",response);return rdfDocuments.length>0?rdfDocuments[0]:null},Documents.prototype.getDocumentResource=function(rdfDocument,response){var documentResources=RDF.Document.Util.getDocumentResources(rdfDocument);if(0===documentResources.length)throw new HTTP.Errors.BadResponseError("The RDFDocument: "+rdfDocument["@id"]+", doesn't contain a document resource.",response);if(documentResources.length>1)throw new HTTP.Errors.BadResponseError("The RDFDocument: "+rdfDocument["@id"]+", contains more than one document resource.",response);return documentResources[0]},Documents.prototype.getPointerID=function(uri){if(RDF.URI.Util.isBNodeID(uri))throw new Errors.IllegalArgumentError("BNodes cannot be fetched directly.");if(this.context){if(RDF.URI.Util.isRelative(uri)){var baseURI=this.context.getBaseURI();return RDF.URI.Util.isBaseOf(baseURI,uri)?uri.substring(baseURI.length):null}return uri}if(RDF.URI.Util.isRelative(uri))throw new Errors.IllegalArgumentError("This Documents instance doesn't support relative URIs.");return uri},Documents.prototype.createPointer=function(localID){var _this=this,id=this.context?this.context.resolve(localID):localID,pointer=Pointer.Factory.create(id);return Object.defineProperty(pointer,"resolve",{writable:!1,enumerable:!1,configurable:!0,value:function(){return _this.get(id)}}),pointer},Documents.prototype.compact=function(expandedObjectOrObjects,targetObjectOrObjects,pointerLibrary){if(!Utils.isArray(expandedObjectOrObjects))return this.compactSingle(expandedObjectOrObjects,targetObjectOrObjects,pointerLibrary);for(var expandedObjects=expandedObjectOrObjects,targetObjects=targetObjectOrObjects?targetObjectOrObjects:[],i=0,length_1=expandedObjects.length;length_1>i;i++){var expandedObject=expandedObjects[i],targetObject=targetObjects[i]=targetObjects[i]?targetObjects[i]:{};this.compactSingle(expandedObject,targetObject,pointerLibrary)}return targetObjects},Documents.prototype.compactSingle=function(expandedObject,targetObject,pointerLibrary){var digestedSchema=this.getDigestedObjectSchemaForExpandedObject(expandedObject);return this.jsonldConverter.compact(expandedObject,targetObject,digestedSchema,pointerLibrary)},Documents.prototype.getDigestedObjectSchemaForExpandedObject=function(expandedObject){var types=this.getExpandedObjectTypes(expandedObject);return this.getDigestedObjectSchema(types)},Documents.prototype.getDigestedObjectSchemaForDocument=function(document){var types=this.getDocumentTypes(document);return this.getDigestedObjectSchema(types)},Documents.prototype.getDigestedObjectSchema=function(objectTypes){var digestedSchema;if(this.context){for(var typesDigestedObjectSchemas=[this.context.getObjectSchema()],_i=0,objectTypes_1=objectTypes;_i<objectTypes_1.length;_i++){var type=objectTypes_1[_i];this.context.getObjectSchema(type)&&typesDigestedObjectSchemas.push(this.context.getObjectSchema(type))}digestedSchema=typesDigestedObjectSchemas.length>1?ObjectSchema.Digester.combineDigestedObjectSchemas(typesDigestedObjectSchemas):typesDigestedObjectSchemas[0]}else digestedSchema=new ObjectSchema.DigestedObjectSchema;return digestedSchema},Documents.prototype.getExpandedObjectTypes=function(expandedObject){return expandedObject["@type"]?expandedObject["@type"]:[]},Documents.prototype.getDocumentTypes=function(document){return document.types?document.types:[]},Documents}();return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Documents,module.exports}),$__System.registerDynamic("b7",[],!0,function($__require,exports,module){"use strict";var PropertyDescription=function(){function PropertyDescription(){this.multi=!0,this.literal=null}return PropertyDescription}();return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=PropertyDescription,module.exports}),$__System.registerDynamic("b8",["b4","b9","97","ba"],!0,function($__require,exports,module){"use strict";var HTTP=$__require("b4"),RDFNode=$__require("b9"),Utils=$__require("97"),URI=$__require("ba"),Factory=function(){function Factory(){}return Factory.is=function(object){return Utils.hasProperty(object,"@graph")},Factory.create=function(resources,uri){var document=uri?RDFNode.Factory.create(uri):{};return document["@graph"]=resources,document},Factory}();exports.Factory=Factory;var Util=function(){function Util(){}return Util.getDocuments=function(value){if(Utils.isArray(value)){if(0===value.length)return value;if(Factory.is(value[0]))return value;if(RDFNode.Factory.is(value[0]))return[Factory.create(value)]}else{if(!Utils.isObject(value))throw new Error("IllegalArgument: The value structure isn't valid.");if(Factory.is(value))return[value];if(RDFNode.Factory.is(value))return[Factory.create([value])]}},Util.getResources=function(value){for(var documents=Util.getDocuments(value),resources=[],_i=0,documents_1=documents;_i<documents_1.length;_i++){var document_1=documents_1[_i];resources=resources.concat(document_1["@graph"])}return resources},Util.getDocumentResources=function(document){for(var resources=Util.getResources(document),documentResources=[],i=0,length_1=resources.length;length_1>i;i++){var resource=resources[i],uri=resource["@id"];uri&&(URI.Util.hasFragment(uri)||URI.Util.isBNodeID(uri)||documentResources.push(resource))}return documentResources},Util.getFragmentResources=function(document,documentResource){var resources=Util.getResources(document),documentURIToMatch=null;documentResource&&(documentURIToMatch=Utils.isString(documentResource)?documentResource:documentResource["@id"]);for(var fragmentResources=[],i=0,length_2=resources.length;length_2>i;i++){var resource=resources[i],uri=resource["@id"];if(uri&&URI.Util.hasFragment(uri))if(documentURIToMatch){var documentURI=URI.Util.getDocumentURI(uri);documentURI===documentURIToMatch&&fragmentResources.push(resource)}else fragmentResources.push(resource)}return fragmentResources},Util.getBNodeResources=function(document){for(var resources=Util.getResources(document),bnodes=[],i=0,length_3=resources.length;length_3>i;i++){var resource=resources[i];"@id"in resource&&!URI.Util.isBNodeID(resource["@id"])||bnodes.push(resource)}return bnodes},Util}();exports.Util=Util;var Parser=function(){function Parser(){}return Parser.prototype.parse=function(input){var jsonLDParser=new HTTP.JSONLDParser.Class;return jsonLDParser.parse(input).then(function(expandedResult){return Util.getDocuments(expandedResult)})},Parser}();return exports.Parser=Parser,module.exports}),$__System.registerDynamic("ba",["9f","97"],!0,function($__require,exports,module){"use strict";function prefixWithObjectSchema(uri,objectSchema){for(var prefixEntries=objectSchema.prefixes.entries();;){var result=prefixEntries.next();if(result.done)return uri;var _a=result.value,prefix=_a[0],prefixURI=_a[1];if(Util.isAbsolute(prefixURI.toString())&&uri.startsWith(prefixURI.toString()))return Util.prefix(uri,prefix,prefixURI.toString())}}var Errors=$__require("9f"),Utils=$__require("97"),Class=function(){function Class(stringValue){this.stringValue=stringValue}return Class.prototype.toString=function(){return this.stringValue},Class}();exports.Class=Class;var Util=function(){function Util(){}return Util.hasFragment=function(uri){return-1!==uri.indexOf("#")},Util.hasProtocol=function(uri){return Utils.S.startsWith(uri,"https://")||Utils.S.startsWith(uri,"http://")},Util.isAbsolute=function(uri){return Utils.S.startsWith(uri,"http://")||Utils.S.startsWith(uri,"https://")||Utils.S.startsWith(uri,"://")},Util.isRelative=function(uri){return!Util.isAbsolute(uri)},Util.isBNodeID=function(uri){return Utils.S.startsWith(uri,"_:")},Util.isPrefixed=function(uri){return!Util.isAbsolute(uri)&&!Util.isBNodeID(uri)&&Utils.S.contains(uri,":")},Util.isFragmentOf=function(fragmentURI,uri){return Util.hasFragment(fragmentURI)?Util.getDocumentURI(fragmentURI)===uri:!1},Util.isBaseOf=function(baseURI,uri){if(baseURI===uri)return!0;if(""===baseURI)return!0;if(uri.startsWith(baseURI)){if(Utils.S.endsWith(baseURI,"/")||Utils.S.endsWith(baseURI,"#"))return!0;var relativeURI=uri.substring(baseURI.length);if(Utils.S.startsWith(relativeURI,"/")||Utils.S.startsWith(relativeURI,"#"))return!0}return!1},Util.getRelativeURI=function(absoluteURI,base){return absoluteURI.startsWith(base)?absoluteURI.substring(base.length):absoluteURI},Util.getDocumentURI=function(uri){var parts=uri.split("#");if(parts.length>2)throw new Error("IllegalArgument: The URI provided has more than one # sign.");return parts[0]},Util.getFragment=function(uri){var parts=uri.split("#");if(parts.length<2)return null;if(parts.length>2)throw new Error("IllegalArgument: The URI provided has more than one # sign.");return parts[1]},Util.getSlug=function(uri){var uriParts=uri.split("#");if(2===uriParts.length)return Util.getSlug(uriParts[1]);if(uriParts.length>2)throw new Errors.IllegalArgumentError("Invalid URI: The uri contains two '#' symbols.");if(uri=uriParts[0],""===uri)return uri;if("/"===uri)return uri;var parts=uri.split("/");return""===parts[parts.length-1]?parts[parts.length-2]+"/":parts[parts.length-1]},Util.resolve=function(parentURI,childURI){if(Util.isAbsolute(childURI)||Util.isPrefixed(childURI))return childURI;var finalURI=parentURI;return Utils.S.endsWith(parentURI,"/")||(finalURI+="/"),finalURI+=Utils.S.startsWith(childURI,"/")?childURI.substr(1,childURI.length):childURI},Util.removeProtocol=function(uri){return Utils.S.startsWith(uri,"https://")?uri.substr(5,uri.length):Utils.S.startsWith(uri,"http://")?uri.substr(4,uri.length):uri},Util.prefix=function(uri,prefixOrObjectSchema,prefixURI){void 0===prefixURI&&(prefixURI=null);var objectSchema=Utils.isString(prefixOrObjectSchema)?null:prefixOrObjectSchema,prefix=Utils.isString(prefixOrObjectSchema)?prefixOrObjectSchema:null;return null!==objectSchema?prefixWithObjectSchema(uri,objectSchema):Util.isPrefixed(uri)||!uri.startsWith(prefixURI)?uri:prefix+":"+uri.substring(prefixURI.length)},Util}();return exports.Util=Util,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("bb",["97"],!0,function($__require,exports,module){"use strict";var Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.is=function(value){return!Utils.isNull(value)&&Utils.isObject(value)&&Utils.hasProperty(value,"@list")},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("bc",["9f","97"],!0,function($__require,exports,module){"use strict";function pad(value){var paddedValue=String(value);return 1===paddedValue.length&&(paddedValue="0"+paddedValue),paddedValue}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Errors=$__require("9f"),Utils=$__require("97"),DateSerializer=function(){function DateSerializer(){}return DateSerializer.prototype.serialize=function(value){if(!Utils.isDate(value))throw new Errors.IllegalArgumentError("The value is not a Date object.");return value.getUTCFullYear()+"-"+pad(value.getUTCMonth()+1)+"-"+pad(value.getUTCDate())},DateSerializer}();exports.DateSerializer=DateSerializer,exports.dateSerializer=new DateSerializer;var DateTimeSerializer=function(){function DateTimeSerializer(){}return DateTimeSerializer.prototype.serialize=function(value){if(!Utils.isDate(value))throw new Errors.IllegalArgumentError("The value is not a Date object.");return value.toISOString()},DateTimeSerializer}();exports.DateTimeSerializer=DateTimeSerializer,exports.dateTimeSerializer=new DateTimeSerializer;var TimeSerializer=function(){function TimeSerializer(){}return TimeSerializer.prototype.serialize=function(value){if(!Utils.isDate(value))throw new Errors.IllegalArgumentError("The value is not a Date object.");return pad(value.getUTCHours())+":"+pad(value.getUTCMinutes())+":"+pad(value.getUTCSeconds())+"."+String((value.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},TimeSerializer}();exports.TimeSerializer=TimeSerializer,exports.timeSerializer=new TimeSerializer;var IntegerSerializer=function(){function IntegerSerializer(){}return IntegerSerializer.prototype.serialize=function(value){if(!Utils.isNumber(value))throw new Errors.IllegalArgumentError("The value is not a number.");return~~value+""},IntegerSerializer}();exports.IntegerSerializer=IntegerSerializer,exports.integerSerializer=new IntegerSerializer;var UnsignedIntegerSerializer=function(_super){function UnsignedIntegerSerializer(){_super.apply(this,arguments)}return __extends(UnsignedIntegerSerializer,_super),UnsignedIntegerSerializer.prototype.serialize=function(value){var stringValue=_super.prototype.serialize.call(this,value);return stringValue=Utils.S.startsWith(stringValue,"-")?stringValue.substring(1):stringValue},UnsignedIntegerSerializer}(IntegerSerializer);exports.UnsignedIntegerSerializer=UnsignedIntegerSerializer,exports.unsignedIntegerSerializer=new UnsignedIntegerSerializer;var FloatSerializer=function(){function FloatSerializer(){}return FloatSerializer.prototype.serialize=function(value){if(!Utils.isNumber(value))throw new Errors.IllegalArgumentError("The value is not a number.");return value+""},FloatSerializer}();exports.FloatSerializer=FloatSerializer,exports.floatSerializer=new FloatSerializer;var BooleanSerializer=function(){function BooleanSerializer(){}return BooleanSerializer.prototype.serialize=function(value){return value?"true":"false"},BooleanSerializer}();exports.BooleanSerializer=BooleanSerializer,exports.booleanSerializer=new BooleanSerializer;var StringSerializer=function(){function StringSerializer(){}return StringSerializer.prototype.serialize=function(value){return value+""},StringSerializer}();return exports.StringSerializer=StringSerializer,exports.stringSerializer=new StringSerializer,module.exports}),$__System.registerDynamic("bd",["bc"],!0,function($__require,exports,module){"use strict";var XSD=$__require("bc");return exports.XSD=XSD,module.exports}),$__System.registerDynamic("be",["97","bf","bd"],!0,function($__require,exports,module){"use strict";var Utils=$__require("97"),XSD=$__require("bf"),Serializers=$__require("bd");exports.Serializers=Serializers;var Factory=function(){function Factory(){}return Factory.from=function(value){if(Utils.isNull(value))throw new Error("IllegalArgument: null cannot be converted into a Literal");var type;switch(!0){case Utils.isDate(value):type=XSD.DataType.dateTime,value=value.toISOString();break;case Utils.isNumber(value):type=Utils.isInteger(value)?XSD.DataType.integer:XSD.DataType["double"];break;case Utils.isString(value):type=XSD.DataType.string;break;case Utils.isBoolean(value):type=XSD.DataType["boolean"];break;default:type=XSD.DataType.object,value=JSON.stringify(value)}var literal={"@value":value};return type&&(literal["@type"]=type),literal},Factory.parse=function(literalValueOrLiteral,literalDataType){void 0===literalDataType&&(literalDataType=null);var literalValue;if(Utils.isString(literalValueOrLiteral))literalValue=literalValueOrLiteral;else{var literal=literalValueOrLiteral;if(!literal)return null;if(!Utils.hasProperty(literal,"@value"))return null;literalDataType="@type"in literal?literal["@type"]:null,literalValue=literal["@value"]}if(null===literalDataType)return literalValue;if(!Utils.hasProperty(XSD.DataType,literalDataType))return literalValue;var value;switch(literalDataType){case XSD.DataType.date:case XSD.DataType.dateTime:case XSD.DataType.time:value=new Date(literalValue);break;case XSD.DataType.duration:break;case XSD.DataType.gDay:case XSD.DataType.gMonth:case XSD.DataType.gMonthDay:case XSD.DataType.gYear:case XSD.DataType.gYearMonth:break;case XSD.DataType["byte"]:case XSD.DataType.decimal:case XSD.DataType["int"]:case XSD.DataType.integer:case XSD.DataType["long"]:case XSD.DataType.negativeInteger:case XSD.DataType.nonNegativeInteger:case XSD.DataType.nonPositiveInteger:case XSD.DataType.positiveInteger:case XSD.DataType["short"]:case XSD.DataType.unsignedLong:case XSD.DataType.unsignedInt:case XSD.DataType.unsignedShort:case XSD.DataType.unsignedByte:case XSD.DataType["double"]:case XSD.DataType["float"]:value=parseFloat(literalValue);break;case XSD.DataType["boolean"]:value=Utils.parseBoolean(literalValue);break;case XSD.DataType.string:value=literalValue;break;case XSD.DataType.object:value=JSON.parse(literalValue)}return value},Factory.is=function(value){return value&&Utils.isObject(value)?Utils.hasProperty(value,"@value"):!1},Factory.hasType=function(value,type){return value["@type"]||type!==XSD.DataType.string?value["@type"]===type:!0},Factory}();exports.Factory=Factory;var Util=function(){function Util(){}return Util.areEqual=function(literal1,literal2){return!1},Util}();return exports.Util=Util,module.exports}),$__System.registerDynamic("b9",["97"],!0,function($__require,exports,module){"use strict";var Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.is=function(value){return!Utils.isNull(value)&&Utils.isObject(value)&&Utils.hasProperty(value,"@id")},Factory.create=function(uri){return{"@id":uri}},Factory}();exports.Factory=Factory;var Util=function(){function Util(){}return Util.areEqual=function(node1,node2){return node1["@id"]===node2["@id"]},Util.getPropertyURI=function(node,predicate){if(!(predicate in node))return null;if(!Utils.isArray(node[predicate]))return null;var uri=node[predicate].find(function(value){return Factory.is(value)});return"undefined"!=typeof uri?uri["@id"]:null},Util}();return exports.Util=Util,module.exports}),$__System.registerDynamic("c0",["bb","be","9a","b9"],!0,function($__require,exports,module){"use strict";var List=$__require("bb"),Literal=$__require("be"),NS=$__require("9a"),RDFNode=$__require("b9"),Util=function(){function Util(){}return Util.areEqual=function(value1,value2){return Literal.Factory.is(value1)&&Literal.Factory.is(value2)?Literal.Util.areEqual(value1,value2):RDFNode.Factory.is(value1)&&RDFNode.Factory.is(value2)?RDFNode.Util.areEqual(value1,value2):!1},Util.getProperty=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;var propertyValue=propertyValues[0];return Util.parseValue(propertyValue,pointerLibrary)},Util.getPropertyPointer=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var _i=0,propertyValues_1=propertyValues;_i<propertyValues_1.length;_i++){var propertyValue=propertyValues_1[_i];if(RDFNode.Factory.is(propertyValue))return pointerLibrary.getPointer(propertyValue["@id"])}return null},Util.getPropertyLiteral=function(expandedObject,propertyURI,literalType){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var _i=0,propertyValues_2=propertyValues;_i<propertyValues_2.length;_i++){var propertyValue=propertyValues_2[_i];if(Literal.Factory.is(propertyValue)&&Literal.Factory.hasType(propertyValue,literalType))return Literal.Factory.parse(propertyValue)}return null},Util.getPropertyList=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;var propertyList=Util.getList(propertyValues);if(!propertyList)return null;for(var listValues=[],_i=0,_a=propertyList["@list"];_i<_a.length;_i++){var listValue=_a[_i];listValues.push(Util.parseValue(listValue,pointerLibrary))}return listValues},Util.getPropertyPointerList=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;var propertyList=Util.getList(propertyValues);if(!propertyList)return null;for(var listPointers=[],_i=0,_a=propertyList["@list"];_i<_a.length;_i++){var listValue=_a[_i];if(RDFNode.Factory.is(listValue)){var pointer=pointerLibrary.getPointer(listValue["@id"]);listPointers.push(pointer)}}return listPointers},Util.getPropertyLiteralList=function(expandedObject,propertyURI,literalType){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;var propertyList=Util.getList(propertyValues);if(!propertyList)return null;for(var listLiterals=[],_i=0,_a=propertyList["@list"];_i<_a.length;_i++){var listValue=_a[_i];Literal.Factory.is(listValue)&&Literal.Factory.hasType(listValue,literalType)&&listLiterals.push(Literal.Factory.parse(listValue))}return listLiterals},Util.getProperties=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;for(var properties=[],_i=0,propertyValues_3=propertyValues;_i<propertyValues_3.length;_i++){var propertyValue=propertyValues_3[_i];properties.push(Util.parseValue(propertyValue,pointerLibrary))}return properties},Util.getPropertyPointers=function(expandedObject,propertyURI,pointerLibrary){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;for(var propertyPointers=[],_i=0,propertyValues_4=propertyValues;_i<propertyValues_4.length;_i++){var propertyValue=propertyValues_4[_i];if(RDFNode.Factory.is(propertyValue)){var pointer=pointerLibrary.getPointer(propertyValue["@id"]);propertyPointers.push(pointer)}}return propertyPointers},Util.getPropertyURIs=function(expandedObject,propertyURI){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;if(!propertyValues.length)return null;for(var propertyURIs=[],_i=0,propertyValues_5=propertyValues;_i<propertyValues_5.length;_i++){var propertyValue=propertyValues_5[_i];
RDFNode.Factory.is(propertyValue)&&propertyURIs.push(propertyValue["@id"])}return propertyURIs},Util.getPropertyLiterals=function(expandedObject,propertyURI,literalType){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var propertyLiterals=[],_i=0,propertyValues_6=propertyValues;_i<propertyValues_6.length;_i++){var propertyValue=propertyValues_6[_i];Literal.Factory.is(propertyValue)&&Literal.Factory.hasType(propertyValue,literalType)&&propertyLiterals.push(Literal.Factory.parse(propertyValue))}return propertyLiterals},Util.getPropertyLanguageMap=function(expandedObject,propertyURI){var propertyValues=expandedObject[propertyURI];if(!propertyValues)return null;for(var propertyLanguageMap={},_i=0,propertyValues_7=propertyValues;_i<propertyValues_7.length;_i++){var propertyValue=propertyValues_7[_i];if(Literal.Factory.is(propertyValue)&&Literal.Factory.hasType(propertyValue,NS.XSD.DataType.string)){var languageTag=propertyValue["@language"];languageTag&&(propertyLanguageMap[languageTag]=Literal.Factory.parse(propertyValue))}}return propertyLanguageMap},Util.getList=function(propertyValues){for(var _i=0,propertyValues_8=propertyValues;_i<propertyValues_8.length;_i++){var propertyValue=propertyValues_8[_i];if(List.Factory.is(propertyValue))return propertyValue}return null},Util.parseValue=function(propertyValue,pointerLibrary){if(Literal.Factory.is(propertyValue))return Literal.Factory.parse(propertyValue);if(RDFNode.Factory.is(propertyValue))return pointerLibrary.getPointer(propertyValue["@id"]);if(List.Factory.is(propertyValue)){for(var parsedValue=[],listValues=propertyValue["@list"],_i=0,listValues_1=listValues;_i<listValues_1.length;_i++){var listValue=listValues_1[_i];parsedValue.push(this.parseValue(listValue,pointerLibrary))}return parsedValue}},Util}();return exports.Util=Util,module.exports}),$__System.registerDynamic("96",["be","b7","b8","bb","b9","ba","c0"],!0,function($__require,exports,module){"use strict";var Literal=$__require("be");exports.Literal=Literal;var PropertyDescription_1=$__require("b7");exports.PropertyDescription=PropertyDescription_1["default"];var Document=$__require("b8");exports.Document=Document;var List=$__require("bb");exports.List=List;var Node=$__require("b9");exports.Node=Node;var URI=$__require("ba");exports.URI=URI;var Value=$__require("c0");return exports.Value=Value,module.exports}),$__System.registerDynamic("c1",["3"],!0,function($__require,exports,module){var define,process=$__require("3"),global=this;return function(){"use strict";function $$utils$$objectOrFunction(x){return"function"==typeof x||"object"==typeof x&&null!==x}function $$utils$$isFunction(x){return"function"==typeof x}function $$utils$$isMaybeThenable(x){return"object"==typeof x&&null!==x}function $$utils$$F(){}function $$asap$$useNextTick(){return function(){process.nextTick($$asap$$flush)}}function $$asap$$useMutationObserver(){var iterations=0,observer=new $$asap$$BrowserMutationObserver($$asap$$flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function $$asap$$useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=$$asap$$flush,function(){channel.port2.postMessage(0)}}function $$asap$$useSetTimeout(){return function(){setTimeout($$asap$$flush,1)}}function $$asap$$flush(){for(var i=0;$$asap$$len>i;i+=2){var callback=$$asap$$queue[i],arg=$$asap$$queue[i+1];callback(arg),$$asap$$queue[i]=void 0,$$asap$$queue[i+1]=void 0}$$asap$$len=0}function $$$internal$$noop(){}function $$$internal$$selfFullfillment(){return new TypeError("You cannot resolve a promise with itself")}function $$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function $$$internal$$getThen(promise){try{return promise.then}catch(error){return $$$internal$$GET_THEN_ERROR.error=error,$$$internal$$GET_THEN_ERROR}}function $$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function $$$internal$$handleForeignThenable(promise,thenable,then){$$asap$$default(function(promise){var sealed=!1,error=$$$internal$$tryThen(then,thenable,function(value){sealed||(sealed=!0,thenable!==value?$$$internal$$resolve(promise,value):$$$internal$$fulfill(promise,value))},function(reason){sealed||(sealed=!0,$$$internal$$reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,$$$internal$$reject(promise,error))},promise)}function $$$internal$$handleOwnThenable(promise,thenable){thenable._state===$$$internal$$FULFILLED?$$$internal$$fulfill(promise,thenable._result):promise._state===$$$internal$$REJECTED?$$$internal$$reject(promise,thenable._result):$$$internal$$subscribe(thenable,void 0,function(value){$$$internal$$resolve(promise,value)},function(reason){$$$internal$$reject(promise,reason)})}function $$$internal$$handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor)$$$internal$$handleOwnThenable(promise,maybeThenable);else{var then=$$$internal$$getThen(maybeThenable);then===$$$internal$$GET_THEN_ERROR?$$$internal$$reject(promise,$$$internal$$GET_THEN_ERROR.error):void 0===then?$$$internal$$fulfill(promise,maybeThenable):$$utils$$isFunction(then)?$$$internal$$handleForeignThenable(promise,maybeThenable,then):$$$internal$$fulfill(promise,maybeThenable)}}function $$$internal$$resolve(promise,value){promise===value?$$$internal$$reject(promise,$$$internal$$selfFullfillment()):$$utils$$objectOrFunction(value)?$$$internal$$handleMaybeThenable(promise,value):$$$internal$$fulfill(promise,value)}function $$$internal$$publishRejection(promise){promise._onerror&&promise._onerror(promise._result),$$$internal$$publish(promise)}function $$$internal$$fulfill(promise,value){promise._state===$$$internal$$PENDING&&(promise._result=value,promise._state=$$$internal$$FULFILLED,0===promise._subscribers.length||$$asap$$default($$$internal$$publish,promise))}function $$$internal$$reject(promise,reason){promise._state===$$$internal$$PENDING&&(promise._state=$$$internal$$REJECTED,promise._result=reason,$$asap$$default($$$internal$$publishRejection,promise))}function $$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;parent._onerror=null,subscribers[length]=child,subscribers[length+$$$internal$$FULFILLED]=onFulfillment,subscribers[length+$$$internal$$REJECTED]=onRejection,0===length&&parent._state&&$$asap$$default($$$internal$$publish,parent)}function $$$internal$$publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(0!==subscribers.length){for(var child,callback,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?$$$internal$$invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function $$$internal$$ErrorObject(){this.error=null}function $$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){return $$$internal$$TRY_CATCH_ERROR.error=e,$$$internal$$TRY_CATCH_ERROR}}function $$$internal$$invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=$$utils$$isFunction(callback);if(hasCallback){if(value=$$$internal$$tryCatch(callback,detail),value===$$$internal$$TRY_CATCH_ERROR?(failed=!0,error=value.error,value=null):succeeded=!0,promise===value)return void $$$internal$$reject(promise,$$$internal$$cannotReturnOwn())}else value=detail,succeeded=!0;promise._state!==$$$internal$$PENDING||(hasCallback&&succeeded?$$$internal$$resolve(promise,value):failed?$$$internal$$reject(promise,error):settled===$$$internal$$FULFILLED?$$$internal$$fulfill(promise,value):settled===$$$internal$$REJECTED&&$$$internal$$reject(promise,value))}function $$$internal$$initializePromise(promise,resolver){try{resolver(function(value){$$$internal$$resolve(promise,value)},function(reason){$$$internal$$reject(promise,reason)})}catch(e){$$$internal$$reject(promise,e)}}function $$$enumerator$$Enumerator(Constructor,input,abortOnReject,label){this._instanceConstructor=Constructor,this.promise=new Constructor($$$internal$$noop,label),this._abortOnReject=abortOnReject,this._validateInput(input)?(this._input=input,this.length=input.length,this._remaining=input.length,this._init(),0===this.length?$$$internal$$fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&$$$internal$$fulfill(this.promise,this._result))):$$$internal$$reject(this.promise,this._validationError())}function $$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function $$es6$promise$promise$$Promise(resolver){this._id=$$es6$promise$promise$$counter++,this._state=void 0,this._result=void 0,this._subscribers=[],$$$internal$$noop!==resolver&&($$utils$$isFunction(resolver)||$$es6$promise$promise$$needsResolver(),this instanceof $$es6$promise$promise$$Promise||$$es6$promise$promise$$needsNew(),$$$internal$$initializePromise(this,resolver))}var $$utils$$_isArray;$$utils$$_isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)};var $$asap$$scheduleFlush,$$utils$$isArray=$$utils$$_isArray,$$asap$$len=(Date.now||function(){return(new Date).getTime()},Object.create||function(o){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof o)throw new TypeError("Argument must be an object");return $$utils$$F.prototype=o,new $$utils$$F},0),$$asap$$default=function(callback,arg){$$asap$$queue[$$asap$$len]=callback,$$asap$$queue[$$asap$$len+1]=arg,$$asap$$len+=2,2===$$asap$$len&&$$asap$$scheduleFlush()},$$asap$$browserGlobal="undefined"!=typeof window?window:{},$$asap$$BrowserMutationObserver=$$asap$$browserGlobal.MutationObserver||$$asap$$browserGlobal.WebKitMutationObserver,$$asap$$isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$$asap$$queue=new Array(1e3);$$asap$$scheduleFlush="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?$$asap$$useNextTick():$$asap$$BrowserMutationObserver?$$asap$$useMutationObserver():$$asap$$isWorker?$$asap$$useMessageChannel():$$asap$$useSetTimeout();var $$$internal$$PENDING=void 0,$$$internal$$FULFILLED=1,$$$internal$$REJECTED=2,$$$internal$$GET_THEN_ERROR=new $$$internal$$ErrorObject,$$$internal$$TRY_CATCH_ERROR=new $$$internal$$ErrorObject;$$$enumerator$$Enumerator.prototype._validateInput=function(input){return $$utils$$isArray(input)},$$$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},$$$enumerator$$Enumerator.prototype._init=function(){this._result=new Array(this.length)};var $$$enumerator$$default=$$$enumerator$$Enumerator;$$$enumerator$$Enumerator.prototype._enumerate=function(){for(var length=this.length,promise=this.promise,input=this._input,i=0;promise._state===$$$internal$$PENDING&&length>i;i++)this._eachEntry(input[i],i)},$$$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;$$utils$$isMaybeThenable(entry)?entry.constructor===c&&entry._state!==$$$internal$$PENDING?(entry._onerror=null,this._settledAt(entry._state,i,entry._result)):this._willSettleAt(c.resolve(entry),i):(this._remaining--,this._result[i]=this._makeResult($$$internal$$FULFILLED,i,entry))},$$$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;promise._state===$$$internal$$PENDING&&(this._remaining--,this._abortOnReject&&state===$$$internal$$REJECTED?$$$internal$$reject(promise,value):this._result[i]=this._makeResult(state,i,value)),0===this._remaining&&$$$internal$$fulfill(promise,this._result)},$$$enumerator$$Enumerator.prototype._makeResult=function(state,i,value){return value},$$$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;$$$internal$$subscribe(promise,void 0,function(value){enumerator._settledAt($$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt($$$internal$$REJECTED,i,reason)})};var $$promise$all$$default=function(entries,label){return new $$$enumerator$$default(this,entries,!0,label).promise},$$promise$race$$default=function(entries,label){function onFulfillment(value){$$$internal$$resolve(promise,value)}function onRejection(reason){$$$internal$$reject(promise,reason)}var Constructor=this,promise=new Constructor($$$internal$$noop,label);if(!$$utils$$isArray(entries))return $$$internal$$reject(promise,new TypeError("You must pass an array to race.")),promise;for(var length=entries.length,i=0;promise._state===$$$internal$$PENDING&&length>i;i++)$$$internal$$subscribe(Constructor.resolve(entries[i]),void 0,onFulfillment,onRejection);return promise},$$promise$resolve$$default=function(object,label){var Constructor=this;if(object&&"object"==typeof object&&object.constructor===Constructor)return object;var promise=new Constructor($$$internal$$noop,label);return $$$internal$$resolve(promise,object),promise},$$promise$reject$$default=function(reason,label){var Constructor=this,promise=new Constructor($$$internal$$noop,label);return $$$internal$$reject(promise,reason),promise},$$es6$promise$promise$$counter=0,$$es6$promise$promise$$default=$$es6$promise$promise$$Promise;$$es6$promise$promise$$Promise.all=$$promise$all$$default,$$es6$promise$promise$$Promise.race=$$promise$race$$default,$$es6$promise$promise$$Promise.resolve=$$promise$resolve$$default,$$es6$promise$promise$$Promise.reject=$$promise$reject$$default,$$es6$promise$promise$$Promise.prototype={constructor:$$es6$promise$promise$$Promise,then:function(onFulfillment,onRejection){var parent=this,state=parent._state;if(state===$$$internal$$FULFILLED&&!onFulfillment||state===$$$internal$$REJECTED&&!onRejection)return this;var child=new this.constructor($$$internal$$noop),result=parent._result;if(state){var callback=arguments[state-1];$$asap$$default(function(){$$$internal$$invokeCallback(state,child,callback,result)})}else $$$internal$$subscribe(parent,child,onFulfillment,onRejection);return child},"catch":function(onRejection){return this.then(null,onRejection)}};var $$es6$promise$polyfill$$default=function(){var local;local="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var es6PromiseSupport="Promise"in local&&"resolve"in local.Promise&&"reject"in local.Promise&&"all"in local.Promise&&"race"in local.Promise&&function(){var resolve;return new local.Promise(function(r){resolve=r}),$$utils$$isFunction(resolve)}();es6PromiseSupport||(local.Promise=$$es6$promise$promise$$default)},es6$promise$umd$$ES6Promise={Promise:$$es6$promise$promise$$default,polyfill:$$es6$promise$polyfill$$default};"function"==typeof define&&define.amd?define(function(){return es6$promise$umd$$ES6Promise}):"undefined"!=typeof module&&module.exports?module.exports=es6$promise$umd$$ES6Promise:"undefined"!=typeof this&&(this.ES6Promise=es6$promise$umd$$ES6Promise)}.call(this),module.exports}),$__System.registerDynamic("c2",["3"],!0,function($__require,exports,module){function XMLReader(){}function parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){function fixedFromCharCode(code){if(code>65535){code-=65536;var surrogate1=55296+(code>>10),surrogate2=56320+(1023&code);return String.fromCharCode(surrogate1,surrogate2)}return String.fromCharCode(code)}function entityReplacer(a){var k=a.slice(1,-1);return k in entityMap?entityMap[k]:"#"===k.charAt(0)?fixedFromCharCode(parseInt(k.substr(1).replace("x","0x"))):(errorHandler.error("entity not found:"+a),a)}function appendText(end){var xt=source.substring(start,end).replace(/&#?\w+;/g,entityReplacer);locator&&position(start),domBuilder.characters(xt,0,end-start),start=end}function position(start,m){for(;start>=endPos&&(m=linePattern.exec(source));)startPos=m.index,endPos=startPos+m[0].length,locator.lineNumber++;locator.columnNumber=start-startPos+1}for(var startPos=0,endPos=0,linePattern=/.+(?:\r\n?|\n)|.*$/g,locator=domBuilder.locator,parseStack=[{currentNSMap:defaultNSMapCopy}],closeMap={},start=0;;){var i=source.indexOf("<",start);if(0>i){if(!source.substr(start).match(/^\s*$/)){var doc=domBuilder.document,text=doc.createTextNode(source.substr(start));doc.appendChild(text),domBuilder.currentElement=text}return}switch(i>start&&appendText(i),source.charAt(i+1)){case"/":var end=source.indexOf(">",i+3),tagName=source.substring(i+2,end),config=parseStack.pop(),localNSMap=config.localNSMap;if(config.tagName!=tagName&&errorHandler.fatalError("end tag name: "+tagName+" is not match the current start tagName:"+config.tagName),domBuilder.endElement(config.uri,config.localName,tagName),localNSMap)for(var prefix in localNSMap)domBuilder.endPrefixMapping(prefix);end++;break;case"?":locator&&position(i),end=parseInstruction(source,i,domBuilder);break;case"!":locator&&position(i),end=parseDCC(source,i,domBuilder,errorHandler);break;default:try{locator&&position(i);var el=new ElementAttributes,end=parseElementStartPart(source,i,el,entityReplacer,errorHandler),len=el.length;if(len&&locator){for(var backup=copyLocator(locator,{}),i=0;len>i;i++){var a=el[i];position(a.offset),a.offset=copyLocator(locator,{})}copyLocator(backup,locator)}!el.closed&&fixSelfClosed(source,end,el.tagName,closeMap)&&(el.closed=!0,entityMap.nbsp||errorHandler.warning("unclosed xml attribute")),appendElement(el,domBuilder,parseStack),"http://www.w3.org/1999/xhtml"!==el.uri||el.closed?end++:end=parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)}catch(e){errorHandler.error("element parse error: "+e),end=-1}}0>end?appendText(i+1):start=end}}function copyLocator(f,t){return t.lineNumber=f.lineNumber,t.columnNumber=f.columnNumber,t}function parseElementStartPart(source,start,el,entityReplacer,errorHandler){for(var attrName,value,p=++start,s=S_TAG;;){var c=source.charAt(p);switch(c){case"=":if(s===S_ATTR)attrName=source.slice(start,p),s=S_EQ;else{if(s!==S_ATTR_S)throw new Error("attribute equal must after attrName");s=S_EQ}break;case"'":case'"':if(s===S_EQ){if(start=p+1,p=source.indexOf(c,start),!(p>0))throw new Error("attribute value no end '"+c+"' match");value=source.slice(start,p).replace(/&#?\w+;/g,entityReplacer),el.add(attrName,value,start-1),s=S_E}else{if(s!=S_V)throw new Error('attribute value must after "="');value=source.slice(start,p).replace(/&#?\w+;/g,entityReplacer),el.add(attrName,value,start),errorHandler.warning('attribute "'+attrName+'" missed start quot('+c+")!!"),start=p+1,s=S_E}break;case"/":switch(s){case S_TAG:el.setTagName(source.slice(start,p));case S_E:case S_S:case S_C:s=S_C,el.closed=!0;case S_V:case S_ATTR:case S_ATTR_S:break;default:throw new Error("attribute invalid close char('/')")}break;case"":errorHandler.error("unexpected end of input");case">":switch(s){case S_TAG:el.setTagName(source.slice(start,p));case S_E:case S_S:case S_C:break;case S_V:case S_ATTR:value=source.slice(start,p),"/"===value.slice(-1)&&(el.closed=!0,value=value.slice(0,-1));case S_ATTR_S:s===S_ATTR_S&&(value=attrName),s==S_V?(errorHandler.warning('attribute "'+value+'" missed quot(")!!'),el.add(attrName,value.replace(/&#?\w+;/g,entityReplacer),start)):(errorHandler.warning('attribute "'+value+'" missed value!! "'+value+'" instead!!'),el.add(value,value,start));break;case S_EQ:throw new Error("attribute value missed!!")}return p;case"":c=" ";default:if(" ">=c)switch(s){case S_TAG:el.setTagName(source.slice(start,p)),s=S_S;break;case S_ATTR:attrName=source.slice(start,p),s=S_ATTR_S;break;case S_V:var value=source.slice(start,p).replace(/&#?\w+;/g,entityReplacer);errorHandler.warning('attribute "'+value+'" missed quot(")!!'),el.add(attrName,value,start);case S_E:s=S_S}else switch(s){case S_ATTR_S:errorHandler.warning('attribute "'+attrName+'" missed value!! "'+attrName+'" instead!!'),el.add(attrName,attrName,start),start=p,s=S_ATTR;break;case S_E:errorHandler.warning('attribute space is required"'+attrName+'"!!');case S_S:s=S_ATTR,start=p;break;case S_EQ:s=S_V,start=p;break;case S_C:throw new Error("elements closed character '/' and '>' must be connected to")}}p++}}function appendElement(el,domBuilder,parseStack){for(var tagName=el.tagName,localNSMap=null,currentNSMap=parseStack[parseStack.length-1].currentNSMap,i=el.length;i--;){var a=el[i],qName=a.qName,value=a.value,nsp=qName.indexOf(":");if(nsp>0)var prefix=a.prefix=qName.slice(0,nsp),localName=qName.slice(nsp+1),nsPrefix="xmlns"===prefix&&localName;else localName=qName,prefix=null,nsPrefix="xmlns"===qName&&"";a.localName=localName,nsPrefix!==!1&&(null==localNSMap&&(localNSMap={},_copy(currentNSMap,currentNSMap={})),currentNSMap[nsPrefix]=localNSMap[nsPrefix]=value,a.uri="http://www.w3.org/2000/xmlns/",domBuilder.startPrefixMapping(nsPrefix,value))}for(var i=el.length;i--;){a=el[i];var prefix=a.prefix;prefix&&("xml"===prefix&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==prefix&&(a.uri=currentNSMap[prefix]))}var nsp=tagName.indexOf(":");nsp>0?(prefix=el.prefix=tagName.slice(0,nsp),localName=el.localName=tagName.slice(nsp+1)):(prefix=null,localName=el.localName=tagName);var ns=el.uri=currentNSMap[prefix||""];if(domBuilder.startElement(ns,localName,tagName,el),el.closed){if(domBuilder.endElement(ns,localName,tagName),localNSMap)for(prefix in localNSMap)domBuilder.endPrefixMapping(prefix)}else el.currentNSMap=currentNSMap,el.localNSMap=localNSMap,parseStack.push(el)}function parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){if(/^(?:script|textarea)$/i.test(tagName)){var elEndStart=source.indexOf("</"+tagName+">",elStartEnd),text=source.substring(elStartEnd+1,elEndStart);if(/[&<]/.test(text))return/^script$/i.test(tagName)?(domBuilder.characters(text,0,text.length),elEndStart):(text=text.replace(/&#?\w+;/g,entityReplacer),domBuilder.characters(text,0,text.length),elEndStart)}return elStartEnd+1}function fixSelfClosed(source,elStartEnd,tagName,closeMap){var pos=closeMap[tagName];return null==pos&&(pos=closeMap[tagName]=source.lastIndexOf("</"+tagName+">")),elStartEnd>pos}function _copy(source,target){for(var n in source)target[n]=source[n]}function parseDCC(source,start,domBuilder,errorHandler){var next=source.charAt(start+2);switch(next){case"-":if("-"===source.charAt(start+3)){var end=source.indexOf("-->",start+4);return end>start?(domBuilder.comment(source,start+4,end-start-4),end+3):(errorHandler.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==source.substr(start+3,6)){var end=source.indexOf("]]>",start+9);return domBuilder.startCDATA(),domBuilder.characters(source,start+9,end-start-9),domBuilder.endCDATA(),end+3}var matchs=split(source,start),len=matchs.length;if(len>1&&/!doctype/i.test(matchs[0][0])){var name=matchs[1][0],pubid=len>3&&/^public$/i.test(matchs[2][0])&&matchs[3][0],sysid=len>4&&matchs[4][0],lastMatch=matchs[len-1];return domBuilder.startDTD(name,pubid&&pubid.replace(/^(['"])(.*?)\1$/,"$2"),sysid&&sysid.replace(/^(['"])(.*?)\1$/,"$2")),domBuilder.endDTD(),lastMatch.index+lastMatch[0].length}}return-1}function parseInstruction(source,start,domBuilder){var end=source.indexOf("?>",start);if(end){var match=source.substring(start,end).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(match){match[0].length;return domBuilder.processingInstruction(match[1],match[2]),end+2}return-1}return-1}function ElementAttributes(source){}function _set_proto_(thiz,parent){return thiz.__proto__=parent,thiz}function split(source,start){var match,buf=[],reg=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(reg.lastIndex=start,reg.exec(source);match=reg.exec(source);)if(buf.push(match),match[1])return buf}var nameStartChar=($__require("3"),/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_S=2,S_EQ=3,S_V=4,S_E=5,S_S=6,S_C=7;return XMLReader.prototype={parse:function(source,defaultNSMap,entityMap){var domBuilder=this.domBuilder;domBuilder.startDocument(),_copy(defaultNSMap,defaultNSMap={}),parse(source,defaultNSMap,entityMap,domBuilder,this.errorHandler),domBuilder.endDocument()}},ElementAttributes.prototype={setTagName:function(tagName){if(!tagNamePattern.test(tagName))throw new Error("invalid tagName:"+tagName);this.tagName=tagName},add:function(qName,value,offset){if(!tagNamePattern.test(qName))throw new Error("invalid attribute:"+qName);this[this.length++]={qName:qName,value:value,offset:offset}},length:0,getLocalName:function(i){return this[i].localName},getOffset:function(i){return this[i].offset},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(thiz,parent){function p(){}p.prototype=parent,p=new p;for(parent in thiz)p[parent]=thiz[parent];return p}),"function"==typeof $__require&&(exports.XMLReader=XMLReader),module.exports}),$__System.registerDynamic("c3",["3"],!0,function($__require,exports,module){function copy(src,dest){for(var p in src)dest[p]=src[p]}function _extends(Class,Super){function t(){}var pt=Class.prototype;if(Object.create){var ppt=Object.create(Super.prototype);pt.__proto__=ppt}pt instanceof Super||(t.prototype=Super.prototype,t=new t,copy(pt,t),Class.prototype=pt=t),pt.constructor!=Class&&("function"!=typeof Class&&console.error("unknow Class:"+Class),pt.constructor=Class)}function DOMException(code,message){if(message instanceof Error)var error=message;else error=this,Error.call(this,ExceptionMessage[code]),this.message=ExceptionMessage[code],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return error.code=code,message&&(this.message=this.message+": "+message),error}function NodeList(){}function LiveNodeList(node,refresh){this._node=node,this._refresh=refresh,_updateLiveList(this)}function _updateLiveList(list){var inc=list._node._inc||list._node.ownerDocument._inc;if(list._inc!=inc){var ls=list._refresh(list._node);__set__(list,"length",ls.length),copy(ls,list),list._inc=inc}}function NamedNodeMap(){}function _findNodeIndex(list,node){for(var i=list.length;i--;)if(list[i]===node)return i}function _addNamedNode(el,list,newAttr,oldAttr){if(oldAttr?list[_findNodeIndex(list,oldAttr)]=newAttr:list[list.length++]=newAttr,el){newAttr.ownerElement=el;var doc=el.ownerDocument;doc&&(oldAttr&&_onRemoveAttribute(doc,el,oldAttr),_onAddAttribute(doc,el,newAttr))}}function _removeNamedNode(el,list,attr){var i=_findNodeIndex(list,attr);if(!(i>=0))throw DOMException(NOT_FOUND_ERR,new Error);for(var lastIndex=list.length-1;lastIndex>i;)list[i]=list[++i];if(list.length=lastIndex,el){var doc=el.ownerDocument;doc&&(_onRemoveAttribute(doc,el,attr),attr.ownerElement=null)}}function DOMImplementation(features){if(this._features={},features)for(var feature in features)this._features=features[feature]}function Node(){}function _xmlEncoder(c){return"<"==c&&"&lt;"||">"==c&&"&gt;"||"&"==c&&"&amp;"||'"'==c&&"&quot;"||"&#"+c.charCodeAt()+";"}function _visitNode(node,callback){if(callback(node))return!0;if(node=node.firstChild)do if(_visitNode(node,callback))return!0;while(node=node.nextSibling)}function Document(){}function _onAddAttribute(doc,el,newAttr){doc&&doc._inc++;var ns=newAttr.namespaceURI;"http://www.w3.org/2000/xmlns/"==ns&&(el._nsMap[newAttr.prefix?newAttr.localName:""]=newAttr.value)}function _onRemoveAttribute(doc,el,newAttr,remove){doc&&doc._inc++;var ns=newAttr.namespaceURI;"http://www.w3.org/2000/xmlns/"==ns&&delete el._nsMap[newAttr.prefix?newAttr.localName:""]}function _onUpdateChild(doc,el,newChild){if(doc&&doc._inc){doc._inc++;var cs=el.childNodes;if(newChild)cs[cs.length++]=newChild;else{for(var child=el.firstChild,i=0;child;)cs[i++]=child,child=child.nextSibling;cs.length=i}}}function _removeChild(parentNode,child){var previous=child.previousSibling,next=child.nextSibling;return previous?previous.nextSibling=next:parentNode.firstChild=next,next?next.previousSibling=previous:parentNode.lastChild=previous,_onUpdateChild(parentNode.ownerDocument,parentNode),child}function _insertBefore(parentNode,newChild,nextChild){var cp=newChild.parentNode;if(cp&&cp.removeChild(newChild),newChild.nodeType===DOCUMENT_FRAGMENT_NODE){var newFirst=newChild.firstChild;if(null==newFirst)return newChild;var newLast=newChild.lastChild}else newFirst=newLast=newChild;var pre=nextChild?nextChild.previousSibling:parentNode.lastChild;newFirst.previousSibling=pre,newLast.nextSibling=nextChild,pre?pre.nextSibling=newFirst:parentNode.firstChild=newFirst,null==nextChild?parentNode.lastChild=newLast:nextChild.previousSibling=newLast;do newFirst.parentNode=parentNode;while(newFirst!==newLast&&(newFirst=newFirst.nextSibling));return _onUpdateChild(parentNode.ownerDocument||parentNode,parentNode),newChild.nodeType==DOCUMENT_FRAGMENT_NODE&&(newChild.firstChild=newChild.lastChild=null),newChild}function _appendSingleChild(parentNode,newChild){var cp=newChild.parentNode;if(cp){var pre=parentNode.lastChild;cp.removeChild(newChild);var pre=parentNode.lastChild}var pre=parentNode.lastChild;return newChild.parentNode=parentNode,newChild.previousSibling=pre,newChild.nextSibling=null,pre?pre.nextSibling=newChild:parentNode.firstChild=newChild,parentNode.lastChild=newChild,_onUpdateChild(parentNode.ownerDocument,parentNode,newChild),newChild}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(node,buf){switch(node.nodeType){case ELEMENT_NODE:var attrs=node.attributes,len=attrs.length,child=node.firstChild,nodeName=node.tagName,isHTML=htmlns===node.namespaceURI;buf.push("<",nodeName);for(var i=0;len>i;i++)serializeToString(attrs.item(i),buf,isHTML);if(child||isHTML&&!/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){if(buf.push(">"),isHTML&&/^script$/i.test(nodeName))child&&buf.push(child.data);else for(;child;)serializeToString(child,buf),child=child.nextSibling;buf.push("</",nodeName,">")}else buf.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var child=node.firstChild;child;)serializeToString(child,buf),child=child.nextSibling;return;case ATTRIBUTE_NODE:return buf.push(" ",node.name,'="',node.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE:return buf.push(node.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return buf.push("<![CDATA[",node.data,"]]>");case COMMENT_NODE:return buf.push("<!--",node.data,"-->");case DOCUMENT_TYPE_NODE:var pubid=node.publicId,sysid=node.systemId;if(buf.push("<!DOCTYPE ",node.name),pubid)buf.push(' PUBLIC "',pubid),sysid&&"."!=sysid&&buf.push('" "',sysid),buf.push('">');else if(sysid&&"."!=sysid)buf.push(' SYSTEM "',sysid,'">');else{var sub=node.internalSubset;sub&&buf.push(" [",sub,"]"),buf.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return buf.push("<?",node.target," ",node.data,"?>");case ENTITY_REFERENCE_NODE:return buf.push("&",node.nodeName,";");default:buf.push("??",node.nodeName)}}function importNode(doc,node,deep){var node2;switch(node.nodeType){case ELEMENT_NODE:node2=node.cloneNode(!1),node2.ownerDocument=doc;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:deep=!0}if(node2||(node2=node.cloneNode(!1)),
node2.ownerDocument=doc,node2.parentNode=null,deep)for(var child=node.firstChild;child;)node2.appendChild(importNode(doc,child,deep)),child=child.nextSibling;return node2}function cloneNode(doc,node,deep){var node2=new node.constructor;for(var n in node){var v=node[n];"object"!=typeof v&&v!=node2[n]&&(node2[n]=v)}switch(node.childNodes&&(node2.childNodes=new NodeList),node2.ownerDocument=doc,node2.nodeType){case ELEMENT_NODE:var attrs=node.attributes,attrs2=node2.attributes=new NamedNodeMap,len=attrs.length;attrs2._ownerElement=node2;for(var i=0;len>i;i++)node2.setAttributeNode(cloneNode(doc,attrs.item(i),!0));break;case ATTRIBUTE_NODE:deep=!0}if(deep)for(var child=node.firstChild;child;)node2.appendChild(cloneNode(doc,child,deep)),child=child.nextSibling;return node2}function __set__(object,key,value){object[key]=value}function getTextContent(node){switch(node.nodeType){case 1:case 11:var buf=[];for(node=node.firstChild;node;)7!==node.nodeType&&8!==node.nodeType&&buf.push(getTextContent(node)),node=node.nextSibling;return buf.join("");default:return node.nodeValue}}var htmlns=($__require("3"),"http://www.w3.org/1999/xhtml"),NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},NOT_FOUND_ERR=(ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8)),INUSE_ATTRIBUTE_ERR=(ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10));ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(index){return this[index]||null}},LiveNodeList.prototype.item=function(i){return _updateLiveList(this),this[i]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(key){for(var i=this.length;i--;){var attr=this[i];if(attr.nodeName==key)return attr}},setNamedItem:function(attr){var el=attr.ownerElement;if(el&&el!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var oldAttr=this.getNamedItem(attr.nodeName);return _addNamedNode(this._ownerElement,this,attr,oldAttr),oldAttr},setNamedItemNS:function(attr){var oldAttr,el=attr.ownerElement;if(el&&el!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return oldAttr=this.getNamedItemNS(attr.namespaceURI,attr.localName),_addNamedNode(this._ownerElement,this,attr,oldAttr),oldAttr},removeNamedItem:function(key){var attr=this.getNamedItem(key);return _removeNamedNode(this._ownerElement,this,attr),attr},removeNamedItemNS:function(namespaceURI,localName){var attr=this.getNamedItemNS(namespaceURI,localName);return _removeNamedNode(this._ownerElement,this,attr),attr},getNamedItemNS:function(namespaceURI,localName){for(var i=this.length;i--;){var node=this[i];if(node.localName==localName&&node.namespaceURI==namespaceURI)return node}return null}},DOMImplementation.prototype={hasFeature:function(feature,version){var versions=this._features[feature.toLowerCase()];return versions&&(!version||version in versions)?!0:!1},createDocument:function(namespaceURI,qualifiedName,doctype){var doc=new Document;if(doc.doctype=doctype,doctype&&doc.appendChild(doctype),doc.implementation=this,doc.childNodes=new NodeList,qualifiedName){var root=doc.createElementNS(namespaceURI,qualifiedName);doc.appendChild(root)}return doc},createDocumentType:function(qualifiedName,publicId,systemId){var node=new DocumentType;return node.name=qualifiedName,node.nodeName=qualifiedName,node.publicId=publicId,node.systemId=systemId,node}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(newChild,refChild){return _insertBefore(this,newChild,refChild)},replaceChild:function(newChild,oldChild){this.insertBefore(newChild,oldChild),oldChild&&this.removeChild(oldChild)},removeChild:function(oldChild){return _removeChild(this,oldChild)},appendChild:function(newChild){return this.insertBefore(newChild,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(deep){return cloneNode(this.ownerDocument||this,this,deep)},normalize:function(){for(var child=this.firstChild;child;){var next=child.nextSibling;next&&next.nodeType==TEXT_NODE&&child.nodeType==TEXT_NODE?(this.removeChild(next),child.appendData(next.data)):(child.normalize(),child=next)}},isSupported:function(feature,version){return this.ownerDocument.implementation.hasFeature(feature,version)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(namespaceURI){for(var el=this;el;){var map=el._nsMap;if(map)for(var n in map)if(map[n]==namespaceURI)return n;el=2==el.nodeType?el.ownerDocument:el.parentNode}return null},lookupNamespaceURI:function(prefix){for(var el=this;el;){var map=el._nsMap;if(map&&prefix in map)return map[prefix];el=2==el.nodeType?el.ownerDocument:el.parentNode}return null},isDefaultNamespace:function(namespaceURI){var prefix=this.lookupPrefix(namespaceURI);return null==prefix}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(newChild,refChild){if(newChild.nodeType==DOCUMENT_FRAGMENT_NODE){for(var child=newChild.firstChild;child;){var next=child.nextSibling;this.insertBefore(child,refChild),child=next}return newChild}return null==this.documentElement&&1==newChild.nodeType&&(this.documentElement=newChild),_insertBefore(this,newChild,refChild),newChild.ownerDocument=this,newChild},removeChild:function(oldChild){return this.documentElement==oldChild&&(this.documentElement=null),_removeChild(this,oldChild)},importNode:function(importedNode,deep){return importNode(this,importedNode,deep)},getElementById:function(id){var rtv=null;return _visitNode(this.documentElement,function(node){return 1==node.nodeType&&node.getAttribute("id")==id?(rtv=node,!0):void 0}),rtv},createElement:function(tagName){var node=new Element;node.ownerDocument=this,node.nodeName=tagName,node.tagName=tagName,node.childNodes=new NodeList;var attrs=node.attributes=new NamedNodeMap;return attrs._ownerElement=node,node},createDocumentFragment:function(){var node=new DocumentFragment;return node.ownerDocument=this,node.childNodes=new NodeList,node},createTextNode:function(data){var node=new Text;return node.ownerDocument=this,node.appendData(data),node},createComment:function(data){var node=new Comment;return node.ownerDocument=this,node.appendData(data),node},createCDATASection:function(data){var node=new CDATASection;return node.ownerDocument=this,node.appendData(data),node},createProcessingInstruction:function(target,data){var node=new ProcessingInstruction;return node.ownerDocument=this,node.tagName=node.target=target,node.nodeValue=node.data=data,node},createAttribute:function(name){var node=new Attr;return node.ownerDocument=this,node.name=name,node.nodeName=name,node.localName=name,node.specified=!0,node},createEntityReference:function(name){var node=new EntityReference;return node.ownerDocument=this,node.nodeName=name,node},createElementNS:function(namespaceURI,qualifiedName){var node=new Element,pl=qualifiedName.split(":"),attrs=node.attributes=new NamedNodeMap;return node.childNodes=new NodeList,node.ownerDocument=this,node.nodeName=qualifiedName,node.tagName=qualifiedName,node.namespaceURI=namespaceURI,2==pl.length?(node.prefix=pl[0],node.localName=pl[1]):node.localName=qualifiedName,attrs._ownerElement=node,node},createAttributeNS:function(namespaceURI,qualifiedName){var node=new Attr,pl=qualifiedName.split(":");return node.ownerDocument=this,node.nodeName=qualifiedName,node.name=qualifiedName,node.namespaceURI=namespaceURI,node.specified=!0,2==pl.length?(node.prefix=pl[0],node.localName=pl[1]):node.localName=qualifiedName,node}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(name){return null!=this.getAttributeNode(name)},getAttribute:function(name){var attr=this.getAttributeNode(name);return attr&&attr.value||""},getAttributeNode:function(name){return this.attributes.getNamedItem(name)},setAttribute:function(name,value){var attr=this.ownerDocument.createAttribute(name);attr.value=attr.nodeValue=""+value,this.setAttributeNode(attr)},removeAttribute:function(name){var attr=this.getAttributeNode(name);attr&&this.removeAttributeNode(attr)},appendChild:function(newChild){return newChild.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(newChild,null):_appendSingleChild(this,newChild)},setAttributeNode:function(newAttr){return this.attributes.setNamedItem(newAttr)},setAttributeNodeNS:function(newAttr){return this.attributes.setNamedItemNS(newAttr)},removeAttributeNode:function(oldAttr){return this.attributes.removeNamedItem(oldAttr.nodeName)},removeAttributeNS:function(namespaceURI,localName){var old=this.getAttributeNodeNS(namespaceURI,localName);old&&this.removeAttributeNode(old)},hasAttributeNS:function(namespaceURI,localName){return null!=this.getAttributeNodeNS(namespaceURI,localName)},getAttributeNS:function(namespaceURI,localName){var attr=this.getAttributeNodeNS(namespaceURI,localName);return attr&&attr.value||""},setAttributeNS:function(namespaceURI,qualifiedName,value){var attr=this.ownerDocument.createAttributeNS(namespaceURI,qualifiedName);attr.value=attr.nodeValue=value,this.setAttributeNode(attr)},getAttributeNodeNS:function(namespaceURI,localName){return this.attributes.getNamedItemNS(namespaceURI,localName)},getElementsByTagName:function(tagName){return new LiveNodeList(this,function(base){var ls=[];return _visitNode(base,function(node){node===base||node.nodeType!=ELEMENT_NODE||"*"!==tagName&&node.tagName!=tagName||ls.push(node)}),ls})},getElementsByTagNameNS:function(namespaceURI,localName){return new LiveNodeList(this,function(base){var ls=[];return _visitNode(base,function(node){node===base||node.nodeType!==ELEMENT_NODE||node.namespaceURI!==namespaceURI||"*"!==localName&&node.localName!=localName||ls.push(node)}),ls})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(offset,count){return this.data.substring(offset,offset+count)},appendData:function(text){text=this.data+text,this.nodeValue=this.data=text,this.length=text.length},insertData:function(offset,text){this.replaceData(offset,0,text)},appendChild:function(newChild){throw new Error(ExceptionMessage[3])},deleteData:function(offset,count){this.replaceData(offset,count,"")},replaceData:function(offset,count,text){var start=this.data.substring(0,offset),end=this.data.substring(offset+count);text=start+text+end,this.nodeValue=this.data=text,this.length=text.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(offset){var text=this.data,newText=text.substring(offset);text=text.substring(0,offset),this.data=this.nodeValue=text,this.length=text.length;var newNode=this.ownerDocument.createTextNode(newText);return this.parentNode&&this.parentNode.insertBefore(newNode,this.nextSibling),newNode}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(node){var buf=[];return serializeToString(node,buf),buf.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(data){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(data||String(data))&&this.appendChild(this.ownerDocument.createTextNode(data));break;default:this.data=data,this.value=value,this.nodeValue=data}}}),__set__=function(object,key,value){object["$$"+key]=value})}catch(e){}return"function"==typeof $__require&&(exports.DOMImplementation=DOMImplementation,exports.XMLSerializer=XMLSerializer),module.exports}),$__System.registerDynamic("c4",["c2","c3","3"],!0,function($__require,exports,module){function DOMParser(options){this.options=options||{locator:{}}}function buildErrorHandler(errorImpl,domBuilder,locator){function build(key){var fn=errorImpl[key];if(!fn)if(isCallback)fn=2==errorImpl.length?function(msg){errorImpl(key,msg)}:errorImpl;else for(var i=arguments.length;--i&&!(fn=errorImpl[arguments[i]]););errorHandler[key]=fn&&function(msg){fn(msg+_locator(locator))}||function(){}}if(!errorImpl){if(domBuilder instanceof DOMHandler)return domBuilder;errorImpl=domBuilder}var errorHandler={},isCallback=errorImpl instanceof Function;return locator=locator||{},build("warning","warn"),build("error","warn","warning"),build("fatalError","warn","warning","error"),errorHandler}function DOMHandler(){this.cdata=!1}function position(locator,node){node.lineNumber=locator.lineNumber,node.columnNumber=locator.columnNumber}function _locator(l){return l?"\n@"+(l.systemId||"")+"#[line:"+l.lineNumber+",col:"+l.columnNumber+"]":void 0}function _toString(chars,start,length){return"string"==typeof chars?chars.substr(start,length):chars.length>=start+length||start?new java.lang.String(chars,start,length)+"":chars}function appendElement(hander,node){hander.currentElement?hander.currentElement.appendChild(node):hander.document.appendChild(node)}$__require("3");if(DOMParser.prototype.parseFromString=function(source,mimeType){var options=this.options,sax=new XMLReader,domBuilder=options.domBuilder||new DOMHandler,errorHandler=options.errorHandler,locator=options.locator,defaultNSMap=options.xmlns||{},entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return locator&&domBuilder.setDocumentLocator(locator),sax.errorHandler=buildErrorHandler(errorHandler,domBuilder,locator),sax.domBuilder=options.domBuilder||domBuilder,/\/x?html?$/.test(mimeType)&&(entityMap.nbsp=" ",entityMap.copy="©",defaultNSMap[""]="http://www.w3.org/1999/xhtml"),source?sax.parse(source,defaultNSMap,entityMap):sax.errorHandler.error("invalid document source"),domBuilder.document},DOMHandler.prototype={startDocument:function(){this.document=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(namespaceURI,localName,qName,attrs){var doc=this.document,el=doc.createElementNS(namespaceURI,qName||localName),len=attrs.length;appendElement(this,el),this.currentElement=el,this.locator&&position(this.locator,el);for(var i=0;len>i;i++){var namespaceURI=attrs.getURI(i),value=attrs.getValue(i),qName=attrs.getQName(i),attr=doc.createAttributeNS(namespaceURI,qName);attr.getOffset&&position(attr.getOffset(1),attr),attr.value=attr.nodeValue=value,el.setAttributeNode(attr)}},endElement:function(namespaceURI,localName,qName){var current=this.currentElement;current.tagName;this.currentElement=current.parentNode},startPrefixMapping:function(prefix,uri){},endPrefixMapping:function(prefix){},processingInstruction:function(target,data){var ins=this.document.createProcessingInstruction(target,data);this.locator&&position(this.locator,ins),appendElement(this,ins)},ignorableWhitespace:function(ch,start,length){},characters:function(chars,start,length){if(chars=_toString.apply(this,arguments),this.currentElement&&chars){if(this.cdata){var charNode=this.document.createCDATASection(chars);this.currentElement.appendChild(charNode)}else{var charNode=this.document.createTextNode(chars);this.currentElement.appendChild(charNode)}this.locator&&position(this.locator,charNode)}},skippedEntity:function(name){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(locator){(this.locator=locator)&&(locator.lineNumber=0)},comment:function(chars,start,length){chars=_toString.apply(this,arguments);var comm=this.document.createComment(chars);this.locator&&position(this.locator,comm),appendElement(this,comm)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(name,publicId,systemId){var impl=this.document.implementation;if(impl&&impl.createDocumentType){var dt=impl.createDocumentType(name,publicId,systemId);this.locator&&position(this.locator,dt),appendElement(this,dt)}},warning:function(error){console.warn(error,_locator(this.locator))},error:function(error){console.error(error,_locator(this.locator))},fatalError:function(error){throw console.error(error,_locator(this.locator)),error}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(key){DOMHandler.prototype[key]=function(){return null}}),"function"==typeof $__require){var XMLReader=$__require("c2").XMLReader,DOMImplementation=exports.DOMImplementation=$__require("c3").DOMImplementation;exports.XMLSerializer=$__require("c3").XMLSerializer,exports.DOMParser=DOMParser}return module.exports}),$__System.registerDynamic("c5",["3"],!0,function($__require,exports,module){$__require("3");return module.exports}),$__System.registerDynamic("c6",["c1","@empty","c5","c5","c5","c4","c5","@empty","3"],!0,function($__require,exports,module){var define,process=$__require("3"),global=this,__dirname="jspm_packages/npm/jsonld@0.4.6/js";return function(){var _nodejs="undefined"!=typeof process&&process.versions&&process.versions.node,_browser=!_nodejs&&("undefined"!=typeof window||"undefined"!=typeof self);_browser&&"undefined"==typeof global&&("undefined"!=typeof window?global=window:"undefined"!=typeof self?global=self:"undefined"!=typeof $&&(global=$));var wrapper=function(jsonld){function JsonLdProcessor(){}function _expandLanguageMap(languageMap){for(var rval=[],keys=Object.keys(languageMap).sort(),ki=0;ki<keys.length;++ki){var key=keys[ki],val=languageMap[key];_isArray(val)||(val=[val]);for(var vi=0;vi<val.length;++vi){var item=val[vi];if(null!==item){if(!_isString(item))throw new JsonLdError("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:languageMap});rval.push({"@value":item,"@language":key.toLowerCase()})}}}return rval}function _labelBlankNodes(issuer,element){if(_isArray(element))for(var i=0;i<element.length;++i)element[i]=_labelBlankNodes(issuer,element[i]);else if(_isList(element))element["@list"]=_labelBlankNodes(issuer,element["@list"]);else if(_isObject(element)){_isBlankNode(element)&&(element["@id"]=issuer.getId(element["@id"]));for(var keys=Object.keys(element).sort(),ki=0;ki<keys.length;++ki){var key=keys[ki];"@id"!==key&&(element[key]=_labelBlankNodes(issuer,element[key]))}}return element}function _expandValue(activeCtx,activeProperty,value){if(null===value||void 0===value)return null;var expandedProperty=_expandIri(activeCtx,activeProperty,{vocab:!0});if("@id"===expandedProperty)return _expandIri(activeCtx,value,{base:!0});if("@type"===expandedProperty)return _expandIri(activeCtx,value,{vocab:!0,base:!0});var type=jsonld.getContextValue(activeCtx,activeProperty,"@type");if("@id"===type||"@graph"===expandedProperty&&_isString(value))return{"@id":_expandIri(activeCtx,value,{base:!0})};if("@vocab"===type)return{"@id":_expandIri(activeCtx,value,{vocab:!0,base:!0})};if(_isKeyword(expandedProperty))return value;var rval={};if(null!==type)rval["@type"]=type;else if(_isString(value)){var language=jsonld.getContextValue(activeCtx,activeProperty,"@language");null!==language&&(rval["@language"]=language)}return-1===["boolean","number","string"].indexOf(typeof value)&&(value=value.toString()),rval["@value"]=value,rval}function _graphToRDF(graph,issuer,options){for(var rval=[],ids=Object.keys(graph).sort(),i=0;i<ids.length;++i)for(var id=ids[i],node=graph[id],properties=Object.keys(node).sort(),pi=0;pi<properties.length;++pi){var property=properties[pi],items=node[property];if("@type"===property)property=RDF_TYPE;else if(_isKeyword(property))continue;for(var ii=0;ii<items.length;++ii){var item=items[ii],subject={};if(subject.type=0===id.indexOf("_:")?"blank node":"IRI",subject.value=id,_isAbsoluteIri(id)){var predicate={};if(predicate.type=0===property.indexOf("_:")?"blank node":"IRI",predicate.value=property,_isAbsoluteIri(property)&&("blank node"!==predicate.type||options.produceGeneralizedRdf))if(_isList(item))_listToRDF(item["@list"],issuer,subject,predicate,rval);else{var object=_objectToRDF(item);object&&rval.push({subject:subject,predicate:predicate,object:object})}}}}return rval}function _listToRDF(list,issuer,subject,predicate,triples){for(var first={type:"IRI",value:RDF_FIRST},rest={type:"IRI",value:RDF_REST},nil={type:"IRI",value:RDF_NIL},i=0;i<list.length;++i){var item=list[i],blankNode={type:"blank node",value:issuer.getId()};triples.push({subject:subject,predicate:predicate,object:blankNode}),subject=blankNode,predicate=first;var object=_objectToRDF(item);object&&triples.push({subject:subject,predicate:predicate,object:object}),predicate=rest}triples.push({subject:subject,predicate:predicate,object:nil})}function _objectToRDF(item){var object={};if(_isValue(item)){object.type="literal";var value=item["@value"],datatype=item["@type"]||null;_isBoolean(value)?(object.value=value.toString(),object.datatype=datatype||XSD_BOOLEAN):_isDouble(value)||datatype===XSD_DOUBLE?(_isDouble(value)||(value=parseFloat(value)),object.value=value.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),object.datatype=datatype||XSD_DOUBLE):_isNumber(value)?(object.value=value.toFixed(0),object.datatype=datatype||XSD_INTEGER):"@language"in item?(object.value=value,object.datatype=datatype||RDF_LANGSTRING,object.language=item["@language"]):(object.value=value,object.datatype=datatype||XSD_STRING)}else{var id=_isObject(item)?item["@id"]:item;object.type=0===id.indexOf("_:")?"blank node":"IRI",object.value=id}return"IRI"!==object.type||_isAbsoluteIri(object.value)?object:null}function _RDFToObject(o,useNativeTypes){if("IRI"===o.type||"blank node"===o.type)return{"@id":o.value};var rval={"@value":o.value};if(o.language)rval["@language"]=o.language;else{var type=o.datatype;if(type||(type=XSD_STRING),useNativeTypes){if(type===XSD_BOOLEAN)"true"===rval["@value"]?rval["@value"]=!0:"false"===rval["@value"]&&(rval["@value"]=!1);else if(_isNumeric(rval["@value"]))if(type===XSD_INTEGER){var i=parseInt(rval["@value"],10);i.toFixed(0)===rval["@value"]&&(rval["@value"]=i)}else type===XSD_DOUBLE&&(rval["@value"]=parseFloat(rval["@value"]));-1===[XSD_BOOLEAN,XSD_INTEGER,XSD_DOUBLE,XSD_STRING].indexOf(type)&&(rval["@type"]=type)}else type!==XSD_STRING&&(rval["@type"]=type)}return rval}function _compareRDFTriples(t1,t2){for(var attrs=["subject","predicate","object"],i=0;i<attrs.length;++i){var attr=attrs[i];if(t1[attr].type!==t2[attr].type||t1[attr].value!==t2[attr].value)return!1}return t1.object.language!==t2.object.language?!1:t1.object.datatype!==t2.object.datatype?!1:!0}function _createNodeMap(input,graphs,graph,issuer,name,list){if(_isArray(input))for(var i=0;i<input.length;++i)_createNodeMap(input[i],graphs,graph,issuer,void 0,list);else{if(!_isObject(input))return void(list&&list.push(input));if(_isValue(input)){if("@type"in input){var type=input["@type"];0===type.indexOf("_:")&&(input["@type"]=type=issuer.getId(type))}return void(list&&list.push(input))}if("@type"in input)for(var types=input["@type"],i=0;i<types.length;++i){var type=types[i];0===type.indexOf("_:")&&issuer.getId(type)}_isUndefined(name)&&(name=_isBlankNode(input)?issuer.getId(input["@id"]):input["@id"]),list&&list.push({"@id":name});var subjects=graphs[graph],subject=subjects[name]=subjects[name]||{};subject["@id"]=name;for(var properties=Object.keys(input).sort(),pi=0;pi<properties.length;++pi){var property=properties[pi];if("@id"!==property)if("@reverse"!==property)if("@graph"!==property)if("@type"!==property&&_isKeyword(property)){if("@index"===property&&property in subject&&(input[property]!==subject[property]||input[property]["@id"]!==subject[property]["@id"]))throw new JsonLdError("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:subject});subject[property]=input[property]}else{var objects=input[property];if(0===property.indexOf("_:")&&(property=issuer.getId(property)),0!==objects.length)for(var oi=0;oi<objects.length;++oi){var o=objects[oi];if("@type"===property&&(o=0===o.indexOf("_:")?issuer.getId(o):o),_isSubject(o)||_isSubjectReference(o)){var id=_isBlankNode(o)?issuer.getId(o["@id"]):o["@id"];jsonld.addValue(subject,property,{"@id":id},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(o,graphs,graph,issuer,id)}else if(_isList(o)){var _list=[];_createNodeMap(o["@list"],graphs,graph,issuer,name,_list),o={"@list":_list},jsonld.addValue(subject,property,o,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(o,graphs,graph,issuer,name),jsonld.addValue(subject,property,o,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(subject,property,[],{propertyIsArray:!0})}else{name in graphs||(graphs[name]={});var g="@merged"===graph?graph:name;_createNodeMap(input[property],graphs,g,issuer)}else{var referencedNode={"@id":name},reverseMap=input["@reverse"];for(var reverseProperty in reverseMap)for(var items=reverseMap[reverseProperty],ii=0;ii<items.length;++ii){var item=items[ii],itemName=item["@id"];_isBlankNode(item)&&(itemName=issuer.getId(itemName)),_createNodeMap(item,graphs,graph,issuer,itemName),jsonld.addValue(subjects[itemName],reverseProperty,referencedNode,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(graphs){for(var defaultGraph=graphs["@default"],graphNames=Object.keys(graphs).sort(),i=0;i<graphNames.length;++i){var graphName=graphNames[i];if("@default"!==graphName){var nodeMap=graphs[graphName],subject=defaultGraph[graphName];subject?"@graph"in subject||(subject["@graph"]=[]):defaultGraph[graphName]=subject={"@id":graphName,"@graph":[]};for(var graph=subject["@graph"],ids=Object.keys(nodeMap).sort(),ii=0;ii<ids.length;++ii){var node=nodeMap[ids[ii]];_isSubjectReference(node)||graph.push(node)}}}return defaultGraph}function _frame(state,subjects,frame,parent,property){_validateFrame(frame),frame=frame[0];for(var options=state.options,flags={embed:_getFrameFlag(frame,options,"embed"),explicit:_getFrameFlag(frame,options,"explicit"),requireAll:_getFrameFlag(frame,options,"requireAll")},matches=_filterSubjects(state,subjects,frame,flags),ids=Object.keys(matches).sort(),idx=0;idx<ids.length;++idx){var id=ids[idx],subject=matches[id];if("@link"===flags.embed&&id in state.link)_addFrameOutput(parent,property,state.link[id]);else{null===property&&(state.uniqueEmbeds={});var output={};if(output["@id"]=id,state.link[id]=output,"@never"===flags.embed||_createsCircularReference(subject,state.subjectStack))_addFrameOutput(parent,property,output);else{"@last"===flags.embed&&(id in state.uniqueEmbeds&&_removeEmbed(state,id),state.uniqueEmbeds[id]={parent:parent,property:property}),state.subjectStack.push(subject);for(var props=Object.keys(subject).sort(),i=0;i<props.length;i++){var prop=props[i];if(_isKeyword(prop))output[prop]=_clone(subject[prop]);else if(!flags.explicit||prop in frame)for(var objects=subject[prop],oi=0;oi<objects.length;++oi){var o=objects[oi];if(_isList(o)){var list={"@list":[]};_addFrameOutput(output,prop,list);var src=o["@list"];for(var n in src)if(o=src[n],_isSubjectReference(o)){var subframe=prop in frame?frame[prop][0]["@list"]:_createImplicitFrame(flags);_frame(state,[o["@id"]],subframe,list,"@list")}else _addFrameOutput(list,"@list",_clone(o))}else if(_isSubjectReference(o)){var subframe=prop in frame?frame[prop]:_createImplicitFrame(flags);_frame(state,[o["@id"]],subframe,output,prop)}else _addFrameOutput(output,prop,_clone(o))}}for(var props=Object.keys(frame).sort(),i=0;i<props.length;++i){var prop=props[i];if(!_isKeyword(prop)){var next=frame[prop][0],omitDefaultOn=_getFrameFlag(next,options,"omitDefault");if(!(omitDefaultOn||prop in output)){var preserve="@null";"@default"in next&&(preserve=_clone(next["@default"])),_isArray(preserve)||(preserve=[preserve]),output[prop]=[{"@preserve":preserve}]}}}_addFrameOutput(parent,property,output),state.subjectStack.pop()}}}}function _createImplicitFrame(flags){var frame={};for(var key in flags)void 0!==flags[key]&&(frame["@"+key]=[flags[key]]);return[frame]}function _createsCircularReference(subjectToEmbed,subjectStack){for(var i=subjectStack.length-1;i>=0;--i)if(subjectStack[i]["@id"]===subjectToEmbed["@id"])return!0;return!1}function _getFrameFlag(frame,options,name){var flag="@"+name,rval=flag in frame?frame[flag][0]:options[name];return"embed"===name&&(rval===!0?rval="@last":rval===!1?rval="@never":"@always"!==rval&&"@never"!==rval&&"@link"!==rval&&(rval="@last")),rval}function _validateFrame(frame){if(!_isArray(frame)||1!==frame.length||!_isObject(frame[0]))throw new JsonLdError("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:frame})}function _filterSubjects(state,subjects,frame,flags){for(var rval={},i=0;i<subjects.length;++i){var id=subjects[i],subject=state.subjects[id];_filterSubject(subject,frame,flags)&&(rval[id]=subject)}return rval}function _filterSubject(subject,frame,flags){if("@type"in frame&&(1!==frame["@type"].length||!_isObject(frame["@type"][0]))){for(var types=frame["@type"],i=0;i<types.length;++i)if(jsonld.hasValue(subject,"@type",types[i]))return!0;return!1}var wildcard=!0,matchesSome=!1;for(var key in frame){if(_isKeyword(key)){if("@id"!==key&&"@type"!==key)continue;if(wildcard=!1,"@id"===key&&_isString(frame[key])){
if(subject[key]!==frame[key])return!1;matchesSome=!0;continue}}if(wildcard=!1,key in subject){if(_isArray(frame[key])&&0===frame[key].length&&void 0!==subject[key])return!1;matchesSome=!0}else{var hasDefault=_isArray(frame[key])&&_isObject(frame[key][0])&&"@default"in frame[key][0];if(flags.requireAll&&!hasDefault)return!1}}return wildcard||matchesSome}function _removeEmbed(state,id){var embeds=state.uniqueEmbeds,embed=embeds[id],parent=embed.parent,property=embed.property,subject={"@id":id};if(_isArray(parent)){for(var i=0;i<parent.length;++i)if(jsonld.compareValues(parent[i],subject)){parent[i]=subject;break}}else{var useArray=_isArray(parent[property]);jsonld.removeValue(parent,property,subject,{propertyIsArray:useArray}),jsonld.addValue(parent,property,subject,{propertyIsArray:useArray})}var removeDependents=function(id){for(var ids=Object.keys(embeds),i=0;i<ids.length;++i){var next=ids[i];next in embeds&&_isObject(embeds[next].parent)&&embeds[next].parent["@id"]===id&&(delete embeds[next],removeDependents(next))}};removeDependents(id)}function _addFrameOutput(parent,property,output){_isObject(parent)?jsonld.addValue(parent,property,output,{propertyIsArray:!0}):parent.push(output)}function _removePreserve(ctx,input,options){if(_isArray(input)){for(var output=[],i=0;i<input.length;++i){var result=_removePreserve(ctx,input[i],options);null!==result&&output.push(result)}input=output}else if(_isObject(input)){if("@preserve"in input)return"@null"===input["@preserve"]?null:input["@preserve"];if(_isValue(input))return input;if(_isList(input))return input["@list"]=_removePreserve(ctx,input["@list"],options),input;var idAlias=_compactIri(ctx,"@id");if(idAlias in input){var id=input[idAlias];if(id in options.link){var idx=options.link[id].indexOf(input);if(-1!==idx)return options.link[id][idx];options.link[id].push(input)}else options.link[id]=[input]}for(var prop in input){var result=_removePreserve(ctx,input[prop],options),container=jsonld.getContextValue(ctx,prop,"@container");options.compactArrays&&_isArray(result)&&1===result.length&&null===container&&(result=result[0]),input[prop]=result}}return input}function _compareShortestLeast(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:b>a?-1:1}function _selectTerm(activeCtx,iri,value,containers,typeOrLanguage,typeOrLanguageValue){null===typeOrLanguageValue&&(typeOrLanguageValue="@null");var prefs=[];if("@id"!==typeOrLanguageValue&&"@reverse"!==typeOrLanguageValue||!_isSubjectReference(value))prefs.push(typeOrLanguageValue);else{"@reverse"===typeOrLanguageValue&&prefs.push("@reverse");var term=_compactIri(activeCtx,value["@id"],null,{vocab:!0});term in activeCtx.mappings&&activeCtx.mappings[term]&&activeCtx.mappings[term]["@id"]===value["@id"]?prefs.push.apply(prefs,["@vocab","@id"]):prefs.push.apply(prefs,["@id","@vocab"])}prefs.push("@none");for(var containerMap=activeCtx.inverse[iri],ci=0;ci<containers.length;++ci){var container=containers[ci];if(container in containerMap)for(var typeOrLanguageValueMap=containerMap[container][typeOrLanguage],pi=0;pi<prefs.length;++pi){var pref=prefs[pi];if(pref in typeOrLanguageValueMap)return typeOrLanguageValueMap[pref]}}return null}function _compactIri(activeCtx,iri,value,relativeTo,reverse){if(null===iri)return iri;if(_isUndefined(value)&&(value=null),_isUndefined(reverse)&&(reverse=!1),relativeTo=relativeTo||{},_isKeyword(iri)&&(relativeTo.vocab=!0),relativeTo.vocab&&iri in activeCtx.getInverse()){var defaultLanguage=activeCtx["@language"]||"@none",containers=[];_isObject(value)&&"@index"in value&&containers.push("@index");var typeOrLanguage="@language",typeOrLanguageValue="@null";if(reverse)typeOrLanguage="@type",typeOrLanguageValue="@reverse",containers.push("@set");else if(_isList(value)){"@index"in value||containers.push("@list");for(var list=value["@list"],commonLanguage=0===list.length?defaultLanguage:null,commonType=null,i=0;i<list.length;++i){var item=list[i],itemLanguage="@none",itemType="@none";if(_isValue(item)?"@language"in item?itemLanguage=item["@language"]:"@type"in item?itemType=item["@type"]:itemLanguage="@null":itemType="@id",null===commonLanguage?commonLanguage=itemLanguage:itemLanguage!==commonLanguage&&_isValue(item)&&(commonLanguage="@none"),null===commonType?commonType=itemType:itemType!==commonType&&(commonType="@none"),"@none"===commonLanguage&&"@none"===commonType)break}commonLanguage=commonLanguage||"@none",commonType=commonType||"@none","@none"!==commonType?(typeOrLanguage="@type",typeOrLanguageValue=commonType):typeOrLanguageValue=commonLanguage}else _isValue(value)?"@language"in value&&!("@index"in value)?(containers.push("@language"),typeOrLanguageValue=value["@language"]):"@type"in value&&(typeOrLanguage="@type",typeOrLanguageValue=value["@type"]):(typeOrLanguage="@type",typeOrLanguageValue="@id"),containers.push("@set");containers.push("@none");var term=_selectTerm(activeCtx,iri,value,containers,typeOrLanguage,typeOrLanguageValue);if(null!==term)return term}if(relativeTo.vocab&&"@vocab"in activeCtx){var vocab=activeCtx["@vocab"];if(0===iri.indexOf(vocab)&&iri!==vocab){var suffix=iri.substr(vocab.length);if(!(suffix in activeCtx.mappings))return suffix}}var choice=null;for(var term in activeCtx.mappings)if(-1===term.indexOf(":")){var definition=activeCtx.mappings[term];if(definition&&definition["@id"]!==iri&&0===iri.indexOf(definition["@id"])){var curie=term+":"+iri.substr(definition["@id"].length),isUsableCurie=!(curie in activeCtx.mappings)||null===value&&activeCtx.mappings[curie]&&activeCtx.mappings[curie]["@id"]===iri;isUsableCurie&&(null===choice||_compareShortestLeast(curie,choice)<0)&&(choice=curie)}}return null!==choice?choice:relativeTo.vocab?iri:_removeBase(activeCtx["@base"],iri)}function _compactValue(activeCtx,activeProperty,value){if(_isValue(value)){var type=jsonld.getContextValue(activeCtx,activeProperty,"@type"),language=jsonld.getContextValue(activeCtx,activeProperty,"@language"),container=jsonld.getContextValue(activeCtx,activeProperty,"@container"),preserveIndex="@index"in value&&"@index"!==container;if(!preserveIndex&&(value["@type"]===type||value["@language"]===language))return value["@value"];var keyCount=Object.keys(value).length,isValueOnlyKey=1===keyCount||2===keyCount&&"@index"in value&&!preserveIndex,hasDefaultLanguage="@language"in activeCtx,isValueString=_isString(value["@value"]),hasNullMapping=activeCtx.mappings[activeProperty]&&null===activeCtx.mappings[activeProperty]["@language"];if(isValueOnlyKey&&(!hasDefaultLanguage||!isValueString||hasNullMapping))return value["@value"];var rval={};return preserveIndex&&(rval[_compactIri(activeCtx,"@index")]=value["@index"]),"@type"in value?rval[_compactIri(activeCtx,"@type")]=_compactIri(activeCtx,value["@type"],null,{vocab:!0}):"@language"in value&&(rval[_compactIri(activeCtx,"@language")]=value["@language"]),rval[_compactIri(activeCtx,"@value")]=value["@value"],rval}var expandedProperty=_expandIri(activeCtx,activeProperty,{vocab:!0}),type=jsonld.getContextValue(activeCtx,activeProperty,"@type"),compacted=_compactIri(activeCtx,value["@id"],null,{vocab:"@vocab"===type});if("@id"===type||"@vocab"===type||"@graph"===expandedProperty)return compacted;var rval={};return rval[_compactIri(activeCtx,"@id")]=compacted,rval}function _createTermDefinition(activeCtx,localCtx,term,defined){if(term in defined){if(defined[term])return;throw new JsonLdError("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:localCtx,term:term})}if(defined[term]=!1,_isKeyword(term))throw new JsonLdError("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:localCtx,term:term});if(""===term)throw new JsonLdError("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:localCtx});activeCtx.mappings[term]&&delete activeCtx.mappings[term];var value=localCtx[term];if(null===value||_isObject(value)&&null===value["@id"])return activeCtx.mappings[term]=null,void(defined[term]=!0);if(_isString(value)&&(value={"@id":value}),!_isObject(value))throw new JsonLdError("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:localCtx});var mapping=activeCtx.mappings[term]={};if(mapping.reverse=!1,"@reverse"in value){if("@id"in value)throw new JsonLdError("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:localCtx});var reverse=value["@reverse"];if(!_isString(reverse))throw new JsonLdError("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:localCtx});var id=_expandIri(activeCtx,reverse,{vocab:!0,base:!1},localCtx,defined);if(!_isAbsoluteIri(id))throw new JsonLdError("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:localCtx});mapping["@id"]=id,mapping.reverse=!0}else if("@id"in value){var id=value["@id"];if(!_isString(id))throw new JsonLdError("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:localCtx});if(id!==term){if(id=_expandIri(activeCtx,id,{vocab:!0,base:!1},localCtx,defined),!_isAbsoluteIri(id)&&!_isKeyword(id))throw new JsonLdError("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:localCtx});mapping["@id"]=id}}if(!("@id"in mapping)){var colon=term.indexOf(":");if(-1!==colon){var prefix=term.substr(0,colon);if(prefix in localCtx&&_createTermDefinition(activeCtx,localCtx,prefix,defined),activeCtx.mappings[prefix]){var suffix=term.substr(colon+1);mapping["@id"]=activeCtx.mappings[prefix]["@id"]+suffix}else mapping["@id"]=term}else{if(!("@vocab"in activeCtx))throw new JsonLdError("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:localCtx,term:term});mapping["@id"]=activeCtx["@vocab"]+term}}if(defined[term]=!0,"@type"in value){var type=value["@type"];if(!_isString(type))throw new JsonLdError("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:localCtx});if("@id"!==type&&"@vocab"!==type){if(type=_expandIri(activeCtx,type,{vocab:!0,base:!1},localCtx,defined),!_isAbsoluteIri(type))throw new JsonLdError("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:localCtx});if(0===type.indexOf("_:"))throw new JsonLdError("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:localCtx})}mapping["@type"]=type}if("@container"in value){var container=value["@container"];if("@list"!==container&&"@set"!==container&&"@index"!==container&&"@language"!==container)throw new JsonLdError("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:localCtx});if(mapping.reverse&&"@index"!==container&&"@set"!==container&&null!==container)throw new JsonLdError("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:localCtx});mapping["@container"]=container}if("@language"in value&&!("@type"in value)){var language=value["@language"];if(null!==language&&!_isString(language))throw new JsonLdError("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:localCtx});null!==language&&(language=language.toLowerCase()),mapping["@language"]=language}var id=mapping["@id"];if("@context"===id||"@preserve"===id)throw new JsonLdError("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:localCtx})}function _expandIri(activeCtx,value,relativeTo,localCtx,defined){if(null===value||_isKeyword(value))return value;if(value=String(value),localCtx&&value in localCtx&&defined[value]!==!0&&_createTermDefinition(activeCtx,localCtx,value,defined),relativeTo=relativeTo||{},relativeTo.vocab){var mapping=activeCtx.mappings[value];if(null===mapping)return null;if(mapping)return mapping["@id"]}var colon=value.indexOf(":");if(-1!==colon){var prefix=value.substr(0,colon),suffix=value.substr(colon+1);if("_"===prefix||0===suffix.indexOf("//"))return value;localCtx&&prefix in localCtx&&_createTermDefinition(activeCtx,localCtx,prefix,defined);var mapping=activeCtx.mappings[prefix];return mapping?mapping["@id"]+suffix:value}if(relativeTo.vocab&&"@vocab"in activeCtx)return activeCtx["@vocab"]+value;var rval=value;return relativeTo.base&&(rval=jsonld.prependBase(activeCtx["@base"],rval)),rval}function _prependBase(base,iri){if(null===base)return iri;if(-1!==iri.indexOf(":"))return iri;_isString(base)&&(base=jsonld.url.parse(base||""));var rel=jsonld.url.parse(iri),transform={protocol:base.protocol||""};if(null!==rel.authority)transform.authority=rel.authority,transform.path=rel.path,transform.query=rel.query;else if(transform.authority=base.authority,""===rel.path)transform.path=base.path,null!==rel.query?transform.query=rel.query:transform.query=base.query;else{if(0===rel.path.indexOf("/"))transform.path=rel.path;else{var path=base.path;""!==rel.path&&(path=path.substr(0,path.lastIndexOf("/")+1),path.length>0&&"/"!==path.substr(-1)&&(path+="/"),path+=rel.path),transform.path=path}transform.query=rel.query}transform.path=_removeDotSegments(transform.path,!!transform.authority);var rval=transform.protocol;return null!==transform.authority&&(rval+="//"+transform.authority),rval+=transform.path,null!==transform.query&&(rval+="?"+transform.query),null!==rel.fragment&&(rval+="#"+rel.fragment),""===rval&&(rval="./"),rval}function _removeBase(base,iri){if(null===base)return iri;_isString(base)&&(base=jsonld.url.parse(base||""));var root="";if(""!==base.href?root+=(base.protocol||"")+"//"+(base.authority||""):iri.indexOf("//")&&(root+="//"),0!==iri.indexOf(root))return iri;for(var rel=jsonld.url.parse(iri.substr(root.length)),baseSegments=base.normalizedPath.split("/"),iriSegments=rel.normalizedPath.split("/"),last=rel.fragment||rel.query?0:1;baseSegments.length>0&&iriSegments.length>last&&baseSegments[0]===iriSegments[0];)baseSegments.shift(),iriSegments.shift();var rval="";if(baseSegments.length>0){baseSegments.pop();for(var i=0;i<baseSegments.length;++i)rval+="../"}return rval+=iriSegments.join("/"),null!==rel.query&&(rval+="?"+rel.query),null!==rel.fragment&&(rval+="#"+rel.fragment),""===rval&&(rval="./"),rval}function _getInitialContext(options){function _createInverseContext(){var activeCtx=this;if(activeCtx.inverse)return activeCtx.inverse;for(var inverse=activeCtx.inverse={},defaultLanguage=activeCtx["@language"]||"@none",mappings=activeCtx.mappings,terms=Object.keys(mappings).sort(_compareShortestLeast),i=0;i<terms.length;++i){var term=terms[i],mapping=mappings[term];if(null!==mapping){var container=mapping["@container"]||"@none",ids=mapping["@id"];_isArray(ids)||(ids=[ids]);for(var ii=0;ii<ids.length;++ii){var iri=ids[ii],entry=inverse[iri];if(entry||(inverse[iri]=entry={}),entry[container]||(entry[container]={"@language":{},"@type":{}}),entry=entry[container],mapping.reverse)_addPreferredTerm(mapping,term,entry["@type"],"@reverse");else if("@type"in mapping)_addPreferredTerm(mapping,term,entry["@type"],mapping["@type"]);else if("@language"in mapping){var language=mapping["@language"]||"@null";_addPreferredTerm(mapping,term,entry["@language"],language)}else _addPreferredTerm(mapping,term,entry["@language"],defaultLanguage),_addPreferredTerm(mapping,term,entry["@type"],"@none"),_addPreferredTerm(mapping,term,entry["@language"],"@none")}}}return inverse}function _addPreferredTerm(mapping,term,entry,typeOrLanguageValue){typeOrLanguageValue in entry||(entry[typeOrLanguageValue]=term)}function _cloneActiveContext(){var child={};return child["@base"]=this["@base"],child.mappings=_clone(this.mappings),child.clone=this.clone,child.inverse=null,child.getInverse=this.getInverse,"@language"in this&&(child["@language"]=this["@language"]),"@vocab"in this&&(child["@vocab"]=this["@vocab"]),child}var base=jsonld.url.parse(options.base||"");return{"@base":base,mappings:{},inverse:null,getInverse:_createInverseContext,clone:_cloneActiveContext}}function _isKeyword(v){if(!_isString(v))return!1;switch(v){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0}return!1}function _isObject(v){return"[object Object]"===Object.prototype.toString.call(v)}function _isEmptyObject(v){return _isObject(v)&&0===Object.keys(v).length}function _isArray(v){return Array.isArray(v)}function _validateTypeValue(v){if(!_isString(v)&&!_isEmptyObject(v)){var isValid=!1;if(_isArray(v)){isValid=!0;for(var i=0;i<v.length;++i)if(!_isString(v[i])){isValid=!1;break}}if(!isValid)throw new JsonLdError('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:v})}}function _isString(v){return"string"==typeof v||"[object String]"===Object.prototype.toString.call(v)}function _isNumber(v){return"number"==typeof v||"[object Number]"===Object.prototype.toString.call(v)}function _isDouble(v){return _isNumber(v)&&-1!==String(v).indexOf(".")}function _isNumeric(v){return!isNaN(parseFloat(v))&&isFinite(v)}function _isBoolean(v){return"boolean"==typeof v||"[object Boolean]"===Object.prototype.toString.call(v)}function _isUndefined(v){return"undefined"==typeof v}function _isSubject(v){var rval=!1;if(_isObject(v)&&!("@value"in v||"@set"in v||"@list"in v)){var keyCount=Object.keys(v).length;rval=keyCount>1||!("@id"in v)}return rval}function _isSubjectReference(v){return _isObject(v)&&1===Object.keys(v).length&&"@id"in v}function _isValue(v){return _isObject(v)&&"@value"in v}function _isList(v){return _isObject(v)&&"@list"in v}function _isBlankNode(v){var rval=!1;return _isObject(v)&&(rval="@id"in v?0===v["@id"].indexOf("_:"):0===Object.keys(v).length||!("@value"in v||"@set"in v||"@list"in v)),rval}function _isAbsoluteIri(v){return _isString(v)&&-1!==v.indexOf(":")}function _clone(value){if(value&&"object"==typeof value){var rval;if(_isArray(value)){rval=[];for(var i=0;i<value.length;++i)rval[i]=_clone(value[i])}else if(_isObject(value)){rval={};for(var key in value)rval[key]=_clone(value[key])}else rval=value.toString();return rval}return value}function _findContextUrls(input,urls,replace,base){var count=Object.keys(urls).length;if(_isArray(input)){for(var i=0;i<input.length;++i)_findContextUrls(input[i],urls,replace,base);return count<Object.keys(urls).length}if(_isObject(input)){for(var key in input)if("@context"===key){var ctx=input[key];if(_isArray(ctx))for(var length=ctx.length,i=0;length>i;++i){var _ctx=ctx[i];_isString(_ctx)&&(_ctx=jsonld.prependBase(base,_ctx),replace?(_ctx=urls[_ctx],_isArray(_ctx)?(Array.prototype.splice.apply(ctx,[i,1].concat(_ctx)),i+=_ctx.length-1,length=ctx.length):ctx[i]=_ctx):_ctx in urls||(urls[_ctx]=!1))}else _isString(ctx)&&(ctx=jsonld.prependBase(base,ctx),replace?input[key]=urls[ctx]:ctx in urls||(urls[ctx]=!1))}else _findContextUrls(input[key],urls,replace,base);return count<Object.keys(urls).length}return!1}function _retrieveContextUrls(input,options,callback){var error=null,documentLoader=options.documentLoader,retrieve=function(input,cycles,documentLoader,base,callback){if(Object.keys(cycles).length>MAX_CONTEXT_URLS)return error=new JsonLdError("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:MAX_CONTEXT_URLS}),callback(error);var urls={},finished=function(){_findContextUrls(input,urls,!0,base),callback(null,input)};_findContextUrls(input,urls,!1,base)||finished();var queue=[];for(var url in urls)urls[url]===!1&&queue.push(url);for(var count=queue.length,i=0;i<queue.length;++i)!function(url){if(url in cycles)return error=new JsonLdError("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:url}),callback(error);var _cycles=_clone(cycles);_cycles[url]=!0;var done=function(err,remoteDoc){if(!error){var ctx=remoteDoc?remoteDoc.document:null;if(!err&&_isString(ctx))try{ctx=JSON.parse(ctx)}catch(ex){err=ex}if(err?err=new JsonLdError("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:url,cause:err}):_isObject(ctx)||(err=new JsonLdError("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:url,cause:err})),err)return error=err,callback(error);ctx="@context"in ctx?{"@context":ctx["@context"]}:{"@context":{}},remoteDoc.contextUrl&&(_isArray(ctx["@context"])||(ctx["@context"]=[ctx["@context"]]),ctx["@context"].push(remoteDoc.contextUrl)),retrieve(ctx,_cycles,documentLoader,url,function(err,ctx){return err?callback(err):(urls[url]=ctx["@context"],count-=1,void(0===count&&finished()))})}},promise=documentLoader(url,done);promise&&"then"in promise&&promise.then(done.bind(null,null),done)}(queue[i])};retrieve(input,{},documentLoader,options.base,callback)}function _parseNQuads(input){for(var iri="(?:<([^:]+:[^>]*)>)",bnode="(_:(?:[A-Za-z0-9]+))",plain='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',datatype="(?:\\^\\^"+iri+")",language="(?:@([a-z]+(?:-[a-z0-9]+)*))",literal="(?:"+plain+"(?:"+datatype+"|"+language+")?)",comment="(?:#.*)?",ws="[ \\t]+",wso="[ \\t]*",eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,empty=new RegExp("^"+wso+comment+"$"),subject="(?:"+iri+"|"+bnode+")"+ws,property=iri+ws,object="(?:"+iri+"|"+bnode+"|"+literal+")"+wso,graphName="(?:\\.|(?:(?:"+iri+"|"+bnode+")"+wso+"\\.))",quad=new RegExp("^"+wso+subject+property+object+graphName+wso+comment+"$"),dataset={},lines=input.split(eoln),lineNumber=0,li=0;li<lines.length;++li){var line=lines[li];if(lineNumber++,!empty.test(line)){var match=line.match(quad);if(null===match)throw new JsonLdError("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:lineNumber});var triple={};if(_isUndefined(match[1])?triple.subject={type:"blank node",value:match[2]}:triple.subject={type:"IRI",value:match[1]},triple.predicate={type:"IRI",value:match[3]},_isUndefined(match[4]))if(_isUndefined(match[5])){triple.object={type:"literal"},_isUndefined(match[7])?_isUndefined(match[8])?triple.object.datatype=XSD_STRING:(triple.object.datatype=RDF_LANGSTRING,triple.object.language=match[8]):triple.object.datatype=match[7];var unescaped=match[6].replace(/\\"/g,'"').replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");triple.object.value=unescaped}else triple.object={type:"blank node",value:match[5]};else triple.object={type:"IRI",value:match[4]};var name="@default";if(_isUndefined(match[9])?_isUndefined(match[10])||(name=match[10]):name=match[9],name in dataset){for(var unique=!0,triples=dataset[name],ti=0;unique&&ti<triples.length;++ti)_compareRDFTriples(triples[ti],triple)&&(unique=!1);unique&&triples.push(triple)}else dataset[name]=[triple]}}return dataset}function _toNQuads(dataset){var quads=[];for(var graphName in dataset)for(var triples=dataset[graphName],ti=0;ti<triples.length;++ti){var triple=triples[ti];"@default"===graphName&&(graphName=null),quads.push(_toNQuad(triple,graphName))}return quads.sort().join("")}function _toNQuad(triple,graphName){var s=triple.subject,p=triple.predicate,o=triple.object,g=graphName||null;"name"in triple&&triple.name&&(g=triple.name.value);var quad="";if(quad+="IRI"===s.type?"<"+s.value+">":s.value,quad+=" ",quad+="IRI"===p.type?"<"+p.value+">":p.value,quad+=" ","IRI"===o.type)quad+="<"+o.value+">";else if("blank node"===o.type)quad+=o.value;else{var escaped=o.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');quad+='"'+escaped+'"',o.datatype===RDF_LANGSTRING?o.language&&(quad+="@"+o.language):o.datatype!==XSD_STRING&&(quad+="^^<"+o.datatype+">")}return null!==g&&void 0!==g&&(quad+=0!==g.indexOf("_:")?" <"+g+">":" "+g),quad+=" .\n"}function _parseRdfaApiData(data){var dataset={};dataset["@default"]=[];for(var subjects=data.getSubjects(),si=0;si<subjects.length;++si){var subject=subjects[si];if(null!==subject){var triples=data.getSubjectTriples(subject);if(null!==triples){var predicates=triples.predicates;for(var predicate in predicates)for(var objects=predicates[predicate].objects,oi=0;oi<objects.length;++oi){var object=objects[oi],triple={};0===subject.indexOf("_:")?triple.subject={type:"blank node",value:subject}:triple.subject={type:"IRI",value:subject},0===predicate.indexOf("_:")?triple.predicate={type:"blank node",value:predicate}:triple.predicate={type:"IRI",value:predicate};var value=object.value;if(object.type===RDF_XML_LITERAL){XMLSerializer||_defineXMLSerializer();var serializer=new XMLSerializer;value="";for(var x=0;x<object.value.length;x++)object.value[x].nodeType===Node.ELEMENT_NODE?value+=serializer.serializeToString(object.value[x]):object.value[x].nodeType===Node.TEXT_NODE&&(value+=object.value[x].nodeValue)}triple.object={},object.type===RDF_OBJECT?0===object.value.indexOf("_:")?triple.object.type="blank node":triple.object.type="IRI":(triple.object.type="literal",object.type===RDF_PLAIN_LITERAL?object.language?(triple.object.datatype=RDF_LANGSTRING,triple.object.language=object.language):triple.object.datatype=XSD_STRING:triple.object.datatype=object.type),triple.object.value=value,dataset["@default"].push(triple)}}}}return dataset}function IdentifierIssuer(prefix){this.prefix=prefix,this.counter=0,this.existing={}}function _removeDotSegments(path,hasAuthority){var rval="";0===path.indexOf("/")&&(rval="/");for(var input=path.split("/"),output=[];input.length>0;)"."===input[0]||""===input[0]&&input.length>1?input.shift():".."!==input[0]?output.push(input.shift()):(input.shift(),hasAuthority||output.length>0&&".."!==output[output.length-1]?output.pop():output.push(".."));return rval+output.join("/")}jsonld.compact=function(input,ctx,options,callback){function cleanup(err,compacted,activeCtx,options){if(err)return callback(err);options.compactArrays&&!options.graph&&_isArray(compacted)?1===compacted.length?compacted=compacted[0]:0===compacted.length&&(compacted={}):options.graph&&_isObject(compacted)&&(compacted=[compacted]),_isObject(ctx)&&"@context"in ctx&&(ctx=ctx["@context"]),ctx=_clone(ctx),_isArray(ctx)||(ctx=[ctx]);var tmp=ctx;ctx=[];for(var i=0;i<tmp.length;++i)(!_isObject(tmp[i])||Object.keys(tmp[i]).length>0)&&ctx.push(tmp[i]);var hasContext=ctx.length>0;if(1===ctx.length&&(ctx=ctx[0]),_isArray(compacted)){var kwgraph=_compactIri(activeCtx,"@graph"),graph=compacted;compacted={},hasContext&&(compacted["@context"]=ctx),compacted[kwgraph]=graph}else if(_isObject(compacted)&&hasContext){var graph=compacted;compacted={"@context":ctx};for(var key in graph)compacted[key]=graph[key]}callback(null,compacted,activeCtx)}if(arguments.length<2)return jsonld.nextTick(function(){callback(new TypeError("Could not compact, too few arguments."))});if("function"==typeof options&&(callback=options,options={}),options=options||{},null===ctx)return jsonld.nextTick(function(){callback(new JsonLdError("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===input)return jsonld.nextTick(function(){callback(null,null)});"base"in options||(options.base="string"==typeof input?input:""),"compactArrays"in options||(options.compactArrays=!0),"graph"in options||(options.graph=!1),"skipExpansion"in options||(options.skipExpansion=!1),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),"link"in options||(options.link=!1),options.link&&(options.skipExpansion=!0);var expand=function(input,options,callback){jsonld.nextTick(function(){return options.skipExpansion?callback(null,input):void jsonld.expand(input,options,callback)})};expand(input,options,function(err,expanded){if(err)return callback(new JsonLdError("Could not expand input before compaction.","jsonld.CompactError",{cause:err}));var activeCtx=_getInitialContext(options);jsonld.processContext(activeCtx,ctx,options,function(err,activeCtx){if(err)return callback(new JsonLdError("Could not process context before compaction.","jsonld.CompactError",{cause:err}));var compacted;try{compacted=(new Processor).compact(activeCtx,null,expanded,options)}catch(ex){return callback(ex)}cleanup(null,compacted,activeCtx,options)})})},jsonld.expand=function(input,options,callback){function expand(remoteDoc){"base"in options||(options.base=remoteDoc.documentUrl||"");var input={document:_clone(remoteDoc.document),remoteContext:{"@context":remoteDoc.contextUrl}};if("expandContext"in options){var expandContext=_clone(options.expandContext);"object"==typeof expandContext&&"@context"in expandContext?input.expandContext=expandContext:input.expandContext={"@context":expandContext}}_retrieveContextUrls(input,options,function(err,input){if(err)return callback(err);var expanded;try{var processor=new Processor,activeCtx=_getInitialContext(options),document=input.document,remoteContext=input.remoteContext["@context"];input.expandContext&&(activeCtx=processor.processContext(activeCtx,input.expandContext["@context"],options)),remoteContext&&(activeCtx=processor.processContext(activeCtx,remoteContext,options)),expanded=processor.expand(activeCtx,null,document,options,!1),_isObject(expanded)&&"@graph"in expanded&&1===Object.keys(expanded).length?expanded=expanded["@graph"]:null===expanded&&(expanded=[]),_isArray(expanded)||(expanded=[expanded])}catch(ex){return callback(ex)}callback(null,expanded)})}return arguments.length<1?jsonld.nextTick(function(){callback(new TypeError("Could not expand, too few arguments."))}):("function"==typeof options&&(callback=options,options={}),options=options||{},"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),"keepFreeFloatingNodes"in options||(options.keepFreeFloatingNodes=!1),void jsonld.nextTick(function(){if("string"==typeof input){var done=function(err,remoteDoc){if(err)return callback(err);try{if(!remoteDoc.document)throw new JsonLdError("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof remoteDoc.document&&(remoteDoc.document=JSON.parse(remoteDoc.document))}catch(ex){return callback(new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:ex,remoteDoc:remoteDoc}))}expand(remoteDoc)},promise=options.documentLoader(input,done);return void(promise&&"then"in promise&&promise.then(done.bind(null,null),done))}expand({contextUrl:null,documentUrl:null,document:input})}))},jsonld.flatten=function(input,ctx,options,callback){return arguments.length<1?jsonld.nextTick(function(){callback(new TypeError("Could not flatten, too few arguments."))}):("function"==typeof options?(callback=options,options={}):"function"==typeof ctx&&(callback=ctx,ctx=null,options={}),options=options||{},"base"in options||(options.base="string"==typeof input?input:""),
"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),void jsonld.expand(input,options,function(err,_input){if(err)return callback(new JsonLdError("Could not expand input before flattening.","jsonld.FlattenError",{cause:err}));var flattened;try{flattened=(new Processor).flatten(_input)}catch(ex){return callback(ex)}return null===ctx?callback(null,flattened):(options.graph=!0,options.skipExpansion=!0,void jsonld.compact(flattened,ctx,options,function(err,compacted){return err?callback(new JsonLdError("Could not compact flattened output.","jsonld.FlattenError",{cause:err})):void callback(null,compacted)}))}))},jsonld.frame=function(input,frame,options,callback){function doFrame(remoteFrame){var ctx,frame=remoteFrame.document;frame?(ctx=frame["@context"],remoteFrame.contextUrl?(ctx?_isArray(ctx)?ctx.push(remoteFrame.contextUrl):ctx=[ctx,remoteFrame.contextUrl]:ctx=remoteFrame.contextUrl,frame["@context"]=ctx):ctx=ctx||{}):ctx={},jsonld.expand(input,options,function(err,expanded){if(err)return callback(new JsonLdError("Could not expand input before framing.","jsonld.FrameError",{cause:err}));var opts=_clone(options);opts.isFrame=!0,opts.keepFreeFloatingNodes=!0,jsonld.expand(frame,opts,function(err,expandedFrame){if(err)return callback(new JsonLdError("Could not expand frame before framing.","jsonld.FrameError",{cause:err}));var framed;try{framed=(new Processor).frame(expanded,expandedFrame,opts)}catch(ex){return callback(ex)}opts.graph=!0,opts.skipExpansion=!0,opts.link={},jsonld.compact(framed,ctx,opts,function(err,compacted,ctx){if(err)return callback(new JsonLdError("Could not compact framed output.","jsonld.FrameError",{cause:err}));var graph=_compactIri(ctx,"@graph");opts.link={},compacted[graph]=_removePreserve(ctx,compacted[graph],opts),callback(null,compacted)})})})}return arguments.length<2?jsonld.nextTick(function(){callback(new TypeError("Could not frame, too few arguments."))}):("function"==typeof options&&(callback=options,options={}),options=options||{},"base"in options||(options.base="string"==typeof input?input:""),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),"embed"in options||(options.embed="@last"),options.explicit=options.explicit||!1,"requireAll"in options||(options.requireAll=!0),options.omitDefault=options.omitDefault||!1,void jsonld.nextTick(function(){if("string"==typeof frame){var done=function(err,remoteDoc){if(err)return callback(err);try{if(!remoteDoc.document)throw new JsonLdError("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof remoteDoc.document&&(remoteDoc.document=JSON.parse(remoteDoc.document))}catch(ex){return callback(new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:ex,remoteDoc:remoteDoc}))}doFrame(remoteDoc)},promise=options.documentLoader(frame,done);return void(promise&&"then"in promise&&promise.then(done.bind(null,null),done))}doFrame({contextUrl:null,documentUrl:null,document:frame})}))},jsonld.link=function(input,ctx,options,callback){var frame={};ctx&&(frame["@context"]=ctx),frame["@embed"]="@link",jsonld.frame(input,frame,options,callback)},jsonld.objectify=function(input,ctx,options,callback){"function"==typeof options&&(callback=options,options={}),options=options||{},"base"in options||(options.base="string"==typeof input?input:""),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),jsonld.expand(input,options,function(err,_input){if(err)return callback(new JsonLdError("Could not expand input before linking.","jsonld.LinkError",{cause:err}));var flattened;try{flattened=(new Processor).flatten(_input)}catch(ex){return callback(ex)}options.graph=!0,options.skipExpansion=!0,jsonld.compact(flattened,ctx,options,function(err,compacted,ctx){if(err)return callback(new JsonLdError("Could not compact flattened output before linking.","jsonld.LinkError",{cause:err}));var graph=_compactIri(ctx,"@graph"),top=compacted[graph][0],recurse=function(subject){if(_isObject(subject)||_isArray(subject)){if(_isObject(subject)){if(recurse.visited[subject["@id"]])return;recurse.visited[subject["@id"]]=!0}for(var k in subject){var obj=subject[k],isid="@id"===jsonld.getContextValue(ctx,k,"@type");if(_isArray(obj)||_isObject(obj)||isid)if(_isString(obj)&&isid)subject[k]=obj=top[obj],recurse(obj);else if(_isArray(obj))for(var i=0;i<obj.length;++i)_isString(obj[i])&&isid?obj[i]=top[obj[i]]:_isObject(obj[i])&&"@id"in obj[i]&&(obj[i]=top[obj[i]["@id"]]),recurse(obj[i]);else if(_isObject(obj)){var sid=obj["@id"];subject[k]=obj=top[sid],recurse(obj)}}}};recurse.visited={},recurse(top),compacted.of_type={};for(var s in top)if("@type"in top[s]){var types=top[s]["@type"];_isArray(types)||(types=[types]);for(var t=0;t<types.length;++t)types[t]in compacted.of_type||(compacted.of_type[types[t]]=[]),compacted.of_type[types[t]].push(top[s])}callback(null,compacted)})})},jsonld.normalize=function(input,options,callback){if(arguments.length<1)return jsonld.nextTick(function(){callback(new TypeError("Could not normalize, too few arguments."))});if("function"==typeof options&&(callback=options,options={}),options=options||{},"algorithm"in options||(options.algorithm="URGNA2012"),"base"in options||(options.base="string"==typeof input?input:""),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),"inputFormat"in options){if("application/nquads"!==options.inputFormat)return callback(new JsonLdError("Unknown normalization input format.","jsonld.NormalizeError"));var parsedInput=_parseNQuads(input);(new Processor).normalize(parsedInput,options,callback)}else{var opts=_clone(options);delete opts.format,opts.produceGeneralizedRdf=!1,jsonld.toRDF(input,opts,function(err,dataset){return err?callback(new JsonLdError("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:err})):void(new Processor).normalize(dataset,options,callback)})}},jsonld.fromRDF=function(dataset,options,callback){return arguments.length<1?jsonld.nextTick(function(){callback(new TypeError("Could not convert from RDF, too few arguments."))}):("function"==typeof options&&(callback=options,options={}),options=options||{},"useRdfType"in options||(options.useRdfType=!1),"useNativeTypes"in options||(options.useNativeTypes=!1),"format"in options||!_isString(dataset)||"format"in options||(options.format="application/nquads"),void jsonld.nextTick(function(){function fromRDF(dataset,options,callback){(new Processor).fromRDF(dataset,options,callback)}var rdfParser;if(options.format){if(rdfParser=options.rdfParser||_rdfParsers[options.format],!rdfParser)return callback(new JsonLdError("Unknown input format.","jsonld.UnknownFormat",{format:options.format}))}else rdfParser=function(){return dataset};var callbackCalled=!1;try{dataset=rdfParser(dataset,function(err,dataset){return callbackCalled=!0,err?callback(err):void fromRDF(dataset,options,callback)})}catch(e){if(!callbackCalled)return callback(e);throw e}if(dataset){if("then"in dataset)return dataset.then(function(dataset){fromRDF(dataset,options,callback)},callback);fromRDF(dataset,options,callback)}}))},jsonld.toRDF=function(input,options,callback){return arguments.length<1?jsonld.nextTick(function(){callback(new TypeError("Could not convert to RDF, too few arguments."))}):("function"==typeof options&&(callback=options,options={}),options=options||{},"base"in options||(options.base="string"==typeof input?input:""),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),void jsonld.expand(input,options,function(err,expanded){if(err)return callback(new JsonLdError("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:err}));var dataset;try{if(dataset=Processor.prototype.toRDF(expanded,options),options.format){if("application/nquads"===options.format)return callback(null,_toNQuads(dataset));throw new JsonLdError("Unknown output format.","jsonld.UnknownFormat",{format:options.format})}}catch(ex){return callback(ex)}callback(null,dataset)}))},jsonld.createNodeMap=function(input,options,callback){return arguments.length<1?jsonld.nextTick(function(){callback(new TypeError("Could not create node map, too few arguments."))}):("function"==typeof options&&(callback=options,options={}),options=options||{},"base"in options||(options.base="string"==typeof input?input:""),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),void jsonld.expand(input,options,function(err,_input){if(err)return callback(new JsonLdError("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:err}));var nodeMap;try{nodeMap=(new Processor).createNodeMap(_input,options)}catch(ex){return callback(ex)}callback(null,nodeMap)}))},jsonld.merge=function(docs,ctx,options,callback){function expandComplete(err,_input){if(!error){if(err)return error=err,callback(new JsonLdError("Could not expand input before flattening.","jsonld.FlattenError",{cause:err}));expanded.push(_input),0===--count&&merge(expanded)}}function merge(expanded){var mergeNodes=!0;"mergeNodes"in options&&(mergeNodes=options.mergeNodes);var defaultGraph,issuer=options.namer||options.issuer||new IdentifierIssuer("_:b"),graphs={"@default":{}};try{for(var i=0;i<expanded.length;++i){var doc=expanded[i];doc=jsonld.relabelBlankNodes(doc,{issuer:new IdentifierIssuer("_:b"+i+"-")});var _graphs=mergeNodes||0===i?graphs:{"@default":{}};if(_createNodeMap(doc,_graphs,"@default",issuer),_graphs!==graphs)for(var graphName in _graphs){var _nodeMap=_graphs[graphName];if(graphName in graphs){var nodeMap=graphs[graphName];for(var key in _nodeMap)key in nodeMap||(nodeMap[key]=_nodeMap[key])}else graphs[graphName]=_nodeMap}}defaultGraph=_mergeNodeMaps(graphs)}catch(ex){return callback(ex)}for(var flattened=[],keys=Object.keys(defaultGraph).sort(),ki=0;ki<keys.length;++ki){var node=defaultGraph[keys[ki]];_isSubjectReference(node)||flattened.push(node)}return null===ctx?callback(null,flattened):(options.graph=!0,options.skipExpansion=!0,void jsonld.compact(flattened,ctx,options,function(err,compacted){return err?callback(new JsonLdError("Could not compact merged output.","jsonld.MergeError",{cause:err})):void callback(null,compacted)}))}if(arguments.length<1)return jsonld.nextTick(function(){callback(new TypeError("Could not merge, too few arguments."))});if(!_isArray(docs))return jsonld.nextTick(function(){callback(new TypeError('Could not merge, "docs" must be an array.'))});"function"==typeof options?(callback=options,options={}):"function"==typeof ctx&&(callback=ctx,ctx=null,options={}),options=options||{};for(var expanded=[],error=null,count=docs.length,i=0;i<docs.length;++i){var opts={};for(var key in options)opts[key]=options[key];jsonld.expand(docs[i],opts,expandComplete)}},jsonld.relabelBlankNodes=function(input,options){options=options||{};var issuer=options.namer||options.issuer||new IdentifierIssuer("_:b");return _labelBlankNodes(issuer,input)},jsonld.prependBase=function(base,iri){return _prependBase(base,iri)},jsonld.documentLoader=function(url,callback){var err=new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return _nodejs?callback(err,{contextUrl:null,documentUrl:url,document:null}):jsonld.promisify(function(callback){callback(err)})},jsonld.loadDocument=function(url,callback){var promise=jsonld.documentLoader(url,callback);promise&&"then"in promise&&promise.then(callback.bind(null,null),callback)},jsonld.promises=function(options){options=options||{};var slice=Array.prototype.slice,promisify=jsonld.promisify,api=options.api||{},version=options.version||"jsonld.js";"string"==typeof options.api&&(options.version||(version=options.api),api={}),api.expand=function(input){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");return promisify.apply(null,[jsonld.expand].concat(slice.call(arguments)))},api.compact=function(input,ctx){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");var compact=function(input,ctx,options,callback){jsonld.compact(input,ctx,options,function(err,compacted){callback(err,compacted)})};return promisify.apply(null,[compact].concat(slice.call(arguments)))},api.flatten=function(input){if(arguments.length<1)throw new TypeError("Could not flatten, too few arguments.");return promisify.apply(null,[jsonld.flatten].concat(slice.call(arguments)))},api.frame=function(input,frame){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");return promisify.apply(null,[jsonld.frame].concat(slice.call(arguments)))},api.fromRDF=function(dataset){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");return promisify.apply(null,[jsonld.fromRDF].concat(slice.call(arguments)))},api.toRDF=function(input){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");return promisify.apply(null,[jsonld.toRDF].concat(slice.call(arguments)))},api.normalize=function(input){if(arguments.length<1)throw new TypeError("Could not normalize, too few arguments.");return promisify.apply(null,[jsonld.normalize].concat(slice.call(arguments)))},"jsonld.js"===version&&(api.link=function(input,ctx){if(arguments.length<2)throw new TypeError("Could not link, too few arguments.");return promisify.apply(null,[jsonld.link].concat(slice.call(arguments)))},api.objectify=function(input){return promisify.apply(null,[jsonld.objectify].concat(slice.call(arguments)))},api.createNodeMap=function(input){return promisify.apply(null,[jsonld.createNodeMap].concat(slice.call(arguments)))},api.merge=function(input){return promisify.apply(null,[jsonld.merge].concat(slice.call(arguments)))});try{jsonld.Promise=global.Promise||$__require("c1").Promise}catch(e){var f=function(){throw new Error("Unable to find a Promise implementation.")};for(var method in api)api[method]=f}return api},jsonld.promisify=function(op){if(!jsonld.Promise)try{jsonld.Promise=global.Promise||$__require("c1").Promise}catch(e){throw new Error("Unable to find a Promise implementation.")}var args=Array.prototype.slice.call(arguments,1);return new jsonld.Promise(function(resolve,reject){op.apply(null,args.concat(function(err,value){err?reject(err):resolve(value)}))})},jsonld.promises({api:jsonld.promises}),JsonLdProcessor.prototype=jsonld.promises({version:"json-ld-1.0"}),JsonLdProcessor.prototype.toString=function(){return this instanceof JsonLdProcessor?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"},jsonld.JsonLdProcessor=JsonLdProcessor;var canDefineProperty=!!Object.defineProperty;if(canDefineProperty)try{Object.defineProperty({},"x",{})}catch(e){canDefineProperty=!1}canDefineProperty&&(Object.defineProperty(JsonLdProcessor,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(JsonLdProcessor.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:JsonLdProcessor})),_browser&&"undefined"==typeof global.JsonLdProcessor&&(canDefineProperty?Object.defineProperty(global,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:JsonLdProcessor}):global.JsonLdProcessor=JsonLdProcessor);var _setImmediate="function"==typeof setImmediate&&setImmediate,_delay=_setImmediate?function(fn){_setImmediate(fn)}:function(fn){setTimeout(fn,0)};"object"==typeof process&&"function"==typeof process.nextTick?jsonld.nextTick=process.nextTick:jsonld.nextTick=_delay,jsonld.setImmediate=_setImmediate?_delay:jsonld.nextTick,jsonld.parseLinkHeader=function(header){for(var rval={},entries=header.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),rLinkHeader=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,i=0;i<entries.length;++i){var match=entries[i].match(rLinkHeader);if(match){for(var result={target:match[1]},params=match[2],rParams=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;match=rParams.exec(params);)result[match[1]]=void 0===match[2]?match[3]:match[2];var rel=result.rel||"";_isArray(rval[rel])?rval[rel].push(result):rel in rval?rval[rel]=[rval[rel],result]:rval[rel]=result}}return rval},jsonld.RequestQueue=function(){this._requests={}},jsonld.RequestQueue.prototype.wrapLoader=function(loader){return this._loader=loader,this._usePromise=1===loader.length,this.add.bind(this)},jsonld.RequestQueue.prototype.add=function(url,callback){var self=this;if(!callback&&!self._usePromise)throw new Error("callback must be specified.");return self._usePromise?new jsonld.Promise(function(resolve,reject){var load=self._requests[url];load||(load=self._requests[url]=self._loader(url).then(function(remoteDoc){return delete self._requests[url],remoteDoc})["catch"](function(err){throw delete self._requests[url],err})),load.then(function(remoteDoc){resolve(remoteDoc)})["catch"](function(err){reject(err)})}):void(url in self._requests?self._requests[url].push(callback):(self._requests[url]=[callback],self._loader(url,function(err,remoteDoc){var callbacks=self._requests[url];delete self._requests[url];for(var i=0;i<callbacks.length;++i)callbacks[i](err,remoteDoc)})))},jsonld.DocumentCache=function(size){this.order=[],this.cache={},this.size=size||50,this.expires=3e4},jsonld.DocumentCache.prototype.get=function(url){if(url in this.cache){var entry=this.cache[url];if(entry.expires>=+new Date)return entry.ctx;delete this.cache[url],this.order.splice(this.order.indexOf(url),1)}return null},jsonld.DocumentCache.prototype.set=function(url,ctx){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(url),this.cache[url]={ctx:ctx,expires:+new Date+this.expires}},jsonld.ActiveContextCache=function(size){this.order=[],this.cache={},this.size=size||100},jsonld.ActiveContextCache.prototype.get=function(activeCtx,localCtx){var key1=JSON.stringify(activeCtx),key2=JSON.stringify(localCtx),level1=this.cache[key1];return level1&&key2 in level1?level1[key2]:null},jsonld.ActiveContextCache.prototype.set=function(activeCtx,localCtx,result){if(this.order.length===this.size){var entry=this.order.shift();delete this.cache[entry.activeCtx][entry.localCtx]}var key1=JSON.stringify(activeCtx),key2=JSON.stringify(localCtx);this.order.push({activeCtx:key1,localCtx:key2}),key1 in this.cache||(this.cache[key1]={}),this.cache[key1][key2]=_clone(result)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.documentLoaders={},jsonld.documentLoaders.jquery=function($,options){function loader(url,callback){return 0!==url.indexOf("http:")&&0!==url.indexOf("https:")?callback(new JsonLdError('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null}):options.secure&&0!==url.indexOf("https")?callback(new JsonLdError('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null}):void $.ajax({url:url,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(data,textStatus,jqXHR){var doc={contextUrl:null,documentUrl:url,document:data},contentType=jqXHR.getResponseHeader("Content-Type"),linkHeader=jqXHR.getResponseHeader("Link");if(linkHeader&&"application/ld+json"!==contentType){if(linkHeader=jsonld.parseLinkHeader(linkHeader)[LINK_HEADER_REL],_isArray(linkHeader))return callback(new JsonLdError("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:url}),doc);linkHeader&&(doc.contextUrl=linkHeader.target)}callback(null,doc)},error:function(jqXHR,textStatus,err){callback(new JsonLdError("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:url,cause:err}),{contextUrl:null,documentUrl:url,document:null})}})}options=options||{};var queue=new jsonld.RequestQueue,usePromise="usePromise"in options?options.usePromise:"undefined"!=typeof Promise;return usePromise?queue.wrapLoader(function(url){return jsonld.promisify(loader,url)}):queue.wrapLoader(loader)},jsonld.documentLoaders.node=function(options){function loadDocument(url,redirects,callback){function handleResponse(err,res,body){if(doc={contextUrl:null,documentUrl:url,document:body||null},err)return callback(new JsonLdError("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:url,cause:err}),doc);var statusText=http.STATUS_CODES[res.statusCode];if(res.statusCode>=400)return callback(new JsonLdError("URL could not be dereferenced: "+statusText,"jsonld.InvalidUrl",{code:"loading document failed",url:url,httpStatusCode:res.statusCode}),doc);if(res.headers.link&&"application/ld+json"!==res.headers["content-type"]){var linkHeader=jsonld.parseLinkHeader(res.headers.link)[LINK_HEADER_REL];if(_isArray(linkHeader))return callback(new JsonLdError("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:url}),doc);linkHeader&&(doc.contextUrl=linkHeader.target)}return res.statusCode>=300&&res.statusCode<400&&res.headers.location?redirects.length===maxRedirects?callback(new JsonLdError("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:url,httpStatusCode:res.statusCode,redirects:redirects}),doc):-1!==redirects.indexOf(url)?callback(new JsonLdError("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:url,httpStatusCode:res.statusCode,redirects:redirects}),doc):(redirects.push(url),loadDocument(res.headers.location,redirects,callback)):(redirects.push(url),void callback(err,doc))}if(0!==url.indexOf("http:")&&0!==url.indexOf("https:"))return callback(new JsonLdError('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null});if(options.secure&&0!==url.indexOf("https"))return callback(new JsonLdError('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null});var doc=null;if(null!==doc)return callback(null,doc);var headers={Accept:acceptHeader};for(var k in options.headers)headers[k]=options.headers[k];request({url:url,headers:headers,strictSSL:strictSSL,followRedirect:!1},handleResponse)}options=options||{};var strictSSL="strictSSL"in options?options.strictSSL:!0,maxRedirects="maxRedirects"in options?options.maxRedirects:-1,request="request"in options?options.request:$__require("@empty"),acceptHeader="application/ld+json, application/json",http=$__require("c5"),queue=new jsonld.RequestQueue;if(options.usePromise)return queue.wrapLoader(function(url){return jsonld.promisify(loadDocument,url,[])});var headers=options.headers||{};if("Accept"in headers||"accept"in headers)throw new RangeError('Accept header may not be specified as an option; only "'+acceptHeader+'" is supported.');return queue.wrapLoader(function(url,callback){loadDocument(url,[],callback)})},jsonld.documentLoaders.xhr=function(options){function loader(url,callback){if(0!==url.indexOf("http:")&&0!==url.indexOf("https:"))return callback(new JsonLdError('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null});if(options.secure&&0!==url.indexOf("https"))return callback(new JsonLdError('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null});var xhr=options.xhr||XMLHttpRequest,req=new xhr;req.onload=function(){if(req.status>=400)return callback(new JsonLdError("URL could not be dereferenced: "+req.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:url,httpStatusCode:req.status}),{contextUrl:null,documentUrl:url,document:null});var linkHeader,doc={contextUrl:null,documentUrl:url,document:req.response},contentType=req.getResponseHeader("Content-Type");if(rlink.test(req.getAllResponseHeaders())&&(linkHeader=req.getResponseHeader("Link")),linkHeader&&"application/ld+json"!==contentType){if(linkHeader=jsonld.parseLinkHeader(linkHeader)[LINK_HEADER_REL],_isArray(linkHeader))return callback(new JsonLdError("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:url}),doc);linkHeader&&(doc.contextUrl=linkHeader.target)}callback(null,doc)},req.onerror=function(){callback(new JsonLdError("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:url}),{contextUrl:null,documentUrl:url,document:null})},req.open("GET",url,!0),req.setRequestHeader("Accept","application/ld+json, application/json"),req.send()}options=options||{};var rlink=/(^|(\r\n))link:/i,queue=new jsonld.RequestQueue,usePromise="usePromise"in options?options.usePromise:"undefined"!=typeof Promise;return usePromise?queue.wrapLoader(function(url){return jsonld.promisify(loader,url)}):queue.wrapLoader(loader)},jsonld.useDocumentLoader=function(type){if(!(type in jsonld.documentLoaders))throw new JsonLdError('Unknown document loader type: "'+type+'"',"jsonld.UnknownDocumentLoader",{type:type});jsonld.documentLoader=jsonld.documentLoaders[type].apply(jsonld,Array.prototype.slice.call(arguments,1))},jsonld.processContext=function(activeCtx,localCtx){var options={},callbackArg=2;arguments.length>3&&(options=arguments[2]||{},callbackArg+=1);var callback=arguments[callbackArg];return"base"in options||(options.base=""),"documentLoader"in options||(options.documentLoader=jsonld.loadDocument),null===localCtx?callback(null,_getInitialContext(options)):(localCtx=_clone(localCtx),_isObject(localCtx)&&"@context"in localCtx||(localCtx={"@context":localCtx}),void _retrieveContextUrls(localCtx,options,function(err,ctx){if(err)return callback(err);try{ctx=(new Processor).processContext(activeCtx,ctx,options)}catch(ex){return callback(ex)}callback(null,ctx)}))},jsonld.hasProperty=function(subject,property){var rval=!1;if(property in subject){var value=subject[property];rval=!_isArray(value)||value.length>0}return rval},jsonld.hasValue=function(subject,property,value){var rval=!1;if(jsonld.hasProperty(subject,property)){var val=subject[property],isList=_isList(val);if(_isArray(val)||isList){isList&&(val=val["@list"]);for(var i=0;i<val.length;++i)if(jsonld.compareValues(value,val[i])){rval=!0;break}}else _isArray(value)||(rval=jsonld.compareValues(value,val))}return rval},jsonld.addValue=function(subject,property,value,options){if(options=options||{},"propertyIsArray"in options||(options.propertyIsArray=!1),"allowDuplicate"in options||(options.allowDuplicate=!0),_isArray(value)){0!==value.length||!options.propertyIsArray||property in subject||(subject[property]=[]);for(var i=0;i<value.length;++i)jsonld.addValue(subject,property,value[i],options)}else if(property in subject){var hasValue=!options.allowDuplicate&&jsonld.hasValue(subject,property,value);_isArray(subject[property])||hasValue&&!options.propertyIsArray||(subject[property]=[subject[property]]),hasValue||subject[property].push(value)}else subject[property]=options.propertyIsArray?[value]:value},jsonld.getValues=function(subject,property){var rval=subject[property]||[];return _isArray(rval)||(rval=[rval]),rval},jsonld.removeProperty=function(subject,property){delete subject[property]},jsonld.removeValue=function(subject,property,value,options){options=options||{},"propertyIsArray"in options||(options.propertyIsArray=!1);var values=jsonld.getValues(subject,property).filter(function(e){return!jsonld.compareValues(e,value)});0===values.length?jsonld.removeProperty(subject,property):1!==values.length||options.propertyIsArray?subject[property]=values:subject[property]=values[0]},jsonld.compareValues=function(v1,v2){return v1===v2?!0:_isValue(v1)&&_isValue(v2)&&v1["@value"]===v2["@value"]&&v1["@type"]===v2["@type"]&&v1["@language"]===v2["@language"]&&v1["@index"]===v2["@index"]?!0:_isObject(v1)&&"@id"in v1&&_isObject(v2)&&"@id"in v2?v1["@id"]===v2["@id"]:!1},jsonld.getContextValue=function(ctx,key,type){var rval=null;if(null===key)return rval;if("@language"===type&&type in ctx&&(rval=ctx[type]),ctx.mappings[key]){var entry=ctx.mappings[key];_isUndefined(type)?rval=entry:type in entry&&(rval=entry[type])}return rval};var _rdfParsers={};if(jsonld.registerRDFParser=function(contentType,parser){_rdfParsers[contentType]=parser},jsonld.unregisterRDFParser=function(contentType){delete _rdfParsers[contentType]},_nodejs){if("undefined"==typeof XMLSerializer)var XMLSerializer=null;if("undefined"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",XSD_STRING="http://www.w3.org/2001/XMLSchema#string",RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_LIST=RDF+"List",RDF_FIRST=RDF+"first",RDF_REST=RDF+"rest",RDF_NIL=RDF+"nil",RDF_TYPE=RDF+"type",RDF_PLAIN_LITERAL=RDF+"PlainLiteral",RDF_XML_LITERAL=RDF+"XMLLiteral",RDF_OBJECT=RDF+"object",RDF_LANGSTRING=RDF+"langString",LINK_HEADER_REL="http://www.w3.org/ns/json-ld#context",MAX_CONTEXT_URLS=10,JsonLdError=function(msg,type,details){_nodejs?(Error.call(this),Error.captureStackTrace(this,this.constructor)):"undefined"!=typeof Error&&(this.stack=(new Error).stack),this.name=type||"jsonld.Error",this.message=msg||"An unspecified JSON-LD error occurred.",this.details=details||{}};_nodejs?$__require("c5").inherits(JsonLdError,Error):"undefined"!=typeof Error&&(JsonLdError.prototype=new Error);var Processor=function(){};Processor.prototype.compact=function(activeCtx,activeProperty,element,options){if(_isArray(element)){for(var rval=[],i=0;i<element.length;++i){var compacted=this.compact(activeCtx,activeProperty,element[i],options);null!==compacted&&rval.push(compacted)}if(options.compactArrays&&1===rval.length){var container=jsonld.getContextValue(activeCtx,activeProperty,"@container");null===container&&(rval=rval[0])}return rval}if(_isObject(element)){if(options.link&&"@id"in element&&element["@id"]in options.link)for(var linked=options.link[element["@id"]],i=0;i<linked.length;++i)if(linked[i].expanded===element)return linked[i].compacted;if(_isValue(element)||_isSubjectReference(element)){var rval=_compactValue(activeCtx,activeProperty,element);return options.link&&_isSubjectReference(element)&&(element["@id"]in options.link||(options.link[element["@id"]]=[]),options.link[element["@id"]].push({expanded:element,compacted:rval})),rval}var insideReverse="@reverse"===activeProperty,rval={};options.link&&"@id"in element&&(element["@id"]in options.link||(options.link[element["@id"]]=[]),options.link[element["@id"]].push({expanded:element,compacted:rval}));for(var keys=Object.keys(element).sort(),ki=0;ki<keys.length;++ki){var expandedProperty=keys[ki],expandedValue=element[expandedProperty];if("@id"!==expandedProperty&&"@type"!==expandedProperty)if("@reverse"!==expandedProperty)if("@index"!==expandedProperty)if("@graph"!==expandedProperty&&"@list"!==expandedProperty&&_isKeyword(expandedProperty)){var alias=_compactIri(activeCtx,expandedProperty);
jsonld.addValue(rval,alias,expandedValue)}else{if(0===expandedValue.length){var itemActiveProperty=_compactIri(activeCtx,expandedProperty,expandedValue,{vocab:!0},insideReverse);jsonld.addValue(rval,itemActiveProperty,expandedValue,{propertyIsArray:!0})}for(var vi=0;vi<expandedValue.length;++vi){var expandedItem=expandedValue[vi],itemActiveProperty=_compactIri(activeCtx,expandedProperty,expandedItem,{vocab:!0},insideReverse),container=jsonld.getContextValue(activeCtx,itemActiveProperty,"@container"),isList=_isList(expandedItem),list=null;isList&&(list=expandedItem["@list"]);var compactedItem=this.compact(activeCtx,itemActiveProperty,isList?list:expandedItem,options);if(isList)if(_isArray(compactedItem)||(compactedItem=[compactedItem]),"@list"!==container){var wrapper={};wrapper[_compactIri(activeCtx,"@list")]=compactedItem,compactedItem=wrapper,"@index"in expandedItem&&(compactedItem[_compactIri(activeCtx,"@index")]=expandedItem["@index"])}else if(itemActiveProperty in rval)throw new JsonLdError('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===container||"@index"===container){var mapObject;itemActiveProperty in rval?mapObject=rval[itemActiveProperty]:rval[itemActiveProperty]=mapObject={},"@language"===container&&_isValue(compactedItem)&&(compactedItem=compactedItem["@value"]),jsonld.addValue(mapObject,expandedItem[container],compactedItem)}else{var isArray=!options.compactArrays||"@set"===container||"@list"===container||_isArray(compactedItem)&&0===compactedItem.length||"@list"===expandedProperty||"@graph"===expandedProperty;jsonld.addValue(rval,itemActiveProperty,compactedItem,{propertyIsArray:isArray})}}}else{var container=jsonld.getContextValue(activeCtx,activeProperty,"@container");if("@index"===container)continue;var alias=_compactIri(activeCtx,expandedProperty);jsonld.addValue(rval,alias,expandedValue)}else{var compactedValue=this.compact(activeCtx,"@reverse",expandedValue,options);for(var compactedProperty in compactedValue)if(activeCtx.mappings[compactedProperty]&&activeCtx.mappings[compactedProperty].reverse){var value=compactedValue[compactedProperty],container=jsonld.getContextValue(activeCtx,compactedProperty,"@container"),useArray="@set"===container||!options.compactArrays;jsonld.addValue(rval,compactedProperty,value,{propertyIsArray:useArray}),delete compactedValue[compactedProperty]}if(Object.keys(compactedValue).length>0){var alias=_compactIri(activeCtx,expandedProperty);jsonld.addValue(rval,alias,compactedValue)}}else{var compactedValue;if(_isString(expandedValue))compactedValue=_compactIri(activeCtx,expandedValue,null,{vocab:"@type"===expandedProperty});else{compactedValue=[];for(var vi=0;vi<expandedValue.length;++vi)compactedValue.push(_compactIri(activeCtx,expandedValue[vi],null,{vocab:!0}))}var alias=_compactIri(activeCtx,expandedProperty),isArray=_isArray(compactedValue)&&0===expandedValue.length;jsonld.addValue(rval,alias,compactedValue,{propertyIsArray:isArray})}}return rval}return element},Processor.prototype.expand=function(activeCtx,activeProperty,element,options,insideList){var self=this;if(null===element||void 0===element)return null;if(!_isArray(element)&&!_isObject(element))return insideList||null!==activeProperty&&"@graph"!==_expandIri(activeCtx,activeProperty,{vocab:!0})?_expandValue(activeCtx,activeProperty,element):null;if(_isArray(element)){var rval=[],container=jsonld.getContextValue(activeCtx,activeProperty,"@container");insideList=insideList||"@list"===container;for(var i=0;i<element.length;++i){var e=self.expand(activeCtx,activeProperty,element[i],options);if(insideList&&(_isArray(e)||_isList(e)))throw new JsonLdError("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==e&&(_isArray(e)?rval=rval.concat(e):rval.push(e))}return rval}"@context"in element&&(activeCtx=self.processContext(activeCtx,element["@context"],options));for(var expandedActiveProperty=_expandIri(activeCtx,activeProperty,{vocab:!0}),rval={},keys=Object.keys(element).sort(),ki=0;ki<keys.length;++ki){var expandedValue,key=keys[ki],value=element[key];if("@context"!==key){var expandedProperty=_expandIri(activeCtx,key,{vocab:!0});if(null!==expandedProperty&&(_isAbsoluteIri(expandedProperty)||_isKeyword(expandedProperty))){if(_isKeyword(expandedProperty)){if("@reverse"===expandedActiveProperty)throw new JsonLdError("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:value});if(expandedProperty in rval)throw new JsonLdError("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:expandedProperty})}if("@id"===expandedProperty&&!_isString(value)){if(!options.isFrame)throw new JsonLdError('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:value});if(!_isObject(value))throw new JsonLdError('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:value})}if("@type"===expandedProperty&&_validateTypeValue(value),"@graph"===expandedProperty&&!_isObject(value)&&!_isArray(value))throw new JsonLdError('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:value});if("@value"===expandedProperty&&(_isObject(value)||_isArray(value)))throw new JsonLdError('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:value});if("@language"===expandedProperty){if(null===value)continue;if(!_isString(value))throw new JsonLdError('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:value});value=value.toLowerCase()}if("@index"===expandedProperty&&!_isString(value))throw new JsonLdError('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:value});if("@reverse"!==expandedProperty){var container=jsonld.getContextValue(activeCtx,key,"@container");if("@language"===container&&_isObject(value))expandedValue=_expandLanguageMap(value);else if("@index"===container&&_isObject(value))expandedValue=function(activeProperty){for(var rval=[],keys=Object.keys(value).sort(),ki=0;ki<keys.length;++ki){var key=keys[ki],val=value[key];_isArray(val)||(val=[val]),val=self.expand(activeCtx,activeProperty,val,options,!1);for(var vi=0;vi<val.length;++vi){var item=val[vi];"@index"in item||(item["@index"]=key),rval.push(item)}}return rval}(key);else{var isList="@list"===expandedProperty;if(isList||"@set"===expandedProperty){var nextActiveProperty=activeProperty;if(isList&&"@graph"===expandedActiveProperty&&(nextActiveProperty=null),expandedValue=self.expand(activeCtx,nextActiveProperty,value,options,isList),isList&&_isList(expandedValue))throw new JsonLdError("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else expandedValue=self.expand(activeCtx,key,value,options,!1)}if(null!==expandedValue||"@value"===expandedProperty)if("@list"===expandedProperty||_isList(expandedValue)||"@list"!==container||(expandedValue=_isArray(expandedValue)?expandedValue:[expandedValue],expandedValue={"@list":expandedValue}),activeCtx.mappings[key]&&activeCtx.mappings[key].reverse){var reverseMap=rval["@reverse"]=rval["@reverse"]||{};_isArray(expandedValue)||(expandedValue=[expandedValue]);for(var ii=0;ii<expandedValue.length;++ii){var item=expandedValue[ii];if(_isValue(item)||_isList(item))throw new JsonLdError('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:expandedValue});jsonld.addValue(reverseMap,expandedProperty,item,{propertyIsArray:!0})}}else{var useArray=-1===["@index","@id","@type","@value","@language"].indexOf(expandedProperty);jsonld.addValue(rval,expandedProperty,expandedValue,{propertyIsArray:useArray})}}else{if(!_isObject(value))throw new JsonLdError('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:value});if(expandedValue=self.expand(activeCtx,"@reverse",value,options),"@reverse"in expandedValue)for(var property in expandedValue["@reverse"])jsonld.addValue(rval,property,expandedValue["@reverse"][property],{propertyIsArray:!0});var reverseMap=rval["@reverse"]||null;for(var property in expandedValue)if("@reverse"!==property){null===reverseMap&&(reverseMap=rval["@reverse"]={}),jsonld.addValue(reverseMap,property,[],{propertyIsArray:!0});for(var items=expandedValue[property],ii=0;ii<items.length;++ii){var item=items[ii];if(_isValue(item)||_isList(item))throw new JsonLdError('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:expandedValue});jsonld.addValue(reverseMap,property,item,{propertyIsArray:!0})}}}}}}keys=Object.keys(rval);var count=keys.length;if("@value"in rval){if("@type"in rval&&"@language"in rval)throw new JsonLdError('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:rval});var validCount=count-1;if("@type"in rval&&(validCount-=1),"@index"in rval&&(validCount-=1),"@language"in rval&&(validCount-=1),0!==validCount)throw new JsonLdError('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:rval});if(null===rval["@value"])rval=null;else{if("@language"in rval&&!_isString(rval["@value"]))throw new JsonLdError("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:rval});if("@type"in rval&&(!_isAbsoluteIri(rval["@type"])||0===rval["@type"].indexOf("_:")))throw new JsonLdError('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:rval})}}else if("@type"in rval&&!_isArray(rval["@type"]))rval["@type"]=[rval["@type"]];else if("@set"in rval||"@list"in rval){if(count>1&&!(2===count&&"@index"in rval))throw new JsonLdError('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:rval});"@set"in rval&&(rval=rval["@set"],keys=Object.keys(rval),count=keys.length)}else 1===count&&"@language"in rval&&(rval=null);return!_isObject(rval)||options.keepFreeFloatingNodes||insideList||null!==activeProperty&&"@graph"!==expandedActiveProperty||(0===count||"@value"in rval||"@list"in rval||1===count&&"@id"in rval)&&(rval=null),rval},Processor.prototype.createNodeMap=function(input,options){options=options||{};var issuer=options.namer||options.issuer||new IdentifierIssuer("_:b"),graphs={"@default":{}};return _createNodeMap(input,graphs,"@default",issuer),_mergeNodeMaps(graphs)},Processor.prototype.flatten=function(input){for(var defaultGraph=this.createNodeMap(input),flattened=[],keys=Object.keys(defaultGraph).sort(),ki=0;ki<keys.length;++ki){var node=defaultGraph[keys[ki]];_isSubjectReference(node)||flattened.push(node)}return flattened},Processor.prototype.frame=function(input,frame,options){var state={options:options,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},issuer=new IdentifierIssuer("_:b");_createNodeMap(input,state.graphs,"@merged",issuer),state.subjects=state.graphs["@merged"];var framed=[];return _frame(state,Object.keys(state.subjects).sort(),frame,framed,null),framed},Processor.prototype.normalize=function(dataset,options,callback){return"URDNA2015"===options.algorithm?new URDNA2015(options).main(dataset,callback):"URGNA2012"===options.algorithm?new URGNA2012(options).main(dataset,callback):void callback(new Error("Invalid RDF Dataset Normalization algorithm: "+options.algorithm))},Processor.prototype.fromRDF=function(dataset,options,callback){var defaultGraph={},graphMap={"@default":defaultGraph},referencedOnce={};for(var name in dataset){var graph=dataset[name];name in graphMap||(graphMap[name]={}),"@default"===name||name in defaultGraph||(defaultGraph[name]={"@id":name});for(var nodeMap=graphMap[name],ti=0;ti<graph.length;++ti){var triple=graph[ti],s=triple.subject.value,p=triple.predicate.value,o=triple.object;s in nodeMap||(nodeMap[s]={"@id":s});var node=nodeMap[s],objectIsId="IRI"===o.type||"blank node"===o.type;if(!objectIsId||o.value in nodeMap||(nodeMap[o.value]={"@id":o.value}),p!==RDF_TYPE||options.useRdfType||!objectIsId){var value=_RDFToObject(o,options.useNativeTypes);if(jsonld.addValue(node,p,value,{propertyIsArray:!0}),objectIsId)if(o.value===RDF_NIL){var object=nodeMap[o.value];"usages"in object||(object.usages=[]),object.usages.push({node:node,property:p,value:value})}else o.value in referencedOnce?referencedOnce[o.value]=!1:referencedOnce[o.value]={node:node,property:p,value:value}}else jsonld.addValue(node,"@type",o.value,{propertyIsArray:!0})}}for(var name in graphMap){var graphObject=graphMap[name];if(RDF_NIL in graphObject){for(var nil=graphObject[RDF_NIL],i=0;i<nil.usages.length;++i){for(var usage=nil.usages[i],node=usage.node,property=usage.property,head=usage.value,list=[],listNodes=[],nodeKeyCount=Object.keys(node).length;property===RDF_REST&&_isObject(referencedOnce[node["@id"]])&&_isArray(node[RDF_FIRST])&&1===node[RDF_FIRST].length&&_isArray(node[RDF_REST])&&1===node[RDF_REST].length&&(3===nodeKeyCount||4===nodeKeyCount&&_isArray(node["@type"])&&1===node["@type"].length&&node["@type"][0]===RDF_LIST)&&(list.push(node[RDF_FIRST][0]),listNodes.push(node["@id"]),usage=referencedOnce[node["@id"]],node=usage.node,property=usage.property,head=usage.value,nodeKeyCount=Object.keys(node).length,0===node["@id"].indexOf("_:")););if(property===RDF_FIRST){if(node["@id"]===RDF_NIL)continue;head=graphObject[head["@id"]][RDF_REST][0],list.pop(),listNodes.pop()}delete head["@id"],head["@list"]=list.reverse();for(var j=0;j<listNodes.length;++j)delete graphObject[listNodes[j]]}delete nil.usages}}for(var result=[],subjects=Object.keys(defaultGraph).sort(),i=0;i<subjects.length;++i){var subject=subjects[i],node=defaultGraph[subject];if(subject in graphMap)for(var graph=node["@graph"]=[],graphObject=graphMap[subject],subjects_=Object.keys(graphObject).sort(),si=0;si<subjects_.length;++si){var node_=graphObject[subjects_[si]];_isSubjectReference(node_)||graph.push(node_)}_isSubjectReference(node)||result.push(node)}callback(null,result)},Processor.prototype.toRDF=function(input,options){var issuer=new IdentifierIssuer("_:b"),nodeMap={"@default":{}};_createNodeMap(input,nodeMap,"@default",issuer);for(var dataset={},graphNames=Object.keys(nodeMap).sort(),i=0;i<graphNames.length;++i){var graphName=graphNames[i];("@default"===graphName||_isAbsoluteIri(graphName))&&(dataset[graphName]=_graphToRDF(nodeMap[graphName],issuer,options))}return dataset},Processor.prototype.processContext=function(activeCtx,localCtx,options){_isObject(localCtx)&&"@context"in localCtx&&_isArray(localCtx["@context"])&&(localCtx=localCtx["@context"]);var ctxs=_isArray(localCtx)?localCtx:[localCtx];if(0===ctxs.length)return activeCtx.clone();for(var rval=activeCtx,i=0;i<ctxs.length;++i){var ctx=ctxs[i];if(null!==ctx){if(_isObject(ctx)&&"@context"in ctx&&(ctx=ctx["@context"]),!_isObject(ctx))throw new JsonLdError("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:ctx});if(jsonld.cache.activeCtx){var cached=jsonld.cache.activeCtx.get(activeCtx,ctx);if(cached){rval=activeCtx=cached;continue}}activeCtx=rval,rval=rval.clone();var defined={};if("@base"in ctx){var base=ctx["@base"];if(null===base)base=null;else{if(!_isString(base))throw new JsonLdError('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:ctx});if(""!==base&&!_isAbsoluteIri(base))throw new JsonLdError('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:ctx})}null!==base&&(base=jsonld.url.parse(base||"")),rval["@base"]=base,defined["@base"]=!0}if("@vocab"in ctx){var value=ctx["@vocab"];if(null===value)delete rval["@vocab"];else{if(!_isString(value))throw new JsonLdError('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ctx});if(!_isAbsoluteIri(value))throw new JsonLdError('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:ctx});rval["@vocab"]=value}defined["@vocab"]=!0}if("@language"in ctx){var value=ctx["@language"];if(null===value)delete rval["@language"];else{if(!_isString(value))throw new JsonLdError('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:ctx});rval["@language"]=value.toLowerCase()}defined["@language"]=!0}for(var key in ctx)_createTermDefinition(rval,ctx,key,defined);jsonld.cache.activeCtx&&jsonld.cache.activeCtx.set(activeCtx,ctx,rval)}else rval=activeCtx=_getInitialContext(options)}return rval};var URDNA2015=function(){var POSITIONS={subject:"s",object:"o",name:"g"},Normalize=function(options){options=options||{},this.name="URDNA2015",this.options=options,this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new IdentifierIssuer("_:c14n"),this.quads=[],this.schedule={},"maxCallStackDepth"in options?this.schedule.MAX_DEPTH=options.maxCallStackDepth:this.schedule.MAX_DEPTH=500,"maxTotalCallStackDepth"in options?this.schedule.MAX_TOTAL_DEPTH=options.maxCallStackDepth:this.schedule.MAX_TOTAL_DEPTH=4294967295,this.schedule.depth=0,this.schedule.totalDepth=0,"timeSlice"in options?this.schedule.timeSlice=options.timeSlice:this.schedule.timeSlice=10};return Normalize.prototype.doWork=function(fn,callback){var schedule=this.schedule;return schedule.totalDepth>=schedule.MAX_TOTAL_DEPTH?callback(new Error("Maximum total call stack depth exceeded; normalization aborting.")):void function work(){if(schedule.depth===schedule.MAX_DEPTH)return schedule.depth=0,schedule.running=!1,jsonld.nextTick(work);var now=(new Date).getTime();return schedule.running||(schedule.start=(new Date).getTime(),schedule.deadline=schedule.start+schedule.timeSlice),now<schedule.deadline?(schedule.running=!0,schedule.depth++,schedule.totalDepth++,fn(function(err,result){schedule.depth--,schedule.totalDepth--,callback(err,result)})):(schedule.depth=0,schedule.running=!1,void jsonld.setImmediate(work))}()},Normalize.prototype.forEach=function(iterable,fn,callback){var iterator,length,self=this,idx=0;if(_isArray(iterable))length=iterable.length,iterator=function(){return idx===length?!1:(iterator.value=iterable[idx++],iterator.key=idx,!0)};else{var keys=Object.keys(iterable);length=keys.length,iterator=function(){return idx===length?!1:(iterator.key=keys[idx++],iterator.value=iterable[iterator.key],!0)}}!function iterate(err,result){return err?callback(err):iterator()?self.doWork(function(){fn(iterator.value,iterator.key,iterate)}):void callback()}()},Normalize.prototype.waterfall=function(fns,callback){var self=this;self.forEach(fns,function(fn,idx,callback){self.doWork(fn,callback)},callback)},Normalize.prototype.whilst=function(condition,fn,callback){var self=this;!function loop(err){return err?callback(err):condition()?void self.doWork(fn,loop):callback()}()},Normalize.prototype.main=function(dataset,callback){var self=this;self.schedule.start=(new Date).getTime();var result;if(self.options.format&&"application/nquads"!==self.options.format)return callback(new JsonLdError("Unknown output format.","jsonld.UnknownFormat",{format:self.options.format}));var nonNormalized={};self.waterfall([function(callback){self.forEach(dataset,function(triples,graphName,callback){"@default"===graphName&&(graphName=null),self.forEach(triples,function(quad,idx,callback){null!==graphName&&(0===graphName.indexOf("_:")?quad.name={type:"blank node",value:graphName}:quad.name={type:"IRI",value:graphName}),self.quads.push(quad),self.forEachComponent(quad,function(component){if("blank node"===component.type){var id=component.value;id in self.blankNodeInfo?self.blankNodeInfo[id].quads.push(quad):(nonNormalized[id]=!0,self.blankNodeInfo[id]={quads:[quad]})}}),callback()},callback)},callback)},function(callback){var simple=!0;self.whilst(function(){return simple},function(callback){simple=!1,self.hashToBlankNodes={},self.waterfall([function(callback){self.forEach(nonNormalized,function(value,id,callback){self.hashFirstDegreeQuads(id,function(err,hash){return err?callback(err):(hash in self.hashToBlankNodes?self.hashToBlankNodes[hash].push(id):self.hashToBlankNodes[hash]=[id],void callback())})},callback)},function(callback){var hashes=Object.keys(self.hashToBlankNodes).sort();self.forEach(hashes,function(hash,i,callback){var idList=self.hashToBlankNodes[hash];if(idList.length>1)return callback();var id=idList[0];self.canonicalIssuer.getId(id),delete nonNormalized[id],delete self.hashToBlankNodes[hash],simple=!0,callback()},callback)}],callback)},callback)},function(callback){var hashes=Object.keys(self.hashToBlankNodes).sort();self.forEach(hashes,function(hash,idx,callback){var hashPathList=[],idList=self.hashToBlankNodes[hash];self.waterfall([function(callback){self.forEach(idList,function(id,idx,callback){if(self.canonicalIssuer.hasId(id))return callback();var issuer=new IdentifierIssuer("_:b");issuer.getId(id),self.hashNDegreeQuads(id,issuer,function(err,result){return err?callback(err):(hashPathList.push(result),void callback())})},callback)},function(callback){hashPathList.sort(function(a,b){return a.hash<b.hash?-1:a.hash>b.hash?1:0}),self.forEach(hashPathList,function(result,idx,callback){for(var existing in result.issuer.existing)self.canonicalIssuer.getId(existing);callback()},callback)}],callback)},callback)},function(callback){var normalized=[];self.waterfall([function(callback){self.forEach(self.quads,function(quad,idx,callback){self.forEachComponent(quad,function(component){"blank node"===component.type&&0!==component.value.indexOf(self.canonicalIssuer.prefix)&&(component.value=self.canonicalIssuer.getId(component.value))}),normalized.push(_toNQuad(quad)),callback()},callback)},function(callback){return normalized.sort(),"application/nquads"===self.options.format?(result=normalized.join(""),callback()):(result=_parseNQuads(normalized.join("")),void callback())}],callback)}],function(err){callback(err,result)})},Normalize.prototype.hashFirstDegreeQuads=function(id,callback){var self=this,info=self.blankNodeInfo[id];if("hash"in info)return callback(null,info.hash);var nquads=[],quads=info.quads;self.forEach(quads,function(quad,idx,callback){var copy={predicate:quad.predicate};self.forEachComponent(quad,function(component,key){copy[key]=self.modifyFirstDegreeComponent(id,component,key)}),nquads.push(_toNQuad(copy)),callback()},function(err){return err?callback(err):(nquads.sort(),info.hash=NormalizeHash.hashNQuads(self.name,nquads),void callback(null,info.hash))})},Normalize.prototype.modifyFirstDegreeComponent=function(id,component){return"blank node"!==component.type?component:(component=_clone(component),component.value=component.value===id?"_:a":"_:z",component)},Normalize.prototype.hashRelatedBlankNode=function(related,quad,issuer,position,callback){var id,self=this;self.waterfall([function(callback){return self.canonicalIssuer.hasId(related)?(id=self.canonicalIssuer.getId(related),callback()):issuer.hasId(related)?(id=issuer.getId(related),callback()):void self.hashFirstDegreeQuads(related,function(err,hash){return err?callback(err):(id=hash,void callback())})}],function(err){if(err)return callback(err);var md=new NormalizeHash(self.name);return md.update(position),"g"!==position&&md.update(self.getRelatedPredicate(quad)),md.update(id),callback(null,md.digest())})},Normalize.prototype.getRelatedPredicate=function(quad){return"<"+quad.predicate.value+">"},Normalize.prototype.hashNDegreeQuads=function(id,issuer,callback){var hashToRelated,self=this,md=new NormalizeHash(self.name);self.waterfall([function(callback){self.createHashToRelated(id,issuer,function(err,result){return err?callback(err):(hashToRelated=result,void callback())})},function(callback){var hashes=Object.keys(hashToRelated).sort();self.forEach(hashes,function(hash,idx,callback){md.update(hash);var chosenIssuer,chosenPath="",permutator=new Permutator(hashToRelated[hash]);self.whilst(function(){return permutator.hasNext()},function(nextPermutation){var permutation=permutator.next(),issuerCopy=issuer.clone(),path="",recursionList=[];self.waterfall([function(callback){self.forEach(permutation,function(related,idx,callback){return self.canonicalIssuer.hasId(related)?path+=self.canonicalIssuer.getId(related):(issuerCopy.hasId(related)||recursionList.push(related),path+=issuerCopy.getId(related)),0!==chosenPath.length&&path.length>=chosenPath.length&&path>chosenPath?nextPermutation():void callback()},callback)},function(callback){self.forEach(recursionList,function(related,idx,callback){self.hashNDegreeQuads(related,issuerCopy,function(err,result){return err?callback(err):(path+=issuerCopy.getId(related),path+="<"+result.hash+">",issuerCopy=result.issuer,0!==chosenPath.length&&path.length>=chosenPath.length&&path>chosenPath?nextPermutation():void callback())})},callback)},function(callback){(0===chosenPath.length||chosenPath>path)&&(chosenPath=path,chosenIssuer=issuerCopy),callback()}],nextPermutation)},function(err){return err?callback(err):(md.update(chosenPath),issuer=chosenIssuer,void callback())})},callback)}],function(err){callback(err,{hash:md.digest(),issuer:issuer})})},Normalize.prototype.createHashToRelated=function(id,issuer,callback){var self=this,hashToRelated={},quads=self.blankNodeInfo[id].quads;self.forEach(quads,function(quad,idx,callback){self.forEach(quad,function(component,key,callback){if("predicate"===key||"blank node"!==component.type||component.value===id)return callback();var related=component.value,position=POSITIONS[key];self.hashRelatedBlankNode(related,quad,issuer,position,function(err,hash){return err?callback(err):(hash in hashToRelated?hashToRelated[hash].push(related):hashToRelated[hash]=[related],void callback())})},callback)},function(err){callback(err,hashToRelated)})},Normalize.prototype.forEachComponent=function(quad,op){for(var key in quad)"predicate"!==key&&op(quad[key],key,quad)},Normalize}(),URGNA2012=function(){var Normalize=function(options){URDNA2015.call(this,options),this.name="URGNA2012"};return Normalize.prototype=new URDNA2015,Normalize.prototype.modifyFirstDegreeComponent=function(id,component,key){return"blank node"!==component.type?component:(component=_clone(component),"name"===key?component.value="_:g":component.value=component.value===id?"_:a":"_:z",component)},Normalize.prototype.getRelatedPredicate=function(quad){return quad.predicate.value},Normalize.prototype.createHashToRelated=function(id,issuer,callback){var self=this,hashToRelated={},quads=self.blankNodeInfo[id].quads;self.forEach(quads,function(quad,idx,callback){var position,related;if("blank node"===quad.subject.type&&quad.subject.value!==id)related=quad.subject.value,position="p";else{if("blank node"!==quad.object.type||quad.object.value===id)return callback();related=quad.object.value,position="r"}self.hashRelatedBlankNode(related,quad,issuer,position,function(err,hash){hash in hashToRelated?hashToRelated[hash].push(related):hashToRelated[hash]=[related],callback()})},function(err){callback(err,hashToRelated)})},Normalize}();Object.keys||(Object.keys=function(o){if(o!==Object(o))throw new TypeError("Object.keys called on non-object");var rval=[];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&rval.push(p);return rval}),jsonld.registerRDFParser("application/nquads",_parseNQuads),jsonld.registerRDFParser("rdfa-api",_parseRdfaApiData),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var copy=new IdentifierIssuer(this.prefix);return copy.counter=this.counter,copy.existing=_clone(this.existing),copy},IdentifierIssuer.prototype.getId=function(old){if(old&&old in this.existing)return this.existing[old];var identifier=this.prefix+this.counter;return this.counter+=1,old&&(this.existing[old]=identifier),identifier},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(old){return old in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(list){this.list=list.sort(),this.done=!1,this.left={};for(var i=0;i<list.length;++i)this.left[list[i]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var rval=this.list.slice(),k=null,pos=0,length=this.list.length,i=0;length>i;++i){var element=this.list[i],left=this.left[element];(null===k||element>k)&&(left&&i>0&&element>this.list[i-1]||!left&&length-1>i&&element>this.list[i+1])&&(k=element,pos=i)}if(null===k)this.done=!0;else{var swap=this.left[k]?pos-1:pos+1;this.list[pos]=this.list[swap],this.list[swap]=k;for(var i=0;length>i;++i)this.list[i]>k&&(this.left[this.list[i]]=!this.left[this.list[i]])}return rval};var NormalizeHash=function(algorithm){if(!(this instanceof NormalizeHash))return new NormalizeHash(algorithm);if(-1===["URDNA2015","URGNA2012"].indexOf(algorithm))throw new Error("Invalid RDF Dataset Normalization algorithm: "+algorithm);NormalizeHash._init.call(this,algorithm)};if(NormalizeHash.hashNQuads=function(algorithm,nquads){for(var md=new NormalizeHash(algorithm),i=0;i<nquads.length;++i)md.update(nquads[i]);return md.digest()},function(_nodejs){if(_nodejs){var crypto=$__require("c5");return NormalizeHash._init=function(algorithm){algorithm="URDNA2015"===algorithm?"sha256":"sha1",this.md=crypto.createHash(algorithm)},NormalizeHash.prototype.update=function(msg){return this.md.update(msg,"utf8")},void(NormalizeHash.prototype.digest=function(){return this.md.digest("hex")})}NormalizeHash._init=function(algorithm){algorithm="URDNA2015"===algorithm?new sha256.Algorithm:new sha1.Algorithm,this.md=new MessageDigest(algorithm)},NormalizeHash.prototype.update=function(msg){return this.md.update(msg)},NormalizeHash.prototype.digest=function(){return this.md.digest().toHex()};var MessageDigest=function(algorithm){if(!(this instanceof MessageDigest))return new MessageDigest(algorithm);if(this._algorithm=algorithm,!MessageDigest._padding||MessageDigest._padding.length<this._algorithm.blockSize){MessageDigest._padding=String.fromCharCode(128);for(var c=String.fromCharCode(0),n=64;n>0;)1&n&&(MessageDigest._padding+=c),n>>>=1,n>0&&(c+=c)}this.start()};MessageDigest.prototype.start=function(){this.messageLength=0,this.fullMessageLength=[];for(var int32s=this._algorithm.messageLengthSize/4,i=0;int32s>i;++i)this.fullMessageLength.push(0);return this._input=new MessageDigest.ByteBuffer,this.state=this._algorithm.start(),this},MessageDigest.prototype.update=function(msg){msg=new MessageDigest.ByteBuffer(unescape(encodeURIComponent(msg))),this.messageLength+=msg.length();var len=msg.length();len=[len/4294967296>>>0,len>>>0];for(var i=this.fullMessageLength.length-1;i>=0;--i)this.fullMessageLength[i]+=len[1],
len[1]=len[0]+(this.fullMessageLength[i]/4294967296>>>0),this.fullMessageLength[i]=this.fullMessageLength[i]>>>0,len[0]=len[1]/4294967296>>>0;for(this._input.putBytes(msg.bytes());this._input.length()>=this._algorithm.blockSize;)this.state=this._algorithm.digest(this.state,this._input);return(this._input.read>2048||0===this._input.length())&&this._input.compact(),this},MessageDigest.prototype.digest=function(){var finalBlock=new MessageDigest.ByteBuffer;finalBlock.putBytes(this._input.bytes());var remaining=this.fullMessageLength[this.fullMessageLength.length-1]+this._algorithm.messageLengthSize,overflow=remaining&this._algorithm.blockSize-1;finalBlock.putBytes(MessageDigest._padding.substr(0,this._algorithm.blockSize-overflow));for(var messageLength=new MessageDigest.ByteBuffer,i=0;i<this.fullMessageLength.length;++i)messageLength.putInt32(this.fullMessageLength[i]<<3|this.fullMessageLength[i+1]>>>28);this._algorithm.writeMessageLength(finalBlock,messageLength);var state=this._algorithm.digest(this.state.copy(),finalBlock),rval=new MessageDigest.ByteBuffer;return state.write(rval),rval},MessageDigest.ByteBuffer=function(data){"string"==typeof data?this.data=data:this.data="",this.read=0},MessageDigest.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(255&i)},MessageDigest.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,rval},MessageDigest.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes},MessageDigest.ByteBuffer.prototype.bytes=function(){return this.data.slice(this.read)},MessageDigest.ByteBuffer.prototype.length=function(){return this.data.length-this.read},MessageDigest.ByteBuffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},MessageDigest.ByteBuffer.prototype.toHex=function(){for(var rval="",i=this.read;i<this.data.length;++i){var b=this.data.charCodeAt(i);16>b&&(rval+="0"),rval+=b.toString(16)}return rval};var sha1={_w:null};sha1.Algorithm=function(){this.name="sha1",this.blockSize=64,this.digestLength=20,this.messageLengthSize=8},sha1.Algorithm.prototype.start=function(){return sha1._w||(sha1._w=new Array(80)),sha1._createState()},sha1.Algorithm.prototype.writeMessageLength=function(finalBlock,messageLength){finalBlock.putBytes(messageLength.bytes())},sha1.Algorithm.prototype.digest=function(s,input){for(var t,a,b,c,d,e,f,i,len=input.length(),_w=sha1._w;len>=64;){for(a=s.h0,b=s.h1,c=s.h2,d=s.h3,e=s.h4,i=0;16>i;++i)t=input.getInt32(),_w[i]=t,f=d^b&(c^d),t=(a<<5|a>>>27)+f+e+1518500249+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;20>i;++i)t=_w[i-3]^_w[i-8]^_w[i-14]^_w[i-16],t=t<<1|t>>>31,_w[i]=t,f=d^b&(c^d),t=(a<<5|a>>>27)+f+e+1518500249+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;32>i;++i)t=_w[i-3]^_w[i-8]^_w[i-14]^_w[i-16],t=t<<1|t>>>31,_w[i]=t,f=b^c^d,t=(a<<5|a>>>27)+f+e+1859775393+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;40>i;++i)t=_w[i-6]^_w[i-16]^_w[i-28]^_w[i-32],t=t<<2|t>>>30,_w[i]=t,f=b^c^d,t=(a<<5|a>>>27)+f+e+1859775393+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;60>i;++i)t=_w[i-6]^_w[i-16]^_w[i-28]^_w[i-32],t=t<<2|t>>>30,_w[i]=t,f=b&c|d&(b^c),t=(a<<5|a>>>27)+f+e+2400959708+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;for(;80>i;++i)t=_w[i-6]^_w[i-16]^_w[i-28]^_w[i-32],t=t<<2|t>>>30,_w[i]=t,f=b^c^d,t=(a<<5|a>>>27)+f+e+3395469782+t,e=d,d=c,c=b<<30|b>>>2,b=a,a=t;s.h0=s.h0+a|0,s.h1=s.h1+b|0,s.h2=s.h2+c|0,s.h3=s.h3+d|0,s.h4=s.h4+e|0,len-=64}return s},sha1._createState=function(){var state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return state.copy=function(){var rval=sha1._createState();return rval.h0=state.h0,rval.h1=state.h1,rval.h2=state.h2,rval.h3=state.h3,rval.h4=state.h4,rval},state.write=function(buffer){buffer.putInt32(state.h0),buffer.putInt32(state.h1),buffer.putInt32(state.h2),buffer.putInt32(state.h3),buffer.putInt32(state.h4)},state};var sha256={_k:null,_w:null};sha256.Algorithm=function(){this.name="sha256",this.blockSize=64,this.digestLength=32,this.messageLengthSize=8},sha256.Algorithm.prototype.start=function(){return sha256._k||sha256._init(),sha256._createState()},sha256.Algorithm.prototype.writeMessageLength=function(finalBlock,messageLength){finalBlock.putBytes(messageLength.bytes())},sha256.Algorithm.prototype.digest=function(s,input){for(var t1,t2,s0,s1,ch,maj,i,a,b,c,d,e,f,g,h,len=input.length(),_k=sha256._k,_w=sha256._w;len>=64;){for(i=0;16>i;++i)_w[i]=input.getInt32();for(;64>i;++i)t1=_w[i-2],t1=(t1>>>17|t1<<15)^(t1>>>19|t1<<13)^t1>>>10,t2=_w[i-15],t2=(t2>>>7|t2<<25)^(t2>>>18|t2<<14)^t2>>>3,_w[i]=t1+_w[i-7]+t2+_w[i-16]|0;for(a=s.h0,b=s.h1,c=s.h2,d=s.h3,e=s.h4,f=s.h5,g=s.h6,h=s.h7,i=0;64>i;++i)s1=(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),ch=g^e&(f^g),s0=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),maj=a&b|c&(a^b),t1=h+s1+ch+_k[i]+_w[i],t2=s0+maj,h=g,g=f,f=e,e=d+t1|0,d=c,c=b,b=a,a=t1+t2|0;s.h0=s.h0+a|0,s.h1=s.h1+b|0,s.h2=s.h2+c|0,s.h3=s.h3+d|0,s.h4=s.h4+e|0,s.h5=s.h5+f|0,s.h6=s.h6+g|0,s.h7=s.h7+h|0,len-=64}return s},sha256._createState=function(){var state={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return state.copy=function(){var rval=sha256._createState();return rval.h0=state.h0,rval.h1=state.h1,rval.h2=state.h2,rval.h3=state.h3,rval.h4=state.h4,rval.h5=state.h5,rval.h6=state.h6,rval.h7=state.h7,rval},state.write=function(buffer){buffer.putInt32(state.h0),buffer.putInt32(state.h1),buffer.putInt32(state.h2),buffer.putInt32(state.h3),buffer.putInt32(state.h4),buffer.putInt32(state.h5),buffer.putInt32(state.h6),buffer.putInt32(state.h7)},state},sha256._init=function(){sha256._k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha256._w=new Array(64)}}(_nodejs),!XMLSerializer)var _defineXMLSerializer=function(){XMLSerializer=$__require("c4").XMLSerializer};if(jsonld.url={},jsonld.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(str,parser){for(var parsed={},o=jsonld.url.parsers[parser||"full"],m=o.regex.exec(str),i=o.keys.length;i--;)parsed[o.keys[i]]=void 0===m[i]?null:m[i];return parsed.normalizedPath=_removeDotSegments(parsed.path,!!parsed.authority),parsed},_nodejs?jsonld.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&jsonld.useDocumentLoader("xhr"),_nodejs){jsonld.use=function(extension){switch(extension){case"request":jsonld.request=$__require("c5");break;default:throw new JsonLdError("Unknown extension.","jsonld.UnknownExtension",{extension:extension})}};var _module={exports:{},filename:__dirname};$__require("@empty")(_module,"version"),jsonld.version=_module.exports.version}return jsonld},factory=function(){return wrapper(function(){return factory()})};return!_nodejs&&"function"==typeof define&&define.amd?define([],function(){return wrapper(factory),factory}):(wrapper(factory),"function"==typeof $__require&&"undefined"!=typeof module&&module.exports&&(module.exports=factory),_browser&&("undefined"==typeof jsonld?jsonld=jsonldjs=factory:jsonldjs=factory)),factory}(),module.exports}),$__System.registerDynamic("b2",[],!0,function($__require,exports,module){"use strict";var Class=function(){function Class(){}return Class.prototype.parse=function(body){return new Promise(function(resolve,reject){try{resolve(JSON.parse(body))}catch(error){reject(error)}})},Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("c7",["c6","b2"],!0,function($__require,exports,module){"use strict";var jsonld=$__require("c6"),JSONParser_1=$__require("b2"),Class=function(){function Class(){}return Class.prototype.parse=function(input){var _this=this,jsonParser=new JSONParser_1["default"];return jsonParser.parse(input).then(function(parsedObject){return _this.expandJSON(parsedObject)})},Class.prototype.expandJSON=function(parsedObject,options){return new Promise(function(resolve,reject){jsonld.expand(parsedObject,options,function(error,expanded){if(error)throw error;parsedObject=expanded,resolve(expanded)})})},Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("c8",[],!1,function($__require,$__exports,$__module){var _retrieveGlobal=$__System.get("@@global-helpers").prepareGlobal($__module.id,null,null);return function(){"use strict"}(),_retrieveGlobal()}),$__System.registerDynamic("c9",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="BadRequestError",statusCode=400,BadRequestError=function(_super){function BadRequestError(){_super.apply(this,arguments)}return __extends(BadRequestError,_super),Object.defineProperty(BadRequestError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(BadRequestError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),BadRequestError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=BadRequestError,module.exports}),$__System.registerDynamic("cb",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="ConflictError",statusCode=409,ConflictError=function(_super){function ConflictError(){_super.apply(this,arguments)}return __extends(ConflictError,_super),Object.defineProperty(ConflictError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(ConflictError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),ConflictError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=ConflictError,module.exports}),$__System.registerDynamic("cc",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="ForbiddenError",statusCode=403,ForbiddenError=function(_super){function ForbiddenError(){_super.apply(this,arguments)}return __extends(ForbiddenError,_super),Object.defineProperty(ForbiddenError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(ForbiddenError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),ForbiddenError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=ForbiddenError,module.exports}),$__System.registerDynamic("cd",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="MethodNotAllowedError",statusCode=405,MethodNotAllowedError=function(_super){function MethodNotAllowedError(){_super.apply(this,arguments)}return __extends(MethodNotAllowedError,_super),Object.defineProperty(MethodNotAllowedError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(MethodNotAllowedError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),MethodNotAllowedError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MethodNotAllowedError,module.exports}),$__System.registerDynamic("ce",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="NotAcceptableError",statusCode=406,NotAcceptableError=function(_super){function NotAcceptableError(){_super.apply(this,arguments)}return __extends(NotAcceptableError,_super),Object.defineProperty(NotAcceptableError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(NotAcceptableError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),NotAcceptableError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=NotAcceptableError,module.exports}),$__System.registerDynamic("cf",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="NotFoundError",statusCode=404,NotFoundError=function(_super){function NotFoundError(){_super.apply(this,arguments)}return __extends(NotFoundError,_super),Object.defineProperty(NotFoundError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(NotFoundError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),NotFoundError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=NotFoundError,module.exports}),$__System.registerDynamic("d0",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="PreconditionFailedError",statusCode=412,PreconditionFailedError=function(_super){function PreconditionFailedError(){_super.apply(this,arguments)}return __extends(PreconditionFailedError,_super),Object.defineProperty(PreconditionFailedError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(PreconditionFailedError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),PreconditionFailedError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=PreconditionFailedError,module.exports}),$__System.registerDynamic("d1",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="PreconditionRequiredError",statusCode=428,PreconditionRequiredError=function(_super){function PreconditionRequiredError(){_super.apply(this,arguments)}return __extends(PreconditionRequiredError,_super),Object.defineProperty(PreconditionRequiredError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(PreconditionRequiredError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),PreconditionRequiredError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=PreconditionRequiredError,module.exports}),$__System.registerDynamic("d2",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="RequestEntityTooLargeError",statusCode=413,RequestEntityTooLargeError=function(_super){function RequestEntityTooLargeError(){_super.apply(this,arguments)}return __extends(RequestEntityTooLargeError,_super),Object.defineProperty(RequestEntityTooLargeError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(RequestEntityTooLargeError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),RequestEntityTooLargeError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RequestEntityTooLargeError,module.exports}),$__System.registerDynamic("d3",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="RequestHeaderFieldsTooLargeError",statusCode=431,RequestHeaderFieldsTooLargeError=function(_super){function RequestHeaderFieldsTooLargeError(){_super.apply(this,arguments)}return __extends(RequestHeaderFieldsTooLargeError,_super),Object.defineProperty(RequestHeaderFieldsTooLargeError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(RequestHeaderFieldsTooLargeError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),RequestHeaderFieldsTooLargeError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RequestHeaderFieldsTooLargeError,module.exports}),$__System.registerDynamic("d4",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="RequestURITooLongError",statusCode=414,RequestURITooLongError=function(_super){function RequestURITooLongError(){_super.apply(this,arguments)}return __extends(RequestURITooLongError,_super),Object.defineProperty(RequestURITooLongError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(RequestURITooLongError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),RequestURITooLongError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RequestURITooLongError,module.exports}),$__System.registerDynamic("d5",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="TooManyRequestsError",statusCode=429,TooManyRequestsError=function(_super){function TooManyRequestsError(){_super.apply(this,arguments)}return __extends(TooManyRequestsError,_super),Object.defineProperty(TooManyRequestsError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(TooManyRequestsError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),TooManyRequestsError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=TooManyRequestsError,module.exports}),$__System.registerDynamic("d6",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="UnauthorizedError",statusCode=401,UnauthorizedError=function(_super){function UnauthorizedError(){_super.apply(this,arguments)}return __extends(UnauthorizedError,_super),Object.defineProperty(UnauthorizedError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(UnauthorizedError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),UnauthorizedError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=UnauthorizedError,module.exports}),$__System.registerDynamic("d7",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="UnsupportedMediaTypeError",statusCode=415,UnsupportedMediaTypeError=function(_super){function UnsupportedMediaTypeError(){_super.apply(this,arguments)}return __extends(UnsupportedMediaTypeError,_super),Object.defineProperty(UnsupportedMediaTypeError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(UnsupportedMediaTypeError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),UnsupportedMediaTypeError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=UnsupportedMediaTypeError,module.exports}),$__System.registerDynamic("d8",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="BadResponseError",statusCode=0,Class=function(_super){function Class(){_super.apply(this,arguments)}return __extends(Class,_super),Object.defineProperty(Class,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(Class.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),Class}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("d9",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="BadGatewayError",statusCode=502,BadGatewayError=function(_super){function BadGatewayError(){_super.apply(this,arguments)}return __extends(BadGatewayError,_super),Object.defineProperty(BadGatewayError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(BadGatewayError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),BadGatewayError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=BadGatewayError,module.exports}),$__System.registerDynamic("da",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="GatewayTimeoutError",statusCode=504,GatewayTimeoutError=function(_super){function GatewayTimeoutError(){_super.apply(this,arguments)}return __extends(GatewayTimeoutError,_super),Object.defineProperty(GatewayTimeoutError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(GatewayTimeoutError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),GatewayTimeoutError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=GatewayTimeoutError,module.exports}),$__System.registerDynamic("db",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="HTTPVersionNotSupportedError",statusCode=505,HTTPVersionNotSupportedError=function(_super){function HTTPVersionNotSupportedError(){_super.apply(this,arguments)}return __extends(HTTPVersionNotSupportedError,_super),Object.defineProperty(HTTPVersionNotSupportedError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(HTTPVersionNotSupportedError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),HTTPVersionNotSupportedError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=HTTPVersionNotSupportedError,module.exports}),$__System.registerDynamic("dc",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="InternalServerError",statusCode=500,InternalServerError=function(_super){function InternalServerError(){_super.apply(this,arguments)}return __extends(InternalServerError,_super),Object.defineProperty(InternalServerError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(InternalServerError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),InternalServerError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=InternalServerError,module.exports}),$__System.registerDynamic("dd",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="NotImplementedError",statusCode=501,NotImplementedError=function(_super){function NotImplementedError(){_super.apply(this,arguments)}return __extends(NotImplementedError,_super),Object.defineProperty(NotImplementedError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(NotImplementedError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),NotImplementedError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=NotImplementedError,module.exports}),$__System.registerDynamic("de",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="ServiceUnavailableError",statusCode=503,ServiceUnavailableError=function(_super){function ServiceUnavailableError(){_super.apply(this,arguments)}return __extends(ServiceUnavailableError,_super),Object.defineProperty(ServiceUnavailableError,"statusCode",{get:function(){return statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(ServiceUnavailableError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),ServiceUnavailableError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=ServiceUnavailableError,module.exports}),$__System.registerDynamic("ca",["df"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractError_1=$__require("df"),HTTPError=function(_super){function HTTPError(message,response){_super.call(this,message),this.response=response}return __extends(HTTPError,_super),Object.defineProperty(HTTPError,"statusCode",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(HTTPError.prototype,"name",{get:function(){return"HTTPError"},enumerable:!0,configurable:!0}),HTTPError}(AbstractError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=HTTPError,module.exports}),$__System.registerDynamic("e0",["ca"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HTTPError_1=$__require("ca"),name="UnknownError",UnknownError=function(_super){function UnknownError(){_super.apply(this,arguments)}return __extends(UnknownError,_super),Object.defineProperty(UnknownError.prototype,"name",{get:function(){return name},enumerable:!0,configurable:!0}),UnknownError}(HTTPError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=UnknownError,module.exports}),$__System.registerDynamic("e1",["ca","c9","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","e0"],!0,function($__require,exports,module){"use strict";var HTTPError_1=$__require("ca");exports.Error=HTTPError_1["default"];var BadRequestError_1=$__require("c9");exports.BadRequestError=BadRequestError_1["default"];var ConflictError_1=$__require("cb");exports.ConflictError=ConflictError_1["default"];var ForbiddenError_1=$__require("cc");exports.ForbiddenError=ForbiddenError_1["default"];var MethodNotAllowedError_1=$__require("cd");exports.MethodNotAllowedError=MethodNotAllowedError_1["default"];var NotAcceptableError_1=$__require("ce");exports.NotAcceptableError=NotAcceptableError_1["default"];var NotFoundError_1=$__require("cf");exports.NotFoundError=NotFoundError_1["default"];var PreconditionFailedError_1=$__require("d0");exports.PreconditionFailedError=PreconditionFailedError_1["default"];var PreconditionRequiredError_1=$__require("d1");exports.PreconditionRequiredError=PreconditionRequiredError_1["default"];var RequestEntityTooLargeError_1=$__require("d2");exports.RequestEntityTooLargeError=RequestEntityTooLargeError_1["default"];var RequestHeaderFieldsTooLargeError_1=$__require("d3");exports.RequestHeaderFieldsTooLargeError=RequestHeaderFieldsTooLargeError_1["default"];var RequestURITooLongError_1=$__require("d4");exports.RequestURITooLongError=RequestURITooLongError_1["default"];var TooManyRequestsError_1=$__require("d5");exports.TooManyRequestsError=TooManyRequestsError_1["default"];var UnauthorizedError_1=$__require("d6");
exports.UnauthorizedError=UnauthorizedError_1["default"];var UnsupportedMediaTypeError_1=$__require("d7");exports.UnsupportedMediaTypeError=UnsupportedMediaTypeError_1["default"];var BadResponseError_1=$__require("d8");exports.BadResponseError=BadResponseError_1["default"];var BadGatewayError_1=$__require("d9");exports.BadGatewayError=BadGatewayError_1["default"];var GatewayTimeoutError_1=$__require("da");exports.GatewayTimeoutError=GatewayTimeoutError_1["default"];var HTTPVersionNotSupportedError_1=$__require("db");exports.HTTPVersionNotSupportedError=HTTPVersionNotSupportedError_1["default"];var InternalServerError_1=$__require("dc");exports.InternalServerError=InternalServerError_1["default"];var NotImplementedError_1=$__require("dd");exports.NotImplementedError=NotImplementedError_1["default"];var ServiceUnavailableError_1=$__require("de");exports.ServiceUnavailableError=ServiceUnavailableError_1["default"];var UnknownError_1=$__require("e0");exports.UnknownError=UnknownError_1["default"];var client=[];exports.client=client,client.push(BadRequestError_1["default"]),client.push(ConflictError_1["default"]),client.push(ForbiddenError_1["default"]),client.push(MethodNotAllowedError_1["default"]),client.push(NotAcceptableError_1["default"]),client.push(NotFoundError_1["default"]),client.push(PreconditionFailedError_1["default"]),client.push(PreconditionRequiredError_1["default"]),client.push(RequestEntityTooLargeError_1["default"]),client.push(RequestHeaderFieldsTooLargeError_1["default"]),client.push(RequestURITooLongError_1["default"]),client.push(TooManyRequestsError_1["default"]),client.push(UnauthorizedError_1["default"]),client.push(UnsupportedMediaTypeError_1["default"]);var server=[];exports.server=server,server.push(BadResponseError_1["default"]),server.push(BadGatewayError_1["default"]),server.push(GatewayTimeoutError_1["default"]),server.push(HTTPVersionNotSupportedError_1["default"]),server.push(InternalServerError_1["default"]),server.push(NotImplementedError_1["default"]),server.push(ServiceUnavailableError_1["default"]);var statusCodeMap=new Map;exports.statusCodeMap=statusCodeMap;for(var i=0,length_1=client.length;length_1>i;i++)statusCodeMap.set(client[i].statusCode,client[i]);for(var i=0,length_2=server.length;length_2>i;i++)statusCodeMap.set(server[i].statusCode,server[i]);return module.exports}),$__System.registerDynamic("e2",[],!0,function($__require,exports,module){"use strict";var Method;return function(Method){Method[Method.OPTIONS=0]="OPTIONS",Method[Method.HEAD=1]="HEAD",Method[Method.GET=2]="GET",Method[Method.POST=3]="POST",Method[Method.PUT=4]="PUT",Method[Method.PATCH=5]="PATCH",Method[Method.DELETE=6]="DELETE"}(Method||(Method={})),Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Method,module.exports}),$__System.registerDynamic("e3",["e1","e4","e2","e5","97"],!0,function($__require,exports,module){"use strict";function setHeaders(request,headers){for(var namesIterator=headers.keys(),next=namesIterator.next();!next.done;){var name_1=next.value,value=headers.get(name_1);request.setRequestHeader(name_1,value.toString()),next=namesIterator.next()}}function onLoad(resolve,reject,request){return function(){var response=new Response_1["default"](request);request.status>=200&&request.status<=299?resolve(response):rejectRequest(reject,request)}}function onError(reject,request){return function(){rejectRequest(reject,request)}}function rejectRequest(reject,request){var response=new Response_1["default"](request);if(response.status>=400&&response.status<600&&Errors.statusCodeMap.has(response.status)){var error=Errors.statusCodeMap.get(response.status);reject(new error("",response))}reject(new Errors.UnknownError("",response))}var Errors=$__require("e1"),Header=$__require("e4"),Method_1=$__require("e2"),Response_1=$__require("e5"),Utils=$__require("97"),Service=function(){function Service(){}return Service.send=function(method,url,bodyOrOptions,options,parser){void 0===bodyOrOptions&&(bodyOrOptions=Service.defaultOptions),void 0===options&&(options=Service.defaultOptions),void 0===parser&&(parser=null);var body=bodyOrOptions&&Utils.isString(bodyOrOptions)?bodyOrOptions:null;options=!bodyOrOptions||Utils.isString(bodyOrOptions)?options:bodyOrOptions,options=options?options:{},options=Utils.extend(options,Service.defaultOptions),Utils.isNumber(method)&&(method=Method_1["default"][method]);var requestPromise=new Promise(function(resolve,reject){var request=options.request?options.request:new XMLHttpRequest;request.open(method,url,!0),options.headers&&setHeaders(request,options.headers),request.withCredentials=options.sendCredentialsOnCORS,options.timeout&&(request.timeout=options.timeout),request.onload=onLoad(resolve,reject,request),request.onerror=onError(reject,request),body?request.send(body):request.send()});return null===parser?requestPromise:requestPromise.then(function(response){return parser.parse(response.data).then(function(parsedBody){return[parsedBody,response]})})},Service.options=function(url,options){return void 0===options&&(options=Service.defaultOptions),Service.send(Method_1["default"].OPTIONS,url,options)},Service.head=function(url,options){return void 0===options&&(options=Service.defaultOptions),Service.send(Method_1["default"].HEAD,url,options)},Service.get=function(url,options,parser){return void 0===options&&(options=Service.defaultOptions),void 0===parser&&(parser=null),Service.send(Method_1["default"].GET,url,null,options,parser)},Service.post=function(url,bodyOrOptions,options,parser){return void 0===bodyOrOptions&&(bodyOrOptions=Service.defaultOptions),void 0===options&&(options=Service.defaultOptions),void 0===parser&&(parser=null),Service.send(Method_1["default"].POST,url,bodyOrOptions,options,parser)},Service.put=function(url,bodyOrOptions,options,parser){return void 0===bodyOrOptions&&(bodyOrOptions=Service.defaultOptions),void 0===options&&(options=Service.defaultOptions),void 0===parser&&(parser=null),Service.send(Method_1["default"].PUT,url,bodyOrOptions,options,parser)},Service.patch=function(url,bodyOrOptions,options,parser){return void 0===bodyOrOptions&&(bodyOrOptions=Service.defaultOptions),void 0===options&&(options=Service.defaultOptions),void 0===parser&&(parser=null),Service.send(Method_1["default"].PATCH,url,bodyOrOptions,options,parser)},Service["delete"]=function(url,bodyOrOptions,options,parser){return void 0===bodyOrOptions&&(bodyOrOptions=Service.defaultOptions),void 0===options&&(options=Service.defaultOptions),void 0===parser&&(parser=null),Service.send(Method_1["default"].DELETE,url,bodyOrOptions,options,parser)},Service.defaultOptions={sendCredentialsOnCORS:!0},Service}();exports.Service=Service;var Util=function(){function Util(){}return Util.getHeader=function(headerName,requestOptions,initialize){if(void 0===initialize&&(initialize=!1),initialize){var headers=requestOptions.headers?requestOptions.headers:requestOptions.headers=new Map;headers.set(headerName,new Header.Class)}return requestOptions.headers?requestOptions.headers.get(headerName):null},Util.setAcceptHeader=function(accept,requestOptions){var headers=requestOptions.headers?requestOptions.headers:requestOptions.headers=new Map;return headers.set("Accept",new Header.Class(accept)),requestOptions},Util.setContentTypeHeader=function(contentType,requestOptions){var headers=requestOptions.headers?requestOptions.headers:requestOptions.headers=new Map;return headers.set("Content-Type",new Header.Class(contentType)),requestOptions},Util.setIfMatchHeader=function(etag,requestOptions){var headers=requestOptions.headers?requestOptions.headers:requestOptions.headers=new Map;return headers.set("If-Match",new Header.Class(etag)),requestOptions},Util.setPreferredInteractionModel=function(interactionModelURI,requestOptions){var prefer=Util.getHeader("Prefer",requestOptions,!0);return prefer.values.push(new Header.Value(interactionModelURI+"; rel=interaction-model")),requestOptions},Util.setContainerRetrievalPreferences=function(preferences,requestOptions){var prefer=Util.getHeader("Prefer",requestOptions,!0),headerPieces=["return=representation;"];return"include"in preferences&&headerPieces.push('include="'+preferences.include.join(" ")+'"'),"omit"in preferences&&headerPieces.push('omit="'+preferences.omit.join(" ")+'"'),1===headerPieces.length?requestOptions:(prefer.values.push(new Header.Value(headerPieces.join(" "))),requestOptions)},Util.setSlug=function(slug,requestOptions){var slugHeader=Util.getHeader("Slug",requestOptions,!0);return slugHeader.values.push(new Header.Value(slug)),requestOptions},Util}();return exports.Util=Util,module.exports}),$__System.registerDynamic("e4",[],!0,function($__require,exports,module){"use strict";var Class=function(){function Class(valueOrValues){this.values=[],valueOrValues&&(Array.isArray(valueOrValues)?this.values=valueOrValues:this.setValues(valueOrValues))}return Class.prototype.toString=function(){return this.values.join(", ")},Class.prototype.setValues=function(valuesString){this.values=[];for(var valueStrings=valuesString.split(","),i=0,length_1=valueStrings.length;length_1>i;i++){var valueString=valueStrings[i].trim();this.values.push(new Value(valueString))}},Class}();exports.Class=Class;var Value=function(){function Value(value){this.value=value}return Value.prototype.toString=function(){return this.value},Value}();exports.Value=Value;var Util=function(){function Util(){}return Util.parseHeaders=function(headersString){for(var headers=new Map,headerStrings=headersString.split(/\r?\n/),i=0,length_2=headerStrings.length;length_2>i;i++){var headerString=headerStrings[i];if(headerString.trim()){var parts=headerString.split(":");if(parts.length<2)throw new Error("ParseError: The header couldn't be parsed.");parts.length>2&&(parts[1]=parts.slice(1).join(":"));var name_1=parts[0].trim(),header=new Class(parts[1].trim());if(headers.has(name_1)){var existingHeader=headers.get(name_1);existingHeader.values.concat(header.values)}else headers.set(name_1,header)}}return headers},Util}();return exports.Util=Util,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("e5",["e4"],!0,function($__require,exports,module){"use strict";var Header=$__require("e4"),Class=function(){function Class(request){this.status=request.status,this.data=request.responseText,this.setHeaders(request),this.request=request}return Class.prototype.setHeaders=function(request){var headersString=request.getAllResponseHeaders();headersString?this.headers=Header.Util.parseHeaders(headersString):this.headers=new Map},Class}();exports.Class=Class;var Util=function(){function Util(){}return Util.getETag=function(response){if(!response||!response.headers)return null;var etagHeader=response.headers.get("ETag");return etagHeader&&etagHeader.values.length?(etagHeader.values.length>1&&console.warn("The response contains more than one ETag. Response: %o",response),etagHeader.values[0].toString()):null},Util}();return exports.Util=Util,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("e6",[],!0,function($__require,exports,module){"use strict";var StatusCode;return function(StatusCode){StatusCode[StatusCode.CONTINUE=100]="CONTINUE",StatusCode[StatusCode.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",StatusCode[StatusCode.OK=200]="OK",StatusCode[StatusCode.CREATED=201]="CREATED",StatusCode[StatusCode.ACCEPTED=202]="ACCEPTED",StatusCode[StatusCode.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",StatusCode[StatusCode.NO_CONTENT=204]="NO_CONTENT",StatusCode[StatusCode.RESET_CONTENT=205]="RESET_CONTENT",StatusCode[StatusCode.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",StatusCode[StatusCode.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",StatusCode[StatusCode.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",StatusCode[StatusCode.FOUND=302]="FOUND",StatusCode[StatusCode.SEE_OTHER=303]="SEE_OTHER",StatusCode[StatusCode.NOT_MODIFIED=304]="NOT_MODIFIED",StatusCode[StatusCode.USE_PROXY=305]="USE_PROXY",StatusCode[StatusCode.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",StatusCode[StatusCode.BAD_REQUEST=400]="BAD_REQUEST",StatusCode[StatusCode.UNAUTHORIZED=401]="UNAUTHORIZED",StatusCode[StatusCode.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",StatusCode[StatusCode.FORBIDDEN=403]="FORBIDDEN",StatusCode[StatusCode.NOT_FOUND=404]="NOT_FOUND",StatusCode[StatusCode.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",StatusCode[StatusCode.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",StatusCode[StatusCode.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",StatusCode[StatusCode.REQUEST_TIME_OUT=408]="REQUEST_TIME_OUT",StatusCode[StatusCode.CONFLICT=409]="CONFLICT",StatusCode[StatusCode.GONE=410]="GONE",StatusCode[StatusCode.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",StatusCode[StatusCode.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",StatusCode[StatusCode.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",StatusCode[StatusCode.REQUEST_URI_TOO_LARGE=414]="REQUEST_URI_TOO_LARGE",StatusCode[StatusCode.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",StatusCode[StatusCode.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",StatusCode[StatusCode.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",StatusCode[StatusCode.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",StatusCode[StatusCode.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",StatusCode[StatusCode.BAD_GATEWAY=502]="BAD_GATEWAY",StatusCode[StatusCode.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",StatusCode[StatusCode.GATEWAY_TIME_OUT=504]="GATEWAY_TIME_OUT",StatusCode[StatusCode.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(StatusCode||(StatusCode={})),Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=StatusCode,module.exports}),$__System.registerDynamic("e7",[],!0,function($__require,exports,module){"use strict";var Class=function(){function Class(){}return Class.prototype.parse=function(body){return new Promise(function(resolve,reject){resolve(body)})},Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("b4",["e1","e4","b2","c7","e2","c8","e3","e5","e6","e7"],!0,function($__require,exports,module){"use strict";var Errors=$__require("e1");exports.Errors=Errors;var Header=$__require("e4");exports.Header=Header;var JSONParser=$__require("b2");exports.JSONParser=JSONParser;var JSONLDParser=$__require("c7");exports.JSONLDParser=JSONLDParser;var Method_1=$__require("e2");exports.Method=Method_1["default"];var Parser=$__require("c8");exports.Parser=Parser;var Request=$__require("e3");exports.Request=Request;var Response=$__require("e5");exports.Response=Response;var StatusCode_1=$__require("e6");exports.StatusCode=StatusCode_1["default"];var StringParser=$__require("e7");return exports.StringParser=StringParser,module.exports}),$__System.registerDynamic("e8",[],!0,function($__require,exports,module){"use strict";var Class=function(){function Class(username,password){this._username=username,this._password=password}return Object.defineProperty(Class.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(Class.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0}),Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("e9",["b4","9f","ea","e8"],!0,function($__require,exports,module){"use strict";var HTTP=$__require("b4"),Errors=$__require("9f"),UsernameAndPasswordToken_1=$__require("ea"),UsernameAndPasswordCredentials=$__require("e8"),Class=function(){function Class(){}return Class.prototype.isAuthenticated=function(){return!!this.credentials},Class.prototype.authenticate=function(authenticationToken){var _this=this;if(null===authenticationToken)throw new Errors.IllegalArgumentError("The authenticationToken cannot be null.");return new Promise(function(resolve,reject){if(!authenticationToken.username)throw new Errors.IllegalArgumentError("The username cannot be empty.");if(!authenticationToken.password)throw new Errors.IllegalArgumentError("The password cannot be empty.");_this.credentials=new UsernameAndPasswordCredentials.Class(authenticationToken.username,authenticationToken.password),resolve(_this.credentials)})},Class.prototype.addAuthentication=function(requestOptions){if(!this.isAuthenticated())throw new Errors.IllegalStateError("The authenticator isn't authenticated.");var headers=requestOptions.headers?requestOptions.headers:requestOptions.headers=new Map;return this.addBasicAuthenticationHeader(headers),requestOptions},Class.prototype.clearAuthentication=function(){this.credentials=null},Class.prototype.supports=function(authenticationToken){return authenticationToken instanceof UsernameAndPasswordToken_1["default"]},Class.prototype.addBasicAuthenticationHeader=function(headers){var header;headers.has("Authorization")?header=headers.get("Authorization"):(header=new HTTP.Header.Class,headers.set("Authorization",header));var authorization="Basic "+btoa(this.credentials.username+":"+this.credentials.password);return header.values.push(new HTTP.Header.Value(authorization)),headers},Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("eb",[],!0,function($__require,exports,module){"use strict";exports.namespace="https://carbonldp.com/ns/v1/platform#";var Class=function(){function Class(){}return Object.defineProperty(Class,"AccessPoint",{get:function(){return exports.namespace+"AccessPoint"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"API",{get:function(){return exports.namespace+"API"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"NonReadableMembershipResourceTriples",{get:function(){return exports.namespace+"NonReadableMembershipResourceTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferContainmentResources",{get:function(){return exports.namespace+"PreferContainmentResources"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferContainmentTriples",{get:function(){return exports.namespace+"PreferContainmentTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferMembershipResources",{get:function(){return exports.namespace+"PreferMembershipResources"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferMembershipTriples",{get:function(){return exports.namespace+"PreferMembershipTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"VolatileResource",{get:function(){return exports.namespace+"VolatileResource"},enumerable:!0,configurable:!0}),Class}();exports.Class=Class;var Predicate=function(){function Predicate(){}return Object.defineProperty(Predicate,"accessPoint",{get:function(){return exports.namespace+"accessPoint"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"buildDate",{get:function(){return exports.namespace+"buildDate"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"created",{get:function(){return exports.namespace+"created"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"modified",{get:function(){return exports.namespace+"modified"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"version",{get:function(){return exports.namespace+"version"},enumerable:!0,configurable:!0}),Predicate}();return exports.Predicate=Predicate,module.exports}),$__System.registerDynamic("ec",[],!0,function($__require,exports,module){"use strict";var namespace="https://carbonldp.com/ns/v1/patch#";exports.namespace=namespace;var Predicate=function(){function Predicate(){}return Predicate.ADD_ACTION=namespace+"addAction",Predicate.SET_ACTION=namespace+"setAction",Predicate.DELETE_ACTION=namespace+"deleteAction",Predicate}();return exports.Predicate=Predicate,module.exports}),$__System.registerDynamic("98",[],!0,function($__require,exports,module){"use strict";var namespace="https://carbonldp.com/ns/v1/security#";exports.namespace=namespace;var Class=function(){function Class(){}return Object.defineProperty(Class,"Application",{get:function(){return namespace+"Application"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"Token",{get:function(){return namespace+"Token"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"AllOrigins",{get:function(){return namespace+"AllOrigins"},enumerable:!0,configurable:!0}),Class}();exports.Class=Class;var Predicate=function(){function Predicate(){}return Object.defineProperty(Predicate,"name",{get:function(){return namespace+"name"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"allowsOrigin",{get:function(){return namespace+"allowsOrigin"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"rootContainer",{get:function(){return namespace+"rootContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"tokenKey",{get:function(){return namespace+"tokenKey"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"expirationTime",{get:function(){return namespace+"expirationTime"},enumerable:!0,configurable:!0}),Predicate}();return exports.Predicate=Predicate,module.exports}),$__System.registerDynamic("ed",[],!0,function($__require,exports,module){"use strict";var namespace="http://www.w3.org/ns/ldp#";exports.namespace=namespace;var Class=function(){function Class(){}return Object.defineProperty(Class,"Resource",{get:function(){return namespace+"Resource"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"RDFSource",{get:function(){return namespace+"RDFSource"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"Container",{get:function(){return namespace+"Container"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"BasicContainer",{get:function(){return namespace+"BasicContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"DirectContainer",{get:function(){return namespace+"DirectContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"IndirectContainer",{get:function(){return namespace+"IndirectContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"NonRDFSource",{get:function(){return namespace+"NonRDFSource"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"MemberSubject",{get:function(){return namespace+"MemberSubject"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferContainment",{get:function(){return namespace+"PreferContainment"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferMembership",{get:function(){return namespace+"PreferMembership"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferEmptyContainer",{get:function(){return namespace+"PreferEmptyContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PreferMinimalContainer",{get:function(){return namespace+"PreferMinimalContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"Page",{get:function(){return namespace+"Page"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"PageSortCriterion",{get:function(){return namespace+"PageSortCriterion"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"Ascending",{get:function(){return namespace+"Ascending"},enumerable:!0,configurable:!0}),Object.defineProperty(Class,"Descending",{get:function(){return namespace+"Descending"},enumerable:!0,configurable:!0}),Class}();exports.Class=Class;var Predicate=function(){function Predicate(){}return Object.defineProperty(Predicate,"contains",{get:function(){return namespace+"contains"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"member",{get:function(){return namespace+"member"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"hasMemberRelation",{get:function(){return namespace+"hasMemberRelation"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"memberOfRelation",{get:function(){return namespace+"memberOfRelation"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"membershipResource",{get:function(){return namespace+"membershipResource"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"insertedContentRelation",{get:function(){return namespace+"insertedContentRelation"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"constrainedBy",{get:function(){return namespace+"constrainedBy"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"pageSortCriteria",{get:function(){return namespace+"pageSortCriteria"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"pageSortOrder",{get:function(){return namespace+"pageSortOrder"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"pageSortCollation",{get:function(){return namespace+"pageSortCollation"},enumerable:!0,configurable:!0}),Object.defineProperty(Predicate,"pageSequence",{get:function(){return namespace+"pageSequence"},enumerable:!0,configurable:!0}),Predicate}();return exports.Predicate=Predicate,module.exports}),$__System.registerDynamic("ee",[],!0,function($__require,exports,module){"use strict";var namespace="http://www.w3.org/1999/02/22-rdf-syntax-ns#";exports.namespace=namespace;var Predicate=function(){function Predicate(){}return Predicate.type=namespace+"type",Predicate}();return exports.Predicate=Predicate,module.exports}),$__System.registerDynamic("bf",["97"],!0,function($__require,exports,module){"use strict";var Utils=$__require("97");exports.namespace="http://www.w3.org/2001/XMLSchema#";var DataType=function(){function DataType(){}return DataType.date=exports.namespace+"date",DataType.dateTime=exports.namespace+"dateTime",DataType.duration=exports.namespace+"duration",DataType.gDay=exports.namespace+"gDay",DataType.gMonth=exports.namespace+"gMonth",DataType.gMonthDay=exports.namespace+"gMonthDay",DataType.gYear=exports.namespace+"gYear",DataType.gYearMonth=exports.namespace+"gYearMonth",DataType.time=exports.namespace+"time",DataType["byte"]=exports.namespace+"byte",DataType.decimal=exports.namespace+"decimal",DataType["int"]=exports.namespace+"int",DataType.integer=exports.namespace+"integer",DataType["long"]=exports.namespace+"long",DataType.negativeInteger=exports.namespace+"negativeInteger",DataType.nonNegativeInteger=exports.namespace+"nonNegativeInteger",DataType.nonPositiveInteger=exports.namespace+"nonPositiveInteger",DataType.positiveInteger=exports.namespace+"positiveInteger",DataType["short"]=exports.namespace+"short",DataType.unsignedLong=exports.namespace+"unsignedLong",DataType.unsignedInt=exports.namespace+"unsignedInt",DataType.unsignedShort=exports.namespace+"unsignedShort",DataType.unsignedByte=exports.namespace+"unsignedByte",DataType["double"]=exports.namespace+"double",DataType["float"]=exports.namespace+"float",DataType["boolean"]=exports.namespace+"boolean",DataType.string=exports.namespace+"string",DataType.object=exports.namespace+"object",DataType}();return exports.DataType=DataType,Utils.forEachOwnProperty(DataType,function(key,value){DataType[value]=key}),module.exports}),$__System.registerDynamic("9a",["eb","ec","98","ed","ee","bf"],!0,function($__require,exports,module){"use strict";var C=$__require("eb");exports.C=C;var CP=$__require("ec");exports.CP=CP;var CS=$__require("98");exports.CS=CS;var LDP=$__require("ed");exports.LDP=LDP;var RDF=$__require("ee");exports.RDF=RDF;var XSD=$__require("bf");return exports.XSD=XSD,module.exports}),$__System.registerDynamic("95",["97"],!0,function($__require,exports,module){"use strict";var Utils=$__require("97"),Factory=function(){function Factory(){}return Factory.hasClassProperties=function(object){return!!(Utils.hasPropertyDefined(object,"_id")&&Utils.hasPropertyDefined(object,"_resolved")&&Utils.hasPropertyDefined(object,"id")&&Utils.hasFunction(object,"isResolved")&&Utils.hasPropertyDefined(object,"resolve"))},Factory.is=function(value){return!(!Utils.isObject(value)||!Factory.hasClassProperties(value))},Factory.create=function(id){id=id?id:"";var pointer=Factory.decorate({});return pointer.id=id,pointer},Factory.decorate=function(object){return Factory.hasClassProperties(object)?object:(Object.defineProperties(object,{_id:{writable:!0,enumerable:!1,configurable:!0,value:""},_resolved:{writable:!0,enumerable:!1,configurable:!0,value:!1},id:{enumerable:!1,configurable:!0,get:function(){return this._id?this._id:""},set:function(value){this._id=value}},isResolved:{writable:!1,enumerable:!1,configurable:!0,value:function(){return this._resolved}},resolve:{writable:!1,enumerable:!1,configurable:!0,value:function(){var _this=this;return new Promise(function(resolve,reject){return _this})}}}),object)},Factory}();exports.Factory=Factory;var Util=function(){function Util(){}return Util.getIDs=function(pointers){for(var ids=[],_i=0,pointers_1=pointers;_i<pointers_1.length;_i++){var pointer=pointers_1[_i];ids.push(pointer.id)}return ids},Util.resolveAll=function(pointers){var promises=pointers.map(function(pointer){return pointer.resolve()});return Promise.all(promises).then(function(results){var resolvedPointers=results.map(function(result){return result[0]}),responses=results.map(function(result){return result[1]});return[resolvedPointers,responses]})},Util}();return exports.Util=Util,module.exports}),$__System.registerDynamic("ef",["9a","95","97"],!0,function($__require,exports,module){"use strict";var NS=$__require("9a"),Pointer=$__require("95"),Utils=$__require("97");exports.RDF_CLASS=NS.CS.Class.Token,exports.CONTEXT={key:{"@id":NS.CS.Predicate.tokenKey,"@type":NS.XSD.DataType.string},expirationTime:{"@id":NS.CS.Predicate.expirationTime,"@type":NS.XSD.DataType.dateTime}};var Factory=function(){function Factory(){}return Factory.is=function(value){return Utils.isObject(value)&&Factory.hasClassProperties(value)},Factory.hasClassProperties=function(object){return Utils.hasPropertyDefined(object,"key")&&Utils.hasPropertyDefined(object,"expirationTime")},Factory.decorate=function(object){return this.hasClassProperties(object)?object:object},Factory.hasRDFClass=function(pointerOrExpandedObject){var types=[];if("@type"in pointerOrExpandedObject)types=pointerOrExpandedObject["@type"];else if("types"in pointerOrExpandedObject){var resource=pointerOrExpandedObject;types=Pointer.Util.getIDs(resource.types)}return-1!==types.indexOf(exports.RDF_CLASS)},Factory}();return exports.Factory=Factory,module.exports}),$__System.registerDynamic("f0",[],!0,function($__require,exports,module){"use strict";var Class=function(){function Class(token){this._token=token}return Object.defineProperty(Class.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("f1",["9f","b4","9a","96","e9","ea","ef","f0"],!0,function($__require,exports,module){"use strict";var Errors=$__require("9f"),HTTP=$__require("b4"),NS=$__require("9a"),RDF=$__require("96"),BasicAuthenticator_1=$__require("e9"),UsernameAndPasswordToken_1=$__require("ea"),Token=$__require("ef"),TokenCredentials=$__require("f0"),Class=function(){function Class(context){if(null===context)throw new Errors.IllegalArgumentError("context cannot be null");this.context=context,this.basicAuthenticator=new BasicAuthenticator_1["default"]}return Class.prototype.isAuthenticated=function(){return!!this.credentials&&this.credentials.token.expirationTime>new Date},Class.prototype.authenticate=function(authenticationToken){var _this=this;return this.basicAuthenticator.authenticate(authenticationToken).then(function(credentials){return _this.createToken()}).then(function(_a){var token=_a[0];_a[1];return _this.credentials=new TokenCredentials.Class(token),
_this.basicAuthenticator.clearAuthentication(),_this.credentials})},Class.prototype.addAuthentication=function(requestOptions){var headers=requestOptions.headers?requestOptions.headers:requestOptions.headers=new Map;return this.addTokenAuthenticationHeader(headers),requestOptions},Class.prototype.clearAuthentication=function(){this.credentials=null},Class.prototype.supports=function(authenticationToken){return authenticationToken instanceof UsernameAndPasswordToken_1["default"]},Class.prototype.createToken=function(){var _this=this,uri=this.context.resolve(Class.TOKEN_CONTAINER),requestOptions={};return this.basicAuthenticator.addAuthentication(requestOptions),HTTP.Request.Util.setAcceptHeader("application/ld+json",requestOptions),HTTP.Request.Util.setPreferredInteractionModel(NS.LDP.Class.RDFSource,requestOptions),HTTP.Request.Service.post(uri,null,requestOptions,new HTTP.JSONLDParser.Class).then(function(_a){var expandedResult=_a[0],response=_a[1],expandedNodes=RDF.Document.Util.getResources(expandedResult);if(expandedNodes=expandedNodes.filter(Token.Factory.hasRDFClass),0===expandedNodes.length)throw new HTTP.Errors.BadResponseError("No '"+Token.RDF_CLASS+"' was returned.",response);if(expandedNodes.length>1)throw new HTTP.Errors.BadResponseError("Multiple '"+Token.RDF_CLASS+"' were returned. ",response);var expandedToken=expandedNodes[0],token=Token.Factory.decorate({}),digestedSchema=_this.context.documents.getSchemaFor(expandedToken);return _this.context.documents.jsonldConverter.compact(expandedToken,token,digestedSchema,_this.context.documents),[token,response]})},Class.prototype.addTokenAuthenticationHeader=function(headers){var header;headers.has("Authorization")?header=headers.get("Authorization"):(header=new HTTP.Header.Class,headers.set("Authorization",header));var authorization="Token "+this.credentials.token.key;return header.values.push(new HTTP.Header.Value(authorization)),headers},Class.TOKEN_CONTAINER="auth-tokens/",Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("ea",[],!0,function($__require,exports,module){"use strict";var Class=function(){function Class(username,password){this._username=username,this._password=password}return Object.defineProperty(Class.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(Class.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0}),Class}();return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("f2",["df"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractError_1=$__require("df"),IllegalStateError=function(_super){function IllegalStateError(message){void 0===message&&(message=""),_super.call(this,message)}return __extends(IllegalStateError,_super),Object.defineProperty(IllegalStateError.prototype,"name",{get:function(){return"IllegalStateError"},enumerable:!0,configurable:!0}),IllegalStateError}(AbstractError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IllegalStateError,module.exports}),$__System.registerDynamic("f3",["df"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractError_1=$__require("df"),IllegalArgumentError=function(_super){function IllegalArgumentError(){_super.apply(this,arguments)}return __extends(IllegalArgumentError,_super),Object.defineProperty(IllegalArgumentError.prototype,"name",{get:function(){return"IllegalArgumentError"},enumerable:!0,configurable:!0}),IllegalArgumentError}(AbstractError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IllegalArgumentError,module.exports}),$__System.registerDynamic("f4",["df"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractError_1=$__require("df"),IDAlreadyInUseError=function(_super){function IDAlreadyInUseError(){_super.apply(this,arguments)}return __extends(IDAlreadyInUseError,_super),Object.defineProperty(IDAlreadyInUseError.prototype,"name",{get:function(){return"IDAlreadyInUseError"},enumerable:!0,configurable:!0}),IDAlreadyInUseError}(AbstractError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IDAlreadyInUseError,module.exports}),$__System.registerDynamic("df",[],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractError=function(_super){function AbstractError(message){_super.call(this,message),this.message=message}return __extends(AbstractError,_super),Object.defineProperty(AbstractError.prototype,"name",{get:function(){return"AbstractError"},enumerable:!0,configurable:!0}),AbstractError.prototype.toString=function(){return this.name+": "+this.message},AbstractError}(Error);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AbstractError,module.exports}),$__System.registerDynamic("f5",["df"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AbstractError_1=$__require("df"),NotImplementedError=function(_super){function NotImplementedError(message){void 0===message&&(message=""),_super.call(this,message)}return __extends(NotImplementedError,_super),Object.defineProperty(NotImplementedError.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),NotImplementedError}(AbstractError_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=NotImplementedError,module.exports}),$__System.registerDynamic("9f",["f2","f3","f4","f5"],!0,function($__require,exports,module){"use strict";var IllegalStateError_1=$__require("f2");exports.IllegalStateError=IllegalStateError_1["default"];var IllegalArgumentError_1=$__require("f3");exports.IllegalArgumentError=IllegalArgumentError_1["default"];var IDAlreadyInUseError_1=$__require("f4");exports.IDAlreadyInUseError=IDAlreadyInUseError_1["default"];var NotImplementedError_1=$__require("f5");return exports.NotImplementedError=NotImplementedError_1["default"],module.exports}),$__System.registerDynamic("9d",["e9","ef","f1","ea","9f","97"],!0,function($__require,exports,module){"use strict";var BasicAuthenticator_1=$__require("e9");exports.BasicAuthenticator=BasicAuthenticator_1["default"];var Token=$__require("ef");exports.Token=Token;var TokenAuthenticator_1=$__require("f1");exports.TokenAuthenticator=TokenAuthenticator_1["default"];var UsernameAndPasswordToken_1=$__require("ea");exports.UsernameAndPasswordToken=UsernameAndPasswordToken_1["default"];var Errors=$__require("9f"),Utils=$__require("97");!function(Method){Method[Method.BASIC=0]="BASIC",Method[Method.TOKEN=1]="TOKEN"}(exports.Method||(exports.Method={}));var Class=(exports.Method,function(){function Class(context){this.method=null,this.context=context,this.authenticators=[],this.authenticators.push(new TokenAuthenticator_1["default"](this.context)),this.authenticators.push(new BasicAuthenticator_1["default"])}return Class.prototype.isAuthenticated=function(askParent){return void 0===askParent&&(askParent=!0),this.authenticator&&this.authenticator.isAuthenticated()||askParent&&!!this.context.parentContext&&this.context.parentContext.auth.isAuthenticated()},Class.prototype.authenticate=function(usernameOrToken,password){var _this=this;return void 0===password&&(password=null),new Promise(function(resolve,reject){if(!usernameOrToken)throw new Errors.IllegalArgumentError("Either a username or an authenticationToken are required.");var authenticationToken;if(Utils.isString(usernameOrToken)){var username=usernameOrToken;if(!password)throw new Errors.IllegalArgumentError("A password is required when providing a username.");authenticationToken=new UsernameAndPasswordToken_1["default"](username,password)}else authenticationToken=usernameOrToken;_this.authenticator&&_this.clearAuthentication(),_this.authenticator=_this.getAuthenticator(authenticationToken),resolve(_this.authenticator.authenticate(authenticationToken))})},Class.prototype.addAuthentication=function(requestOptions){this.isAuthenticated(!1)?this.authenticator.addAuthentication(requestOptions):this.context.parentContext?this.context.parentContext.auth.addAuthentication(requestOptions):console.warn("There is no authentication to add to the request.")},Class.prototype.clearAuthentication=function(){this.authenticator&&(this.authenticator.clearAuthentication(),this.authenticator=null)},Class.prototype.getAuthenticator=function(authenticationToken){for(var _i=0,_a=this.authenticators;_i<_a.length;_i++){var authenticator=_a[_i];if(authenticator.supports(authenticationToken))return authenticator}throw new Errors.IllegalStateError("The configured authentication method isn't supported.")},Class}());return exports.Class=Class,Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Class,module.exports}),$__System.registerDynamic("f6",["9d"],!0,function($__require,exports,module){"use strict";var Auth=$__require("9d"),settings={};return settings.domain="carbonldp.com",settings["http.ssl"]=!0,settings["auth.method"]=Auth.Method.TOKEN,settings["platform.container"]="platform/",settings["platform.apps.container"]="apps/",Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=settings,module.exports}),$__System.registerDynamic("97",[],!0,function($__require,exports,module){"use strict";function hasFunction(object,functionName){return"function"==typeof object[functionName]}function hasProperty(object,property){return object?"undefined"!=typeof object[property]:!1}function hasPropertyDefined(object,property){return!!Object.getOwnPropertyDescriptor(object,property)}function isNull(value){return null===value}function isArray(object){return object instanceof Array}function isString(value){return"string"==typeof value||value instanceof String}function isBoolean(value){return"boolean"==typeof value}function isNumber(value){return"number"==typeof value||value instanceof Number}function isInteger(value){return isNumber(value)?value%1===0:!1}function isDouble(value){return isNumber(value)?value%1!==0:!1}function isDate(date){return"date"==typeof date||date instanceof Date}function isObject(object){return"object"==typeof object&&!!object}function isFunction(value){return"function"==typeof value}function isMap(value){return isObject(value)&&hasFunction(value,"get")&&hasFunction(value,"has")&&hasProperty(value,"size")&&hasFunction(value,"clear")&&hasFunction(value,"delete")&&hasFunction(value,"entries")&&hasFunction(value,"forEach")&&hasFunction(value,"get")&&hasFunction(value,"has")&&hasFunction(value,"keys")&&hasFunction(value,"set")&&hasFunction(value,"values")}function parseBoolean(value){if(!isString(value))return!1;switch(value.toLowerCase()){case"true":case"yes":case"y":case"1":return!0;case"false":case"no":case"n":case"0":default:return!1}}function extend(target){for(var objects=[],_i=1;_i<arguments.length;_i++)objects[_i-1]=arguments[_i];if(arguments.length<=1)return target;for(var i=0,length_1=arguments.length;length_1>i;i++){var toMerge=objects[i];for(var name_1 in toMerge)toMerge.hasOwnProperty(name_1)&&(target[name_1]=toMerge[name_1])}return target}function forEachOwnProperty(object,action){if(!isObject(object)&&!isFunction(object))throw new Error("IllegalArgument");for(var name_2 in object)if(object.hasOwnProperty(name_2)&&action(name_2,object[name_2])===!1)break}exports.hasFunction=hasFunction,exports.hasProperty=hasProperty,exports.hasPropertyDefined=hasPropertyDefined,exports.isNull=isNull,exports.isArray=isArray,exports.isString=isString,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isInteger=isInteger,exports.isDouble=isDouble,exports.isDate=isDate,exports.isObject=isObject,exports.isFunction=isFunction,exports.isMap=isMap,exports.parseBoolean=parseBoolean,exports.extend=extend,exports.forEachOwnProperty=forEachOwnProperty;var O=function(){function O(){}return O.areShallowlyEqual=function(object1,object2){if(object1===object2)return!0;if(!isObject(object1)||!isObject(object2))return!1;var properties=[];for(var propertyName in object1)if(object1.hasOwnProperty(propertyName)&&!isFunction(object1[propertyName])){if(!(propertyName in object2))return!1;if(object1[propertyName]!==object2[propertyName])return!1;properties.push(propertyName)}for(var propertyName in object2)if(object2.hasOwnProperty(propertyName)&&!isFunction(object2[propertyName])){if(!(propertyName in object1))return!1;if(-1===properties.indexOf(propertyName))return!1}return!0},O}();exports.O=O;var S=function(){function S(){}return S.startsWith=function(str,substring){return 0===str.lastIndexOf(substring,0)},S.endsWith=function(str,substring){return-1!==str.indexOf(substring,str.length-substring.length)},S.contains=function(str,substring){return-1!==str.indexOf(substring)},S}();exports.S=S;var A=function(){function A(){}return A.from=function(iterator){for(var array=[],next=iterator.next();!next.done;)array.push(next.value),next=iterator.next();return array},A.joinWithoutDuplicates=function(){for(var arrays=[],_i=0;_i<arguments.length;_i++)arrays[_i-0]=arguments[_i];for(var result=arrays[0].slice(),i=1,length_2=arrays.length;length_2>i;i++)result=result.concat(arrays[i].filter(function(item){return result.indexOf(item)<0}));return result},A}();exports.A=A;var M=function(){function M(){}return M.from=function(object){var map=new Map;return forEachOwnProperty(object,function(name,value){map.set(name,value)}),map},M.extend=function(toExtend){for(var extenders=[],_i=1;_i<arguments.length;_i++)extenders[_i-1]=arguments[_i];for(var i=0,length_3=extenders.length;length_3>i;i++)for(var extender=extenders[i],values=extender.entries(),next=values.next();!next.done;){var entry=next.value,key=entry[0],value=entry[1];toExtend.has(key)||toExtend.set(key,value),next=values.next()}return toExtend},M}();exports.M=M;var UUID=function(){function UUID(){}return UUID.is=function(uuid){return UUID.regExp.test(uuid)},UUID.generate=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v="x"===c?r:3&r|8;return v.toString(16)})},UUID.regExp=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,UUID}();exports.UUID=UUID;var P=function(){function P(){}return P.createRejectedPromise=function(error){return new Promise(function(resolve,reject){reject(error)})},P}();return exports.P=P,module.exports}),$__System.registerDynamic("f7",["93","9d","99","a6","9e","b4","96","f6","97"],!0,function($__require,exports,module){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Apps_1=$__require("93"),Auth=$__require("9d"),AbstractContext_1=$__require("99"),Document=$__require("a6"),Documents_1=$__require("9e"),HTTP=$__require("b4"),RDF=$__require("96"),settings_1=$__require("f6"),Utils=$__require("97"),Carbon=function(_super){function Carbon(settings){_super.call(this),settings=settings?settings:settings_1["default"],Utils.M.extend(this.settings,Utils.M.from(settings)),this.apps=new Apps_1["default"](this)}return __extends(Carbon,_super),Object.defineProperty(Carbon,"version",{get:function(){return"0.17.1-ALPHA"},enumerable:!0,configurable:!0}),Carbon.prototype.resolve=function(uri){if(RDF.URI.Util.isAbsolute(uri))return uri;var finalURI=this.settings.get("http.ssl")?"https://":"http://";return finalURI+=this.settings.get("domain")+"/"+this.getSetting("platform.container"),RDF.URI.Util.resolve(finalURI,uri)},Carbon.prototype.getAPIDescription=function(){return this.documents.get("api/").then(function(_a){var description=_a[0];_a[1];return description})},Carbon.Apps=Apps_1["default"],Carbon.Auth=Auth,Carbon.Document=Document,Carbon.Documents=Documents_1["default"],Carbon.HTTP=HTTP,Carbon.RDF=RDF,Carbon.Utils=Utils,Carbon}(AbstractContext_1["default"]);return Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=Carbon,module.exports}),$__System.register("74",["13","f8","6c","f7"],function(exports_1,context_1){"use strict";var core_1,http_1,router_1,Carbon_1,ContentService,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(http_1_1){http_1=http_1_1},function(router_1_1){router_1=router_1_1},function(Carbon_1_1){Carbon_1=Carbon_1_1}],execute:function(){ContentService=function(){function ContentService(carbon,http,location){this.carbon=carbon,this.http=http,this.location=location}return ContentService.prototype.getDocumentById=function(id){var _this=this;return new Promise(function(resolve,reject){_this.http.get(_this.location.platformStrategy.getBaseHref()+"assets/documents/"+id).forEach(function(response){_this.data=response.text(),resolve(_this.data)},_this)})},ContentService.parameters=[[Carbon_1["default"]],[http_1.Http],[router_1.Location]],ContentService.dependencies=ContentService.parameters,ContentService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof Carbon_1["default"]&&Carbon_1["default"])&&_a||Object,"function"==typeof(_b="undefined"!=typeof http_1.Http&&http_1.Http)&&_b||Object,"function"==typeof(_c="undefined"!=typeof router_1.Location&&router_1.Location)&&_c||Object])],ContentService);var _a,_b,_c}(),exports_1("default",ContentService)}}}),$__System.register("f9",["13","74"],function(exports_1,context_1){"use strict";var core_1,ContentService_1,CONTENT_PROVIDERS;context_1&&context_1.id;return{setters:[function(core_1_1){core_1=core_1_1},function(ContentService_1_1){ContentService_1=ContentService_1_1}],execute:function(){exports_1("CONTENT_PROVIDERS",CONTENT_PROVIDERS=[new core_1.Provider(ContentService_1["default"],{useClass:ContentService_1["default"],dependencies:ContentService_1["default"].dependencies})])}}}),$__System.register("79",["13","f8","6c"],function(exports_1,context_1){"use strict";var core_1,http_1,router_1,BlogService,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(http_1_1){http_1=http_1_1},function(router_1_1){router_1=router_1_1}],execute:function(){BlogService=function(){function BlogService(http,location){this.http=http,this.location=location}return BlogService.prototype.getPost=function(id){var _this=this;return new Promise(function(resolve,reject){_this.getPostsList().then(function(posts){var post=posts[id];post.creationDate=new Date(Date.parse(post.creationDate.toString())),resolve(post)},function(error){console.log(error)})["catch"](console.error)})["catch"](console.error)},BlogService.prototype.getPostsList=function(){var _this=this;return new Promise(function(resolve){_this.http.get(_this.location.platformStrategy.getBaseHref()+"assets/blog-posts/bloglist.json").forEach(function(response){resolve(response.json())},_this)})["catch"](console.error)},BlogService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof http_1.Http&&http_1.Http)&&_a||Object,"function"==typeof(_b="undefined"!=typeof router_1.Location&&router_1.Location)&&_b||Object])],BlogService);var _a,_b}(),exports_1("default",BlogService)}}}),$__System.register("fa",["13","79"],function(exports_1,context_1){"use strict";var core_1,BlogService_1,BLOG_PROVIDERS;context_1&&context_1.id;return{setters:[function(core_1_1){core_1=core_1_1},function(BlogService_1_1){BlogService_1=BlogService_1_1}],execute:function(){exports_1("BLOG_PROVIDERS",BLOG_PROVIDERS=[new core_1.Provider(BlogService_1["default"],{useClass:BlogService_1["default"]})])}}}),function(){var define=$__System.amdDefine;define("fb",[],function(){return'<div class="ui right aligned item container">\n	<button class="ui inverted icon collapse button" (click)="toggle()"><i class="sidebar icon"></i></button>\n</div>\n<a class="item"\n   [ngClass]="{active: isActive([ \'AppDev\' ])}"\n   [routerLink]="[ \'AppDev\' ]">\n	<i class="home icon"></i>\n	Dashboard\n</a>\n<a class="item"\n   [ngClass]="{active: isActive([ \'AppDev\', \'MyApps\' ])}"\n   [routerLink]="[ \'AppDev\', \'MyApps\' ]">\n	<i class="cubes icon"></i>\n	My Apps\n</a>\n\n<div *ngIf="apps.length>0" class="ui horizontal inverted divider">\n	<i class="cubes icon"></i>\n	Open Apps\n</div>\n\n<a class="item app" *ngFor="#app of apps; #i=index;" [ngClass]="{active: isActive(app.slug, true)}">\n\n	<button\n		*ngIf="!isActive(app.slug, true)"\n		class="ui right floated circular icon mini inverted button"\n		(click)="removeApp(i)">\n		<i class="icon remove"></i>\n	</button>\n\n	<a class="title" style="line-height: 2em;">\n		<i *ngIf="isActive(app.slug, true)"\n		   class="right aligned dropdown icon"></i>\n		{{app.name}}\n	</a>\n\n	<div class="content">\n		<a class="item"\n		   [ngClass]="{active: isActive(app.slug)}"\n		   [routerLink]="[ \'AppDev\', \'MyApps\', \'App\', {slug: app.slug}, \'AppDashboard\']">\n			<i class="bar chart icon"></i>\n			Dashboard\n		</a>\n		<a class="item"\n		   [ngClass]="{active: isActive(app.slug, true) && isActive(\'sparql-editor\')}"\n		   [routerLink]="[\'AppDev\', \'MyApps\', \'App\', {slug: app.slug}, \'SPARQLEditor\']">\n			<i class="terminal icon"></i>\n			SPARQL Editor\n		</a>\n	</div>\n</a>'})}(),$__System.register("fc",[],function(){return{setters:[],execute:function(){}}}),$__System.register("fd",["13","2d","6c","6d","6a","fe","fb","fc"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,SidebarService_1,template_html_1,SidebarComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){SidebarComponent=function(){function SidebarComponent(router,element,location,sidebarService){var _this=this;this.apps=[],this.router=router,this.element=element,this.sidebarService=sidebarService,this.location=location,this.sidebarService.addAppEmitter.subscribe(function(item){_this.addApp(item)}),this.sidebarService.toggleEmitter.subscribe(function(){_this.toggle()})}return SidebarComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.refreshAccordion()},SidebarComponent.prototype.addApp=function(app){this.slugExists(app.slug)?null:this.apps.push(app)},SidebarComponent.prototype.toggle=function(){var _this=this;this.sidebarService.toggleMenuButtonEmitter.emit(null),this.$element.is(":visible")?this.$element.animate({width:"0"},400,function(){_this.$element.hide()}):(this.$element.show(),this.$element.animate({width:"300px"},400))},SidebarComponent.prototype.refreshAccordion=function(){this.$element.accordion({selector:{trigger:".item.app, .item.app .title",title:".title"},exclusive:!1})},SidebarComponent.prototype.removeApp=function(id){this.apps.splice(id,1)},SidebarComponent.prototype.isActive=function(slug,fullRoute){switch(typeof slug){case"string":var url=this.location.path().split("/");return fullRoute?url.indexOf(slug)>-1:url[url.length-1].indexOf(slug)>-1;case"object":var instruction=this.router.generate(slug),router=this.router;if(!fullRoute)for(;instruction.child;)instruction=instruction.child,"undefined"!=typeof router._childRouter&&null!==router._childRouter&&"undefined"!=typeof router._childRouter._currentInstruction&&null!==router._childRouter._currentInstruction&&(router=router._childRouter);return router.isRouteActive(instruction);default:return!1}},SidebarComponent.prototype.slugExists=function(slug){return!("undefined"==typeof this.apps.find(function(_app){return _app.slug==slug}))},SidebarComponent=__decorate([core_1.Component({selector:"sidebar",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof router_1.Location&&router_1.Location)&&_c||Object,"function"==typeof(_d="undefined"!=typeof SidebarService_1["default"]&&SidebarService_1["default"])&&_d||Object])],SidebarComponent);var _a,_b,_c,_d}(),exports_1("default",SidebarComponent)}}}),function(){var define=$__System.amdDefine;define("ff",[],function(){return'<div class="ui grid">\n\n	<div class="computer tablet only row">\n		<div class="column">\n			<div class="navigation ui big-stone inverted large menu">\n				<a class="item" [routerLink]="[ \'./Home\' ]"><img class="ui small image logo" src="assets/images/carbon-ldp-logo-lg.png"/></a>\n				<div class="right menu">\n					<a class="item" [routerLink]="[ \'./Home\' ]" [ngClass]="{active: isActive(\'./Home\') }">Dashboard</a>\n					<a class="item">Messages</a>\n					<div class="ui dropdown item">\n						User Name <i class="dropdown icon"></i>\n						<div class="menu">\n							<a class="item">My Profile</a>\n							<a class="item">Lock Screen</a>\n							<a class="item">Log Out</a>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="mobile only row">\n		<div class="column">\n			<div class="navigation ui big-stone inverted large menu">\n				<a class="item" [routerLink]="[ \'./Home\' ]"><img class="ui small image logo" src="assets/images/carbon-ldp-logo-lg.png"/></a>\n				<div class="right menu">\n					<a class="item" [routerLink]="[ \'./Home\' ]" [ngClass]="{active: isActive(\'./Home\') }">Dashboard</a>\n					<a class="item">Messages</a>\n					<a href="" class="menu item open">\n						<i class="content icon"></i>\n					</a>\n				</div>\n			</div>\n			<div class="ui big-stone inverted vertical menu">\n				<a class="item">My Profile</a>\n				<a class="item">Lock Screen</a>\n				<a class="item">Log Out</a>\n			</div>\n		</div>\n\n	</div>\n</div>'})}(),$__System.register("100",[],function(){return{setters:[],execute:function(){}}}),$__System.register("101",["13","2d","6c","6d","6a","ff","100"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,template_html_1,HeaderComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){HeaderComponent=function(){function HeaderComponent(router,element){this.router=router,this.element=element}return HeaderComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.createDropdownMenus(),this.createCollapsableMenus()},HeaderComponent.prototype.isActive=function(route){var instruction=this.router.generate([route]);return this.router.isRouteActive(instruction)},HeaderComponent.prototype.createDropdownMenus=function(){this.$element.find(".ui.dropdown").dropdown({on:"hover"})},HeaderComponent.prototype.createCollapsableMenus=function(){var verticalMenu=this.$element.find(".ui.vertical.menu");this.$element.find(".menu.item.open").on("click",function(e){e.preventDefault(),verticalMenu.toggle()}),verticalMenu.toggle()},HeaderComponent=__decorate([core_1.Component({selector:"header",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object])],HeaderComponent);var _a,_b}(),exports_1("default",HeaderComponent)}}}),function(){var define=$__System.amdDefine;define("102",[],function(){return'<div class="ui right aligned basic segment">\n	<p>© 2016 Base22 Technology Group, LLC. All Rights Reserved.</p>\n</div>'})}(),$__System.register("103",[],function(){return{setters:[],execute:function(){}}}),$__System.register("104",["13","6d","6a","102","103"],function(exports_1,context_1){"use strict";function triggerPulseTransition(){var $element=jquery_1["default"](this);$element.transition("pulse")}var core_1,jquery_1,template_html_1,FooterComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){FooterComponent=function(){function FooterComponent(element){this.element=element}return FooterComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.addSocialButtonsAnimations()},FooterComponent.prototype.ngOnDestroy=function(){this.$element.find(".social-icons .icon").unbind("mouseenter",triggerPulseTransition)},FooterComponent.prototype.addSocialButtonsAnimations=function(){this.$element.find(".social-icons .icon").mouseenter(triggerPulseTransition)},FooterComponent=__decorate([core_1.Component({selector:"footer",template:template_html_1["default"],directives:[]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],FooterComponent);var _a}(),exports_1("default",FooterComponent)}}}),function(){var define=$__System.amdDefine;define("105",[],function(){return'<div class="ui menu">\n	<a class="item toggle" *ngIf="clickable" (click)="toggleSidebar()">\n		<i class="sidebar icon"></i>\n		Menu\n	</a>\n	<div class="ui borderless menu small breadcrumb steps">\n		<a class="item step"\n		   *ngFor="#breadCrumb of breadCrumbs; #i =index"\n		   [ngClass]="{active: isActive(breadCrumb.alias) }"\n		   [routerLink]="breadCrumb.alias">\n			<div class="content">\n				<div class="title">{{breadCrumb.displayName}}</div>\n			</div>\n		</a>\n	</div>\n</div>'})}(),$__System.register("106",[],function(){return{setters:[],execute:function(){}}}),$__System.register("107",["13","2d","6c","6d","6a","fe","105","106"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,SidebarService_1,template_html_1,MenuBarComponentComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){MenuBarComponentComponent=function(){function MenuBarComponentComponent(router,element,sidebarService){var _this=this;this.clickable=!1,this.breadCrumbs=[],this.instructions=[],this.router=router,this.element=element,this.sidebarService=sidebarService,this.router.parent.subscribe(function(url){_this.updateBreadcrumbs(url)}),this.sidebarService.toggleMenuButtonEmitter.subscribe(function(){_this.toggleMenuButton()})}return MenuBarComponentComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},MenuBarComponentComponent.prototype.toggleMenuButton=function(){this.clickable=!this.clickable},MenuBarComponentComponent.prototype.updateBreadcrumbs=function(url){var _this=this;this.instructions=[],this.breadCrumbs=[];var workingInstruction;this.router.recognize(url).then(function(instruction){if(instruction){for(workingInstruction=instruction;workingInstruction.child;)_this.addInstruction(workingInstruction),workingInstruction=workingInstruction.child;!workingInstruction.child&&workingInstruction.urlPath&&_this.addInstruction(workingInstruction)}})},MenuBarComponentComponent.prototype.getRouteAlias=function(){var alias=[],params={name:""};return this.instructions.forEach(function(instruction){instruction&&(alias.push(instruction.component.routeData.data.alias),params=instruction.component.routeData.data.params,params&&alias.push((_a={},_a[params.name]=instruction.urlPath,_a)));var _a}),alias},MenuBarComponentComponent.prototype.addInstruction=function(workingInstruction){this.instructions.push(workingInstruction),this.breadCrumbs.push({url:workingInstruction.urlPath,displayName:workingInstruction.component.routeData.data.displayName,alias:this.getRouteAlias(),friendlyAlias:this.getFriendlyAlias()})},MenuBarComponentComponent.prototype.getFriendlyAlias=function(){var friendlyURL="";return this.instructions.forEach(function(instruction){instruction&&(friendlyURL+=instruction.component.routeData.data.alias,friendlyURL+=instruction.child?"/":"")}),friendlyURL},MenuBarComponentComponent.prototype.isActive=function(route){for(var instruction=this.router.generate(route),router=this.router;instruction.child;)instruction=instruction.child,"undefined"!=typeof router._childRouter&&null!==router._childRouter&&"undefined"!=typeof router._childRouter._currentInstruction&&null!==router._childRouter._currentInstruction&&(router=router._childRouter);return router.isRouteActive(instruction)},MenuBarComponentComponent.prototype.toggleSidebar=function(){this.sidebarService.toggle()},MenuBarComponentComponent=__decorate([core_1.Component({selector:"menu-bar",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof SidebarService_1["default"]&&SidebarService_1["default"])&&_c||Object])],MenuBarComponentComponent);var _a,_b,_c}(),exports_1("default",MenuBarComponentComponent)}}}),function(){var define=$__System.amdDefine;define("108",[],function(){return'<div class="ui grid">\n	<div class="sixteen wide column">\n		<h1>Welcome to the Dashboard</h1>\n	</div>\n</div>'})}(),$__System.register("109",["13","2d","6c","6d","6a","108","fe"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,template_html_1,SidebarService_1,DashboardView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1}],execute:function(){DashboardView=function(){function DashboardView(router,element,sidebarService){this.router=router,this.element=element,this.sidebarService=sidebarService}return DashboardView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},DashboardView.prototype.routerOnDeactivate=function(){},DashboardView=__decorate([core_1.Component({selector:"home",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof SidebarService_1["default"]&&SidebarService_1["default"])&&_c||Object])],DashboardView);var _a,_b,_c}(),exports_1("default",DashboardView)}}}),function(){var define=$__System.amdDefine;define("10a",[],function(){return"This is the dasboard"})}(),$__System.register("10b",["13","2d","6c","6d","6a","fe","10c","10a"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,SidebarService_1,MyAppsService_1,template_html_1,AppDashboardView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1},function(MyAppsService_1_1){MyAppsService_1=MyAppsService_1_1},function(template_html_1_1){template_html_1=template_html_1_1}],execute:function(){AppDashboardView=function(){function AppDashboardView(router,element,routeParams,sidebarService,myAppsService){this.router=router,this.element=element,this.routeParams=routeParams,this.sidebarService=sidebarService,this.myAppsService=myAppsService}return AppDashboardView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},AppDashboardView=__decorate([core_1.Component({selector:"dashboard",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES],providers:[MyAppsService_1["default"]]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof router_1.RouteParams&&router_1.RouteParams)&&_c||Object,"function"==typeof(_d="undefined"!=typeof SidebarService_1["default"]&&SidebarService_1["default"])&&_d||Object,"function"==typeof(_e="undefined"!=typeof MyAppsService_1["default"]&&MyAppsService_1["default"])&&_e||Object])],AppDashboardView);var _a,_b,_c,_d,_e}(),exports_1("default",AppDashboardView)}}}),function(){var define=$__System.amdDefine;define("10d",[],function(){return'<div *ngIf="resultset == null || resultset?.head == null || resultset?.results == null" class="ui segment center aligned">Invalid provided resultset.</div>'})}(),$__System.register("10e",[],function(){return{setters:[],execute:function(){}}}),$__System.register("10f",["13","2d","6d","6a","10d","10e"],function(exports_1,context_1){"use strict";var core_1,common_1,jquery_1,template_html_1,ResultsetTableComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){ResultsetTableComponent=function(){function ResultsetTableComponent(element){this.resultsetChange=new core_1.EventEmitter,this.element=element}return ResultsetTableComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),null!=this.resultset&&null!=this.resultset.head&&this.buildTable()},ResultsetTableComponent.prototype.ngOnChanges=function(changeRecord){if("resultset"in changeRecord){var change=changeRecord.resultset;change.currentValue!==change.previousValue&&(this.resultset=change.currentValue,this.buildTable())}},ResultsetTableComponent.prototype.buildTable=function(){var _this=this;this.table=document.createElement("table"),this.tableHead=this.table.createTHead(),this.tableBody=this.table.createTBody(),this.table.className="ui celled very compact striped table";var columns=[],td=document.createElement("tr");this.resultset.head.vars.forEach(function(value,index){var th=document.createElement("th");th.className="center aligned",th.innerHTML=value,td.appendChild(th),columns.push(value)}),this.tableHead.appendChild(td),this.table.appendChild(this.tableHead);var resourcesNumber=0,lastResourceURI="";this.resultset.results.bindings.forEach(function(result,index){var tr=document.createElement("tr");columns.forEach(function(colName,colIndex){var td=document.createElement("td"),firstURI=!1;if(0==colIndex&&result[colName].value!=lastResourceURI&&(lastResourceURI=result[colName].value,resourcesNumber++,firstURI=!0),null==result[colName])td.innerHTML="";else{var type=result[colName].type,value=result[colName].value;if("uri"==type)firstURI?firstURI=!1:-1!=value.search(lastResourceURI)&&(value=value.replace(lastResourceURI,"&#60;")+"&#62;");else if("typed-literal"==type){var datatype="";value='"'+value+'"^^'+datatype,td.className=td.className+" success"}else value='"'+value+'"',td.className=td.className+" warning";td.innerHTML=value}tr.appendChild(td)}),_this.tableBody.appendChild(tr)}),this.element.nativeElement.innerHTML="",this.element.nativeElement.appendChild(this.table)},__decorate([core_1.Input(),__metadata("design:type",Object)],ResultsetTableComponent.prototype,"resultset",void 0),__decorate([core_1.Output(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof core_1.EventEmitter&&core_1.EventEmitter)&&_a||Object)],ResultsetTableComponent.prototype,"resultsetChange",void 0),ResultsetTableComponent=__decorate([core_1.Component({selector:"resultset-table",directives:[common_1.CORE_DIRECTIVES],template:template_html_1["default"]}),__metadata("design:paramtypes",["function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object])],ResultsetTableComponent);var _a,_b}(),exports_1("ResultsetTableComponent",ResultsetTableComponent)}}}),function(){var define=$__System.amdDefine;define("110",[],function(){return'<div [ngClass]="[\'ui\', \'sixteen\', \'wide\', \'column\', \'accordion\']">\n	<div [ngClass]="[\'ui\', \'top\', \'attached\', \'menu\', \'title\', response.result]">\n		<div class="header item">\n			<span>{{response.query.operation}}</span>\n			<span> <i>({{response.duration}} ms)</i></span>\n		</div>\n		<div class="right menu">\n			<div class="ui small basic icon buttons" style="border:none;">\n				<button class="ui button btn-toggle"><i class="dropdown icon"></i></button>\n				<button (click)="onConfigureResponse()" class="ui button btn-settings"><i class="configure icon"></i></button>\n				<button (click)="onReExecuteResponse()" class="ui button btn-refresh"><i class="refresh icon"></i></button>\n				<button (click)="onRemoveResponse()" class="ui button btn-close"><i class="remove icon"></i></button>\n			</div>\n		</div>\n	</div>\n	<div class="ui bottom attached segment content {{response.result}}" [ngClass]="{loading:response.isReExecuting}">\n		<div class="ui pointing secondary tabular menu">\n			<a class="item active" [attr.data-tab]="index+\'_first\'" data-tab="first">Results</a>\n			<a class="item" [attr.data-tab]="index+\'_second\'" data-tab="second">Raw Data</a>\n			<a class="item" [attr.data-tab]="index+\'_third\'" data-tab="third">SPARQL Request</a>\n		</div>\n		<div class="tabs">\n			<!-- Resultset -->\n			<!--<resultset class="ui active tab" [outputformat]="outputformat" [resultset]="response.resultset" [attr.data-tab]="index+\'_first\'" data-tab="first"></resultset>-->\n			<div class="ui active tab" [attr.data-tab]="index+\'_first\'" data-tab="first">\n				<code-mirror *ngIf="!!outputformat && outputformat != SPARQLFormats.table"\n				             [mode]="outputformat"\n				             [readOnly]="\'nocursor\'"\n				             [(value)]="response.data"></code-mirror>\n				<resultset-table *ngIf="outputformat === SPARQLFormats.table"\n				                 [(resultset)]="response.resultset"></resultset-table>\n			</div>\n			<!-- End: Resultset -->\n			<!-- Response data -->\n			<pre class="ui tab secondary segment" [attr.data-tab]="index+\'_second\'" data-tab="second">{{response.data}}</pre>\n			<!-- End: Response data -->\n			<!-- SPARQL Request -->\n			<div class="ui tab segment" [attr.data-tab]="index+\'_third\'" data-tab="third"></div>\n			<!-- End: SPARQL Request -->\n		</div>\n	</div>\n</div>'})}(),$__System.register("111",[],function(){return{setters:[],execute:function(){}}}),$__System.register("112",["13","2d","6b","10f","6d","6a","110","111"],function(exports_1,context_1){"use strict";var core_1,common_1,CodeMirrorComponent,ResultsetTableComponent_1,jquery_1,template_html_1,ResponseComponent,SPARQLResponseType,SPARQLFormats,SPARQLClientResponse,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(ResultsetTableComponent_1_1){ResultsetTableComponent_1=ResultsetTableComponent_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){ResponseComponent=function(){function ResponseComponent(element){this.onRemove=new core_1.EventEmitter,this.onConfigure=new core_1.EventEmitter,this.onReExecute=new core_1.EventEmitter,this.SPARQLFormats=SPARQLFormats,this.element=element}return Object.defineProperty(ResponseComponent.prototype,"codeMirrorMode",{get:function(){return CodeMirrorComponent.Mode},enumerable:!0,configurable:!0}),ResponseComponent.prototype.ngOnInit=function(){this.outputformat=this.response.query.format;var format=this.getCodeMirrorMode(this.response.query.format);this.outputformat=format?format:this.outputformat},ResponseComponent.prototype.ngAfterViewInit=function(){var _this=this;this.$element=jquery_1["default"](this.element.nativeElement),this.accordion=this.$element.find(".accordion"),this.accordion.accordion({onOpen:function(){_this.onOpen()},selector:{trigger:".title .btn-toggle"}}),this.menu=this.$element.find(".content .tabular.menu > .item"),this.menu.tab()},ResponseComponent.prototype.onRemoveResponse=function(){this.onRemove.next(this.response)},ResponseComponent.prototype.onOpen=function(){this.$element.find(".CodeMirror").each(function(i,element){element.CodeMirror.refresh()})},ResponseComponent.prototype.onConfigureResponse=function(){this.onConfigure.next(this.response)},ResponseComponent.prototype.onReExecuteResponse=function(){this.accordion.accordion("open",0),this.onReExecute.next(this.response)},ResponseComponent.prototype.getCodeMirrorMode=function(format){switch(format){case SPARQLFormats.csv:return CodeMirrorComponent.Mode.CSV;case SPARQLFormats.xml:return CodeMirrorComponent.Mode.XML;case SPARQLFormats.jsonLD:return CodeMirrorComponent.Mode.JSONLD;case SPARQLFormats.jsonRDF:return CodeMirrorComponent.Mode.JSONDRDF;case SPARQLFormats.n3:return CodeMirrorComponent.Mode.N3;case SPARQLFormats.rdfXML:return CodeMirrorComponent.Mode.RDFXML;case SPARQLFormats.tsv:return CodeMirrorComponent.Mode.TSV;case SPARQLFormats.turtle:return CodeMirrorComponent.Mode.TURTLE;case SPARQLFormats["boolean"]:return CodeMirrorComponent.Mode.JAVASCRIPT;default:return null}},__decorate([core_1.Input(),__metadata("design:type",SPARQLClientResponse)],ResponseComponent.prototype,"response",void 0),__decorate([core_1.Output(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof core_1.EventEmitter&&core_1.EventEmitter)&&_a||Object)],ResponseComponent.prototype,"onRemove",void 0),__decorate([core_1.Output(),__metadata("design:type","function"==typeof(_b="undefined"!=typeof core_1.EventEmitter&&core_1.EventEmitter)&&_b||Object)],ResponseComponent.prototype,"onConfigure",void 0),__decorate([core_1.Output(),__metadata("design:type","function"==typeof(_c="undefined"!=typeof core_1.EventEmitter&&core_1.EventEmitter)&&_c||Object)],ResponseComponent.prototype,"onReExecute",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],ResponseComponent.prototype,"outputformat",void 0),ResponseComponent=__decorate([core_1.Component({selector:"sparql-response",directives:[common_1.CORE_DIRECTIVES,common_1.NgClass,CodeMirrorComponent.Class,ResultsetTableComponent_1.ResultsetTableComponent],template:template_html_1["default"]}),__metadata("design:paramtypes",["function"==typeof(_d="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_d||Object])],ResponseComponent);var _a,_b,_c,_d}(),exports_1("ResponseComponent",ResponseComponent),SPARQLResponseType=function(){function SPARQLResponseType(){}return SPARQLResponseType.success="success",SPARQLResponseType["default"]="default",SPARQLResponseType.error="error",SPARQLResponseType}(),exports_1("SPARQLResponseType",SPARQLResponseType),SPARQLFormats=function(){function SPARQLFormats(){}return SPARQLFormats.table="table",SPARQLFormats.xml="xml",SPARQLFormats.csv="csv",SPARQLFormats.tsv="tsv",SPARQLFormats.jsonLD="json-ld",SPARQLFormats.turtle="turtle",SPARQLFormats.jsonRDF="json-rdf",SPARQLFormats.rdfXML="rdfxml",SPARQLFormats.n3="n3",SPARQLFormats["boolean"]="boolean",SPARQLFormats}(),exports_1("SPARQLFormats",SPARQLFormats),SPARQLClientResponse=function(){function SPARQLClientResponse(){this.duration=null,this.resultset=null,this.query=null,this.result=null,this.isReExecuting=!1,this.data=null}return SPARQLClientResponse.prototype.setData=function(data){this.data=JSON.stringify(data,null,2)},SPARQLClientResponse}(),exports_1("SPARQLClientResponse",SPARQLClientResponse)}}}),$__System.registerDynamic("113",["114","3"],!0,function($__require,exports,module){var define;$__require("3");return function(mod){"object"==typeof exports&&"object"==typeof module?mod($__require("114")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function expressionAllowed(stream,state,backUp){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(state.lastType)||"quasi"==state.lastType&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}CodeMirror.defineMode("javascript",function(config,parserConfig){function readRegexp(stream){for(var next,escaped=!1,inSet=!1;null!=(next=stream.next());){if(!escaped){if("/"==next&&!inSet)return;"["==next?inSet=!0:inSet&&"]"==next&&(inSet=!1)}escaped=!escaped&&"\\"==next}}function ret(tp,style,cont){return type=tp,content=cont,style}function tokenBase(stream,state){var ch=stream.next();if('"'==ch||"'"==ch)return state.tokenize=tokenString(ch),state.tokenize(stream,state);if("."==ch&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/))return ret("number","number");if("."==ch&&stream.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ch))return ret(ch);if("="==ch&&stream.eat(">"))return ret("=>","operator");if("0"==ch&&stream.eat(/x/i))return stream.eatWhile(/[\da-f]/i),ret("number","number");if("0"==ch&&stream.eat(/o/i))return stream.eatWhile(/[0-7]/i),ret("number","number");if("0"==ch&&stream.eat(/b/i))return stream.eatWhile(/[01]/i),ret("number","number");if(/\d/.test(ch))return stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),ret("number","number");if("/"==ch)return stream.eat("*")?(state.tokenize=tokenComment,tokenComment(stream,state)):stream.eat("/")?(stream.skipToEnd(),ret("comment","comment")):expressionAllowed(stream,state,1)?(readRegexp(stream),stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),ret("regexp","string-2")):(stream.eatWhile(isOperatorChar),ret("operator","operator",stream.current()));if("`"==ch)return state.tokenize=tokenQuasi,tokenQuasi(stream,state);if("#"==ch)return stream.skipToEnd(),ret("error","error");if(isOperatorChar.test(ch))return stream.eatWhile(isOperatorChar),ret("operator","operator",stream.current());if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current(),known=keywords.propertyIsEnumerable(word)&&keywords[word];return known&&"."!=state.lastType?ret(known.type,known.style,word):ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var next,escaped=!1;if(jsonldMode&&"@"==stream.peek()&&stream.match(isJsonldKeyword))return state.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;null!=(next=stream.next())&&(next!=quote||escaped);)escaped=!escaped&&"\\"==next;return escaped||(state.tokenize=tokenBase),ret("string","string")}}function tokenComment(stream,state){for(var ch,maybeEnd=!1;ch=stream.next();){if("/"==ch&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd="*"==ch}return ret("comment","comment")}function tokenQuasi(stream,state){for(var next,escaped=!1;null!=(next=stream.next());){if(!escaped&&("`"==next||"$"==next&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==next}return ret("quasi","string-2",stream.current())}function findFatArrow(stream,state){state.fatArrowAt&&(state.fatArrowAt=null);var arrow=stream.string.indexOf("=>",stream.start);if(!(0>arrow)){for(var depth=0,sawSomething=!1,pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos),bracket=brackets.indexOf(ch);if(bracket>=0&&3>bracket){if(!depth){++pos;break}if(0==--depth)break}else if(bracket>=3&&6>bracket)++depth;else if(wordRE.test(ch))sawSomething=!0;else{if(/["'\/]/.test(ch))return;if(sawSomething&&!depth){++pos;break}}}sawSomething&&!depth&&(state.fatArrowAt=pos)}}function JSLexical(indented,column,type,align,prev,info){this.indented=indented,this.column=column,this.type=type,this.prev=prev,this.info=info,null!=align&&(this.align=align)}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx=state.context;cx;cx=cx.prev)for(var v=cx.vars;v;v=v.next)if(v.name==varname)return!0}function parseJS(state,style,type,content,stream){var cc=state.cc;for(cx.state=state,cx.stream=stream,cx.marked=null,cx.cc=cc,cx.style=style,state.lexical.hasOwnProperty("align")||(state.lexical.align=!0);;){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();return cx.marked?cx.marked:"variable"==type&&inScope(state,content)?"variable-2":style}}}function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){return pass.apply(null,arguments),!0}function register(varname){function inList(list){for(var v=list;v;v=v.next)if(v.name==varname)return!0;return!1}var state=cx.state;if(cx.marked="def",state.context){if(inList(state.localVars))return;state.localVars={name:varname,next:state.localVars}}else{if(inList(state.globalVars))return;parserConfig.globalVars&&(state.globalVars={name:varname,next:state.globalVars})}}function pushcontext(){cx.state.context={prev:cx.state.context,vars:cx.state.localVars},cx.state.localVars=defaultVars}function popcontext(){cx.state.localVars=cx.state.context.vars,cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if("stat"==state.lexical.type)indent=state.lexical.indented;else for(var outer=state.lexical;outer&&")"==outer.type&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};return result.lex=!0,result}function poplex(){var state=cx.state;state.lexical.prev&&(")"==state.lexical.type&&(state.indented=state.lexical.indented),state.lexical=state.lexical.prev)}function expect(wanted){function exp(type){return type==wanted?cont():";"==wanted?pass():cont(exp)}return exp}function statement(type,value){return"var"==type?cont(pushlex("vardef",value.length),vardef,expect(";"),poplex):"keyword a"==type?cont(pushlex("form"),expression,statement,poplex):"keyword b"==type?cont(pushlex("form"),statement,poplex):"{"==type?cont(pushlex("}"),block,poplex):";"==type?cont():"if"==type?("else"==cx.state.lexical.info&&cx.state.cc[cx.state.cc.length-1]==poplex&&cx.state.cc.pop()(),cont(pushlex("form"),expression,statement,poplex,maybeelse)):"function"==type?cont(functiondef):"for"==type?cont(pushlex("form"),forspec,statement,poplex):"variable"==type?cont(pushlex("stat"),maybelabel):"switch"==type?cont(pushlex("form"),expression,pushlex("}","switch"),expect("{"),block,poplex,poplex):"case"==type?cont(expression,expect(":")):"default"==type?cont(expect(":")):"catch"==type?cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext):"class"==type?cont(pushlex("form"),className,poplex):"export"==type?cont(pushlex("stat"),afterExport,poplex):"import"==type?cont(pushlex("stat"),afterImport,poplex):"module"==type?cont(pushlex("form"),pattern,pushlex("}"),expect("{"),block,poplex,poplex):pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(type){return expressionInner(type,!1)}function expressionNoComma(type){return expressionInner(type,!0)}function expressionInner(type,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if("("==type)return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),body,popcontext);if("variable"==type)return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;return atomicTypes.hasOwnProperty(type)?cont(maybeop):"function"==type?cont(functiondef,maybeop):"keyword c"==type?cont(noComma?maybeexpressionNoComma:maybeexpression):"("==type?cont(pushlex(")"),maybeexpression,comprehension,expect(")"),poplex,maybeop):"operator"==type||"spread"==type?cont(noComma?expressionNoComma:expression):"["==type?cont(pushlex("]"),arrayLiteral,poplex,maybeop):"{"==type?contCommasep(objprop,"}",null,maybeop):"quasi"==type?pass(quasi,maybeop):"new"==type?cont(maybeTarget(noComma)):cont()}function maybeexpression(type){return type.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeexpressionNoComma(type){return type.match(/[;\}\)\],]/)?pass():pass(expressionNoComma)}function maybeoperatorComma(type,value){return","==type?cont(expression):maybeoperatorNoComma(type,value,!1);
}function maybeoperatorNoComma(type,value,noComma){var me=0==noComma?maybeoperatorComma:maybeoperatorNoComma,expr=0==noComma?expression:expressionNoComma;return"=>"==type?cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext):"operator"==type?/\+\+|--/.test(value)?cont(me):"?"==value?cont(expression,expect(":"),expr):cont(expr):"quasi"==type?pass(quasi,me):";"!=type?"("==type?contCommasep(expressionNoComma,")","call",me):"."==type?cont(property,me):"["==type?cont(pushlex("]"),maybeexpression,expect("]"),poplex,me):void 0:void 0}function quasi(type,value){return"quasi"!=type?pass():"${"!=value.slice(value.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(type){return"}"==type?(cx.marked="string-2",cx.state.tokenize=tokenQuasi,cont(quasi)):void 0}function arrowBody(type){return findFatArrow(cx.stream,cx.state),pass("{"==type?statement:expression)}function arrowBodyNoComma(type){return findFatArrow(cx.stream,cx.state),pass("{"==type?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){return"."==type?cont(noComma?targetNoComma:target):pass(noComma?expressionNoComma:expression)}}function target(_,value){return"target"==value?(cx.marked="keyword",cont(maybeoperatorComma)):void 0}function targetNoComma(_,value){return"target"==value?(cx.marked="keyword",cont(maybeoperatorNoComma)):void 0}function maybelabel(type){return":"==type?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(type){return"variable"==type?(cx.marked="property",cont()):void 0}function objprop(type,value){return"variable"==type||"keyword"==cx.style?(cx.marked="property",cont("get"==value||"set"==value?getterSetter:afterprop)):"number"==type||"string"==type?(cx.marked=jsonldMode?"property":cx.style+" property",cont(afterprop)):"jsonld-keyword"==type?cont(afterprop):"modifier"==type?cont(objprop):"["==type?cont(expression,expect("]"),afterprop):"spread"==type?cont(expression):void 0}function getterSetter(type){return"variable"!=type?pass(afterprop):(cx.marked="property",cont(functiondef))}function afterprop(type){return":"==type?cont(expressionNoComma):"("==type?pass(functiondef):void 0}function commasep(what,end){function proceed(type){if(","==type){var lex=cx.state.lexical;return"call"==lex.info&&(lex.pos=(lex.pos||0)+1),cont(what,proceed)}return type==end?cont():cont(expect(end))}return function(type){return type==end?cont():pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){return"}"==type?cont():pass(statement,block)}function maybetype(type){return isTS&&":"==type?cont(typedef):void 0}function maybedefault(_,value){return"="==value?cont(expressionNoComma):void 0}function typedef(type){return"variable"==type?(cx.marked="variable-3",cont()):void 0}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){return"modifier"==type?cont(pattern):"variable"==type?(register(value),cont()):"spread"==type?cont(pattern):"["==type?contCommasep(pattern,"]"):"{"==type?contCommasep(proppattern,"}"):void 0}function proppattern(type,value){return"variable"!=type||cx.stream.match(/^\s*:/,!1)?("variable"==type&&(cx.marked="property"),"spread"==type?cont(pattern):"}"==type?pass():cont(expect(":"),pattern,maybeAssign)):(register(value),cont(maybeAssign))}function maybeAssign(_type,value){return"="==value?cont(expressionNoComma):void 0}function vardefCont(type){return","==type?cont(vardef):void 0}function maybeelse(type,value){return"keyword b"==type&&"else"==value?cont(pushlex("form","else"),statement,poplex):void 0}function forspec(type){return"("==type?cont(pushlex(")"),forspec1,expect(")"),poplex):void 0}function forspec1(type){return"var"==type?cont(vardef,expect(";"),forspec2):";"==type?cont(forspec2):"variable"==type?cont(formaybeinof):pass(expression,expect(";"),forspec2)}function formaybeinof(_type,value){return"in"==value||"of"==value?(cx.marked="keyword",cont(expression)):cont(maybeoperatorComma,forspec2)}function forspec2(type,value){return";"==type?cont(forspec3):"in"==value||"of"==value?(cx.marked="keyword",cont(expression)):pass(expression,expect(";"),forspec3)}function forspec3(type){")"!=type&&cont(expression)}function functiondef(type,value){return"*"==value?(cx.marked="keyword",cont(functiondef)):"variable"==type?(register(value),cont(functiondef)):"("==type?cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,statement,popcontext):void 0}function funarg(type){return"spread"==type?cont(funarg):pass(pattern,maybetype,maybedefault)}function className(type,value){return"variable"==type?(register(value),cont(classNameAfter)):void 0}function classNameAfter(type,value){return"extends"==value?cont(expression,classNameAfter):"{"==type?cont(pushlex("}"),classBody,poplex):void 0}function classBody(type,value){return"variable"==type||"keyword"==cx.style?"static"==value?(cx.marked="keyword",cont(classBody)):(cx.marked="property","get"==value||"set"==value?cont(classGetterSetter,functiondef,classBody):cont(functiondef,classBody)):"*"==value?(cx.marked="keyword",cont(classBody)):";"==type?cont(classBody):"}"==type?cont():void 0}function classGetterSetter(type){return"variable"!=type?pass():(cx.marked="property",cont())}function afterExport(_type,value){return"*"==value?(cx.marked="keyword",cont(maybeFrom,expect(";"))):"default"==value?(cx.marked="keyword",cont(expression,expect(";"))):pass(statement)}function afterImport(type){return"string"==type?cont():pass(importSpec,maybeFrom)}function importSpec(type,value){return"{"==type?contCommasep(importSpec,"}"):("variable"==type&&register(value),"*"==value&&(cx.marked="keyword"),cont(maybeAs))}function maybeAs(_type,value){return"as"==value?(cx.marked="keyword",cont(importSpec)):void 0}function maybeFrom(_type,value){return"from"==value?(cx.marked="keyword",cont(expression)):void 0}function arrayLiteral(type){return"]"==type?cont():pass(expressionNoComma,maybeArrayComprehension)}function maybeArrayComprehension(type){return"for"==type?pass(comprehension,expect("]")):","==type?cont(commasep(maybeexpressionNoComma,"]")):pass(commasep(expressionNoComma,"]"))}function comprehension(type){return"for"==type?cont(forspec,comprehension):"if"==type?cont(expression,comprehension):void 0}function isContinuedStatement(state,textAfter){return"operator"==state.lastType||","==state.lastType||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}var type,content,indentUnit=config.indentUnit,statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/,keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),operator=kw("operator"),atom={type:"atom",style:"atom"},jsKeywords={"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":C,"break":C,"continue":C,"new":kw("new"),"delete":C,"throw":C,"debugger":C,"var":kw("var"),"const":kw("var"),let:kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,undefined:atom,NaN:atom,Infinity:atom,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C};if(isTS){var type={type:"variable",style:"variable-3"},tsKeywords={"interface":kw("class"),"implements":C,namespace:C,module:kw("module"),"enum":kw("module"),"public":kw("modifier"),"private":kw("modifier"),"protected":kw("modifier"),"abstract":kw("modifier"),as:operator,string:type,number:type,"boolean":type,any:type};for(var attr in tsKeywords)jsKeywords[attr]=tsKeywords[attr]}return jsKeywords}(),isOperatorChar=/[+\-*&%=<>!?|~^]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,brackets="([{}])",atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},cx={state:null,column:null,marked:null,cc:null},defaultVars={name:"this",next:{name:"arguments"}};return poplex.lex=!0,{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",!1),localVars:parserConfig.localVars,context:parserConfig.localVars&&{vars:parserConfig.localVars},indented:basecolumn||0};return parserConfig.globalVars&&"object"==typeof parserConfig.globalVars&&(state.globalVars=parserConfig.globalVars),state},token:function(stream,state){if(stream.sol()&&(state.lexical.hasOwnProperty("align")||(state.lexical.align=!1),state.indented=stream.indentation(),findFatArrow(stream,state)),state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);return"comment"==type?style:(state.lastType="operator"!=type||"++"!=content&&"--"!=content?type:"incdec",parseJS(state,style,type,content,stream))},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}"stat"==lexical.type&&"}"==firstChar&&(lexical=lexical.prev),statementIndent&&")"==lexical.type&&"stat"==lexical.prev.type&&(lexical=lexical.prev);var type=lexical.type,closing=firstChar==type;return"vardef"==type?lexical.indented+("operator"==state.lastType||","==state.lastType?lexical.info+1:0):"form"==type&&"{"==firstChar?lexical.indented:"form"==type?lexical.indented+indentUnit:"stat"==type?lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0):"switch"!=lexical.info||closing||0==parserConfig.doubleIndentSwitch?lexical.align?lexical.column+(closing?0:1):lexical.indented+(closing?0:indentUnit):lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){var top=state.cc[state.cc.length-1];(top==expression||top==expressionNoComma)&&state.cc.pop()}}}),CodeMirror.registerHelper("wordChars","javascript",/[\w$]/),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/x-javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),module.exports}),$__System.registerDynamic("115",["114","3"],!0,function($__require,exports,module){var define;$__require("3");return function(mod){"object"==typeof exports&&"object"==typeof module?mod($__require("114")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("sparql",function(config){function wordRegexp(words){return new RegExp("^(?:"+words.join("|")+")$","i")}function tokenBase(stream,state){var ch=stream.next();if(curPunc=null,"$"==ch||"?"==ch)return"?"==ch&&stream.match(/\s/,!1)?"operator":(stream.match(/^[\w\d]*/),"variable-2");if("<"!=ch||stream.match(/^[\s\u00a0=]/,!1)){if('"'==ch||"'"==ch)return state.tokenize=tokenLiteral(ch),state.tokenize(stream,state);if(/[{}\(\),\.;\[\]]/.test(ch))return curPunc=ch,"bracket";if("#"==ch)return stream.skipToEnd(),"comment";if(operatorChars.test(ch))return stream.eatWhile(operatorChars),"operator";if(":"==ch)return stream.eatWhile(/[\w\d\._\-]/),"atom";if("@"==ch)return stream.eatWhile(/[a-z\d\-]/i),"meta";if(stream.eatWhile(/[_\w\d]/),stream.eat(":"))return stream.eatWhile(/[\w\d_\-]/),"atom";var word=stream.current();return ops.test(word)?"builtin":keywords.test(word)?"keyword":"variable"}return stream.match(/^[^\s\u00a0>]*>?/),"atom"}function tokenLiteral(quote){return function(stream,state){for(var ch,escaped=!1;null!=(ch=stream.next());){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==ch}return"string"}}function pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type}}function popContext(state){state.indent=state.context.indent,state.context=state.context.prev}var curPunc,indentUnit=config.indentUnit,ops=wordRegexp(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","iri","uri","bnode","count","sum","min","max","avg","sample","group_concat","rand","abs","ceil","floor","round","concat","substr","strlen","replace","ucase","lcase","encode_for_uri","contains","strstarts","strends","strbefore","strafter","year","month","day","hours","minutes","seconds","timezone","tz","now","uuid","struuid","md5","sha1","sha256","sha384","sha512","coalesce","if","strlang","strdt","isnumeric","regex","exists","isblank","isliteral","a"]),keywords=wordRegexp(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","true","false","with","data","copy","to","move","add","create","drop","clear","load"]),operatorChars=/[*+\-<>=&|\^\/!\?]/;return{startState:function(){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(stream,state){if(stream.sol()&&(state.context&&null==state.context.align&&(state.context.align=!1),state.indent=stream.indentation()),stream.eatSpace())return null;var style=state.tokenize(stream,state);if("comment"!=style&&state.context&&null==state.context.align&&"pattern"!=state.context.type&&(state.context.align=!0),"("==curPunc)pushContext(state,")",stream.column());else if("["==curPunc)pushContext(state,"]",stream.column());else if("{"==curPunc)pushContext(state,"}",stream.column());else if(/[\]\}\)]/.test(curPunc)){for(;state.context&&"pattern"==state.context.type;)popContext(state);state.context&&curPunc==state.context.type&&(popContext(state),"}"==curPunc&&state.context&&"pattern"==state.context.type&&popContext(state))}else"."==curPunc&&state.context&&"pattern"==state.context.type?popContext(state):/atom|string|variable/.test(style)&&state.context&&(/[\}\]]/.test(state.context.type)?pushContext(state,"pattern",stream.column()):"pattern"!=state.context.type||state.context.align||(state.context.align=!0,state.context.col=stream.column()));return style},indent:function(state,textAfter){var firstChar=textAfter&&textAfter.charAt(0),context=state.context;if(/[\]\}]/.test(firstChar))for(;context&&"pattern"==context.type;)context=context.prev;var closing=context&&firstChar==context.type;return context?"pattern"==context.type?context.col:context.align?context.col+(closing?0:1):context.indent+(closing?0:indentUnit):0},lineComment:"#"}}),CodeMirror.defineMIME("application/sparql-query","sparql")}),module.exports}),$__System.registerDynamic("116",["114","3"],!0,function($__require,exports,module){var define;$__require("3");return function(mod){"object"==typeof exports&&"object"==typeof module?mod($__require("114")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";var htmlConfig={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};CodeMirror.defineMode("xml",function(editorConf,config_){function inText(stream,state){function chain(parser){return state.tokenize=parser,parser(stream,state)}var ch=stream.next();if("<"==ch)return stream.eat("!")?stream.eat("[")?stream.match("CDATA[")?chain(inBlock("atom","]]>")):null:stream.match("--")?chain(inBlock("comment","-->")):stream.match("DOCTYPE",!0,!0)?(stream.eatWhile(/[\w\._\-]/),chain(doctype(1))):null:stream.eat("?")?(stream.eatWhile(/[\w\._\-]/),state.tokenize=inBlock("meta","?>"),"meta"):(type=stream.eat("/")?"closeTag":"openTag",state.tokenize=inTag,"tag bracket");if("&"==ch){var ok;return ok=stream.eat("#")?stream.eat("x")?stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";"):stream.eatWhile(/[\d]/)&&stream.eat(";"):stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";"),ok?"atom":"error"}return stream.eatWhile(/[^&<]/),null}function inTag(stream,state){var ch=stream.next();if(">"==ch||"/"==ch&&stream.eat(">"))return state.tokenize=inText,type=">"==ch?"endTag":"selfcloseTag","tag bracket";if("="==ch)return type="equals",null;if("<"==ch){state.tokenize=inText,state.state=baseState,state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}return/[\'\"]/.test(ch)?(state.tokenize=inAttribute(ch),state.stringStartCol=stream.column(),state.tokenize(stream,state)):(stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function inAttribute(quote){var closure=function(stream,state){for(;!stream.eol();)if(stream.next()==quote){state.tokenize=inTag;break}return"string"};return closure.isInAttribute=!0,closure}function inBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){for(var ch;null!=(ch=stream.next());){if("<"==ch)return state.tokenize=doctype(depth+1),state.tokenize(stream,state);if(">"==ch){if(1==depth){state.tokenize=inText;break}return state.tokenize=doctype(depth-1),state.tokenize(stream,state)}}return"meta"}}function Context(state,tagName,startOfLine){this.prev=state.context,this.tagName=tagName,this.indent=state.indented,this.startOfLine=startOfLine,(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)&&(this.noIndent=!0)}function popContext(state){state.context&&(state.context=state.context.prev)}function maybePopContext(state,nextTagName){for(var parentTagName;;){if(!state.context)return;if(parentTagName=state.context.tagName,!config.contextGrabbers.hasOwnProperty(parentTagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName))return;popContext(state)}}function baseState(type,stream,state){return"openTag"==type?(state.tagStart=stream.column(),tagNameState):"closeTag"==type?closeTagNameState:baseState}function tagNameState(type,stream,state){return"word"==type?(state.tagName=stream.current(),setStyle="tag",attrState):(setStyle="error",tagNameState)}function closeTagNameState(type,stream,state){if("word"==type){var tagName=stream.current();return state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(state.context.tagName)&&popContext(state),state.context&&state.context.tagName==tagName||config.matchClosing===!1?(setStyle="tag",closeState):(setStyle="tag error",closeStateErr)}return setStyle="error",closeStateErr}function closeState(type,_stream,state){return"endTag"!=type?(setStyle="error",closeState):(popContext(state),baseState)}function closeStateErr(type,stream,state){return setStyle="error",closeState(type,stream,state)}function attrState(type,_stream,state){if("word"==type)return setStyle="attribute",attrEqState;if("endTag"==type||"selfcloseTag"==type){var tagName=state.tagName,tagStart=state.tagStart;return state.tagName=state.tagStart=null,"selfcloseTag"==type||config.autoSelfClosers.hasOwnProperty(tagName)?maybePopContext(state,tagName):(maybePopContext(state,tagName),state.context=new Context(state,tagName,tagStart==state.indented)),baseState}return setStyle="error",attrState}function attrEqState(type,stream,state){return"equals"==type?attrValueState:(config.allowMissing||(setStyle="error"),attrState(type,stream,state))}function attrValueState(type,stream,state){return"string"==type?attrContinuedState:"word"==type&&config.allowUnquoted?(setStyle="string",attrState):(setStyle="error",attrState(type,stream,state))}function attrContinuedState(type,stream,state){return"string"==type?attrContinuedState:attrState(type,stream,state)}var indentUnit=editorConf.indentUnit,config={},defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];var type,setStyle;return inText.isInText=!0,{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};return null!=baseIndent&&(state.baseIndent=baseIndent),state},token:function(stream,state){if(!state.tagName&&stream.sol()&&(state.indented=stream.indentation()),stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);return(style||type)&&"comment"!=style&&(setStyle=null,state.state=state.state(type||style,stream,state),setStyle&&(style="error"==setStyle?style+" error":setStyle)),style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute)return state.tagStart==state.indented?state.stringStartCol+1:state.indented+indentUnit;if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;if(state.tagName)return config.multilineTagIndentPastTag!==!1?state.tagStart+state.tagName.length+2:state.tagStart+indentUnit*(config.multilineTagIndentFactor||1);if(config.alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1])for(;context;){if(context.tagName==tagAfter[2]){context=context.prev;break}if(!config.implicitlyClosed.hasOwnProperty(context.tagName))break;context=context.prev}else if(tagAfter)for(;context;){var grabbers=config.contextGrabbers[context.tagName];if(!grabbers||!grabbers.hasOwnProperty(tagAfter[2]))break;context=context.prev}for(;context&&context.prev&&!context.startOfLine;)context=context.prev;return context?context.indent+indentUnit:state.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){state.state==attrValueState&&(state.state=attrState)}}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0})}),module.exports}),$__System.registerDynamic("114",["3"],!0,function($__require,exports,module){var define;$__require("3");return function(mod){if("object"==typeof exports&&"object"==typeof module)module.exports=mod();else{if("function"==typeof define&&define.amd)return define([],mod);(this||window).CodeMirror=mod()}}(function(){"use strict";function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{},copyObj(defaults,options,!1),setGuttersForLineNumbers(options);var doc=options.value;"string"==typeof doc&&(doc=new Doc(doc,options.mode,null,options.lineSeparator)),this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),options.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),options.autofocus&&!mobile&&display.input.focus(),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};var cm=this;ie&&11>ie_version&&setTimeout(function(){cm.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,doc),options.autofocus&&!mobile||cm.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this);for(var opt in optionHandlers)optionHandlers.hasOwnProperty(opt)&&optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this),options.finishInit&&options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this);endOperation(this),webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering&&(display.lineDiv.style.textRendering="auto")}function Display(place,doc,input){var d=this;this.input=input,d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=elt("div",null,"CodeMirror-code"),d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=elt("div",null,"CodeMirror-cursors"),d.measure=elt("div",null,"CodeMirror-measure"),d.lineMeasure=elt("div",null,"CodeMirror-measure"),d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none"),d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative"),d.sizer=elt("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;"),d.gutters=elt("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),ie&&8>ie_version&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),webkit||gecko&&mobile||(d.scroller.draggable=!0),place&&(place.appendChild?place.appendChild(d.wrapper):place(d.wrapper)),d.viewFrom=d.viewTo=doc.first,d.reportedViewFrom=d.reportedViewTo=doc.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,input.init(d)}function loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption),resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)}),cm.doc.frontier=cm.doc.first,startWorker(cm,100),cm.state.modeGen++,cm.curOp&&regChange(cm)}function wrappingChanged(cm){cm.options.lineWrapping?(addClass(cm.display.wrapper,"CodeMirror-wrap"),cm.display.sizer.style.minWidth="",cm.display.sizerWidth=null):(rmClass(cm.display.wrapper,"CodeMirror-wrap"),findMaxLine(cm)),estimateLineHeights(cm),regChange(cm),clearCaches(cm),setTimeout(function(){updateScrollbars(cm)},100)}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(widgetsHeight+=line.widgets[i].height);return wrapping?widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th:widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);estHeight!=line.height&&updateLineHeight(line,estHeight)})}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(cm)}function guttersChanged(cm){updateGutters(cm),regChange(cm),setTimeout(function(){alignHorizontally(cm)},20)}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i],gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));"CodeMirror-linenumbers"==gutterClass&&(cm.display.lineGutter=gElt,gElt.style.width=(cm.display.lineNumWidth||1)+"px")}gutters.style.display=i?"":"none",updateGutterSpace(cm)}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function lineLength(line){if(0==line.height)return 0;for(var merged,len=line.text.length,cur=line;merged=collapsedSpanAtStart(cur);){var found=merged.find(0,!0);cur=found.from.line,len+=found.from.ch-found.to.ch}for(cur=line;merged=collapsedSpanAtEnd(cur);){var found=merged.find(0,!0);len-=cur.text.length-found.from.ch,cur=found.to.line,len+=cur.text.length-found.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first),d.maxLineLength=lineLength(d.maxLine),d.maxLineChanged=!0,doc.iter(function(line){var len=lineLength(line);len>d.maxLineLength&&(d.maxLineLength=len,d.maxLine=line)})}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");-1==found&&options.lineNumbers?options.gutters=options.gutters.concat(["CodeMirror-linenumbers"]):found>-1&&!options.lineNumbers&&(options.gutters=options.gutters.slice(0),options.gutters.splice(found,1))}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert),place(horiz),on(vert,"scroll",function(){vert.clientHeight&&scroll(vert.scrollTop,"vertical")}),on(horiz,"scroll",function(){horiz.clientWidth&&scroll(horiz.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ie&&8>ie_version&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function NullScrollbars(){}function initScrollbars(cm){cm.display.scrollbars&&(cm.display.scrollbars.clear(),
cm.display.scrollbars.addClass&&rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)),cm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller),on(node,"mousedown",function(){cm.state.focused&&setTimeout(function(){cm.display.input.focus()},0)}),node.setAttribute("cm-not-content","true")},function(pos,axis){"horizontal"==axis?setScrollLeft(cm,pos):setScrollTop(cm,pos)},cm),cm.display.scrollbars.addClass&&addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function updateScrollbars(cm,measure){measure||(measure=measureForScrollbars(cm));var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;4>i&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++)startWidth!=cm.display.barWidth&&cm.options.lineWrapping&&updateHeightsInViewport(cm),updateScrollbarsInner(cm,measureForScrollbars(cm)),startWidth=cm.display.barWidth,startHeight=cm.display.barHeight}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px",d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent",sizes.right&&sizes.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=sizes.bottom+"px",d.scrollbarFiller.style.width=sizes.right+"px"):d.scrollbarFiller.style.display="",sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=sizes.bottom+"px",d.gutterFiller.style.width=measure.gutterWidth+"px"):d.gutterFiller.style.display=""}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;from>ensureFrom?(from=ensureFrom,to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)):Math.min(ensureTo,doc.lastLine())>=to&&(from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight),to=ensureTo)}return{from:from,to:Math.max(to,from+1)}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(display.alignWidgets||display.gutters.firstChild&&cm.options.fixedGutter){for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++)if(!view[i].hidden){cm.options.fixedGutter&&view[i].gutter&&(view[i].gutter.style.left=left);var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}cm.options.fixedGutter&&(display.gutters.style.left=comp+gutterW+"px")}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return!1;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;return display.lineGutter.style.width="",display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1,display.lineNumWidth=display.lineNumInnerWidth+padding,display.lineNumChars=display.lineNumInnerWidth?last.length:-1,display.lineGutter.style.width=display.lineNumWidth+"px",updateGutterSpace(cm),!0}return!1}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport,this.visible=visibleLines(display,cm.doc,viewport),this.editorIsHidden=!display.wrapper.offsetWidth,this.wrapperHeight=display.wrapper.clientHeight,this.wrapperWidth=display.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(cm),this.force=force,this.dims=getDimensions(cm),this.events=[]}function maybeClipScrollbars(cm){var display=cm.display;!display.scrollbarsClipped&&display.scroller.offsetWidth&&(display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth,display.heightForcer.style.height=scrollGap(cm)+"px",display.sizer.style.marginBottom=-display.nativeBarWidth+"px",display.sizer.style.borderRightWidth=scrollGap(cm)+"px",display.scrollbarsClipped=!0)}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden)return resetView(cm),!1;if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm))return!1;maybeUpdateLineNumberWidth(cm)&&(resetView(cm),update.dims=getDimensions(cm));var end=doc.first+doc.size,from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first),to=Math.min(end,update.visible.to+cm.options.viewportMargin);display.viewFrom<from&&from-display.viewFrom<20&&(from=Math.max(doc.first,display.viewFrom)),display.viewTo>to&&display.viewTo-to<20&&(to=Math.min(end,display.viewTo)),sawCollapsedSpans&&(from=visualLineNo(cm.doc,from),to=visualLineEndNo(cm.doc,to));var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to),display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom)),cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo))return!1;var focused=activeElt();return toUpdate>4&&(display.lineDiv.style.display="none"),patchDisplay(cm,display.updateLineNumbers,update.dims),toUpdate>4&&(display.lineDiv.style.display=""),display.renderedView=display.view,focused&&activeElt()!=focused&&focused.offsetHeight&&focused.focus(),removeChildren(display.cursorDiv),removeChildren(display.selectionDiv),display.gutters.style.height=display.sizer.style.minHeight=0,different&&(display.lastWrapHeight=update.wrapperHeight,display.lastWrapWidth=update.wrapperWidth,startWorker(cm,400)),display.updateLineNumbers=null,!0}function postUpdateDisplay(cm,update){for(var viewport=update.viewport,first=!0;(first&&cm.options.lineWrapping&&update.oldDisplayWidth!=displayWidth(cm)||(viewport&&null!=viewport.top&&(viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}),update.visible=visibleLines(cm.display,cm.doc,viewport),!(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)))&&updateDisplayIfNeeded(cm,update);first=!1){updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm),setDocumentHeight(cm,barMeasure),updateScrollbars(cm,barMeasure)}update.signal(cm,"update",cm),(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo)&&(update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo),cm.display.reportedViewFrom=cm.display.viewFrom,cm.display.reportedViewTo=cm.display.viewTo)}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm),postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm),setDocumentHeight(cm,barMeasure),updateScrollbars(cm,barMeasure),update.finish()}}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px",cm.display.heightForcer.style.top=measure.docHeight+"px",cm.display.gutters.style.height=Math.max(measure.docHeight+cm.display.barHeight+scrollGap(cm),measure.clientHeight)+"px"}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var height,cur=display.view[i];if(!cur.hidden){if(ie&&8>ie_version){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom,prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(2>height&&(height=textHeight(display)),(diff>.001||-.001>diff)&&(updateLineHeight(cur.line,height),updateWidgetHeight(cur.line),cur.rest))for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i)line.widgets[i].height=line.widgets[i].node.parentNode.offsetHeight}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i)left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft,width[cm.options.gutters[i]]=n.clientWidth;return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next=node.nextSibling;return webkit&&mac&&cm.display.currentWheelTarget==node?node.style.display="none":node.parentNode.removeChild(node),next}for(var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild,view=display.view,lineN=display.viewFrom,i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(lineView.node&&lineView.node.parentNode==container){for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&null!=updateNumbersFrom&&lineN>=updateNumbersFrom&&lineView.lineNumber;lineView.changes&&(indexOf(lineView.changes,"gutter")>-1&&(updateNumber=!1),updateLineForChanges(cm,lineView,lineN,dims)),updateNumber&&(removeChildren(lineView.lineNumber),lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))),cur=lineView.node.nextSibling}else{var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}lineN+=lineView.size}for(;cur;)cur=rm(cur)}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];"text"==type?updateLineText(cm,lineView):"gutter"==type?updateLineGutter(cm,lineView,lineN,dims):"class"==type?updateLineClasses(lineView):"widget"==type&&updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){return lineView.node==lineView.text&&(lineView.node=elt("div",null,null,"position: relative"),lineView.text.parentNode&&lineView.text.parentNode.replaceChild(lineView.node,lineView.text),lineView.node.appendChild(lineView.text),ie&&8>ie_version&&(lineView.node.style.zIndex=2)),lineView.node}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls&&(cls+=" CodeMirror-linebackground"),lineView.background)cls?lineView.background.className=cls:(lineView.background.parentNode.removeChild(lineView.background),lineView.background=null);else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;return ext&&ext.line==lineView.line?(cm.display.externalMeasured=null,lineView.measure=ext.measure,ext.built):buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);lineView.text==lineView.node&&(lineView.node=built.pre),lineView.text.parentNode.replaceChild(built.pre,lineView.text),lineView.text=built.pre,built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass?(lineView.bgClass=built.bgClass,lineView.textClass=built.textClass,updateLineClasses(lineView)):cls&&(lineView.text.className=cls)}function updateLineClasses(lineView){updateLineBackground(lineView),lineView.line.wrapClass?ensureLineWrapped(lineView).className=lineView.line.wrapClass:lineView.node!=lineView.text&&(lineView.node.className="");var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter&&(lineView.node.removeChild(lineView.gutter),lineView.gutter=null),lineView.gutterBackground&&(lineView.node.removeChild(lineView.gutterBackground),lineView.gutterBackground=null),lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px"),wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");if(cm.display.input.setUneditable(gutterWrap),wrap.insertBefore(gutterWrap,lineView.text),lineView.line.gutterClass&&(gutterWrap.className+=" "+lineView.line.gutterClass),!cm.options.lineNumbers||markers&&markers["CodeMirror-linenumbers"]||(lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))),markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];found&&gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}function updateLineWidgets(cm,lineView,dims){lineView.alignable&&(lineView.alignable=null);for(var next,node=lineView.node.firstChild;node;node=next){var next=node.nextSibling;"CodeMirror-linewidget"==node.className&&lineView.node.removeChild(node)}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);return lineView.text=lineView.node=built.pre,built.bgClass&&(lineView.bgClass=built.bgClass),built.textClass&&(lineView.textClass=built.textClass),updateLineClasses(lineView),updateLineGutter(cm,lineView,lineN,dims),insertLineWidgets(cm,lineView,dims),lineView.node}function insertLineWidgets(cm,lineView,dims){if(insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0),lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(line.widgets)for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");widget.handleMouseEvents||node.setAttribute("cm-ignore-events","true"),positionLineWidget(widget,node,lineView,dims),cm.display.input.setUneditable(node),allowAbove&&widget.above?wrap.insertBefore(node,lineView.gutter||lineView.text):wrap.appendChild(node),signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px",widget.coverGutter||(width-=dims.gutterTotalWidth,node.style.paddingLeft=dims.gutterTotalWidth+"px"),node.style.width=width+"px"}widget.coverGutter&&(node.style.zIndex=5,node.style.position="relative",widget.noHScroll||(node.style.marginLeft=-dims.gutterTotalWidth+"px"))}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function ensureFocus(cm){cm.state.focused||(cm.display.input.focus(),onFocus(cm))}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=!1,sel||(sel=doc.sel);var paste=cm.state.pasteIncoming||"paste"==origin,textLines=doc.splitLines(inserted),multiPaste=null;if(paste&&sel.ranges.length>1)if(lastCopied&&lastCopied.join("\n")==inserted){if(sel.ranges.length%lastCopied.length==0){multiPaste=[];for(var i=0;i<lastCopied.length;i++)multiPaste.push(doc.splitLines(lastCopied[i]))}}else textLines.length==sel.ranges.length&&(multiPaste=map(textLines,function(l){return[l]}));for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i],from=range.from(),to=range.to();range.empty()&&(deleted&&deleted>0?from=Pos(from.line,from.ch-deleted):cm.state.overwrite&&!paste&&(to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))));var updateInput=cm.curOp.updateInput,changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming?"cut":"+input")};makeChange(cm.doc,changeEvent),signalLater(cm,"inputRead",cm,changeEvent)}inserted&&!paste&&triggerElectric(cm,inserted),ensureCursorVisible(cm),cm.curOp.updateInput=updateInput,cm.curOp.typing=!0,cm.state.pasteIncoming=cm.state.cutIncoming=!1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("text/plain");return pasted?(e.preventDefault(),cm.isReadOnly()||cm.options.disableInput||runInOp(cm,function(){applyTextInput(cm,pasted,0,null,"paste")}),!0):void 0}function triggerElectric(cm,inserted){if(cm.options.electricChars&&cm.options.smartIndent)for(var sel=cm.doc.sel,i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];if(!(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line)){var mode=cm.getModeAt(range.head),indented=!1;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++)if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,"smart");break}}else mode.electricInput&&mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch))&&(indented=indentLine(cm,range.head.line,"smart"));indented&&signalLater(cm,"electricInput",cm,range.head.line)}}}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange),text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field){field.setAttribute("autocorrect","off"),field.setAttribute("autocapitalize","off"),field.setAttribute("spellcheck","false")}function TextareaInput(cm){this.cm=cm,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return webkit?te.style.width="1000px":te.setAttribute("wrap","off"),ios&&(te.style.border="1px solid black"),disableBrowserMagic(te),div}function ContentEditableInput(cm){this.cm=cm,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed,this.gracePeriod=!1}function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);return result.offset="right"==result.collapse?result.end:result.start,result}function badPos(pos,bad){return bad&&(pos.bad=!0),pos}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){if(lineNode=cm.display.lineDiv.childNodes[offset],!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0);node=null,offset=0}else for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++)for(var map=0>i?measure.map:maps[i],j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(0>i?lineView.line:lineView.rest[i]),ch=map[j]+offset;return(0>offset||curNode!=textNode)&&(ch=map[j+(offset?1:0)]),Pos(line,ch)}}}var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),!0);if(node==wrapper&&(bad=!0,node=wrapper.childNodes[offset],offset=0,!node)){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}var textNode=3==node.nodeType?node:null,topNode=node;for(textNode||1!=node.childNodes.length||3!=node.firstChild.nodeType||(textNode=node.firstChild,offset&&(offset=textNode.nodeValue.length));topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps,found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){if(found=find(after,after.firstChild,0))return badPos(Pos(found.line,found.ch-dist),bad);dist+=after.textContent.length}for(var before=topNode.previousSibling,dist=offset;before;before=before.previousSibling){if(found=find(before,before.firstChild,-1))return badPos(Pos(found.line,found.ch+dist),bad);dist+=after.textContent.length}}function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id==id}}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(null!=cmText)return""==cmText&&(cmText=node.textContent.replace(/\u200b/g,"")),void(text+=cmText);var range,markerID=node.getAttribute("cm-marker");if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));return void(found.length&&(range=found[0].find())&&(text+=getBetween(cm.doc,range.from,range.to).join(lineSep)))}if("false"==node.getAttribute("contenteditable"))return;for(var i=0;i<node.childNodes.length;i++)walk(node.childNodes[i]);/^(pre|div|p)$/i.test(node.nodeName)&&(closing=!0)}else if(3==node.nodeType){var val=node.nodeValue;if(!val)return;closing&&(text+=lineSep,closing=!1),text+=val}}for(var text="",closing=!1,lineSep=cm.doc.lineSeparator();walk(from),from!=to;)from=from.nextSibling;return text}function Selection(ranges,primIndex){this.ranges=ranges,this.primIndex=primIndex}function Range(anchor,head){this.anchor=anchor,this.head=head}function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())}),primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;primIndex>=i&&--primIndex,ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;return pos.line>last?Pos(last,getLine(doc,last).text.length):clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;return null==ch||ch>linelen?Pos(pos.line,linelen):0>ch?Pos(pos.line,0):pos}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;posBefore!=cmp(other,anchor)<0?(anchor=head,head=other):posBefore!=cmp(head,other)<0&&(head=other)}return new Range(anchor,head)}return new Range(other||head,head)}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options)}function extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range,setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))},origin:options&&options.origin};return signal(doc,"beforeSelectionChange",doc,obj),doc.cm&&signal(doc.cm,"beforeSelectionChange",doc.cm,obj),obj.ranges!=sel.ranges?normalizeSelection(obj.ranges,obj.ranges.length-1):sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);last&&last.ranges?(done[done.length-1]=sel,setSelectionNoUndo(doc,sel,options)):setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options),addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))&&(sel=filterSelectionChange(doc,sel,options));var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0)),options&&options.scroll===!1||!doc.cm||ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){sel.equals(doc.sel)||(doc.sel=sel,doc.cm&&(doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=!0,signalCursorActivity(doc.cm)),signalLater(doc,"cursorActivity",doc))}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1),sel_dontScroll)}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);(out||newAnchor!=range.anchor||newHead!=range.head)&&(out||(out=sel.ranges.slice(0,i)),out[i]=new Range(newAnchor,newHead))}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear&&(signal(m,"beforeCursorEnter"),m.explicitlyCleared)){if(line.markedSpans){--i;continue}break}if(!m.atomic)continue;if(oldPos){var diff,near=m.find(0>dir?1:-1);if((0>dir?m.inclusiveRight:m.inclusiveLeft)&&(near=movePos(doc,near,-dir,line)),near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(0>dir?0>diff:diff>0))return skipAtomicInner(doc,near,pos,dir,mayClear)}var far=m.find(0>dir?-1:1);return(0>dir?m.inclusiveLeft:m.inclusiveRight)&&(far=movePos(doc,far,dir,line)),far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1,found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,!0)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,!0);return found?found:(doc.cantEdit=!0,Pos(doc.first,0))}function movePos(doc,pos,dir,line){return 0>dir&&0==pos.ch?pos.line>doc.first?clipPos(doc,Pos(pos.line-1)):null:dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length?pos.line<doc.first+doc.size-1?Pos(pos.line+1,0):null:new Pos(pos.line,pos.ch+dir)}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++)if(primary!==!1||i!=doc.sel.primIndex){var range=doc.sel.ranges[i],collapsed=range.empty();(collapsed||cm.options.showCursorWhenSelecting)&&drawSelectionCursor(cm,range.head,curFragment),collapsed||drawSelectionRange(cm,range,selFragment)}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div"," ","CodeMirror-cursor"));if(cursor.style.left=pos.left+"px",cursor.style.top=pos.top+"px",cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px",pos.other){var otherCursor=output.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="",otherCursor.style.left=pos.other.left+"px",otherCursor.style.top=pos.other.top+"px",otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function drawSelectionRange(cm,range,output){function add(left,top,width,bottom){0>top&&(top=0),top=Math.round(top),bottom=Math.round(bottom),fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px; top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px; height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}var start,end,lineObj=getLine(doc,line),lineLen=lineObj.text.length;return iterateBidiSections(getOrder(lineObj),fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir){var rightPos,left,right,leftPos=coords(from,"left");if(from==to)rightPos=leftPos,left=right=leftPos.left;else{if(rightPos=coords(to-1,"right"),"rtl"==dir){var tmp=leftPos;leftPos=rightPos,rightPos=tmp}left=leftPos.left,right=rightPos.right}null==fromArg&&0==from&&(left=leftSide),rightPos.top-leftPos.top>3&&(add(left,leftPos.top,null,leftPos.bottom),left=leftSide,leftPos.bottom<rightPos.top&&add(left,leftPos.bottom,null,rightPos.top)),null==toArg&&to==lineLen&&(right=rightSide),(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)&&(start=leftPos),(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)&&(end=rightPos),leftSide+1>left&&(left=leftSide),add(left,rightPos.top,right-left,rightPos.bottom)}),{start:start,end:end}}var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;
singleVLine&&(leftEnd.top<rightStart.top-2?(add(leftEnd.right,leftEnd.top,null,leftEnd.bottom),add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)):add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)),leftEnd.bottom<rightStart.top&&add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(cm.state.focused){var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="",cm.options.cursorBlinkRate>0?display.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate):cm.options.cursorBlinkRate<0&&(display.cursorDiv.style.visibility="hidden")}}function startWorker(cm,time){cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo&&cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first&&(doc.frontier=doc.first),!(doc.frontier>=cm.display.viewTo)){var end=+new Date+cm.options.workTime,state=copyState(doc.mode,getStateBefore(cm,doc.frontier)),changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles,tooLong=line.text.length>cm.options.maxHighlightLength,highlighted=highlightLine(cm,line,tooLong?copyState(doc.mode,state):state,!0);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;newCls?line.styleClasses=newCls:oldCls&&(line.styleClasses=null);for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];ischange&&changedLines.push(doc.frontier),line.stateAfter=tooLong?state:copyState(doc.mode,state)}else line.text.length<=cm.options.maxHighlightLength&&processLine(cm,line.text,state),line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;return++doc.frontier,+new Date>end?(startWorker(cm,cm.options.workDelay),!0):void 0}),changedLines.length&&runInOp(cm,function(){for(var i=0;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}}function findStartLine(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);(null==minline||minindent>indented)&&(minline=search-1,minindent=indented)}return minline}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return!0;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;return state=state?copyState(doc.mode,state):startState(doc.mode),doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null,++pos}),precise&&(doc.frontier=pos),state}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(display.cachedPaddingH=data),data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];Math.abs(cur.bottom-next.bottom)>2&&heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i=0;i<lineView.rest.length;i++)if(lineNo(lineView.rest[i])>lineN)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:!0}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);return view.text=built.pre,removeChildrenAndAdd(cm.display.lineMeasure,built.pre),view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;return ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size?ext:void 0}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);view&&!view.text?view=null:view&&view.changes&&(updateLineForChanges(cm,view,lineN,getDimensions(cm)),cm.curOp.forceUpdate=!0),view||(view=updateExternalMeasurement(cm,line));var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){prepared.before&&(ch=-1);var found,key=ch+(bias||"");return prepared.cache.hasOwnProperty(key)?found=prepared.cache[key]:(prepared.rect||(prepared.rect=prepared.view.text.getBoundingClientRect()),prepared.hasHeights||(ensureLineHeights(cm,prepared.view,prepared.rect),prepared.hasHeights=!0),found=measureCharInner(cm,prepared,ch,bias),found.bogus||(prepared.cache[key]=found)),{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}function nodeAndOffsetInLineMap(map,ch,bias){for(var node,start,end,collapse,i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(mStart>ch?(start=0,end=1,collapse="left"):mEnd>ch?(start=ch-mStart,end=start+1):(i==map.length-3||ch==mEnd&&map[i+3]>ch)&&(end=mEnd-mStart,start=end-1,ch>=mEnd&&(collapse="right")),null!=start){if(node=map[i+2],mStart==mEnd&&bias==(node.insertLeft?"left":"right")&&(collapse=bias),"left"==bias&&0==start)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;)node=map[(i-=3)+2],collapse="left";if("right"==bias&&start==mEnd-mStart)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;)node=map[(i+=3)+2],collapse="right";break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function measureCharInner(cm,prepared,ch,bias){var rect,place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse;if(3==node.nodeType){for(var i=0;4>i;i++){for(;start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if(ie&&9>ie_version&&0==start&&end==place.coverEnd-place.coverStart)rect=node.parentNode.getBoundingClientRect();else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();rect=rects.length?rects["right"==bias?rects.length-1:0]:nullRect}else rect=range(node,start,end).getBoundingClientRect()||nullRect;if(rect.left||rect.right||0==start)break;end=start,start-=1,collapse="right"}ie&&11>ie_version&&(rect=maybeUpdateRectForZooming(cm.display.measure,rect))}else{start>0&&(collapse=bias="right");var rects;rect=cm.options.lineWrapping&&(rects=node.getClientRects()).length>1?rects["right"==bias?rects.length-1:0]:node.getBoundingClientRect()}if(ie&&9>ie_version&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];rect=rSpan?{left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}:nullRect}for(var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,mid=(rtop+rbot)/2,heights=prepared.view.measure.heights,i=0;i<heights.length-1&&!(mid<heights[i]);i++);var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};return rect.left||rect.right||(result.bogus=!0),cm.options.singleCursorHeightPerLine||(result.rtop=rtop,result.rbottom=rbot),result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure&&(lineView.measure.cache={},lineView.measure.heights=null,lineView.rest))for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]={}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null,removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm),cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null,cm.options.lineWrapping||(cm.display.maxLineChanged=!0),cm.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size,rect.bottom+=size}if("line"==context)return rect;context||(context="local");var yOff=heightAtLine(lineObj);if("local"==context?yOff+=paddingTop(cm.display):yOff-=cm.display.viewOffset,"page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff,rect.right+=xOff}return rect.top+=yOff,rect.bottom+=yOff,rect}function fromCoordSystem(cm,coords,context){if("div"==context)return coords;var left=coords.left,top=coords.top;if("page"==context)left-=pageScrollX(),top-=pageScrollY();else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left,top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){return lineObj||(lineObj=getLine(cm.doc,pos.line)),intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);return right?m.left=m.right:m.right=m.left,intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;return ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level?(part=order[--partPos],ch=bidiRight(part)-(part.level%2?0:1),right=!0):ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level&&(part=order[++partPos],ch=bidiLeft(part)-part.level%2,right=!1),right&&ch==part.to&&ch>part.from?get(ch-1):get(ch,right)}lineObj=lineObj||getLine(cm.doc,pos.line),preparedMeasure||(preparedMeasure=prepareMeasureForLine(cm,lineObj));var order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch),val=getBidi(ch,partPos);return null!=bidiOther&&(val.other=getBidi(ch,bidiOther)),val}function estimateCoords(cm,pos){var left=0,pos=clipPos(cm.doc,pos);cm.options.lineWrapping||(left=charWidth(cm.display)*pos.ch);var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);return pos.xRel=xRel,outside&&(pos.outside=!0),pos}function coordsChar(cm,x,y){var doc=cm.doc;if(y+=cm.display.viewOffset,0>y)return PosWithInfo(doc.first,0,!0,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,!0,1);0>x&&(x=0);for(var lineObj=getLine(doc,lineN);;){var found=coordsCharInner(cm,lineObj,lineN,x,y),merged=collapsedSpanAtEnd(lineObj),mergedPos=merged&&merged.find(0,!0);if(!merged||!(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))return found;lineN=lineNo(lineObj=mergedPos.to.line)}}function coordsCharInner(cm,lineObj,lineNo,x,y){function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);return wrongLine=!0,innerOff>sp.bottom?sp.left-adjust:innerOff<sp.top?sp.left+adjust:(wrongLine=!1,sp.left)}var innerOff=y-heightAtLine(lineObj),wrongLine=!1,adjust=2*cm.display.wrapper.clientWidth,preparedMeasure=prepareMeasureForLine(cm,lineObj),bidi=getOrder(lineObj),dist=lineObj.text.length,from=lineLeft(lineObj),to=lineRight(lineObj),fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1);for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):1>=to-from){for(var ch=fromX>x||toX-x>=x-fromX?from:to,xDiff=x-(ch==from?fromX:toX);isExtendingChar(lineObj.text.charAt(ch));)++ch;var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,-1>xDiff?-1:xDiff>1?1:0);return pos}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;step>i;++i)middle=moveVisually(lineObj,middle,1)}var middleX=getX(middle);middleX>x?(to=middle,toX=middleX,(toOutside=wrongLine)&&(toX+=1e3),dist=step):(from=middle,fromX=middleX,fromOutside=wrongLine,dist-=step)}}function textHeight(display){if(null!=display.cachedTextHeight)return display.cachedTextHeight;if(null==measureText){measureText=elt("pre");for(var i=0;49>i;++i)measureText.appendChild(document.createTextNode("x")),measureText.appendChild(elt("br"));measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;return height>3&&(display.cachedTextHeight=height),removeChildren(display.measure),height||1}function charWidth(display){if(null!=display.cachedCharWidth)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;return width>2&&(display.cachedCharWidth=width),width||10}function startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nextOpId},operationGroup?operationGroup.ops.push(cm.curOp):cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)callbacks[i].call(null);for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}while(i<callbacks.length)}function endOperation(cm){var op=cm.curOp,group=op.ownsGroup;if(group)try{fireCallbacksForOps(group)}finally{operationGroup=null;for(var i=0;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)}}function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++)endOperation_R1(ops[i]);for(var i=0;i<ops.length;i++)endOperation_W1(ops[i]);for(var i=0;i<ops.length;i++)endOperation_R2(ops[i]);for(var i=0;i<ops.length;i++)endOperation_W2(ops[i]);for(var i=0;i<ops.length;i++)endOperation_finish(ops[i])}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm),op.updateMaxLine&&findMaxLine(cm),op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping,op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;op.updatedDisplay&&updateHeightsInViewport(cm),op.barMeasure=measureForScrollbars(cm),display.maxLineChanged&&!cm.options.lineWrapping&&(op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3,cm.display.sizerWidth=op.adjustWidthTo,op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth),op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))),(op.updatedDisplay||op.selectionChanged)&&(op.preparedSelection=display.input.prepareSelection())}function endOperation_W2(op){var cm=op.cm;null!=op.adjustWidthTo&&(cm.display.sizer.style.minWidth=op.adjustWidthTo+"px",op.maxScrollLeft<cm.doc.scrollLeft&&setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0),cm.display.maxLineChanged=!1),op.preparedSelection&&cm.display.input.showSelection(op.preparedSelection),op.updatedDisplay&&setDocumentHeight(cm,op.barMeasure),(op.updatedDisplay||op.startHeight!=cm.doc.height)&&updateScrollbars(cm,op.barMeasure),op.selectionChanged&&restartBlink(cm),cm.state.focused&&op.updateInput&&cm.display.input.reset(op.typing),!op.focus||op.focus!=activeElt()||document.hasFocus&&!document.hasFocus()||ensureFocus(op.cm)}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay&&postUpdateDisplay(cm,op.update),null==display.wheelStartX||null==op.scrollTop&&null==op.scrollLeft&&!op.scrollToPos||(display.wheelStartX=display.wheelStartY=null),null==op.scrollTop||display.scroller.scrollTop==op.scrollTop&&!op.forceScroll||(doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop)),display.scrollbars.setScrollTop(doc.scrollTop),display.scroller.scrollTop=doc.scrollTop),null==op.scrollLeft||display.scroller.scrollLeft==op.scrollLeft&&!op.forceScroll||(doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-display.scroller.clientWidth,op.scrollLeft)),display.scrollbars.setScrollLeft(doc.scrollLeft),display.scroller.scrollLeft=doc.scrollLeft,alignHorizontally(cm)),op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);op.scrollToPos.isCursor&&cm.state.focused&&maybeScrollWindow(cm,coords)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)hidden[i].lines.length||signal(hidden[i],"hide");if(unhidden)for(var i=0;i<unhidden.length;++i)unhidden[i].lines.length&&signal(unhidden[i],"unhide");display.wrapper.offsetHeight&&(doc.scrollTop=cm.display.scroller.scrollTop),op.changeObjs&&signal(cm,"changes",cm,op.changeObjs),op.update&&op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function LineView(doc,line,lineN){this.line=line,this.rest=visualLineContinued(line),this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1,this.node=this.text=null,this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var nextPos,array=[],pos=from;to>pos;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size,array.push(view)}return array}function regChange(cm,from,to,lendiff){null==from&&(from=cm.doc.first),null==to&&(to=cm.doc.first+cm.doc.size),lendiff||(lendiff=0);var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)&&(display.updateLineNumbers=from),cm.curOp.viewChanged=!0,from>=display.viewTo)sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo&&resetView(cm);else if(to<=display.viewFrom)sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom?resetView(cm):(display.viewFrom+=lendiff,display.viewTo+=lendiff);else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);cut?(display.view=display.view.slice(cut.index),display.viewFrom=cut.lineN,display.viewTo+=lendiff):resetView(cm)}else if(to>=display.viewTo){var cut=viewCuttingPoint(cm,from,from,-1);cut?(display.view=display.view.slice(0,cut.index),display.viewTo=cut.lineN):resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);cutTop&&cutBot?(display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index)),display.viewTo+=lendiff):resetView(cm)}var ext=display.externalMeasured;ext&&(to<ext.lineN?ext.lineN+=lendiff:from<ext.lineN+ext.size&&(display.externalMeasured=null))}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size&&(display.externalMeasured=null),!(line<display.viewFrom||line>=display.viewTo)){var lineView=display.view[findViewIndex(cm,line)];if(null!=lineView.node){var arr=lineView.changes||(lineView.changes=[]);-1==indexOf(arr,type)&&arr.push(type)}}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first,cm.display.view=[],cm.display.viewOffset=0}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;if(n-=cm.display.viewFrom,0>n)return null;for(var view=cm.display.view,i=0;i<view.length;i++)if(n-=view[i].size,0>n)return i}function viewCuttingPoint(cm,oldN,newN,dir){var diff,index=findViewIndex(cm,oldN),view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;index>i;i++)n+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN,index++}else diff=n-oldN;oldN+=diff,newN+=diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(0>dir?0:view.length-1))return null;newN+=dir*view[index-(0>dir?1:0)].size,index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;0==view.length||from>=display.viewTo||to<=display.viewFrom?(display.view=buildViewArray(cm,from,to),display.viewFrom=from):(display.viewFrom>from?display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view):display.viewFrom<from&&(display.view=display.view.slice(findViewIndex(cm,from))),display.viewFrom=from,display.viewTo<to?display.view=display.view.concat(buildViewArray(cm,display.viewTo,to)):display.viewTo>to&&(display.view=display.view.slice(0,findViewIndex(cm,to)))),display.viewTo=to}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0;i<view.length;i++){var lineView=view[i];lineView.hidden||lineView.node&&!lineView.changes||++dirty}return dirty}function registerEventHandlers(cm){function finishTouch(){d.activeTouch&&(touchFinished=setTimeout(function(){d.activeTouch=null},1e3),prevTouch=d.activeTouch,prevTouch.end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(null==other.left)return!0;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>400}var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown)),ie&&11>ie_version?on(d.scroller,"dblclick",operation(cm,function(e){if(!signalDOMEvent(cm,e)){var pos=posFromMouse(cm,e);if(pos&&!clickInGutter(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}}})):on(d.scroller,"dblclick",function(e){signalDOMEvent(cm,e)||e_preventDefault(e)}),captureRightClick||on(d.scroller,"contextmenu",function(e){onContextMenu(cm,e)});var touchFinished,prevTouch={end:0};on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:now-prevTouch.end<=300?prevTouch:null},1==e.touches.length&&(d.activeTouch.left=e.touches[0].pageX,d.activeTouch.top=e.touches[0].pageY)}}),on(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&new Date-touch.start<300){var range,pos=cm.coordsChar(d.activeTouch,"page");range=!touch.prev||farAway(touch,touch.prev)?new Range(pos,pos):!touch.prev.prev||farAway(touch,touch.prev.prev)?cm.findWordAt(pos):new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0))),cm.setSelection(range.anchor,range.head),cm.focus(),e_preventDefault(e)}finishTouch()}),on(d.scroller,"touchcancel",finishTouch),on(d.scroller,"scroll",function(){d.scroller.clientHeight&&(setScrollTop(cm,d.scroller.scrollTop),setScrollLeft(cm,d.scroller.scrollLeft,!0),signal(cm,"scroll",cm))}),on(d.scroller,"mousewheel",function(e){onScrollWheel(cm,e)}),on(d.scroller,"DOMMouseScroll",function(e){onScrollWheel(cm,e)}),on(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(e){signalDOMEvent(cm,e)||e_stop(e)},over:function(e){signalDOMEvent(cm,e)||(onDragOver(cm,e),e_stop(e))},start:function(e){onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(){clearDragCursor(cm)}};var inp=d.input.getField();on(inp,"keyup",function(e){onKeyUp.call(cm,e)}),on(inp,"keydown",operation(cm,onKeyDown)),on(inp,"keypress",operation(cm,onKeyPress)),on(inp,"focus",bind(onFocus,cm)),on(inp,"blur",bind(onBlur,cm))}function dragDropChanged(cm,value,old){var wasOn=old&&old!=CodeMirror.Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions,toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start),toggle(cm.display.scroller,"dragenter",funcs.enter),toggle(cm.display.scroller,"dragover",funcs.over),toggle(cm.display.scroller,"dragleave",funcs.leave),toggle(cm.display.scroller,"drop",funcs.drop)}}function onResize(cm){var d=cm.display;(d.lastWrapHeight!=d.wrapper.clientHeight||d.lastWrapWidth!=d.wrapper.clientWidth)&&(d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,cm.setSize())}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover)return!0}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content"))return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left,y=e.clientY-space.top}catch(e){return null}var line,coords=coordsChar(cm,x,y);if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function onMouseDown(e){var cm=this,display=cm.display;if(!(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch())){if(display.shift=e.shiftKey,eventInWidget(display,e))return void(webkit||(display.scroller.draggable=!1,setTimeout(function(){display.scroller.draggable=!0},100)));if(!clickInGutter(cm,e)){var start=posFromMouse(cm,e);switch(window.focus(),e_button(e)){case 1:cm.state.selectingText?cm.state.selectingText(e):start?leftButtonDown(cm,e,start):e_target(e)==display.scroller&&e_preventDefault(e);break;case 2:webkit&&(cm.state.lastMiddleDown=+new Date),start&&extendSelection(cm.doc,start),setTimeout(function(){display.input.focus()},20),e_preventDefault(e);break;case 3:captureRightClick?onContextMenu(cm,e):delayBlurEvent(cm)}}}}function leftButtonDown(cm,e,start){ie?setTimeout(bind(ensureFocus,cm),0):cm.curOp.focus=activeElt();var type,now=+new Date;lastDoubleClick&&lastDoubleClick.time>now-400&&0==cmp(lastDoubleClick.pos,start)?type="triple":lastClick&&lastClick.time>now-400&&0==cmp(lastClick.pos,start)?(type="double",lastDoubleClick={time:now,pos:start}):(type="single",lastClick={time:now,pos:start});var contained,sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey;cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&"single"==type&&(contained=sel.contains(start))>-1&&(cmp((contained=sel.ranges[contained]).from(),start)<0||start.xRel>0)&&(cmp(contained.to(),start)>0||start.xRel<0)?leftButtonStartDrag(cm,e,start,modifier):leftButtonSelect(cm,e,start,type,modifier)}function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,startTime=+new Date,dragEnd=operation(cm,function(e2){webkit&&(display.scroller.draggable=!1),cm.state.draggingText=!1,off(document,"mouseup",dragEnd),off(display.scroller,"drop",dragEnd),Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10&&(e_preventDefault(e2),!modifier&&+new Date-200<startTime&&extendSelection(cm.doc,start),webkit||ie&&9==ie_version?setTimeout(function(){document.body.focus(),display.input.focus()},20):display.input.focus())});webkit&&(display.scroller.draggable=!0),cm.state.draggingText=dragEnd,display.scroller.dragDrop&&display.scroller.dragDrop(),on(document,"mouseup",dragEnd),on(display.scroller,"drop",dragEnd)}function leftButtonSelect(cm,e,start,type,addNew){function extendTo(pos){if(0!=cmp(lastPos,pos))if(lastPos=pos,"rect"==type){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=Math.min(startCol,posCol),right=Math.max(startCol,posCol),line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));end>=line;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);left==right?ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos))):text.length>leftPos&&ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}ranges.length||ranges.push(new Range(start,start)),setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1}),cm.scrollIntoView(pos)}else{var oldRange=ourRange,anchor=oldRange.anchor,head=pos;if("single"!=type){
if("double"==type)var range=cm.findWordAt(pos);else var range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)));cmp(range.anchor,anchor)>0?(head=range.head,anchor=minPos(oldRange.from(),range.anchor)):(head=range.anchor,anchor=maxPos(oldRange.to(),range.head))}var ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(clipPos(doc,anchor),head),setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse)}}function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rect"==type);if(cur)if(0!=cmp(cur,lastPos)){cm.curOp.focus=activeElt(),extendTo(cur);var visible=visibleLines(display,doc);(cur.line>=visible.to||cur.line<visible.from)&&setTimeout(operation(cm,function(){counter==curCount&&extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;outside&&setTimeout(operation(cm,function(){counter==curCount&&(display.scroller.scrollTop+=outside,extend(e))}),50)}}function done(e){cm.state.selectingText=!1,counter=1/0,e_preventDefault(e),display.input.focus(),off(document,"mousemove",move),off(document,"mouseup",up),doc.history.lastSelOrigin=null}var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey?(ourIndex=doc.sel.contains(start),ourRange=ourIndex>-1?ranges[ourIndex]:new Range(start,start)):(ourRange=doc.sel.primary(),ourIndex=doc.sel.primIndex),e.altKey)type="rect",addNew||(ourRange=new Range(start,start)),start=posFromMouse(cm,e,!0,!0),ourIndex=-1;else if("double"==type){var word=cm.findWordAt(start);ourRange=cm.display.shift||doc.extend?extendRange(doc,ourRange,word.anchor,word.head):word}else if("triple"==type){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));ourRange=cm.display.shift||doc.extend?extendRange(doc,ourRange,line.anchor,line.head):line}else ourRange=extendRange(doc,ourRange,start);addNew?-1==ourIndex?(ourIndex=ranges.length,setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})):ranges.length>1&&ranges[ourIndex].empty()&&"single"==type&&!e.shiftKey?(setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:!1,origin:"*mouse"}),startSel=doc.sel):replaceOneSelection(doc,ourIndex,ourRange,sel_mouse):(ourIndex=0,setSelection(doc,new Selection([ourRange],0),sel_mouse),startSel=doc.sel);var lastPos=start,editorSize=display.wrapper.getBoundingClientRect(),counter=0,move=operation(cm,function(e){e_button(e)?extend(e):done(e)}),up=operation(cm,done);cm.state.selectingText=up,on(document,"mousemove",move),on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent){try{var mX=e.clientX,mY=e.clientY}catch(e){return!1}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return!1;prevent&&e_preventDefault(e);var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY),gutter=cm.options.gutters[i];return signal(cm,type,cm,line,gutter,e),e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0)}function onDrop(e){var cm=this;if(clearDragCursor(cm),!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e),ie&&(lastDrop=+new Date);var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(pos&&!cm.isReadOnly())if(files&&files.length&&window.FileReader&&window.File)for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){if(!cm.options.allowDropFileTypes||-1!=indexOf(cm.options.allowDropFileTypes,file.type)){var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)&&(content=""),text[i]=content,++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change),setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}}),reader.readAsText(file)}},i=0;n>i;++i)loadFile(files[i],i);else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1)return cm.state.draggingText(e),void setTimeout(function(){cm.display.input.focus()},20);try{var text=e.dataTransfer.getData("Text");if(text){if(cm.state.draggingText&&!(mac?e.altKey:e.ctrlKey))var selected=cm.listSelections();if(setSelectionNoUndo(cm.doc,simpleSelection(pos,pos)),selected)for(var i=0;i<selected.length;++i)replaceRange(cm.doc,"",selected[i].anchor,selected[i].head,"drag");cm.replaceSelection(text,"around","paste"),cm.display.input.focus()}}catch(e){}}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100))return void e_stop(e);if(!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)&&(e.dataTransfer.setData("Text",cm.getSelection()),e.dataTransfer.setDragImage&&!safari)){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",presto&&(img.width=img.height=1,cm.display.wrapper.appendChild(img),img._top=img.offsetTop),e.dataTransfer.setDragImage(img,0,0),presto&&img.parentNode.removeChild(img)}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(pos){var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag),cm.display.dragCursor||(cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)),removeChildrenAndAdd(cm.display.dragCursor,frag)}}function clearDragCursor(cm){cm.display.dragCursor&&(cm.display.lineSpace.removeChild(cm.display.dragCursor),cm.display.dragCursor=null)}function setScrollTop(cm,val){Math.abs(cm.doc.scrollTop-val)<2||(cm.doc.scrollTop=val,gecko||updateDisplaySimple(cm,{top:val}),cm.display.scroller.scrollTop!=val&&(cm.display.scroller.scrollTop=val),cm.display.scrollbars.setScrollTop(val),gecko&&updateDisplaySimple(cm),startWorker(cm,100))}function setScrollLeft(cm,val,isScroller){(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)||(val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth),cm.doc.scrollLeft=val,alignHorizontally(cm),cm.display.scroller.scrollLeft!=val&&(cm.display.scroller.scrollLeft=val),cm.display.scrollbars.setScrollLeft(val))}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller,canScrollX=scroll.scrollWidth>scroll.clientWidth,canScrollY=scroll.scrollHeight>scroll.clientHeight;if(dx&&canScrollX||dy&&canScrollY){if(dy&&mac&&webkit)outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit)return dy&&canScrollY&&setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight))),setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth))),(!dy||dy&&canScrollY)&&e_preventDefault(e),void(display.wheelStartX=null);if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;0>pixels?top=Math.max(0,top+pixels-50):bot=Math.min(cm.doc.height,bot+pixels+50),updateDisplaySimple(cm,{top:top,bottom:bot})}20>wheelSamples&&(null==display.wheelStartX?(display.wheelStartX=scroll.scrollLeft,display.wheelStartY=scroll.scrollTop,display.wheelDX=dx,display.wheelDY=dy,setTimeout(function(){if(null!=display.wheelStartX){var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null,sample&&(wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1),++wheelSamples)}},200)):(display.wheelDX+=dx,display.wheelDY+=dy))}}function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound&&(bound=commands[bound],!bound))return!1;cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{cm.isReadOnly()&&(cm.state.suppressEdits=!0),dropShift&&(cm.display.shift=!1),done=bound(cm)!=Pass}finally{cm.display.shift=prevShift,cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";stopSeq.set(50,function(){cm.state.keySeq==seq&&(cm.state.keySeq=null,cm.display.input.reset())}),name=seq+" "+name}var result=lookupKeyForEditor(cm,name,handle);return"multi"==result&&(cm.state.keySeq=name),"handled"==result&&signalLater(cm,"keyHandled",cm,name,e),("handled"==result||"multi"==result)&&(e_preventDefault(e),restartBlink(cm)),seq&&!result&&/\'$/.test(name)?(e_preventDefault(e),!0):!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);return name?e.shiftKey&&!cm.state.keySeq?dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?doHandleBinding(cm,b):void 0}):dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)}):!1}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}function onKeyDown(e){var cm=this;if(cm.curOp.focus=activeElt(),!signalDOMEvent(cm,e)){ie&&11>ie_version&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);presto&&(lastStoppedKey=handled?code:null,!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)&&cm.replaceSelection("",null,"cut")),18!=code||/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)||showCrossHair(cm)}}function showCrossHair(cm){function up(e){18!=e.keyCode&&e.altKey||(rmClass(lineDiv,"CodeMirror-crosshair"),off(document,"keyup",up),off(document,"mouseover",up))}var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair"),on(document,"keyup",up),on(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(!(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)){var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey)return lastStoppedKey=null,void e_preventDefault(e);if(!presto||e.which&&!(e.which<10)||!handleKeyBinding(cm,e)){var ch=String.fromCharCode(null==charCode?keyCode:charCode);handleCharBinding(cm,e,ch)||cm.display.input.onKeyPress(e)}}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=!0,setTimeout(function(){cm.state.delayingBlurEvent&&(cm.state.delayingBlurEvent=!1,onBlur(cm))},100)}function onFocus(cm){cm.state.delayingBlurEvent&&(cm.state.delayingBlurEvent=!1),"nocursor"!=cm.options.readOnly&&(cm.state.focused||(signal(cm,"focus",cm),cm.state.focused=!0,addClass(cm.display.wrapper,"CodeMirror-focused"),cm.curOp||cm.display.selForContextMenu==cm.doc.sel||(cm.display.input.reset(),webkit&&setTimeout(function(){cm.display.input.reset(!0)},20)),cm.display.input.receivedFocus()),restartBlink(cm))}function onBlur(cm){cm.state.delayingBlurEvent||(cm.state.focused&&(signal(cm,"blur",cm),cm.state.focused=!1,rmClass(cm.display.wrapper,"CodeMirror-focused")),clearInterval(cm.display.blinker),setTimeout(function(){cm.state.focused||(cm.display.shift=!1)},150))}function onContextMenu(cm,e){eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)||signalDOMEvent(cm,e,"contextmenu")||cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){return hasHandler(cm,"gutterContextMenu")?gutterEvent(cm,e,"gutterContextMenu",!1):!1}function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;return pos.line==change.to.line&&(ch+=changeEnd(change).ch-change.to.ch),Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){return pos.line==old.line?Pos(nw.line,pos.ch-old.ch+nw.ch):Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);if(oldPrev=change.to,newPrev=to,"around"==hint){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,doc.sel.primIndex)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){this.canceled=!0}};return update&&(obj.update=function(from,to,text,origin){from&&(this.from=clipPos(doc,from)),to&&(this.to=clipPos(doc,to)),text&&(this.text=text),void 0!==origin&&(this.origin=origin)}),signal(doc,"beforeChange",doc,obj),doc.cm&&signal(doc.cm,"beforeChange",doc.cm,obj),obj.canceled?null:{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(!(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"))||(change=filterChange(doc,change,!0))){var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split)for(var i=split.length-1;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text});else makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1!=change.text.length||""!=change.text[0]||0!=cmp(change.from,change.to)){var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN),makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||-1!=indexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(!doc.cm||!doc.cm.state.suppressEdits){for(var event,hist=doc.history,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0;i<source.length&&(event=source[i],allowSelectionOnly?!event.ranges||event.equals(doc.sel):event.ranges);i++);if(i!=source.length){for(hist.lastOrigin=hist.lastSelOrigin=null;event=source.pop(),event.ranges;){if(pushSelectionToHistory(event,dest),allowSelectionOnly&&!event.equals(doc.sel))return void setSelection(doc,event,{clearRedo:!1});selAfter=event}var antiChanges=[];pushSelectionToHistory(selAfter,dest),dest.push({changes:antiChanges,generation:hist.generation}),hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),i=event.changes.length-1;i>=0;--i){var change=event.changes[i];if(change.origin=type,filter&&!filterChange(doc,change,!1))return void(source.length=0);antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change)),!i&&doc.cm&&doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||-1!=indexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})}}}}function shiftDoc(doc,distance){if(0!=distance&&(doc.first+=distance,doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex),doc.cm)){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first)return void shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));if(!(change.from.line>doc.lastLine())){if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift),change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();change.to.line>last&&(change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}),change.removed=getBetween(doc,change.from,change.to),selAfter||(selAfter=computeSelAfterChange(doc,change)),doc.cm?makeChangeSingleDocInEditor(doc.cm,change,spans):updateDoc(doc,change,spans),setSelectionNoUndo(doc,selAfter,sel_dontScroll)}}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;cm.options.lineWrapping||(checkWidthStart=lineNo(visualLine(getLine(doc,from.line))),doc.iter(checkWidthStart,to.line+1,function(line){return line==display.maxLine?(recomputeMaxLength=!0,!0):void 0})),doc.sel.contains(change.from,change.to)>-1&&signalCursorActivity(cm),updateDoc(doc,change,spans,estimateHeight(cm)),cm.options.lineWrapping||(doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);len>display.maxLineLength&&(display.maxLine=line,display.maxLineLength=len,display.maxLineChanged=!0,recomputeMaxLength=!1)}),recomputeMaxLength&&(cm.curOp.updateMaxLine=!0)),doc.frontier=Math.min(doc.frontier,from.line),startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;change.full?regChange(cm):from.line!=to.line||1!=change.text.length||isWholeLineUpdate(cm.doc,change)?regChange(cm,from.line,to.line+1,lendiff):regLineChange(cm,from.line,"text");var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};changeHandler&&signalLater(cm,"change",cm,obj),changesHandler&&(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){if(to||(to=from),cmp(to,from)<0){var tmp=to;to=from,from=tmp}"string"==typeof code&&(code=doc.splitLines(code)),makeChange(doc,{from:from,to:to,text:code,origin:origin})}function maybeScrollWindow(cm,coords){if(!signalDOMEvent(cm,"scrollCursorIntoView")){var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0?doScroll=!0:coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)&&(doScroll=!1),null!=doScroll&&!phantom){var scrollNode=elt("div","​",null,"position: absolute; top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px; height: "+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px; left: "+coords.left+"px; width: 2px;");cm.display.lineSpace.appendChild(scrollNode),scrollNode.scrollIntoView(doScroll),cm.display.lineSpace.removeChild(scrollNode)}}}function scrollPosIntoView(cm,pos,end,margin){null==margin&&(margin=0);for(var limit=0;5>limit;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=end&&end!=pos?cursorCoords(cm,end):coords,scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop&&(setScrollTop(cm,scrollPos.scrollTop),Math.abs(cm.doc.scrollTop-startTop)>1&&(changed=!0)),null!=scrollPos.scrollLeft&&(setScrollLeft(cm,scrollPos.scrollLeft),Math.abs(cm.doc.scrollLeft-startLeft)>1&&(changed=!0)),!changed)break}return coords}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);null!=scrollPos.scrollTop&&setScrollTop(cm,scrollPos.scrollTop),null!=scrollPos.scrollLeft&&setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);0>y1&&(y1=0);var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};y2-y1>screen&&(y2=y1+screen);var docBottom=cm.doc.height+paddingVert(display),atTop=snapMargin>y1,atBottom=y2>docBottom-snapMargin;if(screentop>y1)result.scrollTop=atTop?0:y1;else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);newTop!=screentop&&(result.scrollTop=newTop)}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=x2-x1>screenw;return tooWide&&(x2=x1+screenw),10>x1?result.scrollLeft=0:screenleft>x1?result.scrollLeft=Math.max(0,x1-(tooWide?0:10)):x2>screenw+screenleft-3&&(result.scrollLeft=x2+(tooWide?0:10)-screenw),result}function addToScrollPos(cm,left,top){(null!=left||null!=top)&&resolveScrollToPos(cm),null!=left&&(cm.curOp.scrollLeft=(null==cm.curOp.scrollLeft?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left),null!=top&&(cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top)}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;cm.options.lineWrapping||(from=cur.ch?Pos(cur.line,cur.ch-1):cur,to=Pos(cur.line,cur.ch+1)),cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:!0}}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to),sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}function indentLine(cm,n,how,aggressive){var state,doc=cm.doc;null==how&&(how="add"),"smart"==how&&(doc.mode.indent?state=getStateBefore(cm,n):how="prev");var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);line.stateAfter&&(line.stateAfter=null);var indentation,curSpaceString=line.text.match(/^\s*/)[0];if(aggressive||/\S/.test(line.text)){if("smart"==how&&(indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text),indentation==Pass||indentation>150)){if(!aggressive)return;how="prev"}}else indentation=0,how="not";"prev"==how?indentation=n>doc.first?countColumn(getLine(doc,n-1).text,null,tabSize):0:"add"==how?indentation=curSpace+cm.options.indentUnit:"subtract"==how?indentation=curSpace-cm.options.indentUnit:"number"==typeof how&&(indentation=curSpace+how),indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i)pos+=tabSize,indentString+="	";if(indentation>pos&&(indentString+=spaceStr(indentation-pos)),indentString!=curSpaceString)return replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input"),line.stateAfter=null,!0;for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break}}}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;return"number"==typeof handle?line=getLine(doc,clipLine(doc,handle)):no=lineNo(handle),null==no?null:(op(line,no)&&doc.cm&&regLineChange(doc.cm,no,changeType),line)}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0;i<ranges.length;i++){for(var toKill=compute(ranges[i]);kill.length&&cmp(toKill.from,lst(kill).to)<=0;){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function findPosH(doc,pos,dir,unit,visually){function findNextLine(){var l=line+dir;return l<doc.first||l>=doc.first+doc.size?!1:(line=l,lineObj=getLine(doc,l))}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,!0);if(null==next){if(boundToLine||!findNextLine())return!1;ch=visually?(0>dir?lineRight:lineLeft)(lineObj):0>dir?lineObj.text.length:0}else ch=next;return!0}var line=pos.line,ch=pos.ch,origDir=dir,lineObj=getLine(doc,line);if("char"==unit)moveOnce();else if("column"==unit)moveOnce(!0);else if("word"==unit||"group"==unit)for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;!(0>dir)||moveOnce(!first);first=!1){var cur=lineObj.text.charAt(ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(!group||first||type||(type="s"),sawType&&sawType!=type){0>dir&&(dir=1,moveOnce());break}if(type&&(sawType=type),dir>0&&!moveOnce(!first))break}var result=skipAtomic(doc,Pos(line,ch),pos,origDir,!0);return cmp(pos,result)||(result.hitSide=!0),result}function findPosV(cm,pos,dir,unit){var y,doc=cm.doc,x=pos.left;if("page"==unit){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(0>dir?1.5:.5)*textHeight(cm.display))}else"line"==unit&&(y=dir>0?pos.bottom+3:pos.top-3);for(;;){var target=coordsChar(cm,x,y);if(!target.outside)break;if(0>dir?0>=y:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt,handle&&(optionHandlers[name]=notOnInit?function(cm,val,old){old!=Init&&handle(cm,val,old)}:handle)}function normalizeKeyName(name){for(var alt,ctrl,shift,cmd,parts=name.split(/-(?!$)/),name=parts[parts.length-1],i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else{if(!/^s(hift)$/i.test(mod))throw new Error("Unrecognized modifier name: "+mod);shift=!0}}return alt&&(name="Alt-"+name),ctrl&&(name="Ctrl-"+name),cmd&&(name="Cmd-"+name),shift&&(name="Shift-"+name),name}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options&&copyObj(options,marker,!1),diff>0||0==diff&&marker.clearWhenEmpty!==!1)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget"),options.handleMouseEvents||marker.widgetNode.setAttribute("cm-ignore-events","true"),options.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");sawCollapsedSpans=!0}marker.addToHistory&&addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var updateMaxLine,curLine=from.line,cm=doc.cm;if(doc.iter(curLine,to.line+1,function(line){cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine&&(updateMaxLine=!0),marker.collapsed&&curLine!=from.line&&updateLineHeight(line,0),addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null)),++curLine}),marker.collapsed&&doc.iter(from.line,to.line+1,function(line){lineIsHidden(doc,line)&&updateLineHeight(line,0)}),marker.clearOnEnter&&on(marker,"beforeCursorEnter",function(){marker.clear()}),marker.readOnly&&(sawReadOnlySpans=!0,(doc.history.done.length||doc.history.undone.length)&&doc.clearHistory()),marker.collapsed&&(marker.id=++nextMarkerId,marker.atomic=!0),cm){if(updateMaxLine&&(cm.curOp.updateMaxLine=!0),marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,"text");marker.atomic&&reCheckSelection(cm.doc),signalLater(cm,"markerAdded",cm,marker)}return marker}function markTextShared(doc,from,to,options,type){options=copyObj(options),options.shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;return linkedDocs(doc,function(doc){widget&&(options.widgetNode=widget.cloneNode(!0)),markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)}),new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark),subMark.parent=marker}}}function detachSharedMarkers(markers){for(var i=0;i<markers.length;i++){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];-1==indexOf(linked,subMarker.doc)&&(subMarker.parent=null,marker.markers.splice(j--,1))}}}function MarkedSpan(marker,from,to){this.marker=marker,this.from=from,this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i)spans[i]!=span&&(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){if(old)for(var nw,i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}return nw}function markedSpansAfter(old,endCh,isInsert){if(old)for(var nw,i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh));
}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first)for(var i=0;i<first.length;++i){var span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);found?sameLine&&(span.to=null==found.to?null:found.to+offset):span.to=startCh}}if(last)for(var i=0;i<last.length;++i){var span=last[i];if(null!=span.to&&(span.to+=offset),null==span.from){var found=getMarkedSpanFor(first,span.marker);found||(span.from=offset,sameLine&&(first||(first=[])).push(span))}else span.from+=offset,sameLine&&(first||(first=[])).push(span)}first&&(first=clearEmptySpans(first)),last&&last!=first&&(last=clearEmptySpans(last));var newMarkers=[first];if(!sameLine){var gapMarkers,gap=change.text.length-2;if(gap>0&&first)for(var i=0;i<first.length;++i)null==first[i].to&&(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));for(var i=0;gap>i;++i)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];null!=span.from&&span.from==span.to&&span.marker.clearWhenEmpty!==!1&&spans.splice(i--,1)}return spans.length?spans:null}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur)spans:for(var j=0;j<stretchCur.length;++j){for(var span=stretchCur[j],k=0;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}else stretchCur&&(old[i]=stretchCur)}return old}function removeReadOnlyRanges(doc,from,to){var markers=null;if(doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;!mark.readOnly||markers&&-1!=indexOf(markers,mark)||(markers||(markers=[])).push(mark)}}),!markers)return null;for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i)for(var mk=markers[i],m=mk.find(0),j=0;j<parts.length;++j){var p=parts[j];if(!(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)){var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);(0>dfrom||!mk.inclusiveLeft&&!dfrom)&&newParts.push({from:p.from,to:m.from}),(dto>0||!mk.inclusiveRight&&!dto)&&newParts.push({from:m.to,to:p.to}),parts.splice.apply(parts,newParts),j+=newParts.length-1}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}}function attachMarkedSpans(line,spans){if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff)return lenDiff;var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);return toCmp?toCmp:b.id-a.id}function collapsedSpanAtSide(line,start){var found,sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i)sp=sps[i],sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)&&(found=sp.marker);return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo),sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed){var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(!(fromCmp>=0&&0>=toCmp||0>=fromCmp&&toCmp>=0)&&(0>=fromCmp&&(cmp(found.to,from)>0||sp.marker.inclusiveRight&&marker.inclusiveLeft)||fromCmp>=0&&(cmp(found.from,to)<0||sp.marker.inclusiveLeft&&marker.inclusiveRight)))return!0}}}function visualLine(line){for(var merged;merged=collapsedSpanAtStart(line);)line=merged.find(-1,!0).line;return line}function visualLineContinued(line){for(var merged,lines;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,(lines||(lines=[])).push(line);return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);return line==vis?lineN:lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var merged,line=getLine(doc,lineN);if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i)if(sp=sps[i],sp.marker.collapsed){if(null==sp.from)return!0;if(!sp.marker.widgetNode&&0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return!0}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var sp,i=0;i<line.markedSpans.length;++i)if(sp=line.markedSpans[i],sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return!0}function adjustScrollWhenAboveVisible(cm,line,diff){heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)&&addToScrollPos(cm,null,diff)}function widgetHeight(widget){if(null!=widget.height)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";widget.coverGutter&&(parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"),widget.noHScroll&&(parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options),cm=doc.cm;return cm&&widget.noHScroll&&(cm.display.alignWidgets=!0),changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt?widgets.push(widget):widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget),widget.line=line,cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget)),aboveVisible&&addToScrollPos(cm,null,widget.height),cm.curOp.forceUpdate=!0}return!0}),widget}function updateLine(line,text,markedSpans,estimateHeight){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),detachMarkedSpans(line),attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;estHeight!=line.height&&updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null,detachMarkedSpans(line)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";null==output[prop]?output[prop]=lineClass[2]:new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])||(output[prop]+=" "+lineClass[2])}return type}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(mode.innerMode){var inner=CodeMirror.innerMode(mode,state);return inner.mode.blankLine?inner.mode.blankLine(inner.state):void 0}}function readToken(mode,stream,state,inner){for(var i=0;10>i;i++){inner&&(inner[0]=CodeMirror.innerMode(mode,state).mode);var style=mode.token(stream,state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.")}function takeToken(cm,pos,precise,asArray){function getObj(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state}}var style,doc=cm.doc,mode=doc.mode;pos=clipPos(doc,pos);var tokens,line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize);for(asArray&&(tokens=[]);(asArray||stream.pos<pos.ch)&&!stream.eol();)stream.start=stream.pos,style=readToken(mode,stream,state),asArray&&tokens.push(getObj(!0));return asArray?tokens:getObj()}function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;null==flattenSpans&&(flattenSpans=cm.options.flattenSpans);var style,curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize),inner=cm.options.addModeClass&&[null];for(""==text&&extractLineClasses(callBlankLine(mode,state),lineClasses);!stream.eol();){if(stream.pos>cm.options.maxHighlightLength?(flattenSpans=!1,forceToEnd&&processLine(cm,text,state,stream.pos),stream.pos=text.length,style=null):style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses),inner){var mName=inner[0].name;mName&&(style="m-"+(style?mName+" "+style:mName))}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;)curStart=Math.min(stream.start,curStart+5e4),f(curStart,curStyle);curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=Math.min(stream.pos,curStart+5e4);f(pos,curStyle),curStart=pos}}function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style)},lineClasses,forceToEnd);for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,!0,function(end,style){for(var start=i;end>at;){var i_end=st[i];i_end>end&&st.splice(i,1,end,st[i+1],i_end),i+=2,at=Math.min(end,i_end)}if(style)if(overlay.opaque)st.splice(start,i-start,end,"cm-overlay "+style),i=start+2;else for(;i>start;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"cm-overlay "+style}},lineClasses)}return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var state=getStateBefore(cm,lineNo(line)),result=highlightLine(cm,line,line.text.length>cm.options.maxHighlightLength?copyState(cm.doc.mode,state):state);line.stateAfter=state,line.styles=result.styles,result.classes?line.styleClasses=result.classes:line.styleClasses&&(line.styleClasses=null),updateFrontier===cm.doc.frontier&&cm.doc.frontier++}return line.styles}function processLine(cm,text,state,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize);for(stream.start=stream.pos=startAt||0,""==text&&callBlankLine(mode,state);!stream.eol();)readToken(mode,stream,state),stream.start=stream.pos}function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=elt("span",null,null,webkit?"padding-right: .1px":null),builder={pre:elt("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,splitSpaces:(ie||webkit)&&cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var order,line=i?lineView.rest[i-1]:lineView.line;builder.pos=0,builder.addToken=buildToken,hasBadBidiRects(cm.display.measure)&&(order=getOrder(line))&&(builder.addToken=buildTokenBadBidi(builder.addToken,order)),builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate)),line.styleClasses&&(line.styleClasses.bgClass&&(builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")),line.styleClasses.textClass&&(builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||""))),0==builder.map.length&&builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure))),0==i?(lineView.measure.map=builder.map,lineView.measure.cache={}):((lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map),(lineView.measure.caches||(lineView.measure.caches=[])).push({}))}return webkit&&/\bcm-tab\b/.test(builder.content.lastChild.className)&&(builder.content.className="cm-tab-wrap-hack"),signal(cm,"renderLine",cm,lineView.line,builder.pre),builder.pre.className&&(builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")),builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","•","cm-invalidchar");return token.title="\\u"+ch.charCodeAt(0).toString(16),token.setAttribute("aria-label",token.title),token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(text){var displayText=builder.splitSpaces?text.replace(/ {3,}/g,splitSpaces):text,special=builder.cm.state.specialChars,mustWrap=!1;if(special.test(text))for(var content=document.createDocumentFragment(),pos=0;;){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));ie&&9>ie_version?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.map.push(builder.pos,builder.pos+skipped,txt),builder.col+=skipped,builder.pos+=skipped}if(!m)break;if(pos+=skipped+1,"	"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize,txt=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt.setAttribute("role","presentation"),txt.setAttribute("cm-text","	"),builder.col+=tabWidth}else if("\r"==m[0]||"\n"==m[0]){var txt=content.appendChild(elt("span","\r"==m[0]?"␍":"␤","cm-invalidchar"));txt.setAttribute("cm-text",m[0]),builder.col+=1}else{var txt=builder.cm.options.specialCharPlaceholder(m[0]);txt.setAttribute("cm-text",m[0]),ie&&9>ie_version?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt),builder.pos++}else{builder.col+=text.length;var content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content),ie&&9>ie_version&&(mustWrap=!0),builder.pos+=text.length}if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";startStyle&&(fullStyle+=startStyle),endStyle&&(fullStyle+=endStyle);var token=elt("span",[content],fullStyle,css);return title&&(token.title=title),builder.content.appendChild(token)}builder.content.appendChild(content)}}function splitSpaces(old){for(var out=" ",i=0;i<old.length-2;++i)out+=i%2?" ":" ";return out+=" "}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+" cm-force-border":"cm-force-border";for(var start=builder.pos,end=start+text.length;;){for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title,css);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css),startStyle=null,text=text.slice(part.to-start),start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;widget&&builder.map.push(builder.pos,builder.pos+size,widget),!ignoreWidget&&builder.cm.display.input.needsContentAttribute&&(widget||(widget=builder.content.appendChild(document.createElement("span"))),widget.setAttribute("cm-marker",marker.id)),widget&&(builder.cm.display.input.setUneditable(widget),builder.content.appendChild(widget)),builder.pos+=size}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(spans)for(var style,css,spanStyle,spanEndStyle,spanStartStyle,title,collapsed,len=allText.length,pos=0,i=1,text="",nextChange=0;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="",collapsed=null,nextChange=1/0;for(var endStyles,foundBookmarks=[],j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;"bookmark"==m.type&&sp.from==pos&&m.widgetNode?foundBookmarks.push(m):sp.from<=pos&&(null==sp.to||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)?(null!=sp.to&&sp.to!=pos&&nextChange>sp.to&&(nextChange=sp.to,spanEndStyle=""),m.className&&(spanStyle+=" "+m.className),m.css&&(css=(css?css+";":"")+m.css),m.startStyle&&sp.from==pos&&(spanStartStyle+=" "+m.startStyle),m.endStyle&&sp.to==nextChange&&(endStyles||(endStyles=[])).push(m.endStyle,sp.to),m.title&&!title&&(title=m.title),m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)&&(collapsed=sp)):sp.from>pos&&nextChange>sp.from&&(nextChange=sp.from)}if(endStyles)for(var j=0;j<endStyles.length;j+=2)endStyles[j+1]==nextChange&&(spanEndStyle+=" "+endStyles[j]);if(!collapsed||collapsed.from==pos)for(var j=0;j<foundBookmarks.length;++j)buildCollapsedSpan(builder,0,foundBookmarks[j]);if(collapsed&&(collapsed.from||0)==pos){if(buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from),null==collapsed.to)return;collapsed.to==pos&&(collapsed=!1)}}if(pos>=len)break;for(var upto=Math.min(len,nextChange);;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos),pos=upto;break}pos=end,spanStartStyle=""}text=allText.slice(at,at=styles[i++]),style=interpretTokenStyle(styles[i++],builder.cm.options)}}else for(var i=1;i<styles.length;i+=2)builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options))}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight),signalLater(line,"change",line,change)}function linesFor(start,end){for(var i=start,result=[];end>i;++i)result.push(new Line(text[i],spansFor(i),estimateHeight));return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full)doc.insert(0,linesFor(0,text.length)),doc.remove(text.length,doc.size-text.length);else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans),nlines&&doc.remove(from.line,nlines),added.length&&doc.insert(from.line,added)}else if(firstLine==lastLine)if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);else{var added=linesFor(1,text.length-1);added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight)),update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),doc.insert(from.line+1,added)}else if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0)),doc.remove(from.line+1,nlines);else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added=linesFor(1,text.length-1);nlines>1&&doc.remove(from.line+1,nlines-1),doc.insert(from.line+1,added)}signalLater(doc,"change",doc,change)}function LeafChunk(lines){this.lines=lines,this.parent=null;for(var i=0,height=0;i<lines.length;++i)lines[i].parent=this,height+=lines[i].height;this.height=height}function BranchChunk(children){this.children=children;for(var size=0,height=0,i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize(),height+=ch.height,ch.parent=this}this.size=size,this.height=height,this.parent=null}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc!=skip){var shared=sharedHist&&rel.sharedHist;(!sharedHistOnly||shared)&&(f(rel.doc,shared),propagate(rel.doc,doc,shared))}}}propagate(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc,doc.cm=cm,estimateLineHeights(cm),loadMode(cm),cm.options.lineWrapping||findMaxLine(cm),cm.options.mode=doc.modeOption,regChange(cm)}function getLine(doc,n){if(n-=doc.first,0>n||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");for(var chunk=doc;!chunk.lines;)for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(sz>n){chunk=child;break}n-=sz}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;return doc.iter(start.line,end.line+1,function(line){var text=line.text;n==end.line&&(text=text.slice(0,end.ch)),n==start.line&&(text=text.slice(start.ch)),out.push(text),++n}),out}function getLines(doc,from,to){var out=[];return doc.iter(from,to,function(line){out.push(line.text)}),out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(null==line.parent)return null;for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent)for(var i=0;chunk.children[i]!=cur;++i)no+=chunk.children[i].chunkSize();return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(ch>h){chunk=child;continue outer}h-=ch,n+=child.chunkSize()}return n}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(lh>h)break;h-=lh}return n+i}function heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;h+=line.height}for(var p=chunk.parent;p;chunk=p,p=chunk.parent)for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;h+=cur.height}return h}function getOrder(line){var order=line.order;return null==order&&(order=line.order=bidiOrdering(line.text)),order}function History(startGen){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1),linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0),histChange}function clearSelectionEvents(array){for(;array.length;){var last=lst(array);if(!last.ranges)break;array.pop()}}function lastChangeEvent(hist,force){return force?(clearSelectionEvents(hist.done),lst(hist.done)):hist.done.length&&!lst(hist.done).ranges?lst(hist.done):hist.done.length>1&&!hist.done[hist.done.length-2].ranges?(hist.done.pop(),lst(hist.done)):void 0}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var cur,time=+new Date;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){var last=lst(cur.changes);0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)?last.to=changeEnd(change):cur.changes.push(historyChangeFromChange(doc,change))}else{var before=lst(hist.done);for(before&&before.ranges||pushSelectionToHistory(doc.sel,hist.done),cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation},hist.done.push(cur);hist.done.length>hist.undoDepth;)hist.done.shift(),hist.done[0].ranges||hist.done.shift()}hist.done.push(selAfter),hist.generation=++hist.maxGeneration,hist.lastModTime=hist.lastSelTime=time,hist.lastOp=hist.lastSelOp=opId,hist.lastOrigin=hist.lastSelOrigin=change.origin,last||signal(doc,"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))?hist.done[hist.done.length-1]=sel:pushSelectionToHistory(sel,hist.done),hist.lastSelTime=+new Date,hist.lastSelOrigin=origin,hist.lastSelOp=opId,options&&options.clearRedo!==!1&&clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);top&&top.ranges&&top.equals(sel)||dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){line.markedSpans&&((existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans),++n})}function removeClearedSpans(spans){if(!spans)return null;for(var out,i=0;i<spans.length;++i)spans[i].marker.explicitlyCleared?out||(out=spans.slice(0,i)):out&&out.push(spans[i]);return out?out.length?out:null:spans}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}function copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges)copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);else{var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var m,change=changes[j];if(newChanges.push({from:change.from,to:change.to,text:change.text}),newGroup)for(var prop in change)(m=prop.match(/^spans_(\d+)$/))&&indexOf(newGroup,Number(m[1]))>-1&&(lst(newChanges)[prop]=change[prop],delete change[prop])}}}return copy}function rebaseHistSelSingle(pos,from,to,diff){to<pos.line?pos.line+=diff:from<pos.line&&(pos.line=from,pos.ch=0)}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){sub.copied||(sub=array[i]=sub.deepCopy(),sub.copied=!0);for(var j=0;j<sub.ranges.length;j++)rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff),rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}else{for(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line)cur.from=Pos(cur.from.line+diff,cur.from.ch),cur.to=Pos(cur.to.line+diff,cur.to.ch);else if(from<=cur.to.line){ok=!1;break}}ok||(array.splice(0,i+1),i=0)}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff),rebaseHistArray(hist.undone,from,to,diff)}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),mac&&e.ctrlKey&&1==b&&(b=3),b}function getHandlers(emitter,type,copy){var arr=emitter._handlers&&emitter._handlers[type];return copy?arr&&arr.length>0?arr.slice():noHandlers:arr||noHandlers}function signalLater(emitter,type){function bnd(f){return function(){f.apply(null,args)}}var arr=getHandlers(emitter,type,!1);if(arr.length){var list,args=Array.prototype.slice.call(arguments,2);operationGroup?list=operationGroup.delayedCallbacks:orphanDelayedCallbacks?list=orphanDelayedCallbacks:(list=orphanDelayedCallbacks=[],setTimeout(fireOrphanDelayed,0));for(var i=0;i<arr.length;++i)list.push(bnd(arr[i]))}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function signalDOMEvent(cm,e,override){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),signal(cm,override||e.type,cm,e),e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(arr)for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i)-1==indexOf(set,arr[i])&&set.push(arr[i])}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)},ctor.prototype.off=function(type,f){off(this,type,f)}}function Delayed(){this.id=null}function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}function map(array,f){for(var out=[],i=0;i<array.length;i++)out[i]=f(array[i],i);return out}function nothing(){}function createObj(base,props){var inst;return Object.create?inst=Object.create(base):(nothing.prototype=base,inst=new nothing),props&&copyObj(props,inst),inst}function copyObj(obj,target,overwrite){target||(target={});for(var prop in obj)!obj.hasOwnProperty(prop)||overwrite===!1&&target.hasOwnProperty(prop)||(target[prop]=obj[prop]);return target}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function isWordChar(ch,helper){return helper?helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch)?!0:helper.test(ch):isWordCharBasic(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return!1;return!0}function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className&&(e.className=className),style&&(e.style.cssText=style),"string"==typeof content)e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function activeElt(){for(var activeElement=document.activeElement;activeElement&&activeElement.root&&activeElement.root.activeElement;)activeElement=activeElement.root.activeElement;return activeElement}function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++)as[i]&&!classTest(as[i]).test(b)&&(b+=" "+as[i]);return b}function forEachCodeMirror(f){if(document.body.getElementsByClassName)for(var byClass=document.body.getElementsByClassName("CodeMirror"),i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;cm&&f(cm)}}function ensureGlobalHandlers(){globalsRegistered||(registerGlobalHandlers(),
globalsRegistered=!0)}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){null==resizeTimer&&(resizeTimer=setTimeout(function(){resizeTimer=null,forEachCodeMirror(onResize)},100))}),on(window,"blur",function(){forEachCodeMirror(onBlur)})}function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","​");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")])),0!=measure.firstChild.offsetHeight&&(zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&8>ie_version))}var node=zwspSupported?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return node.setAttribute("cm-text",""),node}function hasBadBidiRects(measure){if(null!=badBidiRects)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("AخA")),r0=range(txt,0,1).getBoundingClientRect();if(!r0||r0.left==r0.right)return!1;var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=r1.right-r0.right<3}function hasBadZoomedRects(measure){if(null!=badZoomedRects)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr");for(var found=!1,i=0;i<order.length;++i){var part=order[i];(part.from<to&&part.to>from||from==to&&part.to==from)&&(f(Math.max(part.from,from),Math.min(part.to,to),1==part.level?"rtl":"ltr"),found=!0)}found||f(from,to,"ltr")}function bidiLeft(part){return part.level%2?part.to:part.from}function bidiRight(part){return part.level%2?part.from:part.to}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0}function lineRight(line){var order=getOrder(line);return order?bidiRight(lst(order)):line.text.length}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);visual!=line&&(lineN=lineNo(visual));var order=getOrder(visual),ch=order?order[0].level%2?lineRight(visual):lineLeft(visual):0;return Pos(lineN,ch)}function lineEnd(cm,lineN){for(var merged,line=getLine(cm.doc,lineN);merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,lineN=null;var order=getOrder(line),ch=order?order[0].level%2?lineLeft(line):lineRight(line):line.text.length;return Pos(null==lineN?lineNo(line):lineN,ch)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line);if(!order||0==order[0].level){var firstNonWS=Math.max(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS)}return start}function compareBidiLevel(order,a,b){var linedir=order[0].level;return a==linedir?!0:b==linedir?!1:b>a}function getBidiPartAt(order,pos){bidiOther=null;for(var found,i=0;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if(cur.from==pos||cur.to==pos){if(null!=found)return compareBidiLevel(order,cur.level,order[found].level)?(cur.from!=cur.to&&(bidiOther=found),i):(cur.from!=cur.to&&(bidiOther=i),found);found=i}}return found}function moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;do pos+=dir;while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);for(var pos=getBidiPartAt(bidi,start),part=bidi[pos],target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to)return getBidiPartAt(bidi,target)==pos?target:(part=bidi[pos+=dir],dir>0==part.level%2?part.to:part.from);if(part=bidi[pos+=dir],!part)return null;target=dir>0==part.level%2?moveInLine(line,part.to,-1,byUnit):moveInLine(line,part.from,1,byUnit)}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)for(;target>0&&isExtendingChar(line.text.charAt(target));)target+=dir;return 0>target||target>line.text.length?null:target}var userAgent=navigator.userAgent,platform=navigator.platform,gecko=/gecko\/\d/i.test(userAgent),ie_upto10=/MSIE \d/.test(userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent),ie=ie_upto10||ie_11up,ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]),webkit=/WebKit\//.test(userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent),chrome=/Chrome\//.test(userAgent),presto=/Opera\//.test(userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent),phantom=/PhantomJS/.test(userAgent),ios=/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent),mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac=ios||/Mac/.test(platform),windows=/win/i.test(platform),presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);presto_version&&(presto_version=Number(presto_version[1])),presto_version&&presto_version>=15&&(presto=!1,webkit=!0);var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||12.11>presto_version)),captureRightClick=gecko||ie&&ie_version>=9,sawReadOnlySpans=!1,sawCollapsedSpans=!1;NativeScrollbars.prototype=copyObj({update:function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block",this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(needsH){this.horiz.style.display="block",this.horiz.style.right=needsV?sWidth+"px":"0",this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&measure.clientHeight>0&&(0==sWidth&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},setScrollLeft:function(pos){this.horiz.scrollLeft!=pos&&(this.horiz.scrollLeft=pos),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(pos){this.vert.scrollTop!=pos&&(this.vert.scrollTop=pos),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Delayed,this.disableVert=new Delayed},enableZeroWidthBar:function(bar,delay){function maybeDisable(){var box=bar.getBoundingClientRect(),elt=document.elementFromPoint(box.left+1,box.bottom-1);elt!=bar?bar.style.pointerEvents="none":delay.set(1e3,maybeDisable)}bar.style.pointerEvents="auto",delay.set(1e3,maybeDisable)},clear:function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz),parent.removeChild(this.vert)}},NativeScrollbars.prototype),NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype),CodeMirror.scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars},DisplayUpdate.prototype.signal=function(emitter,type){hasHandler(emitter,type)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++)signal.apply(null,this.events[i])};var Pos=CodeMirror.Pos=function(line,ch){return this instanceof Pos?(this.line=line,void(this.ch=ch)):new Pos(line,ch)},cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},lastCopied=null;TextareaInput.prototype=copyObj({init:function(display){function prepareCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())lastCopied=cm.getSelections(),input.inaccurateSelection&&(input.prevInput="",input.inaccurateSelection=!1,te.value=lastCopied.join("\n"),selectInput(te));else{if(!cm.options.lineWiseCopyCut)return;var ranges=copyableRanges(cm);lastCopied=ranges.text,"cut"==e.type?cm.setSelections(ranges.ranges,null,sel_dontScroll):(input.prevInput="",te.value=ranges.text.join("\n"),selectInput(te))}"cut"==e.type&&(cm.state.cutIncoming=!0)}}var input=this,cm=this.cm,div=this.wrapper=hiddenTextarea(),te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild),ios&&(te.style.width="0px"),on(te,"input",function(){ie&&ie_version>=9&&input.hasSelection&&(input.hasSelection=null),input.poll()}),on(te,"paste",function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)||(cm.state.pasteIncoming=!0,input.fastPoll())}),on(te,"cut",prepareCopyCut),on(te,"copy",prepareCopyCut),on(display.scroller,"paste",function(e){eventInWidget(display,e)||signalDOMEvent(cm,e)||(cm.state.pasteIncoming=!0,input.focus())}),on(display.lineSpace,"selectstart",function(e){eventInWidget(display,e)||e_preventDefault(e)}),on(te,"compositionstart",function(){var start=cm.getCursor("from");input.composing&&input.composing.range.clear(),input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}}),on(te,"compositionend",function(){input.composing&&(input.poll(),input.composing.range.clear(),input.composing=null)})},prepareSelection:function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top)),result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result},showSelection:function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors),removeChildrenAndAdd(display.selectionDiv,drawn.selection),null!=drawn.teTop&&(this.wrapper.style.top=drawn.teTop+"px",this.wrapper.style.left=drawn.teLeft+"px")},reset:function(typing){if(!this.contextMenuPending){var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1e3);var content=minimal?"-":selected||cm.getSelection();this.textarea.value=content,cm.state.focused&&selectInput(this.textarea),ie&&ie_version>=9&&(this.hasSelection=content)}else typing||(this.prevInput=this.textarea.value="",ie&&ie_version>=9&&(this.hasSelection=null));this.inaccurateSelection=minimal}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var input=this;input.pollingFast||input.polling.set(this.cm.options.pollInterval,function(){input.poll(),input.cm.state.focused&&input.slowPoll()})},fastPoll:function(){function p(){var changed=input.poll();changed||missed?(input.pollingFast=!1,input.slowPoll()):(missed=!0,input.polling.set(60,p))}var missed=!1,input=this;input.pollingFast=!0,input.polling.set(20,p)},poll:function(){var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return!1;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return!1;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text))return cm.display.input.reset(),!1;if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(8203!=first||prevInput||(prevInput="​"),8666==first)return this.reset(),this.cm.execCommand("undo")}for(var same=0,l=Math.min(prevInput.length,text.length);l>same&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;var self=this;return runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,self.composing?"*compose":null),text.length>1e3||text.indexOf("\n")>-1?input.value=self.prevInput="":self.prevInput=text,self.composing&&(self.composing.range.clear(),self.composing.range=cm.markText(self.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ie&&ie_version>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval="​"+(selected?te.value:"");te.value="⇚",te.value=extval,input.prevInput=selected?"":"​",te.selectionStart=1,te.selectionEnd=extval.length,display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending=!1,input.wrapper.style.cssText=oldWrapperCSS,te.style.cssText=oldCSS,ie&&9>ie_version&&display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos),null!=te.selectionStart){(!ie||ie&&9>ie_version)&&prepareSelectAllHack();var i=0,poll=function(){display.selForContextMenu==cm.doc.sel&&0==te.selectionStart&&te.selectionEnd>0&&"​"==input.prevInput?operation(cm,commands.selectAll)(cm):i++<10?display.detectingSelectAll=setTimeout(poll,500):display.input.reset()};display.detectingSelectAll=setTimeout(poll,200)}}var input=this,cm=input.cm,display=cm.display,te=input.textarea,pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(pos&&!presto){var reset=cm.options.resetSelectionOnContextMenu;reset&&-1==cm.doc.sel.contains(pos)&&operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;input.wrapper.style.cssText="position: absolute";var wrapperBox=input.wrapper.getBoundingClientRect();if(te.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px; z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",webkit)var oldScrollY=window.scrollY;if(display.input.focus(),webkit&&window.scrollTo(null,oldScrollY),display.input.reset(),cm.somethingSelected()||(te.value=input.prevInput=" "),input.contextMenuPending=!0,display.selForContextMenu=cm.doc.sel,clearTimeout(display.detectingSelectAll),ie&&ie_version>=9&&prepareSelectAllHack(),captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup),setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else setTimeout(rehide,50)}},readOnlyChanged:function(val){val||this.reset()},setUneditable:nothing,needsContentAttribute:!1},TextareaInput.prototype),ContentEditableInput.prototype=copyObj({init:function(display){function onCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())lastCopied=cm.getSelections(),"cut"==e.type&&cm.replaceSelection("",null,"cut");else{if(!cm.options.lineWiseCopyCut)return;var ranges=copyableRanges(cm);lastCopied=ranges.text,"cut"==e.type&&cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll),cm.replaceSelection("",null,"cut")})}if(e.clipboardData&&!ios)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",lastCopied.join("\n"));else{var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild),te.value=lastCopied.join("\n");var hadFocus=document.activeElement;selectInput(te),setTimeout(function(){cm.display.lineSpace.removeChild(kludge),hadFocus.focus()},50)}}}var input=this,cm=input.cm,div=input.div=display.lineDiv;disableBrowserMagic(div),on(div,"paste",function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)}),on(div,"compositionstart",function(e){var data=e.data;if(input.composing={sel:cm.doc.sel,data:data,startData:data},data){var prim=cm.doc.sel.primary(),line=cm.getLine(prim.head.line),found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));found>-1&&found<=prim.head.ch&&(input.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length)))}}),on(div,"compositionupdate",function(e){input.composing.data=e.data}),on(div,"compositionend",function(e){var ours=input.composing;ours&&(e.data==ours.startData||/\u200b/.test(e.data)||(ours.data=e.data),setTimeout(function(){ours.handled||input.applyComposition(ours),input.composing==ours&&(input.composing=null)},50))}),on(div,"touchstart",function(){input.forceCompositionEnd()}),on(div,"input",function(){input.composing||(cm.isReadOnly()||!input.pollContent())&&runInOp(input.cm,function(){regChange(cm)})}),on(div,"copy",onCopyCut),on(div,"cut",onCopyCut)},prepareSelection:function(){var result=prepareSelection(this.cm,!1);return result.focus=this.cm.state.focused,result},showSelection:function(info){info&&this.cm.display.view.length&&(info.focus&&this.showPrimarySelection(),this.showMultipleSelections(info))},showPrimarySelection:function(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary(),curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(!curAnchor||curAnchor.bad||!curFocus||curFocus.bad||0!=cmp(minPos(curAnchor,curFocus),prim.from())||0!=cmp(maxPos(curAnchor,curFocus),prim.to())){var start=posToDOM(this.cm,prim.from()),end=posToDOM(this.cm,prim.to());if(start||end){var view=this.cm.display.view,old=sel.rangeCount&&sel.getRangeAt(0);if(start){if(!end){var measure=view[view.length-1].measure,map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}}else start={node:view[0].measure.map[2],offset:0};try{var rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}rng&&(!gecko&&this.cm.state.focused?(sel.collapse(start.node,start.offset),rng.collapsed||sel.addRange(rng)):(sel.removeAllRanges(),sel.addRange(rng)),old&&null==sel.anchorNode?sel.addRange(old):gecko&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var input=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){input.gracePeriod=!1,input.selectionChanged()&&input.cm.operation(function(){input.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},rememberSelection:function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode,this.lastAnchorOffset=sel.anchorOffset,this.lastFocusNode=sel.focusNode,this.lastFocusOffset=sel.focusOffset},selectionInEditor:function(){var sel=window.getSelection();if(!sel.rangeCount)return!1;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function poll(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,poll))}var input=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){input.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},selectionChanged:function(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);anchor&&head&&runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll),(anchor.bad||head.bad)&&(cm.curOp.selectionChanged=!0)})}},pollContent:function(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1)return!1;var fromIndex;if(from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line)))var fromLine=lineNo(display.view[0].line),fromNode=display.view[0].node;else var fromLine=lineNo(display.view[fromIndex].line),fromNode=display.view[fromIndex-1].node.nextSibling;var toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1)var toLine=display.viewTo-1,toNode=display.lineDiv.lastChild;else var toLine=lineNo(display.view[toIndex+1].line)-1,toNode=display.view[toIndex+1].node.previousSibling;for(var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));newText.length>1&&oldText.length>1;)if(lst(newText)==lst(oldText))newText.pop(),oldText.pop(),toLine--;else{if(newText[0]!=oldText[0])break;newText.shift(),oldText.shift(),fromLine++}for(var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);maxCutFront>cutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;for(var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=Math.min(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));maxCutEnd>cutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd),newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);return newText.length>1||newText[0]||cmp(chFrom,chTo)?(replaceRange(cm.doc,newText,chFrom,chTo,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(composing){this.cm.isReadOnly()?operation(this.cm,regChange)(this.cm):composing.data&&composing.data!=composing.startData&&operation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel)},setUneditable:function(node){node.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(val){this.div.contentEditable=String("nocursor"!=val)},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:!0},ContentEditableInput.prototype),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(other){if(other==this)return!0;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(0!=cmp(here.anchor,there.anchor)||0!=cmp(here.head,there.head))return!1}return!0},deepCopy:function(){for(var out=[],i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)},somethingSelected:function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},contains:function(pos,end){end||(end=pos);for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1}},Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var measureText,lastClick,lastDoubleClick,nullRect={left:0,right:0,top:0,bottom:0},operationGroup=null,nextOpId=0,lastDrop=0,wheelSamples=0,wheelPixelsPerUnit=null;ie?wheelPixelsPerUnit=-.53:gecko?wheelPixelsPerUnit=15:chrome?wheelPixelsPerUnit=-.7:safari&&(wheelPixelsPerUnit=-1/3);var wheelEventDelta=function(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;return null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(dx=e.detail),null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS?dy=e.detail:null==dy&&(dy=e.wheelDelta),{x:dx,y:dy}};CodeMirror.wheelEventPixels=function(e){var delta=wheelEventDelta(e);return delta.x*=wheelPixelsPerUnit,delta.y*=wheelPixelsPerUnit,delta};var stopSeq=new Delayed,lastStoppedKey=null,changeEnd=CodeMirror.changeEnd=function(change){return change.text?Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0)):change.to};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];(options[option]!=value||"mode"==option)&&(options[option]=value,optionHandlers.hasOwnProperty(option)&&operation(this,optionHandlers[option])(this,value,old))},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i)if(maps[i]==map||maps[i].name==map)return maps.splice(i,1),!0},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(spec){for(var overlays=this.state.overlays,i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||"string"==typeof spec&&cur.name==spec)return overlays.splice(i,1),this.state.modeGen++,void regChange(this)}}),indentLine:methodOp(function(n,dir,aggressive){"string"!=typeof dir&&"number"!=typeof dir&&(dir=null==dir?this.options.smartIndent?"smart":"prev":dir?"add":"subtract"),isLine(this.doc,n)&&indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){for(var ranges=this.doc.sel.ranges,end=-1,i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty())range.head.line>end&&(indentLine(this,range.head.line,how,!0),end=range.head.line,i==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var from=range.from(),to=range.to(),start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;end>j;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;0==from.ch&&ranges.length==newRanges.length&&newRanges[i].from().ch>0&&replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var type,styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch;if(0==ch)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch)after=mid;else{if(!(styles[2*mid+1]<ch)){type=styles[2*mid+2];break}before=mid+1}}var cut=type?type.indexOf("cm-overlay "):-1;return 0>cut?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;return mode.innerMode?CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode:mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type])help[mode[type]]&&found.push(help[mode[type]]);else if(mode[type])for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];val&&found.push(val)}else mode.helperType&&help[mode.helperType]?found.push(help[mode.helperType]):help[mode.name]&&found.push(help[mode.name]);for(var i=0;i<help._global.length;i++){var cur=help._global[i];cur.pred(mode,this)&&-1==indexOf(found,cur.val)&&found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;return line=clipLine(doc,null==line?doc.first+doc.size-1:line),getStateBefore(this,line+1,precise)},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();return pos=null==start?range.head:"object"==typeof start?clipPos(this.doc,start):start?range.from():range.to(),cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){return coords=fromCoordSystem(this,coords,mode||"page"),coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){return height=fromCoordSystem(this,{top:height,left:0},mode||"page").top,lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode){var lineObj,end=!1;if("number"==typeof line){var last=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>last&&(line=last,end=!0),lineObj=getLine(this.doc,line)}else lineObj=line;return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});return markers[gutterID]=value,!value&&isEmpty(markers)&&(line.gutterMarkers=null),!0})}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){line.gutterMarkers&&line.gutterMarkers[gutterID]&&(line.gutterMarkers[gutterID]=null,regLineChange(cm,i,"gutter"),isEmpty(line.gutterMarkers)&&(line.gutterMarkers=null)),++i})}),lineInfo:function(line){if("number"==typeof line){if(!isLine(this.doc,line))return null;var n=line;if(line=getLine(this.doc,line),!line)return null}else{var n=lineNo(line);if(null==n)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;if(node.style.position="absolute",node.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(node),display.sizer.appendChild(node),"over"==vert)top=pos.top;else if("above"==vert||"near"==vert){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight?top=pos.top-node.offsetHeight:pos.bottom+node.offsetHeight<=vspace&&(top=pos.bottom),left+node.offsetWidth>hspace&&(left=hspace-node.offsetWidth)}node.style.top=top+"px",node.style.left=node.style.right="","right"==horiz?(left=display.sizer.clientWidth-node.offsetWidth,node.style.right="0px"):("left"==horiz?left=0:"middle"==horiz&&(left=(display.sizer.clientWidth-node.offsetWidth)/2),node.style.left=left+"px"),scroll&&scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),
triggerOnKeyUp:onKeyUp,execCommand:function(cmd){return commands.hasOwnProperty(cmd)?commands[cmd].call(null,this):void 0},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var dir=1;0>amount&&(dir=-1,amount=-amount);for(var i=0,cur=clipPos(this.doc,from);amount>i&&(cur=findPosH(this.doc,cur,dir,unit,visually),!cur.hitSide);++i);return cur},moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){return cm.display.shift||cm.doc.extend||range.empty()?findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually):0>dir?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;sel.somethingSelected()?doc.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,!1);return 0>dir?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;0>amount&&(dir=-1,amount=-amount);for(var i=0,cur=clipPos(this.doc,from);amount>i;++i){var coords=cursorCoords(this,cur,"div");if(null==x?x=coords.left:coords.left=x,cur=findPosV(this,coords,dir,unit),cur.hitSide)break}return cur},moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[],collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();if(doc.extendSelectionsBy(function(range){if(collapse)return 0>dir?range.from():range.to();var headPos=cursorCoords(cm,range.head,"div");null!=range.goalColumn&&(headPos.left=range.goalColumn),goals.push(headPos.left);var pos=findPosV(cm,headPos,dir,unit);return"page"==unit&&range==doc.sel.primary()&&addToScrollPos(cm,null,charCoords(cm,pos,"div").top-headPos.top),pos},sel_move),goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");(pos.xRel<0||end==line.length)&&start?--start:++end;for(var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};start>0&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){(null==value||value!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?addClass(this.display.cursorDiv,"CodeMirror-overwrite"):rmClass(this.display.cursorDiv,"CodeMirror-overwrite"),signal(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:methodOp(function(x,y){(null!=x||null!=y)&&resolveScrollToPos(this),null!=x&&(this.curOp.scrollLeft=x),null!=y&&(this.curOp.scrollTop=y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(null==range?(range={from:this.doc.sel.primary().head,to:null},null==margin&&(margin=this.options.cursorScrollMargin)):"number"==typeof range?range={from:Pos(range,0),to:null}:null==range.from&&(range={from:range,to:null}),range.to||(range.to=range.from),range.margin=margin||0,null!=range.from.line)resolveScrollToPos(this),this.curOp.scrollToPos=range;else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}),setSize:methodOp(function(width,height){function interpret(val){return"number"==typeof val||/^\d+$/.test(String(val))?val+"px":val}var cm=this;null!=width&&(cm.display.wrapper.style.width=interpret(width)),null!=height&&(cm.display.wrapper.style.height=interpret(height)),cm.options.lineWrapping&&clearLineMeasurementCache(this);var lineNo=cm.display.viewFrom;cm.doc.iter(lineNo,cm.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(cm,lineNo,"widget");break}++lineNo}),cm.curOp.forceUpdate=!0,signal(cm,"refresh",this)}),operation:function(f){return runInOp(this,f)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==oldHeight||Math.abs(oldHeight-textHeight(this.display))>.5)&&estimateLineHeights(this),signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;return old.cm=null,attachDoc(this,doc),clearCaches(this),this.display.input.reset(),this.scrollTo(doc.scrollLeft,doc.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,old),old}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror);var defaults=CodeMirror.defaults={},optionHandlers=CodeMirror.optionHandlers={},Init=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",function(cm,val){cm.setValue(val)},!0),option("mode",null,function(cm,val){cm.doc.modeOption=val,loadMode(cm)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(cm){resetModeState(cm),clearCaches(cm),regChange(cm)},!0),option("lineSeparator",null,function(cm,val){if(cm.doc.lineSep=val,val){var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(-1==found)break;pos=found+val.length,newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;i>=0;i--)replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}}),option("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("	")?"":"|	"),"g"),old!=CodeMirror.Init&&cm.refresh()}),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){cm.refresh()},!0),option("electricChars",!0),option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("rtlMoveVisually",!windows),option("wholeLineUpdateBefore",!0),option("theme","default",function(cm){themeChanged(cm),guttersChanged(cm)},!0),option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=CodeMirror.Init&&getKeyMap(old);prev&&prev.detach&&prev.detach(cm,next),next.attach&&next.attach(cm,prev||null)}),option("extraKeys",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0",cm.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(cm){updateScrollbars(cm)},!0),option("scrollbarStyle","native",function(cm){initScrollbars(cm),updateScrollbars(cm),cm.display.scrollbars.setScrollTop(cm.doc.scrollTop),cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0),option("lineNumbers",!1,function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(integer){return integer},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("readOnly",!1,function(cm,val){"nocursor"==val?(onBlur(cm),cm.display.input.blur(),cm.display.disabled=!0):cm.display.disabled=!1,cm.display.input.readOnlyChanged(val)}),option("disableInput",!1,function(cm,val){val||cm.display.input.reset()},!0),option("dragDrop",!0,dragDropChanged),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(cm,val){cm.doc.history.undoDepth=val}),option("historyEventDelay",1250),option("viewportMargin",10,function(cm){cm.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(cm,val){val||cm.display.input.resetPosition()}),option("tabindex",null,function(cm,val){cm.display.input.getField().tabIndex=val||""}),option("autofocus",null);var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};CodeMirror.defineMode=function(name,mode){CodeMirror.defaults.mode||"null"==name||(CodeMirror.defaults.mode=name),arguments.length>2&&(mode.dependencies=Array.prototype.slice.call(arguments,2)),modes[name]=mode},CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec},CodeMirror.resolveMode=function(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec))spec=mimeModes[spec];else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];"string"==typeof found&&(found={name:found}),spec=createObj(found,spec),spec.name=found.name}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec))return CodeMirror.resolveMode("application/xml");return"string"==typeof spec?{name:spec}:spec||{name:"null"}},CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec),mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts)exts.hasOwnProperty(prop)&&(modeObj.hasOwnProperty(prop)&&(modeObj["_"+prop]=modeObj[prop]),modeObj[prop]=exts[prop])}if(modeObj.name=spec.name,spec.helperType&&(modeObj.helperType=spec.helperType),spec.modeProps)for(var prop in spec.modeProps)modeObj[prop]=spec.modeProps[prop];return modeObj},CodeMirror.defineMode("null",function(){return{token:function(stream){stream.skipToEnd()}}}),CodeMirror.defineMIME("text/plain","null");var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)},CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func},CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func},CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f)};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){helpers.hasOwnProperty(type)||(helpers[type]=CodeMirror[type]={_global:[]}),helpers[type][name]=value},CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value),helpers[type]._global.push({pred:predicate,val:value})};var copyState=CodeMirror.copyState=function(mode,state){if(state===!0)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];val instanceof Array&&(val=val.concat([])),nstate[n]=val}return nstate},startState=CodeMirror.startState=function(mode,a1,a2){return mode.startState?mode.startState(a1,a2):!0};CodeMirror.innerMode=function(mode,state){for(;mode.innerMode;){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state,mode=info.mode}return info||{mode:mode,state:state}};var commands=CodeMirror.commands={selectAll:function(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)},singleSelection:function(cm){cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;return range.head.ch==len&&range.head.line<cm.lastLine()?{from:range.head,to:Pos(range.head.line+1,0)}:{from:range.head,to:Pos(range.head.line,len)}}return{from:range.from(),to:range.to()}})},deleteLine:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){cm.undo()},redo:function(cm){cm.redo()},undoSelection:function(cm){cm.undoSelection()},redoSelection:function(cm){cm.redoSelection()},goDocStart:function(cm){cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");return pos.ch<cm.getLine(pos.line).search(/\S/)?lineStartSmart(cm,range.head):pos},sel_move)},goLineUp:function(cm){cm.moveV(-1,"line")},goLineDown:function(cm){cm.moveV(1,"line")},goPageUp:function(cm){cm.moveV(-1,"page")},goPageDown:function(cm){cm.moveV(1,"page")},goCharLeft:function(cm){cm.moveH(-1,"char")},goCharRight:function(cm){cm.moveH(1,"char")},goColumnLeft:function(cm){cm.moveH(-1,"column")},goColumnRight:function(cm){cm.moveH(1,"column")},goWordLeft:function(cm){cm.moveH(-1,"word")},goGroupRight:function(cm){cm.moveH(1,"group")},goGroupLeft:function(cm){cm.moveH(-1,"group")},goWordRight:function(cm){cm.moveH(1,"word")},delCharBefore:function(cm){cm.deleteH(-1,"char")},delCharAfter:function(cm){cm.deleteH(1,"char")},delWordBefore:function(cm){cm.deleteH(-1,"word")},delWordAfter:function(cm){cm.deleteH(1,"word")},delGroupBefore:function(cm){cm.deleteH(-1,"group")},delGroupAfter:function(cm){cm.deleteH(1,"group")},indentAuto:function(cm){cm.indentSelection("smart")},indentMore:function(cm){cm.indentSelection("add")},indentLess:function(cm){cm.indentSelection("subtract")},insertTab:function(cm){cm.replaceSelection("	")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(new Array(tabSize-col%tabSize+1).join(" "))}cm.replaceSelections(spaces)},defaultTab:function(cm){cm.somethingSelected()?cm.indentSelection("add"):cm.execCommand("insertTab")},transposeChars:function(cm){runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line)if(cur.ch==line.length&&(cur=new Pos(cur.line,cur.ch-1)),cur.ch>0)cur=new Pos(cur.line,cur.ch+1),cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;prev&&cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),"+transpose")}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){runInOp(cm,function(){for(var len=cm.listSelections().length,i=0;len>i;i++){var range=cm.listSelections()[i];cm.replaceRange(cm.doc.lineSeparator(),range.anchor,range.head,"+input"),cm.indentLine(range.from().line+1,null,!0)}ensureCursorVisible(cm)})},toggleOverwrite:function(cm){cm.toggleOverwrite()}},keyMap=CodeMirror.keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault,CodeMirror.normalizeKeyMap=function(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val,name;i==keys.length-1?(name=keys.join(" "),val=value):(name=keys.slice(0,i+1).join(" "),val="...");var prev=copy[name];if(prev){if(prev!=val)throw new Error("Inconsistent bindings for "+name)}else copy[name]=val}delete keymap[keyname]}for(var prop in copy)keymap[prop]=copy[prop];return keymap};var lookupKey=CodeMirror.lookupKey=function(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===!1)return"nothing";if("..."===found)return"multi";if(null!=found&&handle(found))return"handled";if(map.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map.fallthrough))return lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result}}},isModifierKey=CodeMirror.isModifierKey=function(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name},keyName=CodeMirror.keyName=function(event,noShift){if(presto&&34==event.keyCode&&event["char"])return!1;var base=keyNames[event.keyCode],name=base;return null==name||event.altGraphKey?!1:(event.altKey&&"Alt"!=base&&(name="Alt-"+name),(flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base&&(name="Ctrl-"+name),(flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base&&(name="Cmd-"+name),!noShift&&event.shiftKey&&"Shift"!=base&&(name="Shift-"+name),name)};CodeMirror.fromTextArea=function(textarea,options){function save(){textarea.value=cm.getValue()}if(options=options?copyObj(options):{},options.value=textarea.value,!options.tabindex&&textarea.tabIndex&&(options.tabindex=textarea.tabIndex),!options.placeholder&&textarea.placeholder&&(options.placeholder=textarea.placeholder),null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}if(textarea.form&&(on(textarea.form,"submit",save),!options.leaveSubmitMethodAlone)){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save(),form.submit=realSubmit,form.submit(),form.submit=wrappedSubmit}}catch(e){}}options.finishInit=function(cm){cm.save=save,cm.getTextArea=function(){return textarea},cm.toTextArea=function(){cm.toTextArea=isNaN,save(),textarea.parentNode.removeChild(cm.getWrapperElement()),textarea.style.display="",textarea.form&&(off(textarea.form,"submit",save),"function"==typeof textarea.form.submit&&(textarea.form.submit=realSubmit))}},textarea.style.display="none";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm};var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0,this.string=string,this.tabSize=tabSize||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(match){var ch=this.string.charAt(this.pos);if("string"==typeof match)var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));return ok?(++this.pos,ch):void 0},eatWhile:function(match){for(var start=this.pos;this.eat(match););return this.pos>start},eatSpace:function(){for(var start=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);return found>-1?(this.pos=found,!0):void 0},backUp:function(n){this.pos-=n},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(pattern,consume,caseInsensitive){if("string"!=typeof pattern){var match=this.string.slice(this.pos).match(pattern);return match&&match.index>0?null:(match&&consume!==!1&&(this.pos+=match[0].length),match)}var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);return cased(substr)==cased(pattern)?(consume!==!1&&(this.pos+=pattern.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}}};var nextMarkerId=0,TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[],this.type=type,this.doc=doc,this.id=++nextMarkerId};eventMixin(TextMarker),TextMarker.prototype.clear=function(){if(!this.explicitlyCleared){var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp&&startOperation(cm),hasHandler(this,"clear")){var found=this.find();found&&signalLater(this,"clear",found.from,found.to)}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);cm&&!this.collapsed?regLineChange(cm,lineNo(line),"text"):cm&&(null!=span.to&&(max=lineNo(line)),null!=span.from&&(min=lineNo(line))),line.markedSpans=removeMarkedSpan(line.markedSpans,span),null==span.from&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm&&updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);len>cm.display.maxLineLength&&(cm.display.maxLine=visual,cm.display.maxLineLength=len,cm.display.maxLineChanged=!0)}null!=min&&cm&&this.collapsed&&regChange(cm,min,max+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,cm&&reCheckSelection(cm.doc)),cm&&signalLater(cm,"markerCleared",cm,this),withOp&&endOperation(cm),this.parent&&this.parent.clear()}},TextMarker.prototype.find=function(side,lineObj){null==side&&"bookmark"==this.type&&(side=1);for(var from,to,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);if(null!=span.from&&(from=Pos(lineObj?line:lineNo(line),span.from),-1==side))return from;if(null!=span.to&&(to=Pos(lineObj?line:lineNo(line),span.to),1==side))return to}return from&&{from:from,to:to}},TextMarker.prototype.changed=function(){var pos=this.find(-1,!0),widget=this,cm=this.doc.cm;pos&&cm&&runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view&&(clearLineMeasurementCacheFor(view),cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0),cm.curOp.updateMaxLine=!0,!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;dHeight&&updateLineHeight(line,line.height+dHeight)}})},TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;op.maybeHiddenMarkers&&-1!=indexOf(op.maybeHiddenMarkers,this)||(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)},TextMarker.prototype.detachLine=function(line){if(this.lines.splice(indexOf(this.lines,line),1),!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};var nextMarkerId=0,SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers,this.primary=primary;for(var i=0;i<markers.length;++i)markers[i].parent=this};eventMixin(SharedTextMarker),SharedTextMarker.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")}},SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};var LineWidget=CodeMirror.LineWidget=function(doc,node,options){if(options)for(var opt in options)options.hasOwnProperty(opt)&&(this[opt]=options[opt]);this.doc=doc,this.node=node};eventMixin(LineWidget),LineWidget.prototype.clear=function(){var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null!=no&&ws){for(var i=0;i<ws.length;++i)ws[i]==this&&ws.splice(i--,1);ws.length||(line.widgets=null);var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height)),cm&&runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height),regLineChange(cm,no,"widget")})}},LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;diff&&(updateLineHeight(line,line.height+diff),cm&&runInOp(cm,function(){cm.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(cm,line,diff)}))};var Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text,attachMarkedSpans(this,markedSpans),this.height=estimateHeight?estimateHeight(this):1};eventMixin(Line),Line.prototype.lineNo=function(){return lineNo(this)};var styleToClassCache={},styleToClassCacheWithMode={};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i=at,e=at+n;e>i;++i){var line=this.lines[i];this.height-=line.height,cleanUpLine(line),signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height,this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){for(var e=at+n;e>at;++at)if(op(this.lines[at]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(sz>at){var rm=Math.min(n,sz-at),oldHeight=child.height;if(child.removeInner(at,rm),this.height-=oldHeight-child.height,sz==rm&&(this.children.splice(i--,1),child.parent=null),0==(n-=rm))break;at=0}else at-=sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines),this.children=[new LeafChunk(lines)],this.children[0].parent=this}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length,this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(sz>=at){if(child.insertInner(at,lines,height),child.lines&&child.lines.length>50){for(;child.lines.length>50;){var spilled=child.lines.splice(child.lines.length-25,25),newleaf=new LeafChunk(spilled);child.height-=newleaf.height,this.children.splice(i+1,0,newleaf),newleaf.parent=this}this.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(!(this.children.length<=10)){var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(me.parent){me.size-=sibling.size,me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}else{var copy=new BranchChunk(me.children);copy.parent=me,me.children=[copy,sibling],me=copy}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()}},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(sz>at){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return!0;if(0==(n-=used))break;at=0}else at-=sz}}};var nextDocId=0,Doc=CodeMirror.Doc=function(text,mode,firstLine,lineSep){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep);null==firstLine&&(firstLine=0),BranchChunk.call(this,[new LeafChunk([new Line("",null)])]),this.first=firstLine,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start),this.history=new History(null),this.id=++nextDocId,this.modeOption=mode,this.lineSep=lineSep,this.extend=!1,"string"==typeof text&&(text=this.splitLines(text)),updateDoc(this,{from:start,
to:start,text:text}),setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){op?this.iterN(from-this.first,to-from,op):this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);return lineSep===!1?lines:lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0),setSelection(this,simpleSelection(top))}),replaceRange:function(code,from,to,origin){from=clipPos(this,from),to=to?clipPos(this,to):from,replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));return lineSep===!1?lines:lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){return isLine(this,line)?getLine(this,line):void 0},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){return"number"==typeof line&&(line=getLine(this,line)),visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var pos,range=this.sel.primary();return pos=null==start||"head"==start?range.head:"anchor"==start?range.anchor:"end"==start||"to"==start||start===!1?range.to():range.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(ranges.length){for(var i=0,out=[];i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));null==primary&&(primary=Math.min(ranges.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(out,primary),options)}}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor))),setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var lines,ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}return lineSep===!1?lines:lines.join(lineSep||this.lineSeparator())},getSelections:function(lineSep){for(var parts=[],ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lineSep!==!1&&(sel=sel.join(lineSep||this.lineSeparator())),parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var changes=[],sel=this.sel,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this.splitLines(code[i]),origin:origin}}for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i=changes.length-1;i>=0;i--)makeChange(this,changes[i]);newSel?setSelectionReplaceHistory(this,newSel):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++)hist.done[i].ranges||++done;for(var i=0;i<hist.undone.length;i++)hist.undone[i].ranges||++undone;return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){return forceSplit&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0),hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(line[prop]){if(classTest(cls).test(line[prop]))return!1;line[prop]+=" "+cls}else line[prop]=cls;return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur)return!1;if(null==cls)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return!1;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(found.index&&end!=cur.length?" ":"")+cur.slice(end)||null}return!0})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};return pos=clipPos(this,pos),markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];(null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)&&markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to,filter){from=clipPos(this,from),to=clipPos(this,to);var found=[],lineNo=from.line;return this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];lineNo==from.line&&from.ch>span.to||null==span.from&&lineNo!=from.line||lineNo==to.line&&span.from>to.ch||filter&&!filter(span.marker)||found.push(span.marker.parent||span.marker)}++lineNo}),found},getAllMarks:function(){var markers=[];return this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)null!=sps[i].from&&markers.push(sps[i].marker)}),markers},posFromIndex:function(off){var ch,lineNo=this.first;return this.iter(function(line){var sz=line.text.length+1;return sz>off?(ch=off,!0):(off-=sz,void++lineNo)}),clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;return coords.line<this.first||coords.ch<0?0:(this.iter(this.first,coords.line,function(line){index+=line.text.length+1}),index)},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return doc.scrollTop=this.scrollTop,doc.scrollLeft=this.scrollLeft,doc.sel=this.sel,doc.extend=!1,copyHistory&&(doc.history.undoDepth=this.history.undoDepth,doc.setHistory(this.getHistory())),doc},linkedDoc:function(options){options||(options={});var from=this.first,to=this.first+this.size;null!=options.from&&options.from>from&&(from=options.from),null!=options.to&&options.to<to&&(to=options.to);var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep);return options.sharedHist&&(copy.history=this.history),(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist}),copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}],copySharedMarkers(copy,findSharedMarkers(this)),copy},unlinkDoc:function(other){if(other instanceof CodeMirror&&(other=other.doc),this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc==other){this.linked.splice(i,1),other.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id)},!0),other.history=new History(null),other.history.done=copyHistoryArray(this.history.done,splitIds),other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){return this.lineSep?str.split(this.lineSep):splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"}}),Doc.prototype.eachLine=Doc.prototype.iter;var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype)Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0&&(CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]));eventMixin(Doc);var e_preventDefault=CodeMirror.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e_stopPropagation=CodeMirror.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e),e_stopPropagation(e)},on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,!1);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={}),arr=map[type]||(map[type]=[]);arr.push(f)}},noHandlers=[],off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,!1);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else for(var handlers=getHandlers(emitter,type,!1),i=0;i<handlers.length;++i)if(handlers[i]==f){handlers.splice(i,1);break}},signal=CodeMirror.signal=function(emitter,type){var handlers=getHandlers(emitter,type,!0);if(handlers.length)for(var args=Array.prototype.slice.call(arguments,2),i=0;i<handlers.length;++i)handlers[i].apply(null,args)},orphanDelayedCallbacks=null,scrollerGap=30,Pass=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};Delayed.prototype.set=function(ms,f){clearTimeout(this.id),this.id=setTimeout(f,ms)};var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){null==end&&(end=string.search(/[^\s\u00a0]/),-1==end&&(end=string.length));for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("	",i);if(0>nextTab||nextTab>=end)return n+(end-i);n+=nextTab-i,n+=tabSize-n%tabSize,i=nextTab+1}},findColumn=CodeMirror.findColumn=function(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("	",pos);-1==nextTab&&(nextTab=string.length);var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);if(col+=nextTab-pos,col+=tabSize-col%tabSize,pos=nextTab+1,col>=goal)return pos}},spaceStrs=[""],selectInput=function(node){node.select()};ios?selectInput=function(node){node.selectionStart=0,node.selectionEnd=node.value.length}:ie&&(selectInput=function(node){try{node.select()}catch(_e){}});var range,nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,isWordCharBasic=CodeMirror.isWordChar=function(ch){return/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))},extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;range=document.createRange?function(node,start,end,endNode){var r=document.createRange();return r.setEnd(endNode||node,end),r.setStart(node,start),r}:function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",end),r.moveStart("character",start),r};var contains=CodeMirror.contains=function(parent,child){if(3==child.nodeType&&(child=child.parentNode),parent.contains)return parent.contains(child);do if(11==child.nodeType&&(child=child.host),child==parent)return!0;while(child=child.parentNode)};ie&&11>ie_version&&(activeElt=function(){try{return document.activeElement}catch(e){return document.body}});var zwspSupported,badBidiRects,rmClass=CodeMirror.rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}},addClass=CodeMirror.addClass=function(node,cls){var current=node.className;classTest(cls).test(current)||(node.className+=(current?" ":"")+cls)},globalsRegistered=!1,dragAndDrop=function(){if(ie&&9>ie_version)return!1;var div=elt("div");return"draggable"in div||"dragDrop"in div}(),splitLinesAuto=CodeMirror.splitLines=3!="\n\nb".split(/\n/).length?function(string){for(var pos=0,result=[],l=string.length;l>=pos;){var nl=string.indexOf("\n",pos);-1==nl&&(nl=string.length);var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");-1!=rt?(result.push(line.slice(0,rt)),pos+=rt+1):(result.push(line),pos=nl+1)}return result}:function(string){return string.split(/\r\n?|\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){try{var range=te.ownerDocument.selection.createRange()}catch(e){}return range&&range.parentElement()==te?0!=range.compareEndPoints("StartToEnd",range):!1},hasCopyEvent=function(){var e=elt("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),badZoomedRects=null,keyNames=CodeMirror.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var i=0;10>i;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i=65;90>=i;i++)keyNames[i]=String.fromCharCode(i);for(var i=1;12>=i;i++)keyNames[i+111]=keyNames[i+63235]="F"+i}();var bidiOther,bidiOrdering=function(){function charType(code){return 247>=code?lowTypes.charAt(code):code>=1424&&1524>=code?"R":code>=1536&&1773>=code?arabicTypes.charAt(code-1536):code>=1774&&2220>=code?"r":code>=8192&&8203>=code?"w":8204==code?"b":"L"}function BidiSpan(level,from,to){this.level=level,this.from=from,this.to=to}var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/,outerType="L";return function(str){if(!bidiRE.test(str))return!1;for(var type,len=str.length,types=[],i=0;len>i;++i)types.push(type=charType(str.charCodeAt(i)));for(var i=0,prev=outerType;len>i;++i){var type=types[i];"m"==type?types[i]=prev:prev=type}for(var i=0,cur=outerType;len>i;++i){var type=types[i];"1"==type&&"r"==cur?types[i]="n":isStrong.test(type)&&(cur=type,"r"==type&&(types[i]="R"))}for(var i=1,prev=types[0];len-1>i;++i){var type=types[i];"+"==type&&"1"==prev&&"1"==types[i+1]?types[i]="1":","!=type||prev!=types[i+1]||"1"!=prev&&"n"!=prev||(types[i]=prev),prev=type}for(var i=0;len>i;++i){var type=types[i];if(","==type)types[i]="N";else if("%"==type){for(var end=i+1;len>end&&"%"==types[end];++end);for(var replace=i&&"!"==types[i-1]||len>end&&"1"==types[end]?"1":"N",j=i;end>j;++j)types[j]=replace;i=end-1}}for(var i=0,cur=outerType;len>i;++i){var type=types[i];"L"==cur&&"1"==type?types[i]="L":isStrong.test(type)&&(cur=type)}for(var i=0;len>i;++i)if(isNeutral.test(types[i])){for(var end=i+1;len>end&&isNeutral.test(types[end]);++end);for(var before="L"==(i?types[i-1]:outerType),after="L"==(len>end?types[end]:outerType),replace=before||after?"L":"R",j=i;end>j;++j)types[j]=replace;i=end-1}for(var m,order=[],i=0;len>i;)if(countsAsLeft.test(types[i])){var start=i;for(++i;len>i&&countsAsLeft.test(types[i]);++i);order.push(new BidiSpan(0,start,i))}else{var pos=i,at=order.length;for(++i;len>i&&"L"!=types[i];++i);for(var j=pos;i>j;)if(countsAsNum.test(types[j])){j>pos&&order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;i>j&&countsAsNum.test(types[j]);++j);order.splice(at,0,new BidiSpan(2,nstart,j)),pos=j}else++j;i>pos&&order.splice(at,0,new BidiSpan(1,pos,i))}return 1==order[0].level&&(m=str.match(/^\s+/))&&(order[0].from=m[0].length,order.unshift(new BidiSpan(0,0,m[0].length))),1==lst(order).level&&(m=str.match(/\s+$/))&&(lst(order).to-=m[0].length,order.push(new BidiSpan(0,len-m[0].length,len))),2==order[0].level&&order.unshift(new BidiSpan(1,order[0].to,order[0].to)),order[0].level!=lst(order).level&&order.push(new BidiSpan(order[0].level,len,len)),order}}();return CodeMirror.version="5.12.0",CodeMirror}),module.exports}),$__System.registerDynamic("117",["114","3"],!0,function($__require,exports,module){var define;$__require("3");return function(mod){"object"==typeof exports&&"object"==typeof module?mod($__require("114")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("turtle",function(config){function wordRegexp(words){return new RegExp("^(?:"+words.join("|")+")$","i")}function tokenBase(stream,state){var ch=stream.next();if(curPunc=null,"<"==ch&&!stream.match(/^[\s\u00a0=]/,!1))return stream.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==ch||"'"==ch)return state.tokenize=tokenLiteral(ch),state.tokenize(stream,state);if(/[{}\(\),\.;\[\]]/.test(ch))return curPunc=ch,null;if("#"==ch)return stream.skipToEnd(),"comment";if(operatorChars.test(ch))return stream.eatWhile(operatorChars),null;if(":"==ch)return"operator";if(stream.eatWhile(/[_\w\d]/),":"==stream.peek())return"variable-3";var word=stream.current();return keywords.test(word)?"meta":ch>="A"&&"Z">=ch?"comment":"keyword";var word}function tokenLiteral(quote){return function(stream,state){for(var ch,escaped=!1;null!=(ch=stream.next());){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==ch}return"string"}}function pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type}}function popContext(state){state.indent=state.context.indent,state.context=state.context.prev}var curPunc,indentUnit=config.indentUnit,keywords=(wordRegexp([]),wordRegexp(["@prefix","@base","a"])),operatorChars=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(stream,state){if(stream.sol()&&(state.context&&null==state.context.align&&(state.context.align=!1),state.indent=stream.indentation()),stream.eatSpace())return null;var style=state.tokenize(stream,state);if("comment"!=style&&state.context&&null==state.context.align&&"pattern"!=state.context.type&&(state.context.align=!0),"("==curPunc)pushContext(state,")",stream.column());else if("["==curPunc)pushContext(state,"]",stream.column());else if("{"==curPunc)pushContext(state,"}",stream.column());else if(/[\]\}\)]/.test(curPunc)){for(;state.context&&"pattern"==state.context.type;)popContext(state);state.context&&curPunc==state.context.type&&popContext(state)}else"."==curPunc&&state.context&&"pattern"==state.context.type?popContext(state):/atom|string|variable/.test(style)&&state.context&&(/[\}\]]/.test(state.context.type)?pushContext(state,"pattern",stream.column()):"pattern"!=state.context.type||state.context.align||(state.context.align=!0,state.context.col=stream.column()));return style},indent:function(state,textAfter){var firstChar=textAfter&&textAfter.charAt(0),context=state.context;if(/[\]\}]/.test(firstChar))for(;context&&"pattern"==context.type;)context=context.prev;var closing=context&&firstChar==context.type;return context?"pattern"==context.type?context.col:context.align?context.col+(closing?0:1):context.indent+(closing?0:indentUnit):0},lineComment:"#"}}),CodeMirror.defineMIME("text/turtle","turtle")}),module.exports}),$__System.register("118",[],function(){return{setters:[],execute:function(){}}}),$__System.register("119",[],function(){return{setters:[],execute:function(){}}}),$__System.register("6b",["13","114","113","115","116","117","118","119"],function(exports_1,context_1){"use strict";var core_1,codemirror_1,Mode,Class,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(codemirror_1_1){codemirror_1=codemirror_1_1},function(_1){},function(_2){},function(_3){},function(_4){},function(_5){},function(_6){}],execute:function(){Mode=function(){function Mode(){}return Object.defineProperty(Mode,"JAVASCRIPT",{get:function(){return"text/javascript"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"XML",{get:function(){return"application/xml"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"JSONLD",{get:function(){return"application/ld+json"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"JSONDRDF",{get:function(){return"application/json"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"N3",{get:function(){return"text/turtle"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"RDFXML",{get:function(){return"application/xml"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"CSV",{get:function(){return"text/plain"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"TSV",{get:function(){return"text/plain"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"TURTLE",{get:function(){return"text/turtle"},enumerable:!0,configurable:!0}),Object.defineProperty(Mode,"SPARQL",{get:function(){return"application/sparql-query"},enumerable:!0,configurable:!0}),Mode}(),exports_1("Mode",Mode),Class=function(){function Class(element){this.mode=Mode.JAVASCRIPT,this.readOnly=!1,this.noCursor=!1,this.showLineNumbers=!0,this.scroll=!0,this.value="",this.valueChange=new core_1.EventEmitter,this.element=element}return Class.prototype.ngOnDestroy=function(){this.element.nativeElement.innerHTML=this.codeMirror.getValue()},Class.prototype.getValue=function(){var pres=this.element.nativeElement.querySelector("pre");return pres?pres.length>0?pres[0].innerHTML:pres.innerHTML:this.element.nativeElement.innerHTML},Class.prototype.ngAfterViewInit=function(){var _this=this;this.value||(this.value=this.getValue()),this.element.nativeElement.innerHTML="",this.codeMirror=codemirror_1["default"](this.element.nativeElement,{lineNumbers:this.showLineNumbers,indentWithTabs:!0,smartIndent:!1,electricChars:!1,mode:this.mode,theme:"mbo",value:this.value,readOnly:this.readOnly}),this.scroll||(this.element.nativeElement.children[0].style.height="auto"),this.codeMirror.on("change",function(changeObject){_this.value=_this.codeMirror.getValue(),_this.valueChange.next(_this.value)})},Class.prototype.ngOnChanges=function(changeRecord){if(this.codeMirror){if("readOnly"in changeRecord){var change=changeRecord.readOnly;this.setReadOnly(change.currentValue)}if("noCursor"in changeRecord){var change=changeRecord.noCursor;this.setNoCursor(change.currentValue)}if("value"in changeRecord){var change=changeRecord.value;change.currentValue!==this.codeMirror.getValue()&&this.codeMirror.setValue(change.currentValue)}}},Class.prototype.setReadOnly=function(readOnly){this.codeMirror.setOption("readOnly",readOnly)},Class.prototype.setNoCursor=function(noCursor){noCursor?this.codeMirror.setOption("readOnly","nocursor"):this.setReadOnly(this.readOnly)},__decorate([core_1.Input(),__metadata("design:type",String)],Class.prototype,"mode",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Class.prototype,"readOnly",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Class.prototype,"noCursor",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Class.prototype,"showLineNumbers",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],Class.prototype,"scroll",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],Class.prototype,"value",void 0),__decorate([core_1.Output(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof core_1.EventEmitter&&core_1.EventEmitter)&&_a||Object)],Class.prototype,"valueChange",void 0),Class=__decorate([core_1.Component({selector:"code-mirror",template:"<ng-content></ng-content>"}),__metadata("design:paramtypes",["function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object])],Class);var _a,_b}(),exports_1("Class",Class),exports_1("default",Class)}}}),function(){var define=$__System.amdDefine;define("11a",[],function(){return'<div class="ui main middle aligned grid container">\n	<div class="row">\n		<div class="column">\n			<h3>\n				SPARQL Client\n			</h3>\n		</div>\n	</div>\n	<div class="row query-builder">\n		<div class="column">\n			<div class="ui top attached menu">\n				<div class="right menu">\n					<a class="show-queries item">\n						<i class="sidebar icon"></i>\n						Saved Queries\n					</a>\n				</div>\n			</div>\n			<div class="ui middle attached segment pushable">\n				<div class="ui inverted right vertical very wide dimmed sidebar menu queries-list">\n					<p *ngIf="savedQueries.length == 0">\n						No saved queries yet.\n					</p>\n					<a class="item" *ngFor="#query of savedQueries; #i =index" (click)="onClickQuery(i)">\n						<button class="mini ui right floated red button" (click)="onClickRemoveQuery(i)">\n							<i class="icon remove"></i>\n						</button>\n						<span class="name">{{query.name}}</span>\n						<br/>\n						<span class="operation" [ngClass]="query.operation.toLowerCase()">{{query.operation.toLowerCase()}}</span>\n					</a>\n				</div>\n				<div class="pusher">\n					<div class="ui basic grid segment" [ngClass]="{loading: isSending}">\n						<div class="row">\n							<div class="column">\n								<div class="ui grid form">\n									<div class="fields row">\n										<div class="three wide middle aligned right aligned column">\n											<label>Endpoint URI:</label>\n										</div>\n										<div class="thirteen wide column field">\n											<input placeholder="https://example.com/parent/.../resource/" [(ngModel)]="currentQuery.endpoint" type="text">\n										</div>\n									</div>\n									<div class="fields row">\n										<div class="three wide middle aligned right aligned column">\n											<label>Type:</label>\n										</div>\n										<div class="three wide column field">\n											<select #queryType class="ui dropdown" [(ngModel)]="currentQuery.type" (change)="onChangeQueryType($event)">\n												<option value="{{SPARQLTypes.query}}">{{SPARQLTypes.query}}</option>\n												<option value="{{SPARQLTypes.update}}">{{SPARQLTypes.update}}</option>\n											</select>\n										</div>\n									</div>\n									<div class="fields row">\n										<div class="three wide right aligned column">\n											<label>Query:</label>\n										</div>\n										<div class="thirteen wide column field">\n											<code-mirror [mode]="codeMirrorMode.SPARQL" [readOnly]="isSending" [(value)]="sparql" [showLineNumbers]="true"></code-mirror>\n										</div>\n									</div>\n									<div class="fields row" *ngIf="currentQuery.type == \'Query\'">\n										<div class="three wide right aligned column">\n											<label>Output Format:</label>\n										</div>\n										<div class="three wide column field">\n											<select class="ui dropdown" [(ngModel)]="currentQuery.format" [disabled]="isSending || !currentQuery.operation">\n												<option *ngFor="#format of formatsAvailable" [value]="format.value">{{format.name}}</option>\n											</select>\n										</div>\n									</div>\n									<div class="fields row">\n										<div class="three wide right aligned column">\n										</div>\n										<div class="six wide column field">\n											<button class="ui button"\n											        [ngClass]="{disabled:!currentQuery.content}">\n												<i class="checkmark icon"></i>\n												Validate\n											</button>\n											<button class="ui blue button"\n											        [ngClass]="{disabled: !canExecute()}"\n											        (click)="onExecute()">\n												<i class="play icon"></i>\n												Execute\n											</button>\n										</div>\n									</div>\n									<!-- /fields row -->\n								</div>\n								<!-- /form -->\n							</div>\n							<!-- /row -->\n						</div>\n						<!-- /form -->\n					</div>\n					<!-- /segment -->\n				</div>\n				<!-- /pusher -->\n			</div>\n			<div class="ui bottom attached segment">\n				<div class="ui grid form row">\n					<div class="nine wide column">\n						<input placeholder="name of the query" type="text" [(ngModel)]="currentQuery.name">\n					</div>\n					<div class="seven wide column field">\n						<button class="ui button"\n						        [ngClass]="{loading: isSaving, disabled: !canSaveQuery()}"\n						        [disabled]="currentQuery.endpoint && !currentQuery.format && !currentQuery.content"\n						        (click)="onClickSaveQuery()"\n						        *ngIf="currentQuery.id==null">\n							<i class="star icon"></i>\n							<span>Save Query</span>\n						</button>\n						<div class="ui teal buttons btnsGroupSaveQuery"\n						     [style.display]="currentQuery.id != null && currentQuery.id != undefined? \'\':\'none\'">\n							<button class="ui button btnSave"\n							        (click)="onClickSaveExistingQuery()">\n								<span>Save Query</span>\n							</button>\n							<div class="ui floating dropdown icon button">\n								<i class="dropdown icon"></i>\n\n								<div class="menu">\n									<button class="ui basic button item btnSaveAs"\n									        (click)="onClickSaveQuery()">\n										<i class="save icon"></i> Save As "{{currentQuery.name}}"\n									</button>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="row">\n		<div class="column">\n			<h3>\n				Response Stack\n				<button class="negative ui button"\n				        [disabled]="responses.length<=0"\n				        (click)="onEmptyStack()">\n					<i class="trash outline icon"></i>\n					Empty Stack <span *ngIf="responses.length>0">({{responses.length}})</span>\n				</button>\n			</h3>\n		</div>\n	</div>\n	<!--<sparql-response class="row" *ngFor="#response of responses; #i =index" [response]="response" (onRemove)="onRemove($event)" (onConfigure)="onConfigureResponse($event)" (onReExecute)="onReExecute($event)" [(isReExecuting)]="isReExecuting"></sparql-response>-->\n	<sparql-response class="row"\n	                 *ngFor="#response of responses; #i =index"\n	                 [response]="response"\n	                 (onRemove)="onRemove($event)"\n	                 (onConfigure)="onConfigureResponse($event)"\n	                 (onReExecute)="onReExecute($event)"></sparql-response>\n	<div class="row"></div>\n	<div class="row"></div>\n	<div class="row"></div>\n</div>';
})}(),$__System.register("11b",[],function(){return{setters:[],execute:function(){}}}),$__System.register("8e",["13","2d","112","6b","6d","6a","11a","11b"],function(exports_1,context_1){"use strict";var core_1,common_1,ResponseComponent_1,CodeMirrorComponent,jquery_1,template_html_1,SPARQLClientComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(ResponseComponent_1_1){ResponseComponent_1=ResponseComponent_1_1},function(CodeMirrorComponent_1){CodeMirrorComponent=CodeMirrorComponent_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){SPARQLClientComponent=function(){function SPARQLClientComponent(element){this._sparql="",this.SPARQLTypes={query:"Query",update:"Update"},this.SPARQLQueryOperations={select:{name:"SELECT",formats:[{value:ResponseComponent_1.SPARQLFormats.table,name:"Friendly Table"},{value:ResponseComponent_1.SPARQLFormats.xml,name:"XML"},{value:ResponseComponent_1.SPARQLFormats.csv,name:"CSV"},{value:ResponseComponent_1.SPARQLFormats.tsv,name:"TSV"}]},describe:{name:"DESCRIBE",formats:[{value:ResponseComponent_1.SPARQLFormats.jsonLD,name:"JSON-LD"},{value:ResponseComponent_1.SPARQLFormats.turtle,name:"TURTLE"},{value:ResponseComponent_1.SPARQLFormats.jsonRDF,name:"RDF/JSON"},{value:ResponseComponent_1.SPARQLFormats.rdfXML,name:"RDF/XML"},{value:ResponseComponent_1.SPARQLFormats.n3,name:"N3"}]},construct:{name:"CONSTRUCT",formats:[{value:ResponseComponent_1.SPARQLFormats.jsonLD,name:"JSON-LD"},{value:ResponseComponent_1.SPARQLFormats.turtle,name:"TURTLE"},{value:ResponseComponent_1.SPARQLFormats.jsonRDF,name:"RDF/JSON"},{value:ResponseComponent_1.SPARQLFormats.rdfXML,name:"RDF/XML"},{value:ResponseComponent_1.SPARQLFormats.n3,name:"N3"}]},ask:{name:"ASK",formats:[{value:ResponseComponent_1.SPARQLFormats["boolean"],name:"Boolean"}]}},this.isQueryType=!0,this.isSending=!1,this.isSaving=!1,this.responses=[],this.currentQuery={endpoint:"",type:this.SPARQLTypes.query,content:"",operation:null,format:null,name:""},this.formatsAvailable=[],this.savedQueries=[],this.regExpSelect=new RegExp("((.|\n)+)?SELECT((.|\n)+)?","i"),this.regExpConstruct=new RegExp("((.|\n)+)?CONSTRUCT((.|\n)+)?","i"),this.regExpAsk=new RegExp("((.|\n)+)?ASK((.|\n)+)?","i"),this.regExpDescribe=new RegExp("((.|\n)+)?DESCRIBE((.|\n)+)?","i"),this.element=element,this.isSending=!1,this.savedQueries=this.getLocalSavedQueries()||[]}return Object.defineProperty(SPARQLClientComponent.prototype,"codeMirrorMode",{get:function(){return CodeMirrorComponent.Mode},enumerable:!0,configurable:!0}),Object.defineProperty(SPARQLClientComponent.prototype,"sparql",{get:function(){return this._sparql},set:function(value){this._sparql=value,this.currentQuery.content=value,this.sparqlChanged()},enumerable:!0,configurable:!0}),SPARQLClientComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.btnSaveQuery=this.$element.find(".btnSaveQuery "),this.btnsGroupSaveQuery=this.$element.find(".btnsGroupSaveQuery "),this.btnSave=this.btnsGroupSaveQuery.find(".btnSave "),this.btnSaveAs=this.btnsGroupSaveQuery.find(".btnSaveAs"),this.sidebar=this.$element.find(".query-builder .ui.sidebar"),this.btnsGroupSaveQuery.find(".dropdown").dropdown(),this.initializeSavedQueriesSidebar()},SPARQLClientComponent.prototype.onChangeQueryType=function($event){var type=$event.target.value;this.isQueryType="Query"===type},SPARQLClientComponent.prototype.sparqlChanged=function(){var operation=this.getSPARQLOperation(this.sparql);null!==operation&&this.SPARQLQueryOperations[operation.toLowerCase()]?(operation=operation.toLowerCase(),this.currentQuery.format=this.currentQuery.format?this.currentQuery.format:this.SPARQLQueryOperations[operation].formats[0].value,this.currentQuery.operation=operation.toUpperCase(),this.formatsAvailable=this.SPARQLQueryOperations[operation].formats):(this.currentQuery.format=null,this.currentQuery.operation="update",this.formatsAvailable=[])},SPARQLClientComponent.prototype.getSPARQLOperation=function(query){switch(!0){case this.regExpSelect.test(query):return this.SPARQLQueryOperations.select.name;case this.regExpConstruct.test(query):return this.SPARQLQueryOperations.construct.name;case this.regExpAsk.test(query):return this.SPARQLQueryOperations.ask.name;case this.regExpDescribe.test(query):return this.SPARQLQueryOperations.describe.name;default:return null}},SPARQLClientComponent.prototype.onReExecute=function(originalResponse){originalResponse.isReExecuting=!0,this.execute(originalResponse.query,originalResponse).then(function(newResponse){originalResponse.isReExecuting=!1,originalResponse.duration=newResponse.duration,originalResponse.resultset=newResponse.resultset,originalResponse.query=newResponse.query,originalResponse.data=newResponse.data})},SPARQLClientComponent.prototype.onExecute=function(){var _this=this;this.isSending=!0;var query={endpoint:this.currentQuery.endpoint,type:this.currentQuery.type,content:this.currentQuery.content,operation:this.currentQuery.operation.toUpperCase(),format:this.currentQuery.format,name:this.currentQuery.name,id:null};this.execute(query,null).then(function(response){return _this.addResponse(response),response})},SPARQLClientComponent.prototype.execute=function(query,activeResponse){var _this=this,type=query.type;activeResponse&&(query=activeResponse.query);var promise=null;switch(type){case this.SPARQLTypes.query:promise=this.executeQuery(query);break;case this.SPARQLTypes.update:promise=this.executeUpdate(query);break;default:promise=new Promise(function(resolve,reject){reject("Unsupported Type")})}return promise.then(function(response){return _this.isSending=!1,response},function(error){return _this.isSending=!1,error})},SPARQLClientComponent.prototype.executeQuery=function(query){switch(this.isSending=!0,query.operation){case this.SPARQLQueryOperations.select.name:return this.executeSelect(query);case this.SPARQLQueryOperations.describe.name:return this.executeModelQuery(query);case this.SPARQLQueryOperations.construct.name:return this.executeModelQuery(query);case this.SPARQLQueryOperations.ask.name:return this.executeAsk(query);default:return new Promise(function(resolve,reject){reject("Unsupported Operation")})}},SPARQLClientComponent.prototype.executeSelect=function(query){return new Promise(function(resolve,reject){var beforeTimestamp=(new Date).valueOf(),resultset={head:{vars:["context","subject","predicate","object"]},results:{bindings:[{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6"},predicate:{type:"uri",value:"http://example.org/book/book6"},object:{type:"literal",value:"Harry Potter and the Half-Blood Prince"}},{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6#fragment"},predicate:{type:"uri",value:"http://example.org/book/book6#fragment"},object:{type:"uri",value:"http://example.org/book/book7"}},{context:{type:"uri",value:"http://example.org/book/book7"},subject:{type:"uri",value:"http://example.org/book/book7"},predicate:{type:"uri",value:"http://example.org/book/book7"},object:{type:"literal",value:"Harry Potter and the Deathly Hallows"}},{context:{type:"uri",value:"http://example.org/book/book5"},subject:{type:"uri",value:"http://example.org/book/book5"},predicate:{type:"uri",value:"http://example.org/book/book5"},object:{type:"literal",value:"Harry Potter and the Order of the Phoenix"}},{context:{type:"uri",value:"http://example.org/book/book4"},subject:{type:"uri",value:"http://example.org/book/book4"},predicate:{type:"uri",value:"http://example.org/book/book4"},object:{type:"literal",value:"1000",datatype:"http://www.w3.org/2001/XMLSchema#integer"}},{context:{type:"uri",value:"http://example.org/book/book2"},subject:{type:"uri",value:"http://example.org/book/book2"},predicate:{type:"uri",value:"http://example.org/book/book2"},object:{type:"literal",value:"Harry Potter and the Chamber of Secrets"}},{context:{type:"uri",value:"http://example.org/book/book3"},subject:{type:"uri",value:"http://example.org/book/book3"},predicate:{type:"uri",value:"http://example.org/book/book3"},object:{type:"literal",value:"Harry Potter and the Prisoner Of Azkaban"}},{context:{type:"uri",value:"http://example.org/book/book1"},subject:{type:"uri",value:"http://example.org/book/book1"},predicate:{type:"uri",value:"http://example.org/book/book1"},object:{type:"literal",value:"Harry Potter and the Philosopher's Stone"}}]}},afterTimestamp=(new Date).valueOf(),duration=afterTimestamp-beforeTimestamp,random=Math.floor(10*Math.random());random%2==0&&(resultset={head:{vars:["context","subject","predicate","object"]},results:{bindings:[{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6"},predicate:{type:"uri",value:"http://example.org/book/book6"},object:{type:"literal",value:"Harry Potter and the Half-Blood Prince"}}]}});var response=new ResponseComponent_1.SPARQLClientResponse;response.duration=duration,response.resultset=resultset,response.setData(resultset),response.result=ResponseComponent_1.SPARQLResponseType.success,response.query=query,resolve(response)})},SPARQLClientComponent.prototype.executeModelQuery=function(query){return new Promise(function(resolve,reject){var beforeTimestamp=(new Date).valueOf(),resultset={head:{vars:["context","subject","predicate","object"]},results:{bindings:[{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6"},predicate:{type:"uri",value:"http://example.org/book/book6"},object:{type:"literal",value:"Harry Potter and the Half-Blood Prince"}},{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6#fragment"},predicate:{type:"uri",value:"http://example.org/book/book6#fragment"},object:{type:"uri",value:"http://example.org/book/book7"}},{context:{type:"uri",value:"http://example.org/book/book7"},subject:{type:"uri",value:"http://example.org/book/book7"},predicate:{type:"uri",value:"http://example.org/book/book7"},object:{type:"literal",value:"Harry Potter and the Deathly Hallows"}},{context:{type:"uri",value:"http://example.org/book/book5"},subject:{type:"uri",value:"http://example.org/book/book5"},predicate:{type:"uri",value:"http://example.org/book/book5"},object:{type:"literal",value:"Harry Potter and the Order of the Phoenix"}},{context:{type:"uri",value:"http://example.org/book/book4"},subject:{type:"uri",value:"http://example.org/book/book4"},predicate:{type:"uri",value:"http://example.org/book/book4"},object:{type:"literal",value:"1000",datatype:"http://www.w3.org/2001/XMLSchema#integer"}},{context:{type:"uri",value:"http://example.org/book/book2"},subject:{type:"uri",value:"http://example.org/book/book2"},predicate:{type:"uri",value:"http://example.org/book/book2"},object:{type:"literal",value:"Harry Potter and the Chamber of Secrets"}},{context:{type:"uri",value:"http://example.org/book/book3"},subject:{type:"uri",value:"http://example.org/book/book3"},predicate:{type:"uri",value:"http://example.org/book/book3"},object:{type:"literal",value:"Harry Potter and the Prisoner Of Azkaban"}},{context:{type:"uri",value:"http://example.org/book/book1"},subject:{type:"uri",value:"http://example.org/book/book1"},predicate:{type:"uri",value:"http://example.org/book/book1"},object:{type:"literal",value:"Harry Potter and the Philosopher's Stone"}}]}},afterTimestamp=(new Date).valueOf(),duration=afterTimestamp-beforeTimestamp,random=Math.floor(10*Math.random());random%2==0&&(resultset={head:{vars:["context","subject","predicate","object"]},results:{bindings:[{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6"},predicate:{type:"uri",value:"http://example.org/book/book6"},object:{type:"literal",value:"Harry Potter and the Half-Blood Prince"}}]}});var response=new ResponseComponent_1.SPARQLClientResponse;response.duration=duration,response.resultset=resultset,response.setData(resultset),response.result=ResponseComponent_1.SPARQLResponseType.success,response.query=query,resolve(response)})},SPARQLClientComponent.prototype.executeAsk=function(query){return new Promise(function(resolve,reject){var beforeTimestamp=(new Date).valueOf(),resultset={head:{vars:["context","subject","predicate","object"]},results:{bindings:[{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6"},predicate:{type:"uri",value:"http://example.org/book/book6"},object:{type:"literal",value:"Harry Potter and the Half-Blood Prince"}},{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6#fragment"},predicate:{type:"uri",value:"http://example.org/book/book6#fragment"},object:{type:"uri",value:"http://example.org/book/book7"}},{context:{type:"uri",value:"http://example.org/book/book7"},subject:{type:"uri",value:"http://example.org/book/book7"},predicate:{type:"uri",value:"http://example.org/book/book7"},object:{type:"literal",value:"Harry Potter and the Deathly Hallows"}},{context:{type:"uri",value:"http://example.org/book/book5"},subject:{type:"uri",value:"http://example.org/book/book5"},predicate:{type:"uri",value:"http://example.org/book/book5"},object:{type:"literal",value:"Harry Potter and the Order of the Phoenix"}},{context:{type:"uri",value:"http://example.org/book/book4"},subject:{type:"uri",value:"http://example.org/book/book4"},predicate:{type:"uri",value:"http://example.org/book/book4"},object:{type:"literal",value:"1000",datatype:"http://www.w3.org/2001/XMLSchema#integer"}},{context:{type:"uri",value:"http://example.org/book/book2"},subject:{type:"uri",value:"http://example.org/book/book2"},predicate:{type:"uri",value:"http://example.org/book/book2"},object:{type:"literal",value:"Harry Potter and the Chamber of Secrets"}},{context:{type:"uri",value:"http://example.org/book/book3"},subject:{type:"uri",value:"http://example.org/book/book3"},predicate:{type:"uri",value:"http://example.org/book/book3"},object:{type:"literal",value:"Harry Potter and the Prisoner Of Azkaban"}},{context:{type:"uri",value:"http://example.org/book/book1"},subject:{type:"uri",value:"http://example.org/book/book1"},predicate:{type:"uri",value:"http://example.org/book/book1"},object:{type:"literal",value:"Harry Potter and the Philosopher's Stone"}}]}},afterTimestamp=(new Date).valueOf(),duration=afterTimestamp-beforeTimestamp,random=Math.floor(10*Math.random());random%2==0&&(resultset={head:{vars:["context","subject","predicate","object"]},results:{bindings:[{context:{type:"uri",value:"http://example.org/book/book6"},subject:{type:"uri",value:"http://example.org/book/book6"},predicate:{type:"uri",value:"http://example.org/book/book6"},object:{type:"literal",value:"Harry Potter and the Half-Blood Prince"}}]}});var response=new ResponseComponent_1.SPARQLClientResponse;response.duration=duration,response.resultset=resultset,response.setData(resultset),response.result=ResponseComponent_1.SPARQLResponseType.success,response.query=query,resolve(response)})},SPARQLClientComponent.prototype.executeUpdate=function(query){return new Promise},SPARQLClientComponent.prototype.canExecute=function(){return!!(this.currentQuery.endpoint&&this.currentQuery.type&&this.currentQuery.content&&this.currentQuery.operation&&this.currentQuery.format)},SPARQLClientComponent.prototype.canSaveQuery=function(){return!!(this.currentQuery.endpoint&&this.currentQuery.type&&this.currentQuery.content&&this.currentQuery.operation&&this.currentQuery.format&&this.currentQuery.name)},SPARQLClientComponent.prototype.onEmptyStack=function(){this.responses=[]},SPARQLClientComponent.prototype.onRemove=function(response){var idx=this.responses.indexOf(response);idx>-1&&this.responses.splice(idx,1)},SPARQLClientComponent.prototype.onConfigureResponse=function(response){this.currentQuery=response.query,this.sparql=response.query.content},SPARQLClientComponent.prototype.addResponse=function(response){var i,responsesLengh=this.responses.length;for(i=responsesLengh;i>0;i--)this.responses[i]=this.responses[i-1];this.responses[0]=response},SPARQLClientComponent.prototype.onClickSaveQuery=function(){var _this=this,query={endpoint:this.currentQuery.endpoint,type:this.currentQuery.type,content:this.currentQuery.content,operation:this.currentQuery.operation,format:this.currentQuery.format,name:this.currentQuery.name,id:this.savedQueries.length};this.savedQueries=this.getLocalSavedQueries(),this.savedQueries.push(query),this.updateLocalSavedQueries(),this.isSaving=!0,setInterval(function(){_this.isSaving=!1},500)},SPARQLClientComponent.prototype.onClickSaveExistingQuery=function(){var _this=this;this.savedQueries=this.getLocalSavedQueries();var queryIdx=-1;this.savedQueries.forEach(function(iteratingQuery,index){iteratingQuery.id===_this.currentQuery.id&&(queryIdx=index)}),queryIdx>-1?this.savedQueries[queryIdx]={endpoint:this.currentQuery.endpoint,type:this.currentQuery.type,content:this.currentQuery.content,operation:this.currentQuery.operation,format:this.currentQuery.format,name:this.currentQuery.name,id:this.currentQuery.id}:(this.currentQuery.id=this.savedQueries.length,this.savedQueries.push(this.currentQuery)),this.updateLocalSavedQueries()},SPARQLClientComponent.prototype.onClickQuery=function(index){this.currentQuery=this.savedQueries[index],this.sparql=this.currentQuery.content,this.initializeSavedQueriesSidebar()},SPARQLClientComponent.prototype.onClickRemoveQuery=function(index){this.savedQueries=this.getLocalSavedQueries(),this.savedQueries.splice(index,1),this.updateLocalSavedQueries()},SPARQLClientComponent.prototype.initializeSavedQueriesSidebar=function(){this.sidebar.sidebar({context:this.$element.find(".query-builder .middle.segment")}).sidebar("attach events",".query-builder .top.menu .item")},SPARQLClientComponent.prototype.getLocalSavedQueries=function(){return window.localStorage.getItem("savedQueries")||this.updateLocalSavedQueries(),JSON.parse(window.localStorage.getItem("savedQueries"))},SPARQLClientComponent.prototype.updateLocalSavedQueries=function(){window.localStorage.setItem("savedQueries",JSON.stringify(this.savedQueries))},SPARQLClientComponent=__decorate([core_1.Component({selector:"sparql-client",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,common_1.FORM_DIRECTIVES,CodeMirrorComponent.Class,ResponseComponent_1.ResponseComponent,common_1.NgStyle,ResponseComponent_1.ResponseComponent]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object])],SPARQLClientComponent);var _a}(),exports_1("default",SPARQLClientComponent)}}}),function(){var define=$__System.amdDefine;define("11c",[],function(){return'<div *ngIf="(timer>0)">\n	<div class="ui center aligned basic segment no-apps">\n		<h4>App not found</h4>\n		<p>You will be redirected to your apps in...</p>\n		<p class="timer">{{timer}}</p>\n	</div>\n</div>\n<div *ngIf="app">\n	<h1>{{app.name}}</h1>\n	<router-outlet></router-outlet>\n</div>'})}(),$__System.register("11d",[],function(){return{setters:[],execute:function(){}}}),$__System.register("11e",["13","2d","6c","6d","6a","fe","10c","10b","8e","11c","11d"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,SidebarService_1,MyAppsService_1,DashboardView_1,SPARQLClientComponent_1,template_html_1,AppDetailView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1},function(MyAppsService_1_1){MyAppsService_1=MyAppsService_1_1},function(DashboardView_1_1){DashboardView_1=DashboardView_1_1},function(SPARQLClientComponent_1_1){SPARQLClientComponent_1=SPARQLClientComponent_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){AppDetailView=function(){function AppDetailView(router,element,routeParams,sidebarService,myAppsService){this.router=router,this.element=element,this.routeParams=routeParams,this.sidebarService=sidebarService,this.myAppsService=myAppsService}return AppDetailView.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},AppDetailView.prototype.routerOnActivate=function(){var _this=this;return new Promise(function(resolve){var slug=_this.routeParams.get("slug");_this.myAppsService.getapp(slug).then(function(app){if("undefined"==typeof app){console.log("No Carbon App found"),_this.timer=5;var countDown_1=setInterval(function(){_this.timer--,0==_this.timer&&(_this.router.navigate(["/AppDev/MyApps/List"]),clearInterval(countDown_1))},1e3)}else _this.app=app,_this.sidebarService.addApp(_this.app);resolve(!0)},function(error){console.log(error)})})},AppDetailView=__decorate([core_1.Component({selector:"app-detail",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,router_1.RouterOutlet],providers:[MyAppsService_1["default"]]}),router_1.RouteConfig([{path:"/",as:"AppDashboard",component:DashboardView_1["default"],useAsDefault:!0,data:{alias:"AppDashboard",displayName:"App Dashboard"}},{path:"/sparql-editor",as:"SPARQLEditor",component:SPARQLClientComponent_1["default"],data:{alias:"SPARQLEditor",displayName:"SPARQL Editor"}}]),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof router_1.Router&&router_1.Router)&&_a||Object,"function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof router_1.RouteParams&&router_1.RouteParams)&&_c||Object,"function"==typeof(_d="undefined"!=typeof SidebarService_1["default"]&&SidebarService_1["default"])&&_d||Object,"function"==typeof(_e="undefined"!=typeof MyAppsService_1["default"]&&MyAppsService_1["default"])&&_e||Object])],AppDetailView);var _a,_b,_c,_d,_e}(),exports_1("default",AppDetailView)}}}),$__System.registerDynamic("11f",["6","e","13","120","121","122","123","3"],!0,function($__require,exports,module){"use strict";function httpRequest(backend,request){return backend.createConnection(request).response}function mergeOptions(defaultOpts,providedOpts,method,url){var newOptions=defaultOpts;return lang_1.isPresent(providedOpts)?newOptions.merge(new base_request_options_1.RequestOptions({method:providedOpts.method||method,url:providedOpts.url||url,search:providedOpts.search,headers:providedOpts.headers,body:providedOpts.body})):lang_1.isPresent(method)?newOptions.merge(new base_request_options_1.RequestOptions({method:method,url:url})):newOptions.merge(new base_request_options_1.RequestOptions({url:url}))}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),core_1=$__require("13"),interfaces_1=$__require("120"),static_request_1=$__require("121"),base_request_options_1=$__require("122"),enums_1=$__require("123"),Http=function(){function Http(_backend,_defaultOptions){this._backend=_backend,this._defaultOptions=_defaultOptions}return Http.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url))responseObservable=httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)));else{if(!(url instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");responseObservable=httpRequest(this._backend,url)}return responseObservable},Http.prototype.get=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)))},Http.prototype.post=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Post,url)))},Http.prototype.put=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Put,url)))},Http.prototype["delete"]=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Delete,url)))},Http.prototype.patch=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Patch,url)))},Http.prototype.head=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Head,url)))},Http=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[interfaces_1.ConnectionBackend,base_request_options_1.RequestOptions])],Http)}();exports.Http=Http;var Jsonp=function(_super){function Jsonp(backend,defaultOptions){_super.call(this,backend,defaultOptions)}return __extends(Jsonp,_super),Jsonp.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url)&&(url=new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url))),!(url instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");return url.method!==enums_1.RequestMethod.Get&&exceptions_1.makeTypeError("JSONP requests must use GET request method."),responseObservable=httpRequest(this._backend,url)},Jsonp=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[interfaces_1.ConnectionBackend,base_request_options_1.RequestOptions])],Jsonp)}(Http);return exports.Jsonp=Jsonp,module.exports}),$__System.registerDynamic("124",["123","125","126","127","13","128","6","129","12a","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},enums_1=$__require("123"),static_response_1=$__require("125"),headers_1=$__require("126"),base_response_options_1=$__require("127"),core_1=$__require("13"),browser_xhr_1=$__require("128"),lang_1=$__require("6"),Observable_1=$__require("129"),http_utils_1=$__require("12a"),XHRConnection=function(){function XHRConnection(req,browserXHR,baseResponseOptions){var _this=this;this.request=req,this.response=new Observable_1.Observable(function(responseObserver){var _xhr=browserXHR.build();_xhr.open(enums_1.RequestMethod[req.method].toUpperCase(),req.url);var onLoad=function(){var body=lang_1.isPresent(_xhr.response)?_xhr.response:_xhr.responseText,headers=headers_1.Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders()),url=http_utils_1.getResponseURL(_xhr),status=1223===_xhr.status?204:_xhr.status;0===status&&(status=body?200:0);var responseOptions=new base_response_options_1.ResponseOptions({body:body,status:status,headers:headers,url:url});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions));var response=new static_response_1.Response(responseOptions);return http_utils_1.isSuccess(status)?(responseObserver.next(response),void responseObserver.complete()):void responseObserver.error(response)},onError=function(err){var responseOptions=new base_response_options_1.ResponseOptions({body:err,type:enums_1.ResponseType.Error});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new static_response_1.Response(responseOptions))};return lang_1.isPresent(req.headers)&&req.headers.forEach(function(values,name){return _xhr.setRequestHeader(name,values.join(","))}),_xhr.addEventListener("load",onLoad),_xhr.addEventListener("error",onError),_xhr.send(_this.request.text()),function(){_xhr.removeEventListener("load",onLoad),_xhr.removeEventListener("error",onError),_xhr.abort()}})}return XHRConnection}();exports.XHRConnection=XHRConnection;var XHRBackend=function(){function XHRBackend(_browserXHR,_baseResponseOptions){this._browserXHR=_browserXHR,this._baseResponseOptions=_baseResponseOptions}return XHRBackend.prototype.createConnection=function(request){return new XHRConnection(request,this._browserXHR,this._baseResponseOptions)},XHRBackend=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[browser_xhr_1.BrowserXhr,base_response_options_1.ResponseOptions])],XHRBackend)}();return exports.XHRBackend=XHRBackend,module.exports}),$__System.registerDynamic("12b",["120","123","125","127","13","12c","e","6","129","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);
return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},interfaces_1=$__require("120"),enums_1=$__require("123"),static_response_1=$__require("125"),base_response_options_1=$__require("127"),core_1=$__require("13"),browser_jsonp_1=$__require("12c"),exceptions_1=$__require("e"),lang_1=$__require("6"),Observable_1=$__require("129"),JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function JSONPConnection(){}return JSONPConnection}();exports.JSONPConnection=JSONPConnection;var JSONPConnection_=function(_super){function JSONPConnection_(req,_dom,baseResponseOptions){var _this=this;if(_super.call(this),this._dom=_dom,this.baseResponseOptions=baseResponseOptions,this._finished=!1,req.method!==enums_1.RequestMethod.Get)throw exceptions_1.makeTypeError(JSONP_ERR_WRONG_METHOD);this.request=req,this.response=new Observable_1.Observable(function(responseObserver){_this.readyState=enums_1.ReadyState.Loading;var id=_this._id=_dom.nextRequestID();_dom.exposeConnection(id,_this);var callback=_dom.requestCallback(_this._id),url=req.url;url.indexOf("=JSONP_CALLBACK&")>-1?url=lang_1.StringWrapper.replace(url,"=JSONP_CALLBACK&","="+callback+"&"):url.lastIndexOf("=JSONP_CALLBACK")===url.length-"=JSONP_CALLBACK".length&&(url=url.substring(0,url.length-"=JSONP_CALLBACK".length)+("="+callback));var script=_this._script=_dom.build(url),onLoad=function(event){if(_this.readyState!==enums_1.ReadyState.Cancelled){if(_this.readyState=enums_1.ReadyState.Done,_dom.cleanup(script),!_this._finished){var responseOptions_1=new base_response_options_1.ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:enums_1.ResponseType.Error,url:url});return lang_1.isPresent(baseResponseOptions)&&(responseOptions_1=baseResponseOptions.merge(responseOptions_1)),void responseObserver.error(new static_response_1.Response(responseOptions_1))}var responseOptions=new base_response_options_1.ResponseOptions({body:_this._responseData,url:url});lang_1.isPresent(_this.baseResponseOptions)&&(responseOptions=_this.baseResponseOptions.merge(responseOptions)),responseObserver.next(new static_response_1.Response(responseOptions)),responseObserver.complete()}},onError=function(error){if(_this.readyState!==enums_1.ReadyState.Cancelled){_this.readyState=enums_1.ReadyState.Done,_dom.cleanup(script);var responseOptions=new base_response_options_1.ResponseOptions({body:error.message,type:enums_1.ResponseType.Error});lang_1.isPresent(baseResponseOptions)&&(responseOptions=baseResponseOptions.merge(responseOptions)),responseObserver.error(new static_response_1.Response(responseOptions))}};return script.addEventListener("load",onLoad),script.addEventListener("error",onError),_dom.send(script),function(){_this.readyState=enums_1.ReadyState.Cancelled,script.removeEventListener("load",onLoad),script.removeEventListener("error",onError),lang_1.isPresent(script)&&_this._dom.cleanup(script)}})}return __extends(JSONPConnection_,_super),JSONPConnection_.prototype.finished=function(data){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==enums_1.ReadyState.Cancelled&&(this._responseData=data)},JSONPConnection_}(JSONPConnection);exports.JSONPConnection_=JSONPConnection_;var JSONPBackend=function(_super){function JSONPBackend(){_super.apply(this,arguments)}return __extends(JSONPBackend,_super),JSONPBackend}(interfaces_1.ConnectionBackend);exports.JSONPBackend=JSONPBackend;var JSONPBackend_=function(_super){function JSONPBackend_(_browserJSONP,_baseResponseOptions){_super.call(this),this._browserJSONP=_browserJSONP,this._baseResponseOptions=_baseResponseOptions}return __extends(JSONPBackend_,_super),JSONPBackend_.prototype.createConnection=function(request){return new JSONPConnection_(request,this._browserJSONP,this._baseResponseOptions)},JSONPBackend_=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[browser_jsonp_1.BrowserJsonp,base_response_options_1.ResponseOptions])],JSONPBackend_)}(JSONPBackend);return exports.JSONPBackend_=JSONPBackend_,module.exports}),$__System.registerDynamic("128",["13","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),BrowserXhr=function(){function BrowserXhr(){}return BrowserXhr.prototype.build=function(){return new XMLHttpRequest},BrowserXhr=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BrowserXhr)}();return exports.BrowserXhr=BrowserXhr,module.exports}),$__System.registerDynamic("12c",["13","6","3"],!0,function($__require,exports,module){"use strict";function _getJsonpConnections(){return null===_jsonpConnections&&(_jsonpConnections=lang_1.global[exports.JSONP_HOME]={}),_jsonpConnections}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),lang_1=$__require("6"),_nextRequestId=0;exports.JSONP_HOME="__ng_jsonp__";var _jsonpConnections=null,BrowserJsonp=function(){function BrowserJsonp(){}return BrowserJsonp.prototype.build=function(url){var node=document.createElement("script");return node.src=url,node},BrowserJsonp.prototype.nextRequestID=function(){return"__req"+_nextRequestId++},BrowserJsonp.prototype.requestCallback=function(id){return exports.JSONP_HOME+"."+id+".finished"},BrowserJsonp.prototype.exposeConnection=function(id,connection){var connections=_getJsonpConnections();connections[id]=connection},BrowserJsonp.prototype.removeConnection=function(id){var connections=_getJsonpConnections();connections[id]=null},BrowserJsonp.prototype.send=function(node){document.body.appendChild(node)},BrowserJsonp.prototype.cleanup=function(node){node.parentNode&&node.parentNode.removeChild(node)},BrowserJsonp=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BrowserJsonp)}();return exports.BrowserJsonp=BrowserJsonp,module.exports}),$__System.registerDynamic("122",["6","126","123","13","12d","12a","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),headers_1=$__require("126"),enums_1=$__require("123"),core_1=$__require("13"),url_search_params_1=$__require("12d"),http_utils_1=$__require("12a"),RequestOptions=function(){function RequestOptions(_a){var _b=void 0===_a?{}:_a,method=_b.method,headers=_b.headers,body=_b.body,url=_b.url,search=_b.search;this.method=lang_1.isPresent(method)?http_utils_1.normalizeMethodName(method):null,this.headers=lang_1.isPresent(headers)?headers:null,this.body=lang_1.isPresent(body)?body:null,this.url=lang_1.isPresent(url)?url:null,this.search=lang_1.isPresent(search)?lang_1.isString(search)?new url_search_params_1.URLSearchParams(search):search:null}return RequestOptions.prototype.merge=function(options){return new RequestOptions({method:lang_1.isPresent(options)&&lang_1.isPresent(options.method)?options.method:this.method,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url,search:lang_1.isPresent(options)&&lang_1.isPresent(options.search)?lang_1.isString(options.search)?new url_search_params_1.URLSearchParams(options.search):options.search.clone():this.search})},RequestOptions}();exports.RequestOptions=RequestOptions;var BaseRequestOptions=function(_super){function BaseRequestOptions(){_super.call(this,{method:enums_1.RequestMethod.Get,headers:new headers_1.Headers})}return __extends(BaseRequestOptions,_super),BaseRequestOptions=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BaseRequestOptions)}(RequestOptions);return exports.BaseRequestOptions=BaseRequestOptions,module.exports}),$__System.registerDynamic("127",["13","6","126","123","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),lang_1=$__require("6"),headers_1=$__require("126"),enums_1=$__require("123"),ResponseOptions=function(){function ResponseOptions(_a){var _b=void 0===_a?{}:_a,body=_b.body,status=_b.status,headers=_b.headers,statusText=_b.statusText,type=_b.type,url=_b.url;this.body=lang_1.isPresent(body)?body:null,this.status=lang_1.isPresent(status)?status:null,this.headers=lang_1.isPresent(headers)?headers:null,this.statusText=lang_1.isPresent(statusText)?statusText:null,this.type=lang_1.isPresent(type)?type:null,this.url=lang_1.isPresent(url)?url:null}return ResponseOptions.prototype.merge=function(options){return new ResponseOptions({body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,status:lang_1.isPresent(options)&&lang_1.isPresent(options.status)?options.status:this.status,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,statusText:lang_1.isPresent(options)&&lang_1.isPresent(options.statusText)?options.statusText:this.statusText,type:lang_1.isPresent(options)&&lang_1.isPresent(options.type)?options.type:this.type,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url})},ResponseOptions}();exports.ResponseOptions=ResponseOptions;var BaseResponseOptions=function(_super){function BaseResponseOptions(){_super.call(this,{status:200,statusText:"Ok",type:enums_1.ResponseType.Default,headers:new headers_1.Headers})}return __extends(BaseResponseOptions,_super),BaseResponseOptions=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BaseResponseOptions)}(ResponseOptions);return exports.BaseResponseOptions=BaseResponseOptions,module.exports}),$__System.registerDynamic("121",["126","12a","6","3"],!0,function($__require,exports,module){"use strict";var headers_1=($__require("3"),$__require("126")),http_utils_1=$__require("12a"),lang_1=$__require("6"),Request=function(){function Request(requestOptions){var url=requestOptions.url;if(this.url=requestOptions.url,lang_1.isPresent(requestOptions.search)){var search=requestOptions.search.toString();if(search.length>0){var prefix="?";lang_1.StringWrapper.contains(this.url,"?")&&(prefix="&"==this.url[this.url.length-1]?"":"&"),this.url=url+prefix+search}}this._body=requestOptions.body,this.method=http_utils_1.normalizeMethodName(requestOptions.method),this.headers=new headers_1.Headers(requestOptions.headers)}return Request.prototype.text=function(){return lang_1.isPresent(this._body)?this._body.toString():""},Request}();return exports.Request=Request,module.exports}),$__System.registerDynamic("12a",["6","123","e","3"],!0,function($__require,exports,module){"use strict";function normalizeMethodName(method){if(lang_1.isString(method)){var originalMethod=method;if(method=method.replace(/(\w)(\w*)/g,function(g0,g1,g2){return g1.toUpperCase()+g2.toLowerCase()}),method=enums_1.RequestMethod[method],"number"!=typeof method)throw exceptions_1.makeTypeError('Invalid request method. The method "'+originalMethod+'" is not supported.')}return method}function getResponseURL(xhr){return"responseURL"in xhr?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):void 0}var lang_1=($__require("3"),$__require("6")),enums_1=$__require("123"),exceptions_1=$__require("e");exports.normalizeMethodName=normalizeMethodName,exports.isSuccess=function(status){return status>=200&&300>status},exports.getResponseURL=getResponseURL;var lang_2=$__require("6");return exports.isJsObject=lang_2.isJsObject,module.exports}),$__System.registerDynamic("125",["6","e","12a","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),http_utils_1=$__require("12a"),Response=function(){function Response(responseOptions){this._body=responseOptions.body,this.status=responseOptions.status,this.statusText=responseOptions.statusText,this.headers=responseOptions.headers,this.type=responseOptions.type,this.url=responseOptions.url}return Response.prototype.blob=function(){throw new exceptions_1.BaseException('"blob()" method not implemented on Response superclass')},Response.prototype.json=function(){var jsonResponse;return http_utils_1.isJsObject(this._body)?jsonResponse=this._body:lang_1.isString(this._body)&&(jsonResponse=lang_1.Json.parse(this._body)),jsonResponse},Response.prototype.text=function(){return this._body.toString()},Response.prototype.arrayBuffer=function(){throw new exceptions_1.BaseException('"arrayBuffer()" method not implemented on Response superclass')},Response}();return exports.Response=Response,module.exports}),$__System.registerDynamic("120",["3"],!0,function($__require,exports,module){"use strict";var ConnectionBackend=($__require("3"),function(){function ConnectionBackend(){}return ConnectionBackend}());exports.ConnectionBackend=ConnectionBackend;var Connection=function(){function Connection(){}return Connection}();return exports.Connection=Connection,module.exports}),$__System.registerDynamic("126",["6","e","a","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),Headers=function(){function Headers(headers){var _this=this;return headers instanceof Headers?void(this._headersMap=headers._headersMap):(this._headersMap=new collection_1.Map,void(lang_1.isBlank(headers)||collection_1.StringMapWrapper.forEach(headers,function(v,k){_this._headersMap.set(k,collection_1.isListLikeIterable(v)?v:[v])})))}return Headers.fromResponseHeaderString=function(headersString){return headersString.trim().split("\n").map(function(val){return val.split(":")}).map(function(_a){var key=_a[0],parts=_a.slice(1);return[key.trim(),parts.join(":").trim()]}).reduce(function(headers,_a){var key=_a[0],value=_a[1];return!headers.set(key,value)&&headers},new Headers)},Headers.prototype.append=function(name,value){var mapName=this._headersMap.get(name),list=collection_1.isListLikeIterable(mapName)?mapName:[];list.push(value),this._headersMap.set(name,list)},Headers.prototype["delete"]=function(name){this._headersMap["delete"](name)},Headers.prototype.forEach=function(fn){this._headersMap.forEach(fn)},Headers.prototype.get=function(header){return collection_1.ListWrapper.first(this._headersMap.get(header))},Headers.prototype.has=function(header){return this._headersMap.has(header)},Headers.prototype.keys=function(){return collection_1.MapWrapper.keys(this._headersMap)},Headers.prototype.set=function(header,value){var list=[];if(collection_1.isListLikeIterable(value)){var pushValue=value.join(",");list.push(pushValue)}else list.push(value);this._headersMap.set(header,list)},Headers.prototype.values=function(){return collection_1.MapWrapper.values(this._headersMap)},Headers.prototype.toJSON=function(){var serializableHeaders={};return this._headersMap.forEach(function(values,name){var list=[];collection_1.iterateListLike(values,function(val){return list=collection_1.ListWrapper.concat(list,val.split(","))}),serializableHeaders[name]=list}),serializableHeaders},Headers.prototype.getAll=function(header){var headers=this._headersMap.get(header);return collection_1.isListLikeIterable(headers)?headers:[]},Headers.prototype.entries=function(){throw new exceptions_1.BaseException('"entries" method is not implemented on Headers class')},Headers}();return exports.Headers=Headers,module.exports}),$__System.registerDynamic("123",["3"],!0,function($__require,exports,module){"use strict";$__require("3");!function(RequestMethod){RequestMethod[RequestMethod.Get=0]="Get",RequestMethod[RequestMethod.Post=1]="Post",RequestMethod[RequestMethod.Put=2]="Put",RequestMethod[RequestMethod.Delete=3]="Delete",RequestMethod[RequestMethod.Options=4]="Options",RequestMethod[RequestMethod.Head=5]="Head",RequestMethod[RequestMethod.Patch=6]="Patch"}(exports.RequestMethod||(exports.RequestMethod={}));exports.RequestMethod;!function(ReadyState){ReadyState[ReadyState.Unsent=0]="Unsent",ReadyState[ReadyState.Open=1]="Open",ReadyState[ReadyState.HeadersReceived=2]="HeadersReceived",ReadyState[ReadyState.Loading=3]="Loading",ReadyState[ReadyState.Done=4]="Done",ReadyState[ReadyState.Cancelled=5]="Cancelled"}(exports.ReadyState||(exports.ReadyState={}));exports.ReadyState;!function(ResponseType){ResponseType[ResponseType.Basic=0]="Basic",ResponseType[ResponseType.Cors=1]="Cors",ResponseType[ResponseType.Default=2]="Default",ResponseType[ResponseType.Error=3]="Error",ResponseType[ResponseType.Opaque=4]="Opaque"}(exports.ResponseType||(exports.ResponseType={}));exports.ResponseType;return module.exports}),$__System.registerDynamic("12d",["6","a","3"],!0,function($__require,exports,module){"use strict";function paramParser(rawParams){void 0===rawParams&&(rawParams="");var map=new collection_1.Map;if(rawParams.length>0){var params=rawParams.split("&");params.forEach(function(param){var split=param.split("="),key=split[0],val=split[1],list=lang_1.isPresent(map.get(key))?map.get(key):[];list.push(val),map.set(key,list)})}return map}var lang_1=($__require("3"),$__require("6")),collection_1=$__require("a"),URLSearchParams=function(){function URLSearchParams(rawParams){void 0===rawParams&&(rawParams=""),this.rawParams=rawParams,this.paramsMap=paramParser(rawParams)}return URLSearchParams.prototype.clone=function(){var clone=new URLSearchParams;return clone.appendAll(this),clone},URLSearchParams.prototype.has=function(param){return this.paramsMap.has(param)},URLSearchParams.prototype.get=function(param){var storedParam=this.paramsMap.get(param);return collection_1.isListLikeIterable(storedParam)?collection_1.ListWrapper.first(storedParam):null},URLSearchParams.prototype.getAll=function(param){var mapParam=this.paramsMap.get(param);return lang_1.isPresent(mapParam)?mapParam:[]},URLSearchParams.prototype.set=function(param,val){var mapParam=this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list),list.push(val),this.paramsMap.set(param,list)},URLSearchParams.prototype.setAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list),list.push(value[0]),_this.paramsMap.set(param,list)})},URLSearchParams.prototype.append=function(param,val){var mapParam=this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];list.push(val),this.paramsMap.set(param,list)},URLSearchParams.prototype.appendAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){for(var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[],i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.replaceAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param),list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list);for(var i=0;i<value.length;++i)list.push(value[i]);_this.paramsMap.set(param,list)})},URLSearchParams.prototype.toString=function(){var paramsList=[];return this.paramsMap.forEach(function(values,k){values.forEach(function(v){return paramsList.push(k+"="+v)})}),paramsList.join("&")},URLSearchParams.prototype["delete"]=function(param){this.paramsMap["delete"](param)},URLSearchParams}();return exports.URLSearchParams=URLSearchParams,module.exports}),$__System.registerDynamic("f8",["13","11f","124","12b","128","12c","122","127","121","125","120","126","123","12d","3"],!0,function($__require,exports,module){"use strict";var core_1=($__require("3"),$__require("13")),http_1=$__require("11f"),xhr_backend_1=$__require("124"),jsonp_backend_1=$__require("12b"),browser_xhr_1=$__require("128"),browser_jsonp_1=$__require("12c"),base_request_options_1=$__require("122"),base_response_options_1=$__require("127"),static_request_1=$__require("121");exports.Request=static_request_1.Request;var static_response_1=$__require("125");exports.Response=static_response_1.Response;var interfaces_1=$__require("120");exports.Connection=interfaces_1.Connection,exports.ConnectionBackend=interfaces_1.ConnectionBackend;var browser_xhr_2=$__require("128");exports.BrowserXhr=browser_xhr_2.BrowserXhr;var base_request_options_2=$__require("122");exports.BaseRequestOptions=base_request_options_2.BaseRequestOptions,exports.RequestOptions=base_request_options_2.RequestOptions;var base_response_options_2=$__require("127");exports.BaseResponseOptions=base_response_options_2.BaseResponseOptions,exports.ResponseOptions=base_response_options_2.ResponseOptions;var xhr_backend_2=$__require("124");exports.XHRBackend=xhr_backend_2.XHRBackend,exports.XHRConnection=xhr_backend_2.XHRConnection;var jsonp_backend_2=$__require("12b");exports.JSONPBackend=jsonp_backend_2.JSONPBackend,exports.JSONPConnection=jsonp_backend_2.JSONPConnection;var http_2=$__require("11f");exports.Http=http_2.Http,exports.Jsonp=http_2.Jsonp;var headers_1=$__require("126");exports.Headers=headers_1.Headers;var enums_1=$__require("123");exports.ResponseType=enums_1.ResponseType,exports.ReadyState=enums_1.ReadyState,exports.RequestMethod=enums_1.RequestMethod;var url_search_params_1=$__require("12d");return exports.URLSearchParams=url_search_params_1.URLSearchParams,exports.HTTP_PROVIDERS=[core_1.provide(http_1.Http,{useFactory:function(xhrBackend,requestOptions){return new http_1.Http(xhrBackend,requestOptions)},deps:[xhr_backend_1.XHRBackend,base_request_options_1.RequestOptions]}),browser_xhr_1.BrowserXhr,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),xhr_backend_1.XHRBackend],exports.HTTP_BINDINGS=exports.HTTP_PROVIDERS,exports.JSONP_PROVIDERS=[core_1.provide(http_1.Jsonp,{useFactory:function(jsonpBackend,requestOptions){return new http_1.Jsonp(jsonpBackend,requestOptions)},deps:[jsonp_backend_1.JSONPBackend,base_request_options_1.RequestOptions]}),browser_jsonp_1.BrowserJsonp,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),core_1.provide(jsonp_backend_1.JSONPBackend,{useClass:jsonp_backend_1.JSONPBackend_})],exports.JSON_BINDINGS=exports.JSONP_PROVIDERS,module.exports}),$__System.register("10c",["13","f8"],function(exports_1,context_1){"use strict";var core_1,http_1,MyAppsService,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(http_1_1){http_1=http_1_1}],execute:function(){MyAppsService=function(){function MyAppsService(http){this.http=http}return MyAppsService.prototype.getApps=function(){var _this=this;return new Promise(function(resolve,reject){_this.http.get("assets/CarbonApps.json").subscribe(function(res){_this.postsList=res.json(),resolve(_this.postsList)},function(error){reject(error)})})},MyAppsService.prototype.getapp=function(slug){var _this=this;return new Promise(function(resolve,reject){_this.getApps().then(function(apps){var app=apps.find(function(app){return app.slug==slug});resolve(app)},function(error){reject(error)})})},MyAppsService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof http_1.Http&&http_1.Http)&&_a||Object])],MyAppsService);var _a}(),exports_1("default",MyAppsService)}}}),$__System.registerDynamic("12e",["6","41","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),async_1=$__require("41"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),ObservableStrategy=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async_1.ObservableWrapper.subscribe(async,updateLatestValue,function(e){throw e})},ObservableStrategy.prototype.dispose=function(subscription){async_1.ObservableWrapper.dispose(subscription)},ObservableStrategy.prototype.onDestroy=function(subscription){async_1.ObservableWrapper.dispose(subscription)},ObservableStrategy}(),PromiseStrategy=function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue)},PromiseStrategy.prototype.dispose=function(subscription){},PromiseStrategy.prototype.onDestroy=function(subscription){},PromiseStrategy}(),_promiseStrategy=new PromiseStrategy,_observableStrategy=new ObservableStrategy,AsyncPipe=function(){function AsyncPipe(_ref){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=_ref}return AsyncPipe.prototype.ngOnDestroy=function(){lang_1.isPresent(this._subscription)&&this._dispose()},AsyncPipe.prototype.transform=function(obj,args){return lang_1.isBlank(this._obj)?(lang_1.isPresent(obj)&&this._subscribe(obj),this._latestReturnedValue=this._latestValue,this._latestValue):obj!==this._obj?(this._dispose(),this.transform(obj)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,core_1.WrappedValue.wrap(this._latestValue))},AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value)})},AsyncPipe.prototype._selectStrategy=function(obj){if(lang_1.isPromise(obj))return _promiseStrategy;if(async_1.ObservableWrapper.isObservable(obj))return _observableStrategy;throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(AsyncPipe,obj)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())},AsyncPipe=__decorate([core_1.Pipe({name:"async",pure:!1}),core_1.Injectable(),__metadata("design:paramtypes",[core_1.ChangeDetectorRef])],AsyncPipe)}();return exports.AsyncPipe=AsyncPipe,module.exports}),$__System.registerDynamic("130",["6","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),UpperCasePipe=function(){function UpperCasePipe(){}return UpperCasePipe.prototype.transform=function(value,args){if(void 0===args&&(args=null),lang_1.isBlank(value))return value;if(!lang_1.isString(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(UpperCasePipe,value);return value.toUpperCase()},UpperCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"uppercase"}),core_1.Injectable(),__metadata("design:paramtypes",[])],UpperCasePipe)}();return exports.UpperCasePipe=UpperCasePipe,module.exports}),$__System.registerDynamic("131",["6","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){
var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),LowerCasePipe=function(){function LowerCasePipe(){}return LowerCasePipe.prototype.transform=function(value,args){if(void 0===args&&(args=null),lang_1.isBlank(value))return value;if(!lang_1.isString(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(LowerCasePipe,value);return value.toLowerCase()},LowerCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"lowercase"}),core_1.Injectable(),__metadata("design:paramtypes",[])],LowerCasePipe)}();return exports.LowerCasePipe=LowerCasePipe,module.exports}),$__System.registerDynamic("132",["6","13","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),core_1=$__require("13"),JsonPipe=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(value,args){return void 0===args&&(args=null),lang_1.Json.stringify(value)},JsonPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"json",pure:!1}),core_1.Injectable(),__metadata("design:paramtypes",[])],JsonPipe)}();return exports.JsonPipe=JsonPipe,module.exports}),$__System.registerDynamic("133",["6","e","a","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),SlicePipe=function(){function SlicePipe(){}return SlicePipe.prototype.transform=function(value,args){if(void 0===args&&(args=null),lang_1.isBlank(args)||0==args.length)throw new exceptions_1.BaseException("Slice pipe requires one argument");if(!this.supports(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(SlicePipe,value);if(lang_1.isBlank(value))return value;var start=args[0],end=args.length>1?args[1]:null;return lang_1.isString(value)?lang_1.StringWrapper.slice(value,start,end):collection_1.ListWrapper.slice(value,start,end)},SlicePipe.prototype.supports=function(obj){return lang_1.isString(obj)||lang_1.isArray(obj)},SlicePipe=__decorate([core_1.Pipe({name:"slice",pure:!1}),core_1.Injectable(),__metadata("design:paramtypes",[])],SlicePipe)}();return exports.SlicePipe=SlicePipe,module.exports}),$__System.registerDynamic("134",["6","135","13","a","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),intl_1=$__require("135"),core_1=$__require("13"),collection_1=$__require("a"),invalid_pipe_argument_exception_1=$__require("12f"),defaultLocale="en-US",DatePipe=function(){function DatePipe(){}return DatePipe.prototype.transform=function(value,args){if(lang_1.isBlank(value))return null;if(!this.supports(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(DatePipe,value);var pattern=lang_1.isPresent(args)&&args.length>0?args[0]:"mediumDate";return lang_1.isNumber(value)&&(value=lang_1.DateWrapper.fromMillis(value)),collection_1.StringMapWrapper.contains(DatePipe._ALIASES,pattern)&&(pattern=collection_1.StringMapWrapper.get(DatePipe._ALIASES,pattern)),intl_1.DateFormatter.format(value,defaultLocale,pattern)},DatePipe.prototype.supports=function(obj){return lang_1.isDate(obj)||lang_1.isNumber(obj)},DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DatePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"date",pure:!0}),core_1.Injectable(),__metadata("design:paramtypes",[])],DatePipe)}();return exports.DatePipe=DatePipe,module.exports}),$__System.registerDynamic("135",["3"],!0,function($__require,exports,module){"use strict";function digitCondition(len){return 2==len?"2-digit":"numeric"}function nameCondition(len){return 4>len?"short":"long"}function extractComponents(pattern){for(var j,ret={},i=0;i<pattern.length;){for(j=i;j<pattern.length&&pattern[j]==pattern[i];)j++;var len=j-i;switch(pattern[i]){case"G":ret.era=nameCondition(len);break;case"y":ret.year=digitCondition(len);break;case"M":len>=3?ret.month=nameCondition(len):ret.month=digitCondition(len);break;case"d":ret.day=digitCondition(len);break;case"E":ret.weekday=nameCondition(len);break;case"j":ret.hour=digitCondition(len);break;case"h":ret.hour=digitCondition(len),ret.hour12=!0;break;case"H":ret.hour=digitCondition(len),ret.hour12=!1;break;case"m":ret.minute=digitCondition(len);break;case"s":ret.second=digitCondition(len);break;case"z":ret.timeZoneName="long";break;case"Z":ret.timeZoneName="short"}i=j}return ret}$__require("3");!function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle.Decimal=0]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent=1]="Percent",NumberFormatStyle[NumberFormatStyle.Currency=2]="Currency"}(exports.NumberFormatStyle||(exports.NumberFormatStyle={}));var NumberFormatStyle=exports.NumberFormatStyle,NumberFormatter=function(){function NumberFormatter(){}return NumberFormatter.format=function(num,locale,style,_a){var _b=void 0===_a?{}:_a,_c=_b.minimumIntegerDigits,minimumIntegerDigits=void 0===_c?1:_c,_d=_b.minimumFractionDigits,minimumFractionDigits=void 0===_d?0:_d,_e=_b.maximumFractionDigits,maximumFractionDigits=void 0===_e?3:_e,currency=_b.currency,_f=_b.currencyAsSymbol,currencyAsSymbol=void 0===_f?!1:_f,intlOptions={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits};return intlOptions.style=NumberFormatStyle[style].toLowerCase(),style==NumberFormatStyle.Currency&&(intlOptions.currency=currency,intlOptions.currencyDisplay=currencyAsSymbol?"symbol":"code"),new Intl.NumberFormat(locale,intlOptions).format(num)},NumberFormatter}();exports.NumberFormatter=NumberFormatter;var dateFormatterCache=new Map,DateFormatter=function(){function DateFormatter(){}return DateFormatter.format=function(date,locale,pattern){var key=locale+pattern;if(dateFormatterCache.has(key))return dateFormatterCache.get(key).format(date);var formatter=new Intl.DateTimeFormat(locale,extractComponents(pattern));return dateFormatterCache.set(key,formatter),formatter.format(date)},DateFormatter}();return exports.DateFormatter=DateFormatter,module.exports}),$__System.registerDynamic("136",["6","e","135","13","a","12f","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),intl_1=$__require("135"),core_1=$__require("13"),collection_1=$__require("a"),invalid_pipe_argument_exception_1=$__require("12f"),defaultLocale="en-US",_re=lang_1.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$"),NumberPipe=function(){function NumberPipe(){}return NumberPipe._format=function(value,style,digits,currency,currencyAsSymbol){if(void 0===currency&&(currency=null),void 0===currencyAsSymbol&&(currencyAsSymbol=!1),lang_1.isBlank(value))return null;if(!lang_1.isNumber(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(NumberPipe,value);var minInt=1,minFraction=0,maxFraction=3;if(lang_1.isPresent(digits)){var parts=lang_1.RegExpWrapper.firstMatch(_re,digits);if(lang_1.isBlank(parts))throw new exceptions_1.BaseException(digits+" is not a valid digit info for number pipes");lang_1.isPresent(parts[1])&&(minInt=lang_1.NumberWrapper.parseIntAutoRadix(parts[1])),lang_1.isPresent(parts[3])&&(minFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[3])),lang_1.isPresent(parts[5])&&(maxFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[5]))}return intl_1.NumberFormatter.format(value,defaultLocale,style,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol})},NumberPipe=__decorate([lang_1.CONST(),core_1.Injectable(),__metadata("design:paramtypes",[])],NumberPipe)}();exports.NumberPipe=NumberPipe;var DecimalPipe=function(_super){function DecimalPipe(){_super.apply(this,arguments)}return __extends(DecimalPipe,_super),DecimalPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Decimal,digits)},DecimalPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"number"}),core_1.Injectable(),__metadata("design:paramtypes",[])],DecimalPipe)}(NumberPipe);exports.DecimalPipe=DecimalPipe;var PercentPipe=function(_super){function PercentPipe(){_super.apply(this,arguments)}return __extends(PercentPipe,_super),PercentPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Percent,digits)},PercentPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"percent"}),core_1.Injectable(),__metadata("design:paramtypes",[])],PercentPipe)}(NumberPipe);exports.PercentPipe=PercentPipe;var CurrencyPipe=function(_super){function CurrencyPipe(){_super.apply(this,arguments)}return __extends(CurrencyPipe,_super),CurrencyPipe.prototype.transform=function(value,args){var currencyCode=lang_1.isPresent(args)&&args.length>0?args[0]:"USD",symbolDisplay=lang_1.isPresent(args)&&args.length>1?args[1]:!1,digits=lang_1.isPresent(args)&&args.length>2?args[2]:null;return NumberPipe._format(value,intl_1.NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay)},CurrencyPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"currency"}),core_1.Injectable(),__metadata("design:paramtypes",[])],CurrencyPipe)}(NumberPipe);return exports.CurrencyPipe=CurrencyPipe,module.exports}),$__System.registerDynamic("137",["6","e","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),ReplacePipe=function(){function ReplacePipe(){}return ReplacePipe.prototype.transform=function(value,args){if(lang_1.isBlank(args)||2!==args.length)throw new exceptions_1.BaseException("ReplacePipe requires two arguments");if(lang_1.isBlank(value))return value;if(!this._supportedInput(value))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,value);var input=value.toString(),pattern=args[0],replacement=args[1];if(!this._supportedPattern(pattern))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,pattern);if(!this._supportedReplacement(replacement))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,replacement);if(lang_1.isFunction(replacement)){var rgxPattern=lang_1.isString(pattern)?lang_1.RegExpWrapper.create(pattern):pattern;return lang_1.StringWrapper.replaceAllMapped(input,rgxPattern,replacement)}return pattern instanceof RegExp?lang_1.StringWrapper.replaceAll(input,pattern,replacement):lang_1.StringWrapper.replace(input,pattern,replacement)},ReplacePipe.prototype._supportedInput=function(input){return lang_1.isString(input)||lang_1.isNumber(input)},ReplacePipe.prototype._supportedPattern=function(pattern){return lang_1.isString(pattern)||pattern instanceof RegExp},ReplacePipe.prototype._supportedReplacement=function(replacement){return lang_1.isString(replacement)||lang_1.isFunction(replacement)},ReplacePipe=__decorate([core_1.Pipe({name:"replace"}),core_1.Injectable(),__metadata("design:paramtypes",[])],ReplacePipe)}();return exports.ReplacePipe=ReplacePipe,module.exports}),$__System.registerDynamic("138",["6","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),interpolationExp=lang_1.RegExpWrapper.create("#"),I18nPluralPipe=function(){function I18nPluralPipe(){}return I18nPluralPipe.prototype.transform=function(value,args){void 0===args&&(args=null);var key,valueStr,pluralMap=args[0];if(!lang_1.isStringMap(pluralMap))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nPluralPipe,pluralMap);return key=0===value||1===value?"="+value:"other",valueStr=lang_1.isPresent(value)?value.toString():"",lang_1.StringWrapper.replaceAll(pluralMap[key],interpolationExp,valueStr)},I18nPluralPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"i18nPlural",pure:!0}),core_1.Injectable(),__metadata("design:paramtypes",[])],I18nPluralPipe)}();return exports.I18nPluralPipe=I18nPluralPipe,module.exports}),$__System.registerDynamic("12f",["6","e","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),exceptions_1=$__require("e"),InvalidPipeArgumentException=function(_super){function InvalidPipeArgumentException(type,value){_super.call(this,"Invalid argument '"+value+"' for pipe '"+lang_1.stringify(type)+"'")}return __extends(InvalidPipeArgumentException,_super),InvalidPipeArgumentException}(exceptions_1.BaseException);return exports.InvalidPipeArgumentException=InvalidPipeArgumentException,module.exports}),$__System.registerDynamic("139",["6","a","13","12f","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),collection_1=$__require("a"),core_1=$__require("13"),invalid_pipe_argument_exception_1=$__require("12f"),I18nSelectPipe=function(){function I18nSelectPipe(){}return I18nSelectPipe.prototype.transform=function(value,args){void 0===args&&(args=null);var mapping=args[0];if(!lang_1.isStringMap(mapping))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nSelectPipe,mapping);return collection_1.StringMapWrapper.contains(mapping,value)?mapping[value]:mapping.other},I18nSelectPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"i18nSelect",pure:!0}),core_1.Injectable(),__metadata("design:paramtypes",[])],I18nSelectPipe)}();return exports.I18nSelectPipe=I18nSelectPipe,module.exports}),$__System.registerDynamic("13a",["12e","130","131","132","133","134","136","137","138","139","6","3"],!0,function($__require,exports,module){"use strict";var async_pipe_1=($__require("3"),$__require("12e")),uppercase_pipe_1=$__require("130"),lowercase_pipe_1=$__require("131"),json_pipe_1=$__require("132"),slice_pipe_1=$__require("133"),date_pipe_1=$__require("134"),number_pipe_1=$__require("136"),replace_pipe_1=$__require("137"),i18n_plural_pipe_1=$__require("138"),i18n_select_pipe_1=$__require("139"),lang_1=$__require("6");return exports.COMMON_PIPES=lang_1.CONST_EXPR([async_pipe_1.AsyncPipe,uppercase_pipe_1.UpperCasePipe,lowercase_pipe_1.LowerCasePipe,json_pipe_1.JsonPipe,slice_pipe_1.SlicePipe,number_pipe_1.DecimalPipe,number_pipe_1.PercentPipe,number_pipe_1.CurrencyPipe,date_pipe_1.DatePipe,replace_pipe_1.ReplacePipe,i18n_plural_pipe_1.I18nPluralPipe,i18n_select_pipe_1.I18nSelectPipe]),module.exports}),$__System.registerDynamic("13b",["12e","134","132","133","131","136","130","137","138","139","13a","3"],!0,function($__require,exports,module){"use strict";var async_pipe_1=($__require("3"),$__require("12e"));exports.AsyncPipe=async_pipe_1.AsyncPipe;var date_pipe_1=$__require("134");exports.DatePipe=date_pipe_1.DatePipe;var json_pipe_1=$__require("132");exports.JsonPipe=json_pipe_1.JsonPipe;var slice_pipe_1=$__require("133");exports.SlicePipe=slice_pipe_1.SlicePipe;var lowercase_pipe_1=$__require("131");exports.LowerCasePipe=lowercase_pipe_1.LowerCasePipe;var number_pipe_1=$__require("136");exports.NumberPipe=number_pipe_1.NumberPipe,exports.DecimalPipe=number_pipe_1.DecimalPipe,exports.PercentPipe=number_pipe_1.PercentPipe,exports.CurrencyPipe=number_pipe_1.CurrencyPipe;var uppercase_pipe_1=$__require("130");exports.UpperCasePipe=uppercase_pipe_1.UpperCasePipe;var replace_pipe_1=$__require("137");exports.ReplacePipe=replace_pipe_1.ReplacePipe;var i18n_plural_pipe_1=$__require("138");exports.I18nPluralPipe=i18n_plural_pipe_1.I18nPluralPipe;var i18n_select_pipe_1=$__require("139");exports.I18nSelectPipe=i18n_select_pipe_1.I18nSelectPipe;var common_pipes_1=$__require("13a");return exports.COMMON_PIPES=common_pipes_1.COMMON_PIPES,module.exports}),$__System.registerDynamic("13c",["6","41","13","13d","13e","13f","140","141","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=$__require("6"),async_1=$__require("41"),core_1=$__require("13"),control_container_1=$__require("13d"),ng_control_1=$__require("13e"),control_value_accessor_1=$__require("13f"),shared_1=$__require("140"),validators_1=$__require("141"),controlNameBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgControlName})})),NgControlName=function(_super){function NgControlName(_parent,_validators,_asyncValidators,valueAccessors){_super.call(this),this._parent=_parent,this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this._added=!1,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgControlName,_super),NgControlName.prototype.ngOnChanges=function(changes){this._added||(this.formDirective.addControl(this),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},NgControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},Object.defineProperty(NgControlName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),NgControlName=__decorate([core_1.Directive({selector:"[ngControl]",bindings:[controlNameBinding],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(3,core_1.Optional()),__param(3,core_1.Self()),__param(3,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[control_container_1.ControlContainer,Array,Array,Array])],NgControlName)}(ng_control_1.NgControl);return exports.NgControlName=NgControlName,module.exports}),$__System.registerDynamic("142",["6","a","41","13","13e","141","13f","140","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=$__require("6"),collection_1=$__require("a"),async_1=$__require("41"),core_1=$__require("13"),ng_control_1=$__require("13e"),validators_1=$__require("141"),control_value_accessor_1=$__require("13f"),shared_1=$__require("140"),formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgFormControl})})),NgFormControl=function(_super){function NgFormControl(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgFormControl,_super),NgFormControl.prototype.ngOnChanges=function(changes){this._isControlChanged(changes)&&(shared_1.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),NgFormControl.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgFormControl.prototype._isControlChanged=function(changes){return collection_1.StringMapWrapper.contains(changes,"form")},NgFormControl=__decorate([core_1.Directive({selector:"[ngFormControl]",bindings:[formControlBinding],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[Array,Array,Array])],NgFormControl)}(ng_control_1.NgControl);return exports.NgFormControl=NgFormControl,module.exports}),$__System.registerDynamic("143",["6","41","13","13f","13e","144","141","140","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=$__require("6"),async_1=$__require("41"),core_1=$__require("13"),control_value_accessor_1=$__require("13f"),ng_control_1=$__require("13e"),model_1=$__require("144"),validators_1=$__require("141"),shared_1=$__require("140"),formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgModel})})),NgModel=function(_super){function NgModel(_validators,_asyncValidators,valueAccessors){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._control=new model_1.Control,this._added=!1,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}return __extends(NgModel,_super),NgModel.prototype.ngOnChanges=function(changes){this._added||(shared_1.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),shared_1.isPropertyUpdated(changes,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue,async_1.ObservableWrapper.callEmit(this.update,newValue)},NgModel=__decorate([core_1.Directive({selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[formControlBinding],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[Array,Array,Array])],NgModel);
}(ng_control_1.NgControl);return exports.NgModel=NgModel,module.exports}),$__System.registerDynamic("145",["13","6","13d","140","141","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),lang_1=$__require("6"),control_container_1=$__require("13d"),shared_1=$__require("140"),validators_1=$__require("141"),controlGroupProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgControlGroup})})),NgControlGroup=function(_super){function NgControlGroup(parent,_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this._parent=parent}return __extends(NgControlGroup,_super),NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgControlGroup=__decorate([core_1.Directive({selector:"[ngControlGroup]",providers:[controlGroupProvider],inputs:["name: ngControlGroup"],exportAs:"ngForm"}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[control_container_1.ControlContainer,Array,Array])],NgControlGroup)}(control_container_1.ControlContainer);return exports.NgControlGroup=NgControlGroup,module.exports}),$__System.registerDynamic("146",["6","a","41","13","13d","140","141","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},lang_1=$__require("6"),collection_1=$__require("a"),async_1=$__require("41"),core_1=$__require("13"),control_container_1=$__require("13d"),shared_1=$__require("140"),validators_1=$__require("141"),formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgFormModel})})),NgFormModel=function(_super){function NgFormModel(_validators,_asyncValidators){_super.call(this),this._validators=_validators,this._asyncValidators=_asyncValidators,this.form=null,this.directives=[],this.ngSubmit=new async_1.EventEmitter}return __extends(NgFormModel,_super),NgFormModel.prototype.ngOnChanges=function(changes){if(collection_1.StringMapWrapper.contains(changes,"form")){var sync=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,sync]);var async=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,async]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),NgFormModel.prototype.addControl=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir)},NgFormModel.prototype.getControl=function(dir){return this.form.find(dir.path)},NgFormModel.prototype.removeControl=function(dir){collection_1.ListWrapper.remove(this.directives,dir)},NgFormModel.prototype.addControlGroup=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControlGroup(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})},NgFormModel.prototype.removeControlGroup=function(dir){},NgFormModel.prototype.getControlGroup=function(dir){return this.form.find(dir.path)},NgFormModel.prototype.updateModel=function(dir,value){var ctrl=this.form.find(dir.path);ctrl.updateValue(value)},NgFormModel.prototype.onSubmit=function(){return async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgFormModel.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var ctrl=_this.form.find(dir.path);dir.valueAccessor.writeValue(ctrl.value)})},NgFormModel=__decorate([core_1.Directive({selector:"[ngFormModel]",bindings:[formDirectiveProvider],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[Array,Array])],NgFormModel)}(control_container_1.ControlContainer);return exports.NgFormModel=NgFormModel,module.exports}),$__System.registerDynamic("13d",["147","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),abstract_control_directive_1=$__require("147"),ControlContainer=function(_super){function ControlContainer(){_super.apply(this,arguments)}return __extends(ControlContainer,_super),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(abstract_control_directive_1.AbstractControlDirective);return exports.ControlContainer=ControlContainer,module.exports}),$__System.registerDynamic("148",["3"],!0,function($__require,exports,module){"use strict";function normalizeValidator(validator){return void 0!==validator.validate?function(c){return validator.validate(c)}:validator}$__require("3");return exports.normalizeValidator=normalizeValidator,module.exports}),$__System.registerDynamic("140",["a","6","e","141","149","14a","14b","14c","14d","148","3"],!0,function($__require,exports,module){"use strict";function controlPath(name,parent){var p=collection_1.ListWrapper.clone(parent.path);return p.push(name),p}function setUpControl(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),lang_1.isBlank(dir.valueAccessor)&&_throwError(dir,"No value accessor for"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue),control.updateValue(newValue,{emitModelToViewChange:!1}),control.markAsDirty()}),control.registerOnChange(function(newValue){return dir.valueAccessor.writeValue(newValue)}),dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched()})}function setUpControlGroup(control,dir){lang_1.isBlank(control)&&_throwError(dir,"Cannot find control"),control.validator=validators_1.Validators.compose([control.validator,dir.validator]),control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _throwError(dir,message){var path=dir.path.join(" -> ");throw new exceptions_1.BaseException(message+" '"+path+"'")}function composeValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)):null}function composeAsyncValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeValidator)):null}function isPropertyUpdated(changes,viewModel){if(!collection_1.StringMapWrapper.contains(changes,"model"))return!1;var change=changes.model;return change.isFirstChange()?!0:!lang_1.looseIdentical(viewModel,change.currentValue)}function selectValueAccessor(dir,valueAccessors){if(lang_1.isBlank(valueAccessors))return null;var defaultAccessor,builtinAccessor,customAccessor;return valueAccessors.forEach(function(v){lang_1.hasConstructor(v,default_value_accessor_1.DefaultValueAccessor)?defaultAccessor=v:lang_1.hasConstructor(v,checkbox_value_accessor_1.CheckboxControlValueAccessor)||lang_1.hasConstructor(v,number_value_accessor_1.NumberValueAccessor)||lang_1.hasConstructor(v,select_control_value_accessor_1.SelectControlValueAccessor)||lang_1.hasConstructor(v,radio_control_value_accessor_1.RadioControlValueAccessor)?(lang_1.isPresent(builtinAccessor)&&_throwError(dir,"More than one built-in value accessor matches"),builtinAccessor=v):(lang_1.isPresent(customAccessor)&&_throwError(dir,"More than one custom value accessor matches"),customAccessor=v)}),lang_1.isPresent(customAccessor)?customAccessor:lang_1.isPresent(builtinAccessor)?builtinAccessor:lang_1.isPresent(defaultAccessor)?defaultAccessor:(_throwError(dir,"No valid value accessor for"),null)}var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),exceptions_1=$__require("e"),validators_1=$__require("141"),default_value_accessor_1=$__require("149"),number_value_accessor_1=$__require("14a"),checkbox_value_accessor_1=$__require("14b"),select_control_value_accessor_1=$__require("14c"),radio_control_value_accessor_1=$__require("14d"),normalize_validator_1=$__require("148");return exports.controlPath=controlPath,exports.setUpControl=setUpControl,exports.setUpControlGroup=setUpControlGroup,exports.composeValidators=composeValidators,exports.composeAsyncValidators=composeAsyncValidators,exports.isPropertyUpdated=isPropertyUpdated,exports.selectValueAccessor=selectValueAccessor,module.exports}),$__System.registerDynamic("14e",["41","a","6","13","13d","144","140","141","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},async_1=$__require("41"),collection_1=$__require("a"),lang_1=$__require("6"),core_1=$__require("13"),control_container_1=$__require("13d"),model_1=$__require("144"),shared_1=$__require("140"),validators_1=$__require("141"),formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgForm})})),NgForm=function(_super){function NgForm(validators,asyncValidators){_super.call(this),this.ngSubmit=new async_1.EventEmitter,this.form=new model_1.ControlGroup({},null,shared_1.composeValidators(validators),shared_1.composeAsyncValidators(asyncValidators))}return __extends(NgForm,_super),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),ctrl=new model_1.Control;shared_1.setUpControl(ctrl,dir),container.addControl(dir.name,ctrl),ctrl.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(dir){return this.form.find(dir.path)},NgForm.prototype.removeControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&(container.removeControl(dir.name),container.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.addControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path),group=new model_1.ControlGroup({});shared_1.setUpControlGroup(group,dir),container.addControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);lang_1.isPresent(container)&&(container.removeControl(dir.name),container.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.getControlGroup=function(dir){return this.form.find(dir.path)},NgForm.prototype.updateModel=function(dir,value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var ctrl=_this.form.find(dir.path);ctrl.updateValue(value)})},NgForm.prototype.onSubmit=function(){return async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgForm.prototype._findContainer=function(path){return path.pop(),collection_1.ListWrapper.isEmpty(path)?this.form:this.form.find(path)},NgForm=__decorate([core_1.Directive({selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[formDirectiveProvider],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[Array,Array])],NgForm)}(control_container_1.ControlContainer);return exports.NgForm=NgForm,module.exports}),$__System.registerDynamic("149",["13","13f","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),control_value_accessor_1=$__require("13f"),lang_1=$__require("6"),DEFAULT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return DefaultValueAccessor}),multi:!0})),DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=lang_1.isBlank(value)?"":value;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",normalizedValue)},DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},DefaultValueAccessor=__decorate([core_1.Directive({selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[DEFAULT_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],DefaultValueAccessor)}();return exports.DefaultValueAccessor=DefaultValueAccessor,module.exports}),$__System.registerDynamic("14b",["13","13f","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),control_value_accessor_1=$__require("13f"),lang_1=$__require("6"),CHECKBOX_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor}),multi:!0})),CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",value)},CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},CheckboxControlValueAccessor=__decorate([core_1.Directive({selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[CHECKBOX_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],CheckboxControlValueAccessor)}();return exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor,module.exports}),$__System.registerDynamic("14a",["13","13f","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),control_value_accessor_1=$__require("13f"),lang_1=$__require("6"),NUMBER_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return NumberValueAccessor}),multi:!0})),NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)},NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(lang_1.NumberWrapper.parseFloat(value))}},NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},NumberValueAccessor=__decorate([core_1.Directive({selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[NUMBER_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],NumberValueAccessor)}();return exports.NumberValueAccessor=NumberValueAccessor,module.exports}),$__System.registerDynamic("14f",["13","13e","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),ng_control_1=$__require("13e"),lang_1=$__require("6"),NgControlStatus=function(){function NgControlStatus(cd){this._cd=cd}return Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.untouched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.touched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.pristine:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.dirty:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.valid:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return lang_1.isPresent(this._cd.control)?!this._cd.control.valid:!1},enumerable:!0,configurable:!0}),NgControlStatus=__decorate([core_1.Directive({selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),__param(0,core_1.Self()),__metadata("design:paramtypes",[ng_control_1.NgControl])],NgControlStatus)}();return exports.NgControlStatus=NgControlStatus,module.exports}),$__System.registerDynamic("14c",["13","41","13f","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),async_1=$__require("41"),control_value_accessor_1=$__require("13f"),lang_1=$__require("6"),SELECT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor}),multi:!0})),NgSelectOption=function(){function NgSelectOption(){}return NgSelectOption=__decorate([core_1.Directive({selector:"option"}),__metadata("design:paramtypes",[])],NgSelectOption)}();exports.NgSelectOption=NgSelectOption;var SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef,query){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=function(_){},this.onTouched=function(){},this._updateValueWhenListOfOptionsChanges(query)}return SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value,this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)},SelectControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn},SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},SelectControlValueAccessor.prototype._updateValueWhenListOfOptionsChanges=function(query){var _this=this;async_1.ObservableWrapper.subscribe(query.changes,function(_){return _this.writeValue(_this.value)})},SelectControlValueAccessor=__decorate([core_1.Directive({selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[SELECT_VALUE_ACCESSOR]}),__param(2,core_1.Query(NgSelectOption,{descendants:!0})),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,core_1.QueryList])],SelectControlValueAccessor)}();return exports.SelectControlValueAccessor=SelectControlValueAccessor,module.exports}),$__System.registerDynamic("150",["6","13c","142","143","145","146","14e","149","14b","14a","14d","14f","14c","151","13e","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),ng_control_name_1=$__require("13c"),ng_form_control_1=$__require("142"),ng_model_1=$__require("143"),ng_control_group_1=$__require("145"),ng_form_model_1=$__require("146"),ng_form_1=$__require("14e"),default_value_accessor_1=$__require("149"),checkbox_value_accessor_1=$__require("14b"),number_value_accessor_1=$__require("14a"),radio_control_value_accessor_1=$__require("14d"),ng_control_status_1=$__require("14f"),select_control_value_accessor_1=$__require("14c"),validators_1=$__require("151"),ng_control_name_2=$__require("13c");exports.NgControlName=ng_control_name_2.NgControlName;var ng_form_control_2=$__require("142");exports.NgFormControl=ng_form_control_2.NgFormControl;var ng_model_2=$__require("143");exports.NgModel=ng_model_2.NgModel;var ng_control_group_2=$__require("145");exports.NgControlGroup=ng_control_group_2.NgControlGroup;var ng_form_model_2=$__require("146");exports.NgFormModel=ng_form_model_2.NgFormModel;var ng_form_2=$__require("14e");exports.NgForm=ng_form_2.NgForm;var default_value_accessor_2=$__require("149");exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var checkbox_value_accessor_2=$__require("14b");exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var radio_control_value_accessor_2=$__require("14d");exports.RadioControlValueAccessor=radio_control_value_accessor_2.RadioControlValueAccessor,exports.RadioButtonState=radio_control_value_accessor_2.RadioButtonState;var number_value_accessor_2=$__require("14a");exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var ng_control_status_2=$__require("14f");exports.NgControlStatus=ng_control_status_2.NgControlStatus;var select_control_value_accessor_2=$__require("14c");exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor,exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption;var validators_2=$__require("151");exports.RequiredValidator=validators_2.RequiredValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.PatternValidator=validators_2.PatternValidator;var ng_control_1=$__require("13e");return exports.NgControl=ng_control_1.NgControl,exports.FORM_DIRECTIVES=lang_1.CONST_EXPR([ng_control_name_1.NgControlName,ng_control_group_1.NgControlGroup,ng_form_control_1.NgFormControl,ng_model_1.NgModel,ng_form_model_1.NgFormModel,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,radio_control_value_accessor_1.RadioControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator,validators_1.PatternValidator]),module.exports}),$__System.registerDynamic("141",["6","64","41","a","13","3"],!0,function($__require,exports,module){"use strict";function _convertToPromise(obj){return promise_1.PromiseWrapper.isPromise(obj)?obj:async_1.ObservableWrapper.toPromise(obj)}function _executeValidators(control,validators){return validators.map(function(v){return v(control)})}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return lang_1.isPresent(errors)?collection_1.StringMapWrapper.merge(res,errors):res;
},{});return collection_1.StringMapWrapper.isEmpty(res)?null:res}var lang_1=($__require("3"),$__require("6")),promise_1=$__require("64"),async_1=$__require("41"),collection_1=$__require("a"),core_1=$__require("13");exports.NG_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValidators")),exports.NG_ASYNC_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgAsyncValidators"));var Validators=function(){function Validators(){}return Validators.required=function(control){return lang_1.isBlank(control.value)||lang_1.isString(control.value)&&""==control.value?{required:!0}:null},Validators.minLength=function(minLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length<minLength?{minlength:{requiredLength:minLength,actualLength:v.length}}:null}},Validators.maxLength=function(maxLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:v.length}}:null}},Validators.pattern=function(pattern){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var regex=new RegExp("^"+pattern+"$"),v=control.value;return regex.test(v)?null:{pattern:{requiredPattern:"^"+pattern+"$",actualValue:v}}}},Validators.nullValidator=function(c){return null},Validators.compose=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(_executeValidators(control,presentValidators))}},Validators.composeAsync=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);return 0==presentValidators.length?null:function(control){var promises=_executeValidators(control,presentValidators).map(_convertToPromise);return promise_1.PromiseWrapper.all(promises).then(_mergeErrors)}},Validators}();return exports.Validators=Validators,module.exports}),$__System.registerDynamic("151",["13","6","141","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),lang_1=$__require("6"),validators_1=$__require("141"),lang_2=$__require("6"),REQUIRED_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useValue:validators_1.Validators.required,multi:!0})),RequiredValidator=function(){function RequiredValidator(){}return RequiredValidator=__decorate([core_1.Directive({selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[REQUIRED_VALIDATOR]}),__metadata("design:paramtypes",[])],RequiredValidator)}();exports.RequiredValidator=RequiredValidator;var MIN_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MinLengthValidator}),multi:!0})),MinLengthValidator=function(){function MinLengthValidator(minLength){this._validator=validators_1.Validators.minLength(lang_2.NumberWrapper.parseInt(minLength,10))}return MinLengthValidator.prototype.validate=function(c){return this._validator(c)},MinLengthValidator=__decorate([core_1.Directive({selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[MIN_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("minlength")),__metadata("design:paramtypes",[String])],MinLengthValidator)}();exports.MinLengthValidator=MinLengthValidator;var MAX_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MaxLengthValidator}),multi:!0})),MaxLengthValidator=function(){function MaxLengthValidator(maxLength){this._validator=validators_1.Validators.maxLength(lang_2.NumberWrapper.parseInt(maxLength,10))}return MaxLengthValidator.prototype.validate=function(c){return this._validator(c)},MaxLengthValidator=__decorate([core_1.Directive({selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[MAX_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("maxlength")),__metadata("design:paramtypes",[String])],MaxLengthValidator)}();exports.MaxLengthValidator=MaxLengthValidator;var PATTERN_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return PatternValidator}),multi:!0})),PatternValidator=function(){function PatternValidator(pattern){this._validator=validators_1.Validators.pattern(pattern)}return PatternValidator.prototype.validate=function(c){return this._validator(c)},PatternValidator=__decorate([core_1.Directive({selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[PATTERN_VALIDATOR]}),__param(0,core_1.Attribute("pattern")),__metadata("design:paramtypes",[String])],PatternValidator)}();return exports.PatternValidator=PatternValidator,module.exports}),$__System.registerDynamic("144",["6","41","64","a","3"],!0,function($__require,exports,module){"use strict";function isControl(control){return control instanceof AbstractControl}function _find(control,path){return lang_1.isBlank(path)?null:(path instanceof Array||(path=path.split("/")),path instanceof Array&&collection_1.ListWrapper.isEmpty(path)?null:path.reduce(function(v,name){if(v instanceof ControlGroup)return lang_1.isPresent(v.controls[name])?v.controls[name]:null;if(v instanceof ControlArray){var index=name;return lang_1.isPresent(v.at(index))?v.at(index):null}return null},control))}function toObservable(r){return promise_1.PromiseWrapper.isPromise(r)?async_1.ObservableWrapper.fromPromise(r):r}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),async_1=$__require("41"),promise_1=$__require("64"),collection_1=$__require("a");exports.VALID="VALID",exports.INVALID="INVALID",exports.PENDING="PENDING",exports.isControl=isControl;var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._pristine=!0,this._touched=!1}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===exports.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==exports.PENDING},enumerable:!0,configurable:!0}),AbstractControl.prototype.markAsTouched=function(){this._touched=!0},AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._pristine=!1,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsDirty({onlySelf:onlySelf})},AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(void 0===_a?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf),this._status=exports.PENDING,lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.markAsPending({onlySelf:onlySelf})},AbstractControl.prototype.setParent=function(parent){this._parent=parent},AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;onlySelf=lang_1.normalizeBool(onlySelf),emitEvent=lang_1.isPresent(emitEvent)?emitEvent:!0,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),(this._status==exports.VALID||this._status==exports.PENDING)&&this._runAsyncValidator(emitEvent),emitEvent&&(async_1.ObservableWrapper.callEmit(this._valueChanges,this._value),async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)),lang_1.isPresent(this._parent)&&!onlySelf&&this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},AbstractControl.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING,this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(obs,function(res){return _this.setErrors(res,{emitEvent:emitEvent})})}},AbstractControl.prototype._cancelExistingSubscription=function(){lang_1.isPresent(this._asyncValidationSubscription)&&async_1.ObservableWrapper.dispose(this._asyncValidationSubscription)},AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(void 0===_a?{}:_a).emitEvent;emitEvent=lang_1.isPresent(emitEvent)?emitEvent:!0,this._errors=errors,this._status=this._calculateStatus(),emitEvent&&async_1.ObservableWrapper.callEmit(this._statusChanges,this._status),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype.find=function(path){return _find(this,path)},AbstractControl.prototype.getError=function(errorCode,path){void 0===path&&(path=null);var control=lang_1.isPresent(path)&&!collection_1.ListWrapper.isEmpty(path)?this.find(path):this;return lang_1.isPresent(control)&&lang_1.isPresent(control._errors)?collection_1.StringMapWrapper.get(control._errors,errorCode):null},AbstractControl.prototype.hasError=function(errorCode,path){return void 0===path&&(path=null),lang_1.isPresent(this.getError(errorCode,path))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var x=this;lang_1.isPresent(x._parent);)x=x._parent;return x},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter,this._statusChanges=new async_1.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return lang_1.isPresent(this._errors)?exports.INVALID:this._anyControlsHaveStatus(exports.PENDING)?exports.PENDING:this._anyControlsHaveStatus(exports.INVALID)?exports.INVALID:exports.VALID},AbstractControl}();exports.AbstractControl=AbstractControl;var Control=function(_super){function Control(value,validator,asyncValidator){void 0===value&&(value=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this._value=value,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(Control,_super),Control.prototype.updateValue=function(value,_a){var _b=void 0===_a?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange;emitModelToViewChange=lang_1.isPresent(emitModelToViewChange)?emitModelToViewChange:!0,this._value=value,lang_1.isPresent(this._onChange)&&emitModelToViewChange&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})},Control.prototype._updateValue=function(){},Control.prototype._anyControlsHaveStatus=function(status){return!1},Control.prototype.registerOnChange=function(fn){this._onChange=fn},Control}(AbstractControl);exports.Control=Control;var ControlGroup=function(_super){function ControlGroup(controls,optionals,validator,asyncValidator){void 0===optionals&&(optionals=null),void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._optionals=lang_1.isPresent(optionals)?optionals:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(ControlGroup,_super),ControlGroup.prototype.addControl=function(name,control){this.controls[name]=control,control.setParent(this)},ControlGroup.prototype.removeControl=function(name){collection_1.StringMapWrapper["delete"](this.controls,name)},ControlGroup.prototype.include=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!0),this.updateValueAndValidity()},ControlGroup.prototype.exclude=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,!1),this.updateValueAndValidity()},ControlGroup.prototype.contains=function(controlName){var c=collection_1.StringMapWrapper.contains(this.controls,controlName);return c&&this._included(controlName)},ControlGroup.prototype._setParentForControls=function(){var _this=this;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){control.setParent(_this)})},ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue()},ControlGroup.prototype._anyControlsHaveStatus=function(status){var _this=this,res=!1;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){res=res||_this.contains(name)&&control.status==status}),res},ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(acc,control,name){return acc[name]=control.value,acc})},ControlGroup.prototype._reduceChildren=function(initValue,fn){var _this=this,res=initValue;return collection_1.StringMapWrapper.forEach(this.controls,function(control,name){_this._included(name)&&(res=fn(res,control,name))}),res},ControlGroup.prototype._included=function(controlName){var isOptional=collection_1.StringMapWrapper.contains(this._optionals,controlName);return!isOptional||collection_1.StringMapWrapper.get(this._optionals,controlName)},ControlGroup}(AbstractControl);exports.ControlGroup=ControlGroup;var ControlArray=function(_super){function ControlArray(controls,validator,asyncValidator){void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),_super.call(this,validator,asyncValidator),this.controls=controls,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(ControlArray,_super),ControlArray.prototype.at=function(index){return this.controls[index]},ControlArray.prototype.push=function(control){this.controls.push(control),control.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.insert=function(index,control){collection_1.ListWrapper.insert(this.controls,index,control),control.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.removeAt=function(index){collection_1.ListWrapper.removeAt(this.controls,index),this.updateValueAndValidity()},Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(control){return control.value})},ControlArray.prototype._anyControlsHaveStatus=function(status){return this.controls.some(function(c){return c.status==status})},ControlArray.prototype._setParentForControls=function(){var _this=this;this.controls.forEach(function(control){control.setParent(_this)})},ControlArray}(AbstractControl);return exports.ControlArray=ControlArray,module.exports}),$__System.registerDynamic("152",["13","a","6","144","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),collection_1=$__require("a"),lang_1=$__require("6"),modelModule=$__require("144"),FormBuilder=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(controlsConfig,extra){void 0===extra&&(extra=null);var controls=this._reduceControls(controlsConfig),optionals=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"optionals"):null,validator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"validator"):null,asyncValidator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"asyncValidator"):null;return new modelModule.ControlGroup(controls,optionals,validator,asyncValidator)},FormBuilder.prototype.control=function(value,validator,asyncValidator){return void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null),new modelModule.Control(value,validator,asyncValidator)},FormBuilder.prototype.array=function(controlsConfig,validator,asyncValidator){var _this=this;void 0===validator&&(validator=null),void 0===asyncValidator&&(asyncValidator=null);var controls=controlsConfig.map(function(c){return _this._createControl(c)});return new modelModule.ControlArray(controls,validator,asyncValidator)},FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this,controls={};return collection_1.StringMapWrapper.forEach(controlsConfig,function(controlConfig,controlName){controls[controlName]=_this._createControl(controlConfig)}),controls},FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof modelModule.Control||controlConfig instanceof modelModule.ControlGroup||controlConfig instanceof modelModule.ControlArray)return controlConfig;if(lang_1.isArray(controlConfig)){var value=controlConfig[0],validator=controlConfig.length>1?controlConfig[1]:null,asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controlConfig)},FormBuilder=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],FormBuilder)}();return exports.FormBuilder=FormBuilder,module.exports}),$__System.registerDynamic("13f",["13","6","3"],!0,function($__require,exports,module){"use strict";var core_1=($__require("3"),$__require("13")),lang_1=$__require("6");return exports.NG_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValueAccessor")),module.exports}),$__System.registerDynamic("147",["6","e","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),AbstractControlDirective=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective}();return exports.AbstractControlDirective=AbstractControlDirective,module.exports}),$__System.registerDynamic("13e",["147","e","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),abstract_control_directive_1=$__require("147"),exceptions_1=$__require("e"),NgControl=function(_super){function NgControl(){_super.apply(this,arguments),this.name=null,this.valueAccessor=null}return __extends(NgControl,_super),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),NgControl}(abstract_control_directive_1.AbstractControlDirective);return exports.NgControl=NgControl,module.exports}),$__System.registerDynamic("14d",["13","13f","13e","6","a","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),control_value_accessor_1=$__require("13f"),ng_control_1=$__require("13e"),lang_1=$__require("6"),collection_1=$__require("a"),RADIO_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return RadioControlValueAccessor}),multi:!0})),RadioControlRegistry=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor])},RadioControlRegistry.prototype.remove=function(accessor){for(var indexToRemove=-1,i=0;i<this._accessors.length;++i)this._accessors[i][1]===accessor&&(indexToRemove=i);collection_1.ListWrapper.removeAt(this._accessors,indexToRemove)},RadioControlRegistry.prototype.select=function(accessor){this._accessors.forEach(function(c){c[0].control.root===accessor._control.control.root&&c[1]!==accessor&&c[1].fireUncheck()})},RadioControlRegistry=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],RadioControlRegistry)}();exports.RadioControlRegistry=RadioControlRegistry;var RadioButtonState=function(){function RadioButtonState(checked,value){this.checked=checked,this.value=value}return RadioButtonState}();exports.RadioButtonState=RadioButtonState;var RadioControlValueAccessor=function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(ng_control_1.NgControl),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value,lang_1.isPresent(value)&&value.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn,this.onChange=function(){fn(new RadioButtonState(!0,_this._state.value)),_this._registry.select(_this)}},RadioControlValueAccessor.prototype.fireUncheck=function(){this._fn(new RadioButtonState(!1,this._state.value))},RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn},__decorate([core_1.Input(),__metadata("design:type",String)],RadioControlValueAccessor.prototype,"name",void 0),RadioControlValueAccessor=__decorate([core_1.Directive({selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[RADIO_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,RadioControlRegistry,core_1.Injector])],RadioControlValueAccessor)}();return exports.RadioControlValueAccessor=RadioControlValueAccessor,module.exports}),$__System.registerDynamic("153",["144","147","13d","13c","142","143","13e","145","146","14e","13f","149","14f","14b","14c","150","141","151","152","14d","6","3"],!0,function($__require,exports,module){"use strict";var model_1=($__require("3"),$__require("144"));exports.AbstractControl=model_1.AbstractControl,exports.Control=model_1.Control,exports.ControlGroup=model_1.ControlGroup,exports.ControlArray=model_1.ControlArray;var abstract_control_directive_1=$__require("147");exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var control_container_1=$__require("13d");exports.ControlContainer=control_container_1.ControlContainer;var ng_control_name_1=$__require("13c");exports.NgControlName=ng_control_name_1.NgControlName;var ng_form_control_1=$__require("142");exports.NgFormControl=ng_form_control_1.NgFormControl;var ng_model_1=$__require("143");exports.NgModel=ng_model_1.NgModel;var ng_control_1=$__require("13e");exports.NgControl=ng_control_1.NgControl;var ng_control_group_1=$__require("145");exports.NgControlGroup=ng_control_group_1.NgControlGroup;var ng_form_model_1=$__require("146");exports.NgFormModel=ng_form_model_1.NgFormModel;var ng_form_1=$__require("14e");exports.NgForm=ng_form_1.NgForm;var control_value_accessor_1=$__require("13f");exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=$__require("149");exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_status_1=$__require("14f");exports.NgControlStatus=ng_control_status_1.NgControlStatus;var checkbox_value_accessor_1=$__require("14b");exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var select_control_value_accessor_1=$__require("14c");exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;var directives_1=$__require("150");exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES,exports.RadioButtonState=directives_1.RadioButtonState;var validators_1=$__require("141");exports.NG_VALIDATORS=validators_1.NG_VALIDATORS,exports.NG_ASYNC_VALIDATORS=validators_1.NG_ASYNC_VALIDATORS,exports.Validators=validators_1.Validators;var validators_2=$__require("151");exports.RequiredValidator=validators_2.RequiredValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.PatternValidator=validators_2.PatternValidator;var form_builder_1=$__require("152");exports.FormBuilder=form_builder_1.FormBuilder;var form_builder_2=$__require("152"),radio_control_value_accessor_1=$__require("14d"),lang_1=$__require("6");return exports.FORM_PROVIDERS=lang_1.CONST_EXPR([form_builder_2.FormBuilder,radio_control_value_accessor_1.RadioControlRegistry]),exports.FORM_BINDINGS=exports.FORM_PROVIDERS,module.exports}),$__System.registerDynamic("154",["3"],!0,function($__require,exports,module){"use strict";$__require("3");return module.exports}),$__System.registerDynamic("155",["6","13","a","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),core_1=$__require("13"),collection_1=$__require("a"),NgClass=function(){function NgClass(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._initialClasses=[]}return Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(v){this._applyInitialClasses(!0),this._initialClasses=lang_1.isPresent(v)&&lang_1.isString(v)?v.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"rawClass",{set:function(v){this._cleanupClasses(this._rawClass),lang_1.isString(v)&&(v=v.split(" ")),this._rawClass=v,this._iterableDiffer=null,this._keyValueDiffer=null,lang_1.isPresent(v)&&(collection_1.isListLikeIterable(v)?this._iterableDiffer=this._iterableDiffers.find(v).create(null):this._keyValueDiffer=this._keyValueDiffers.find(v).create(null))},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._iterableDiffer)){var changes=this._iterableDiffer.diff(this._rawClass);lang_1.isPresent(changes)&&this._applyIterableChanges(changes)}if(lang_1.isPresent(this._keyValueDiffer)){var changes=this._keyValueDiffer.diff(this._rawClass);lang_1.isPresent(changes)&&this._applyKeyValueChanges(changes)}},NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},NgClass.prototype._cleanupClasses=function(rawClassVal){this._applyClasses(rawClassVal,!0),this._applyInitialClasses(!1);
},NgClass.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){_this._toggleClass(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){record.previousValue&&_this._toggleClass(record.key,!1)})},NgClass.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(function(record){_this._toggleClass(record.item,!1)})},NgClass.prototype._applyInitialClasses=function(isCleanup){var _this=this;this._initialClasses.forEach(function(className){return _this._toggleClass(className,!isCleanup)})},NgClass.prototype._applyClasses=function(rawClassVal,isCleanup){var _this=this;lang_1.isPresent(rawClassVal)&&(lang_1.isArray(rawClassVal)?rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)}):rawClassVal instanceof Set?rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)}):collection_1.StringMapWrapper.forEach(rawClassVal,function(expVal,className){lang_1.isPresent(expVal)&&_this._toggleClass(className,!isCleanup)}))},NgClass.prototype._toggleClass=function(className,enabled){if(className=className.trim(),className.length>0)if(className.indexOf(" ")>-1)for(var classes=className.split(/\s+/g),i=0,len=classes.length;len>i;i++)this._renderer.setElementClass(this._ngEl.nativeElement,classes[i],enabled);else this._renderer.setElementClass(this._ngEl.nativeElement,className,enabled)},NgClass=__decorate([core_1.Directive({selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}),__metadata("design:paramtypes",[core_1.IterableDiffers,core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgClass)}();return exports.NgClass=NgClass,module.exports}),$__System.registerDynamic("156",["13","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),lang_1=$__require("6"),NgFor=function(){function NgFor(_viewContainer,_templateRef,_iterableDiffers,_cdr){this._viewContainer=_viewContainer,this._templateRef=_templateRef,this._iterableDiffers=_iterableDiffers,this._cdr=_cdr}return Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(value){this._ngForOf=value,lang_1.isBlank(this._differ)&&lang_1.isPresent(value)&&(this._differ=this._iterableDiffers.find(value).create(this._cdr,this._ngForTrackBy))},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(value){lang_1.isPresent(value)&&(this._templateRef=value)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(value){this._ngForTrackBy=value},enumerable:!0,configurable:!0}),NgFor.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._ngForOf);lang_1.isPresent(changes)&&this._applyChanges(changes)}},NgFor.prototype._applyChanges=function(changes){var _this=this,recordViewTuples=[];changes.forEachRemovedItem(function(removedRecord){return recordViewTuples.push(new RecordViewTuple(removedRecord,null))}),changes.forEachMovedItem(function(movedRecord){return recordViewTuples.push(new RecordViewTuple(movedRecord,null))});var insertTuples=this._bulkRemove(recordViewTuples);changes.forEachAddedItem(function(addedRecord){return insertTuples.push(new RecordViewTuple(addedRecord,null))}),this._bulkInsert(insertTuples);for(var i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(var i=0,ilen=this._viewContainer.length;ilen>i;i++){var viewRef=this._viewContainer.get(i);viewRef.setLocal("last",i===ilen-1)}changes.forEachIdentityChange(function(record){var viewRef=_this._viewContainer.get(record.currentIndex);viewRef.setLocal("$implicit",record.item)})},NgFor.prototype._perViewChange=function(view,record){view.setLocal("$implicit",record.item),view.setLocal("index",record.currentIndex),view.setLocal("even",record.currentIndex%2==0),view.setLocal("odd",record.currentIndex%2==1)},NgFor.prototype._bulkRemove=function(tuples){tuples.sort(function(a,b){return a.record.previousIndex-b.record.previousIndex});for(var movedTuples=[],i=tuples.length-1;i>=0;i--){var tuple=tuples[i];lang_1.isPresent(tuple.record.currentIndex)?(tuple.view=this._viewContainer.detach(tuple.record.previousIndex),movedTuples.push(tuple)):this._viewContainer.remove(tuple.record.previousIndex)}return movedTuples},NgFor.prototype._bulkInsert=function(tuples){tuples.sort(function(a,b){return a.record.currentIndex-b.record.currentIndex});for(var i=0;i<tuples.length;i++){var tuple=tuples[i];lang_1.isPresent(tuple.view)?this._viewContainer.insert(tuple.view,tuple.record.currentIndex):tuple.view=this._viewContainer.createEmbeddedView(this._templateRef,tuple.record.currentIndex)}return tuples},NgFor=__decorate([core_1.Directive({selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,core_1.IterableDiffers,core_1.ChangeDetectorRef])],NgFor)}();exports.NgFor=NgFor;var RecordViewTuple=function(){function RecordViewTuple(record,view){this.record=record,this.view=view}return RecordViewTuple}();return module.exports}),$__System.registerDynamic("157",["13","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),lang_1=$__require("6"),NgIf=function(){function NgIf(_viewContainer,_templateRef){this._viewContainer=_viewContainer,this._templateRef=_templateRef,this._prevCondition=null}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(newCondition){!newCondition||!lang_1.isBlank(this._prevCondition)&&this._prevCondition?newCondition||!lang_1.isBlank(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),NgIf=__decorate([core_1.Directive({selector:"[ngIf]",inputs:["ngIf"]}),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef])],NgIf)}();return exports.NgIf=NgIf,module.exports}),$__System.registerDynamic("158",["13","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),lang_1=$__require("6"),NgStyle=function(){function NgStyle(_differs,_ngEl,_renderer){this._differs=_differs,this._ngEl=_ngEl,this._renderer=_renderer}return Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(v){this._rawStyle=v,lang_1.isBlank(this._differ)&&lang_1.isPresent(v)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._rawStyle);lang_1.isPresent(changes)&&this._applyChanges(changes)}},NgStyle.prototype._applyChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._setStyle(record.key,record.currentValue)}),changes.forEachChangedItem(function(record){_this._setStyle(record.key,record.currentValue)}),changes.forEachRemovedItem(function(record){_this._setStyle(record.key,null)})},NgStyle.prototype._setStyle=function(name,val){this._renderer.setElementStyle(this._ngEl.nativeElement,name,val)},NgStyle=__decorate([core_1.Directive({selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}),__metadata("design:paramtypes",[core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgStyle)}();return exports.NgStyle=NgStyle,module.exports}),$__System.registerDynamic("159",["13","6","a","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),lang_1=$__require("6"),collection_1=$__require("a"),_WHEN_DEFAULT=lang_1.CONST_EXPR(new Object),SwitchView=function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef}return SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()},SwitchView}();exports.SwitchView=SwitchView;var NgSwitch=function(){function NgSwitch(){this._useDefault=!1,this._valueViews=new collection_1.Map,this._activeViews=[]}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(value){this._emptyAllActiveViews(),this._useDefault=!1;var views=this._valueViews.get(value);lang_1.isBlank(views)&&(this._useDefault=!0,views=lang_1.normalizeBlank(this._valueViews.get(_WHEN_DEFAULT))),this._activateViews(views),this._switchValue=value},enumerable:!0,configurable:!0}),NgSwitch.prototype._onWhenValueChanged=function(oldWhen,newWhen,view){this._deregisterView(oldWhen,view),this._registerView(newWhen,view),oldWhen===this._switchValue?(view.destroy(),collection_1.ListWrapper.remove(this._activeViews,view)):newWhen===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),view.create(),this._activeViews.push(view)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(_WHEN_DEFAULT)))},NgSwitch.prototype._emptyAllActiveViews=function(){for(var activeContainers=this._activeViews,i=0;i<activeContainers.length;i++)activeContainers[i].destroy();this._activeViews=[]},NgSwitch.prototype._activateViews=function(views){if(lang_1.isPresent(views)){for(var i=0;i<views.length;i++)views[i].create();this._activeViews=views}},NgSwitch.prototype._registerView=function(value,view){var views=this._valueViews.get(value);lang_1.isBlank(views)&&(views=[],this._valueViews.set(value,views)),views.push(view)},NgSwitch.prototype._deregisterView=function(value,view){if(value!==_WHEN_DEFAULT){var views=this._valueViews.get(value);1==views.length?this._valueViews["delete"](value):collection_1.ListWrapper.remove(views,view)}},NgSwitch=__decorate([core_1.Directive({selector:"[ngSwitch]",inputs:["ngSwitch"]}),__metadata("design:paramtypes",[])],NgSwitch)}();exports.NgSwitch=NgSwitch;var NgSwitchWhen=function(){function NgSwitchWhen(viewContainer,templateRef,ngSwitch){this._value=_WHEN_DEFAULT,this._switch=ngSwitch,this._view=new SwitchView(viewContainer,templateRef)}return Object.defineProperty(NgSwitchWhen.prototype,"ngSwitchWhen",{set:function(value){this._switch._onWhenValueChanged(this._value,value,this._view),this._value=value},enumerable:!0,configurable:!0}),NgSwitchWhen=__decorate([core_1.Directive({selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchWhen)}();exports.NgSwitchWhen=NgSwitchWhen;var NgSwitchDefault=function(){function NgSwitchDefault(viewContainer,templateRef,sswitch){sswitch._registerView(_WHEN_DEFAULT,new SwitchView(viewContainer,templateRef))}return NgSwitchDefault=__decorate([core_1.Directive({selector:"[ngSwitchDefault]"}),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchDefault)}();return exports.NgSwitchDefault=NgSwitchDefault,module.exports}),$__System.registerDynamic("15a",["6","155","156","157","158","159","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),ng_class_1=$__require("155"),ng_for_1=$__require("156"),ng_if_1=$__require("157"),ng_style_1=$__require("158"),ng_switch_1=$__require("159");return exports.CORE_DIRECTIVES=lang_1.CONST_EXPR([ng_class_1.NgClass,ng_for_1.NgFor,ng_if_1.NgIf,ng_style_1.NgStyle,ng_switch_1.NgSwitch,ng_switch_1.NgSwitchWhen,ng_switch_1.NgSwitchDefault]),module.exports}),$__System.registerDynamic("15b",["155","156","157","158","159","154","15a","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var ng_class_1=($__require("3"),$__require("155"));exports.NgClass=ng_class_1.NgClass;var ng_for_1=$__require("156");exports.NgFor=ng_for_1.NgFor;var ng_if_1=$__require("157");exports.NgIf=ng_if_1.NgIf;var ng_style_1=$__require("158");exports.NgStyle=ng_style_1.NgStyle;var ng_switch_1=$__require("159");exports.NgSwitch=ng_switch_1.NgSwitch,exports.NgSwitchWhen=ng_switch_1.NgSwitchWhen,exports.NgSwitchDefault=ng_switch_1.NgSwitchDefault,__export($__require("154"));var core_directives_1=$__require("15a");return exports.CORE_DIRECTIVES=core_directives_1.CORE_DIRECTIVES,module.exports}),$__System.registerDynamic("15c",["6","153","15b","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),forms_1=$__require("153"),directives_1=$__require("15b");return exports.COMMON_DIRECTIVES=lang_1.CONST_EXPR([directives_1.CORE_DIRECTIVES,forms_1.FORM_DIRECTIVES]),module.exports}),$__System.registerDynamic("2d",["13b","15b","153","15c","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}$__require("3");return __export($__require("13b")),__export($__require("15b")),__export($__require("153")),__export($__require("15c")),module.exports}),$__System.registerDynamic("15d",["41","a","6","13","15e","15f","160","161","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},async_1=$__require("41"),collection_1=$__require("a"),lang_1=$__require("6"),core_1=$__require("13"),routerMod=$__require("15e"),instruction_1=$__require("15f"),hookMod=$__require("160"),route_lifecycle_reflector_1=$__require("161"),_resolveToTrue=async_1.PromiseWrapper.resolve(!0),RouterOutlet=function(){function RouterOutlet(_elementRef,_loader,_parentRouter,nameAttr){this._elementRef=_elementRef,this._loader=_loader,this._parentRouter=_parentRouter,this.name=null,this._componentRef=null,this._currentInstruction=null,lang_1.isPresent(nameAttr)?(this.name=nameAttr,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return RouterOutlet.prototype.activate=function(nextInstruction){var _this=this,previousInstruction=this._currentInstruction;this._currentInstruction=nextInstruction;var componentType=nextInstruction.componentType,childRouter=this._parentRouter.childRouter(componentType),providers=core_1.Injector.resolve([core_1.provide(instruction_1.RouteData,{useValue:nextInstruction.routeData}),core_1.provide(instruction_1.RouteParams,{useValue:new instruction_1.RouteParams(nextInstruction.params)}),core_1.provide(routerMod.Router,{useValue:childRouter})]);return this._loader.loadNextToLocation(componentType,this._elementRef,providers).then(function(componentRef){return _this._componentRef=componentRef,route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnActivate,componentType)?_this._componentRef.instance.routerOnActivate(nextInstruction,previousInstruction):void 0})},RouterOutlet.prototype.reuse=function(nextInstruction){var previousInstruction=this._currentInstruction;return this._currentInstruction=nextInstruction,lang_1.isBlank(this._componentRef)?this.activate(nextInstruction):async_1.PromiseWrapper.resolve(route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.instance.routerOnReuse(nextInstruction,previousInstruction):!0)},RouterOutlet.prototype.deactivate=function(nextInstruction){var _this=this,next=_resolveToTrue;return lang_1.isPresent(this._componentRef)&&lang_1.isPresent(this._currentInstruction)&&route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnDeactivate,this._currentInstruction.componentType)&&(next=async_1.PromiseWrapper.resolve(this._componentRef.instance.routerOnDeactivate(nextInstruction,this._currentInstruction))),next.then(function(_){lang_1.isPresent(_this._componentRef)&&(_this._componentRef.dispose(),_this._componentRef=null)})},RouterOutlet.prototype.routerCanDeactivate=function(nextInstruction){return lang_1.isBlank(this._currentInstruction)?_resolveToTrue:route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerCanDeactivate,this._currentInstruction.componentType)?async_1.PromiseWrapper.resolve(this._componentRef.instance.routerCanDeactivate(nextInstruction,this._currentInstruction)):_resolveToTrue},RouterOutlet.prototype.routerCanReuse=function(nextInstruction){var result;return result=lang_1.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=nextInstruction.componentType?!1:route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerCanReuse,this._currentInstruction.componentType)?this._componentRef.instance.routerCanReuse(nextInstruction,this._currentInstruction):nextInstruction==this._currentInstruction||lang_1.isPresent(nextInstruction.params)&&lang_1.isPresent(this._currentInstruction.params)&&collection_1.StringMapWrapper.equals(nextInstruction.params,this._currentInstruction.params),async_1.PromiseWrapper.resolve(result)},RouterOutlet.prototype.ngOnDestroy=function(){this._parentRouter.unregisterPrimaryOutlet(this)},RouterOutlet=__decorate([core_1.Directive({selector:"router-outlet"}),__param(3,core_1.Attribute("name")),__metadata("design:paramtypes",[core_1.ElementRef,core_1.DynamicComponentLoader,routerMod.Router,String])],RouterOutlet)}();return exports.RouterOutlet=RouterOutlet,module.exports}),$__System.registerDynamic("162",["13","6","15e","163","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),lang_1=$__require("6"),router_1=$__require("15e"),location_1=$__require("163"),RouterLink=function(){function RouterLink(_router,_location){var _this=this;this._router=_router,this._location=_location,this._router.subscribe(function(_){return _this._updateLink()})}return RouterLink.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var navigationHref=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(navigationHref)},Object.defineProperty(RouterLink.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLink.prototype,"routeParams",{set:function(changes){this._routeParams=changes,this._updateLink()},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(){return lang_1.isString(this.target)&&"_self"!=this.target?!0:(this._router.navigateByInstruction(this._navigationInstruction),!1)},RouterLink=__decorate([core_1.Directive({selector:"[routerLink]",inputs:["routeParams: routerLink","target: target"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),__metadata("design:paramtypes",[router_1.Router,location_1.Location])],RouterLink)}();return exports.RouterLink=RouterLink,module.exports}),$__System.registerDynamic("164",["13","165","6","166","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),location_strategy_1=$__require("165"),lang_1=$__require("6"),platform_location_1=$__require("166"),HashLocationStrategy=function(_super){function HashLocationStrategy(_platformLocation,_baseHref){_super.call(this),this._platformLocation=_platformLocation,this._baseHref="",lang_1.isPresent(_baseHref)&&(this._baseHref=_baseHref)}return __extends(HashLocationStrategy,_super),HashLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(){var path=this._platformLocation.hash;return lang_1.isPresent(path)||(path="#"),path.length>0?path.substring(1):path},HashLocationStrategy.prototype.prepareExternalUrl=function(internal){var url=location_strategy_1.joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url},HashLocationStrategy.prototype.pushState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_strategy_1.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)},HashLocationStrategy.prototype.replaceState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_strategy_1.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy=__decorate([core_1.Injectable(),__param(1,core_1.Optional()),__param(1,core_1.Inject(location_strategy_1.APP_BASE_HREF)),__metadata("design:paramtypes",[platform_location_1.PlatformLocation,String])],HashLocationStrategy)}(location_strategy_1.LocationStrategy);return exports.HashLocationStrategy=HashLocationStrategy,module.exports}),$__System.registerDynamic("167",["3"],!0,function($__require,exports,module){"use strict";$__require("3");return module.exports}),$__System.registerDynamic("160",["169","168","3"],!0,function($__require,exports,module){"use strict";var decorators_1=($__require("3"),$__require("169")),lifecycle_annotations_impl_1=$__require("168"),lifecycle_annotations_impl_2=$__require("168");return exports.routerCanReuse=lifecycle_annotations_impl_2.routerCanReuse,exports.routerCanDeactivate=lifecycle_annotations_impl_2.routerCanDeactivate,exports.routerOnActivate=lifecycle_annotations_impl_2.routerOnActivate,exports.routerOnReuse=lifecycle_annotations_impl_2.routerOnReuse,exports.routerOnDeactivate=lifecycle_annotations_impl_2.routerOnDeactivate,exports.CanActivate=decorators_1.makeDecorator(lifecycle_annotations_impl_1.CanActivate),module.exports}),$__System.registerDynamic("16a",["13","6","e","165","166","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=$__require("13"),lang_1=$__require("6"),exceptions_1=$__require("e"),location_strategy_1=$__require("165"),platform_location_1=$__require("166"),PathLocationStrategy=function(_super){function PathLocationStrategy(_platformLocation,href){if(_super.call(this),this._platformLocation=_platformLocation,lang_1.isBlank(href)&&(href=this._platformLocation.getBaseHrefFromDOM()),lang_1.isBlank(href))throw new exceptions_1.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}return __extends(PathLocationStrategy,_super),PathLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(internal){return location_strategy_1.joinWithSlash(this._baseHref,internal)},PathLocationStrategy.prototype.path=function(){return this._platformLocation.pathname+location_strategy_1.normalizeQueryParams(this._platformLocation.search)},PathLocationStrategy.prototype.pushState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_strategy_1.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)},PathLocationStrategy.prototype.replaceState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_strategy_1.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy=__decorate([core_1.Injectable(),__param(1,core_1.Optional()),__param(1,core_1.Inject(location_strategy_1.APP_BASE_HREF)),__metadata("design:paramtypes",[platform_location_1.PlatformLocation,String])],PathLocationStrategy)}(location_strategy_1.LocationStrategy);return exports.PathLocationStrategy=PathLocationStrategy,module.exports}),$__System.registerDynamic("168",["6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),RouteLifecycleHook=function(){function RouteLifecycleHook(name){this.name=name}return RouteLifecycleHook=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],RouteLifecycleHook)}();exports.RouteLifecycleHook=RouteLifecycleHook;var CanActivate=function(){function CanActivate(fn){this.fn=fn}return CanActivate=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Function])],CanActivate)}();return exports.CanActivate=CanActivate,exports.routerCanReuse=lang_1.CONST_EXPR(new RouteLifecycleHook("routerCanReuse")),exports.routerCanDeactivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerCanDeactivate")),exports.routerOnActivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnActivate")),exports.routerOnReuse=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnReuse")),exports.routerOnDeactivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnDeactivate")),module.exports}),$__System.registerDynamic("161",["6","168","31","3"],!0,function($__require,exports,module){"use strict";function hasLifecycleHook(e,type){return type instanceof lang_1.Type?e.name in type.prototype:!1}function getCanActivateHook(type){for(var annotations=reflection_1.reflector.annotations(type),i=0;i<annotations.length;i+=1){var annotation=annotations[i];if(annotation instanceof lifecycle_annotations_impl_1.CanActivate)return annotation.fn}return null}var lang_1=($__require("3"),
$__require("6")),lifecycle_annotations_impl_1=$__require("168"),reflection_1=$__require("31");return exports.hasLifecycleHook=hasLifecycleHook,exports.getCanActivateHook=getCanActivateHook,module.exports}),$__System.registerDynamic("15e",["41","a","6","e","13","16b","163","161","3"],!0,function($__require,exports,module){"use strict";function canActivateOne(nextInstruction,prevInstruction){var next=_resolveToTrue;return lang_1.isBlank(nextInstruction.component)?next:(lang_1.isPresent(nextInstruction.child)&&(next=canActivateOne(nextInstruction.child,lang_1.isPresent(prevInstruction)?prevInstruction.child:null)),next.then(function(result){if(0==result)return!1;if(nextInstruction.component.reuse)return!0;var hook=route_lifecycle_reflector_1.getCanActivateHook(nextInstruction.component.componentType);return lang_1.isPresent(hook)?hook(nextInstruction.component,lang_1.isPresent(prevInstruction)?prevInstruction.component:null):!0}))}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},async_1=$__require("41"),collection_1=$__require("a"),lang_1=$__require("6"),exceptions_1=$__require("e"),core_1=$__require("13"),route_registry_1=$__require("16b"),location_1=$__require("163"),route_lifecycle_reflector_1=$__require("161"),_resolveToTrue=async_1.PromiseWrapper.resolve(!0),_resolveToFalse=async_1.PromiseWrapper.resolve(!1),Router=function(){function Router(registry,parent,hostComponent,root){this.registry=registry,this.parent=parent,this.hostComponent=hostComponent,this.root=root,this.navigating=!1,this.currentInstruction=null,this._currentNavigation=_resolveToTrue,this._outlet=null,this._auxRouters=new collection_1.Map,this._subject=new async_1.EventEmitter}return Router.prototype.childRouter=function(hostComponent){return this._childRouter=new ChildRouter(this,hostComponent)},Router.prototype.auxRouter=function(hostComponent){return new ChildRouter(this,hostComponent)},Router.prototype.registerPrimaryOutlet=function(outlet){if(lang_1.isPresent(outlet.name))throw new exceptions_1.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(lang_1.isPresent(this._outlet))throw new exceptions_1.BaseException("Primary outlet is already registered.");return this._outlet=outlet,lang_1.isPresent(this.currentInstruction)?this.commit(this.currentInstruction,!1):_resolveToTrue},Router.prototype.unregisterPrimaryOutlet=function(outlet){if(lang_1.isPresent(outlet.name))throw new exceptions_1.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},Router.prototype.registerAuxOutlet=function(outlet){var outletName=outlet.name;if(lang_1.isBlank(outletName))throw new exceptions_1.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var router=this.auxRouter(this.hostComponent);this._auxRouters.set(outletName,router),router._outlet=outlet;var auxInstruction;return lang_1.isPresent(this.currentInstruction)&&lang_1.isPresent(auxInstruction=this.currentInstruction.auxInstruction[outletName])?router.commit(auxInstruction):_resolveToTrue},Router.prototype.isRouteActive=function(instruction){for(var router=this;lang_1.isPresent(router.parent)&&lang_1.isPresent(instruction.child);)router=router.parent,instruction=instruction.child;return lang_1.isPresent(this.currentInstruction)&&this.currentInstruction.component==instruction.component},Router.prototype.config=function(definitions){var _this=this;return definitions.forEach(function(routeDefinition){_this.registry.config(_this.hostComponent,routeDefinition)}),this.renavigate()},Router.prototype.navigate=function(linkParams){var instruction=this.generate(linkParams);return this.navigateByInstruction(instruction,!1)},Router.prototype.navigateByUrl=function(url,_skipLocationChange){var _this=this;return void 0===_skipLocationChange&&(_skipLocationChange=!1),this._currentNavigation=this._currentNavigation.then(function(_){return _this.lastNavigationAttempt=url,_this._startNavigating(),_this._afterPromiseFinishNavigating(_this.recognize(url).then(function(instruction){return lang_1.isBlank(instruction)?!1:_this._navigate(instruction,_skipLocationChange)}))})},Router.prototype.navigateByInstruction=function(instruction,_skipLocationChange){var _this=this;return void 0===_skipLocationChange&&(_skipLocationChange=!1),lang_1.isBlank(instruction)?_resolveToFalse:this._currentNavigation=this._currentNavigation.then(function(_){return _this._startNavigating(),_this._afterPromiseFinishNavigating(_this._navigate(instruction,_skipLocationChange))})},Router.prototype._settleInstruction=function(instruction){var _this=this;return instruction.resolveComponent().then(function(_){var unsettledInstructions=[];return lang_1.isPresent(instruction.component)&&(instruction.component.reuse=!1),lang_1.isPresent(instruction.child)&&unsettledInstructions.push(_this._settleInstruction(instruction.child)),collection_1.StringMapWrapper.forEach(instruction.auxInstruction,function(instruction,_){unsettledInstructions.push(_this._settleInstruction(instruction))}),async_1.PromiseWrapper.all(unsettledInstructions)})},Router.prototype._navigate=function(instruction,_skipLocationChange){var _this=this;return this._settleInstruction(instruction).then(function(_){return _this._routerCanReuse(instruction)}).then(function(_){return _this._canActivate(instruction)}).then(function(result){return result?_this._routerCanDeactivate(instruction).then(function(result){return result?_this.commit(instruction,_skipLocationChange).then(function(_){return _this._emitNavigationFinish(instruction.toRootUrl()),!0}):void 0}):!1})},Router.prototype._emitNavigationFinish=function(url){async_1.ObservableWrapper.callEmit(this._subject,url)},Router.prototype._afterPromiseFinishNavigating=function(promise){var _this=this;return async_1.PromiseWrapper.catchError(promise.then(function(_){return _this._finishNavigating()}),function(err){throw _this._finishNavigating(),err})},Router.prototype._routerCanReuse=function(instruction){var _this=this;return lang_1.isBlank(this._outlet)?_resolveToFalse:lang_1.isBlank(instruction.component)?_resolveToTrue:this._outlet.routerCanReuse(instruction.component).then(function(result){return instruction.component.reuse=result,result&&lang_1.isPresent(_this._childRouter)&&lang_1.isPresent(instruction.child)?_this._childRouter._routerCanReuse(instruction.child):void 0})},Router.prototype._canActivate=function(nextInstruction){return canActivateOne(nextInstruction,this.currentInstruction)},Router.prototype._routerCanDeactivate=function(instruction){var _this=this;if(lang_1.isBlank(this._outlet))return _resolveToTrue;var next,childInstruction=null,reuse=!1,componentInstruction=null;return lang_1.isPresent(instruction)&&(childInstruction=instruction.child,componentInstruction=instruction.component,reuse=lang_1.isBlank(instruction.component)||instruction.component.reuse),next=reuse?_resolveToTrue:this._outlet.routerCanDeactivate(componentInstruction),next.then(function(result){return 0==result?!1:lang_1.isPresent(_this._childRouter)?_this._childRouter._routerCanDeactivate(childInstruction):!0})},Router.prototype.commit=function(instruction,_skipLocationChange){var _this=this;void 0===_skipLocationChange&&(_skipLocationChange=!1),this.currentInstruction=instruction;var next=_resolveToTrue;if(lang_1.isPresent(this._outlet)&&lang_1.isPresent(instruction.component)){var componentInstruction=instruction.component;next=componentInstruction.reuse?this._outlet.reuse(componentInstruction):this.deactivate(instruction).then(function(_){return _this._outlet.activate(componentInstruction)}),lang_1.isPresent(instruction.child)&&(next=next.then(function(_){return lang_1.isPresent(_this._childRouter)?_this._childRouter.commit(instruction.child):void 0}))}var promises=[];return this._auxRouters.forEach(function(router,name){lang_1.isPresent(instruction.auxInstruction[name])&&promises.push(router.commit(instruction.auxInstruction[name]))}),next.then(function(_){return async_1.PromiseWrapper.all(promises)})},Router.prototype._startNavigating=function(){this.navigating=!0},Router.prototype._finishNavigating=function(){this.navigating=!1},Router.prototype.subscribe=function(onNext){return async_1.ObservableWrapper.subscribe(this._subject,onNext)},Router.prototype.deactivate=function(instruction){var _this=this,childInstruction=null,componentInstruction=null;lang_1.isPresent(instruction)&&(childInstruction=instruction.child,componentInstruction=instruction.component);var next=_resolveToTrue;return lang_1.isPresent(this._childRouter)&&(next=this._childRouter.deactivate(childInstruction)),lang_1.isPresent(this._outlet)&&(next=next.then(function(_){return _this._outlet.deactivate(componentInstruction)})),next},Router.prototype.recognize=function(url){var ancestorComponents=this._getAncestorInstructions();return this.registry.recognize(url,ancestorComponents)},Router.prototype._getAncestorInstructions=function(){for(var ancestorInstructions=[this.currentInstruction],ancestorRouter=this;lang_1.isPresent(ancestorRouter=ancestorRouter.parent);)ancestorInstructions.unshift(ancestorRouter.currentInstruction);return ancestorInstructions},Router.prototype.renavigate=function(){return lang_1.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},Router.prototype.generate=function(linkParams){var ancestorInstructions=this._getAncestorInstructions();return this.registry.generate(linkParams,ancestorInstructions)},Router=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[route_registry_1.RouteRegistry,Router,Object,Router])],Router)}();exports.Router=Router;var RootRouter=function(_super){function RootRouter(registry,location,primaryComponent){var _this=this;_super.call(this,registry,null,primaryComponent),this.root=this,this._location=location,this._locationSub=this._location.subscribe(function(change){_this.recognize(change.url).then(function(instruction){_this.navigateByInstruction(instruction,lang_1.isPresent(change.pop)).then(function(_){if(!lang_1.isPresent(change.pop)||"hashchange"==change.type){var emitPath=instruction.toUrlPath(),emitQuery=instruction.toUrlQuery();emitPath.length>0&&"/"!=emitPath[0]&&(emitPath="/"+emitPath),"hashchange"==change.type?instruction.toRootUrl()!=_this._location.path()&&_this._location.replaceState(emitPath,emitQuery):_this._location.go(emitPath,emitQuery)}})})}),this.registry.configFromComponent(primaryComponent),this.navigateByUrl(location.path())}return __extends(RootRouter,_super),RootRouter.prototype.commit=function(instruction,_skipLocationChange){var _this=this;void 0===_skipLocationChange&&(_skipLocationChange=!1);var emitPath=instruction.toUrlPath(),emitQuery=instruction.toUrlQuery();emitPath.length>0&&"/"!=emitPath[0]&&(emitPath="/"+emitPath);var promise=_super.prototype.commit.call(this,instruction);return _skipLocationChange||(promise=promise.then(function(_){_this._location.go(emitPath,emitQuery)})),promise},RootRouter.prototype.dispose=function(){lang_1.isPresent(this._locationSub)&&(async_1.ObservableWrapper.dispose(this._locationSub),this._locationSub=null)},RootRouter=__decorate([core_1.Injectable(),__param(2,core_1.Inject(route_registry_1.ROUTER_PRIMARY_COMPONENT)),__metadata("design:paramtypes",[route_registry_1.RouteRegistry,location_1.Location,lang_1.Type])],RootRouter)}(Router);exports.RootRouter=RootRouter;var ChildRouter=function(_super){function ChildRouter(parent,hostComponent){_super.call(this,parent.registry,parent,hostComponent,parent.root),this.parent=parent}return __extends(ChildRouter,_super),ChildRouter.prototype.navigateByUrl=function(url,_skipLocationChange){return void 0===_skipLocationChange&&(_skipLocationChange=!1),this.parent.navigateByUrl(url,_skipLocationChange)},ChildRouter.prototype.navigateByInstruction=function(instruction,_skipLocationChange){return void 0===_skipLocationChange&&(_skipLocationChange=!1),this.parent.navigateByInstruction(instruction,_skipLocationChange)},ChildRouter}(Router);return module.exports}),$__System.registerDynamic("16c",["6","e","64","a","16d","15f","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),exceptions_1=$__require("e"),promise_1=$__require("64"),collection_1=$__require("a"),url_parser_1=$__require("16d"),instruction_1=$__require("15f"),RouteMatch=function(){function RouteMatch(){}return RouteMatch}();exports.RouteMatch=RouteMatch;var PathMatch=function(_super){function PathMatch(instruction,remaining,remainingAux){_super.call(this),this.instruction=instruction,this.remaining=remaining,this.remainingAux=remainingAux}return __extends(PathMatch,_super),PathMatch}(RouteMatch);exports.PathMatch=PathMatch;var RedirectMatch=function(_super){function RedirectMatch(redirectTo,specificity){_super.call(this),this.redirectTo=redirectTo,this.specificity=specificity}return __extends(RedirectMatch,_super),RedirectMatch}(RouteMatch);exports.RedirectMatch=RedirectMatch;var RedirectRule=function(){function RedirectRule(_pathRecognizer,redirectTo){this._pathRecognizer=_pathRecognizer,this.redirectTo=redirectTo,this.hash=this._pathRecognizer.hash}return Object.defineProperty(RedirectRule.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(val){throw new exceptions_1.BaseException("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),RedirectRule.prototype.recognize=function(beginningSegment){var match=null;return lang_1.isPresent(this._pathRecognizer.matchUrl(beginningSegment))&&(match=new RedirectMatch(this.redirectTo,this._pathRecognizer.specificity)),promise_1.PromiseWrapper.resolve(match)},RedirectRule.prototype.generate=function(params){throw new exceptions_1.BaseException("Tried to generate a redirect.")},RedirectRule}();exports.RedirectRule=RedirectRule;var RouteRule=function(){function RouteRule(_routePath,handler){this._routePath=_routePath,this.handler=handler,this._cache=new collection_1.Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(RouteRule.prototype,"path",{get:function(){return this._routePath.toString()},set:function(val){throw new exceptions_1.BaseException("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),RouteRule.prototype.recognize=function(beginningSegment){var _this=this,res=this._routePath.matchUrl(beginningSegment);return lang_1.isBlank(res)?null:this.handler.resolveComponentType().then(function(_){var componentInstruction=_this._getInstruction(res.urlPath,res.urlParams,res.allParams);return new PathMatch(componentInstruction,res.rest,res.auxiliary)})},RouteRule.prototype.generate=function(params){var generated=this._routePath.generateUrl(params),urlPath=generated.urlPath,urlParams=generated.urlParams;return this._getInstruction(urlPath,url_parser_1.convertUrlParamsToArray(urlParams),params)},RouteRule.prototype.generateComponentPathValues=function(params){return this._routePath.generateUrl(params)},RouteRule.prototype._getInstruction=function(urlPath,urlParams,params){if(lang_1.isBlank(this.handler.componentType))throw new exceptions_1.BaseException("Tried to get instruction before the type was loaded.");var hashKey=urlPath+"?"+urlParams.join("&");if(this._cache.has(hashKey))return this._cache.get(hashKey);var instruction=new instruction_1.ComponentInstruction(urlPath,urlParams,this.handler.data,this.handler.componentType,this.terminal,this.specificity,params);return this._cache.set(hashKey,instruction),instruction},RouteRule}();return exports.RouteRule=RouteRule,module.exports}),$__System.registerDynamic("16e",["6","15f","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),instruction_1=$__require("15f"),AsyncRouteHandler=function(){function AsyncRouteHandler(_loader,data){void 0===data&&(data=null),this._loader=_loader,this._resolvedComponent=null,this.data=lang_1.isPresent(data)?new instruction_1.RouteData(data):instruction_1.BLANK_ROUTE_DATA}return AsyncRouteHandler.prototype.resolveComponentType=function(){var _this=this;return lang_1.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(componentType){return _this.componentType=componentType,componentType})},AsyncRouteHandler}();return exports.AsyncRouteHandler=AsyncRouteHandler,module.exports}),$__System.registerDynamic("16f",["41","6","15f","3"],!0,function($__require,exports,module){"use strict";var async_1=($__require("3"),$__require("41")),lang_1=$__require("6"),instruction_1=$__require("15f"),SyncRouteHandler=function(){function SyncRouteHandler(componentType,data){this.componentType=componentType,this._resolvedComponent=null,this._resolvedComponent=async_1.PromiseWrapper.resolve(componentType),this.data=lang_1.isPresent(data)?new instruction_1.RouteData(data):instruction_1.BLANK_ROUTE_DATA}return SyncRouteHandler.prototype.resolveComponentType=function(){return this._resolvedComponent},SyncRouteHandler}();return exports.SyncRouteHandler=SyncRouteHandler,module.exports}),$__System.registerDynamic("170",["6","a","3"],!0,function($__require,exports,module){"use strict";function normalizeString(obj){return lang_1.isBlank(obj)?null:obj.toString()}var lang_1=($__require("3"),$__require("6")),collection_1=$__require("a"),TouchMap=function(){function TouchMap(map){var _this=this;this.map={},this.keys={},lang_1.isPresent(map)&&collection_1.StringMapWrapper.forEach(map,function(value,key){_this.map[key]=lang_1.isPresent(value)?value.toString():null,_this.keys[key]=!0})}return TouchMap.prototype.get=function(key){return collection_1.StringMapWrapper["delete"](this.keys,key),this.map[key]},TouchMap.prototype.getUnused=function(){var _this=this,unused={},keys=collection_1.StringMapWrapper.keys(this.keys);return keys.forEach(function(key){return unused[key]=collection_1.StringMapWrapper.get(_this.map,key)}),unused},TouchMap}();return exports.TouchMap=TouchMap,exports.normalizeString=normalizeString,module.exports}),$__System.registerDynamic("171",["6","e","a","170","16d","172","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),utils_1=$__require("170"),url_parser_1=$__require("16d"),route_path_1=$__require("172"),ContinuationPathSegment=function(){function ContinuationPathSegment(){this.name="",this.specificity="",this.hash="..."}return ContinuationPathSegment.prototype.generate=function(params){return""},ContinuationPathSegment.prototype.match=function(path){return!0},ContinuationPathSegment}(),StaticPathSegment=function(){function StaticPathSegment(path){this.path=path,this.name="",this.specificity="2",this.hash=path}return StaticPathSegment.prototype.match=function(path){return path==this.path},StaticPathSegment.prototype.generate=function(params){return this.path},StaticPathSegment}(),DynamicPathSegment=function(){function DynamicPathSegment(name){this.name=name,this.specificity="1",this.hash=":"}return DynamicPathSegment.prototype.match=function(path){return path.length>0},DynamicPathSegment.prototype.generate=function(params){if(!collection_1.StringMapWrapper.contains(params.map,this.name))throw new exceptions_1.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return utils_1.normalizeString(params.get(this.name))},DynamicPathSegment.paramMatcher=/^:([^\/]+)$/g,DynamicPathSegment}(),StarPathSegment=function(){function StarPathSegment(name){this.name=name,this.specificity="0",this.hash="*"}return StarPathSegment.prototype.match=function(path){return!0},StarPathSegment.prototype.generate=function(params){return utils_1.normalizeString(params.get(this.name))},StarPathSegment.wildcardMatcher=/^\*([^\/]+)$/g,StarPathSegment}(),ParamRoutePath=function(){function ParamRoutePath(routePath){this.routePath=routePath,this.terminal=!0,this._assertValidPath(routePath),this._parsePathString(routePath),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var lastSegment=this._segments[this._segments.length-1];this.terminal=!(lastSegment instanceof ContinuationPathSegment)}return ParamRoutePath.prototype.matchUrl=function(url){for(var currentUrlSegment,nextUrlSegment=url,positionalParams={},captured=[],i=0;i<this._segments.length;i+=1){var pathSegment=this._segments[i];if(currentUrlSegment=nextUrlSegment,pathSegment instanceof ContinuationPathSegment)break;if(lang_1.isPresent(currentUrlSegment)){if(pathSegment instanceof StarPathSegment){positionalParams[pathSegment.name]=currentUrlSegment.toString(),captured.push(currentUrlSegment.toString()),nextUrlSegment=null;break}if(captured.push(currentUrlSegment.path),pathSegment instanceof DynamicPathSegment)positionalParams[pathSegment.name]=currentUrlSegment.path;else if(!pathSegment.match(currentUrlSegment.path))return null;nextUrlSegment=currentUrlSegment.child}else if(!pathSegment.match(""))return null}if(this.terminal&&lang_1.isPresent(nextUrlSegment))return null;var urlPath=captured.join("/"),auxiliary=[],urlParams=[],allParams=positionalParams;if(lang_1.isPresent(currentUrlSegment)){var paramsSegment=url instanceof url_parser_1.RootUrl?url:currentUrlSegment;lang_1.isPresent(paramsSegment.params)?(allParams=collection_1.StringMapWrapper.merge(paramsSegment.params,positionalParams),urlParams=url_parser_1.convertUrlParamsToArray(paramsSegment.params)):allParams=positionalParams,auxiliary=currentUrlSegment.auxiliary}return new route_path_1.MatchedUrl(urlPath,urlParams,allParams,auxiliary,nextUrlSegment)},ParamRoutePath.prototype.generateUrl=function(params){for(var paramTokens=new utils_1.TouchMap(params),path=[],i=0;i<this._segments.length;i++){var segment=this._segments[i];segment instanceof ContinuationPathSegment||path.push(segment.generate(paramTokens))}var urlPath=path.join("/"),nonPositionalParams=paramTokens.getUnused(),urlParams=nonPositionalParams;return new route_path_1.GeneratedUrl(urlPath,urlParams)},ParamRoutePath.prototype.toString=function(){return this.routePath},ParamRoutePath.prototype._parsePathString=function(routePath){routePath.startsWith("/")&&(routePath=routePath.substring(1));var segmentStrings=routePath.split("/");this._segments=[];for(var limit=segmentStrings.length-1,i=0;limit>=i;i++){var match,segment=segmentStrings[i];if(lang_1.isPresent(match=lang_1.RegExpWrapper.firstMatch(DynamicPathSegment.paramMatcher,segment)))this._segments.push(new DynamicPathSegment(match[1]));else if(lang_1.isPresent(match=lang_1.RegExpWrapper.firstMatch(StarPathSegment.wildcardMatcher,segment)))this._segments.push(new StarPathSegment(match[1]));else if("..."==segment){if(limit>i)throw new exceptions_1.BaseException('Unexpected "..." before the end of the path for "'+routePath+'".');this._segments.push(new ContinuationPathSegment)}else this._segments.push(new StaticPathSegment(segment))}},ParamRoutePath.prototype._calculateSpecificity=function(){var i,specificity,length=this._segments.length;if(0==length)specificity+="2";else for(specificity="",i=0;length>i;i++)specificity+=this._segments[i].specificity;return specificity},ParamRoutePath.prototype._calculateHash=function(){var i,length=this._segments.length,hashParts=[];for(i=0;length>i;i++)hashParts.push(this._segments[i].hash);return hashParts.join("/")},ParamRoutePath.prototype._assertValidPath=function(path){if(lang_1.StringWrapper.contains(path,"#"))throw new exceptions_1.BaseException('Path "'+path+'" should not include "#". Use "HashLocationStrategy" instead.');var illegalCharacter=lang_1.RegExpWrapper.firstMatch(ParamRoutePath.RESERVED_CHARS,path);if(lang_1.isPresent(illegalCharacter))throw new exceptions_1.BaseException('Path "'+path+'" contains "'+illegalCharacter[0]+'" which is not allowed in a route config.')},ParamRoutePath.RESERVED_CHARS=lang_1.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),ParamRoutePath}();return exports.ParamRoutePath=ParamRoutePath,module.exports}),$__System.registerDynamic("172",["3"],!0,function($__require,exports,module){"use strict";var MatchedUrl=($__require("3"),function(){function MatchedUrl(urlPath,urlParams,allParams,auxiliary,rest){this.urlPath=urlPath,this.urlParams=urlParams,this.allParams=allParams,this.auxiliary=auxiliary,this.rest=rest}return MatchedUrl}());exports.MatchedUrl=MatchedUrl;var GeneratedUrl=function(){function GeneratedUrl(urlPath,urlParams){this.urlPath=urlPath,this.urlParams=urlParams}return GeneratedUrl}();return exports.GeneratedUrl=GeneratedUrl,module.exports}),$__System.registerDynamic("173",["6","172","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),route_path_1=$__require("172"),RegexRoutePath=function(){function RegexRoutePath(_reString,_serializer){this._reString=_reString,this._serializer=_serializer,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=lang_1.RegExpWrapper.create(this._reString)}return RegexRoutePath.prototype.matchUrl=function(url){var urlPath=url.toString(),params={},matcher=lang_1.RegExpWrapper.matcher(this._regex,urlPath),match=lang_1.RegExpMatcherWrapper.next(matcher);if(lang_1.isBlank(match))return null;for(var i=0;i<match.length;i+=1)params[i.toString()]=match[i];return new route_path_1.MatchedUrl(urlPath,[],params,[],null)},RegexRoutePath.prototype.generateUrl=function(params){return this._serializer(params)},RegexRoutePath.prototype.toString=function(){return this._reString},RegexRoutePath}();return exports.RegexRoutePath=RegexRoutePath,module.exports}),$__System.registerDynamic("174",["6","e","a","41","16c","175","16e","16f","171","173","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),async_1=$__require("41"),rules_1=$__require("16c"),route_config_impl_1=$__require("175"),async_route_handler_1=$__require("16e"),sync_route_handler_1=$__require("16f"),param_route_path_1=$__require("171"),regex_route_path_1=$__require("173"),RuleSet=function(){function RuleSet(){this.rulesByName=new collection_1.Map,this.auxRulesByName=new collection_1.Map,this.auxRulesByPath=new collection_1.Map,this.rules=[],this.defaultRule=null}return RuleSet.prototype.config=function(config){var handler;if(lang_1.isPresent(config.name)&&config.name[0].toUpperCase()!=config.name[0]){var suggestedName=config.name[0].toUpperCase()+config.name.substring(1);throw new exceptions_1.BaseException('Route "'+config.path+'" with name "'+config.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+suggestedName+'".')}if(config instanceof route_config_impl_1.AuxRoute){handler=new sync_route_handler_1.SyncRouteHandler(config.component,config.data);var routePath_1=this._getRoutePath(config),auxRule=new rules_1.RouteRule(routePath_1,handler);return this.auxRulesByPath.set(routePath_1.toString(),auxRule),lang_1.isPresent(config.name)&&this.auxRulesByName.set(config.name,auxRule),auxRule.terminal}var useAsDefault=!1;if(config instanceof route_config_impl_1.Redirect){var routePath_2=this._getRoutePath(config),redirector=new rules_1.RedirectRule(routePath_2,config.redirectTo);return this._assertNoHashCollision(redirector.hash,config.path),this.rules.push(redirector),!0}config instanceof route_config_impl_1.Route?(handler=new sync_route_handler_1.SyncRouteHandler(config.component,config.data),useAsDefault=lang_1.isPresent(config.useAsDefault)&&config.useAsDefault):config instanceof route_config_impl_1.AsyncRoute&&(handler=new async_route_handler_1.AsyncRouteHandler(config.loader,config.data),useAsDefault=lang_1.isPresent(config.useAsDefault)&&config.useAsDefault);var routePath=this._getRoutePath(config),newRule=new rules_1.RouteRule(routePath,handler);if(this._assertNoHashCollision(newRule.hash,config.path),useAsDefault){if(lang_1.isPresent(this.defaultRule))throw new exceptions_1.BaseException("Only one route can be default");this.defaultRule=newRule}return this.rules.push(newRule),lang_1.isPresent(config.name)&&this.rulesByName.set(config.name,newRule),newRule.terminal},RuleSet.prototype.recognize=function(urlParse){var solutions=[];return this.rules.forEach(function(routeRecognizer){var pathMatch=routeRecognizer.recognize(urlParse);lang_1.isPresent(pathMatch)&&solutions.push(pathMatch)}),0==solutions.length&&lang_1.isPresent(urlParse)&&urlParse.auxiliary.length>0?[async_1.PromiseWrapper.resolve(new rules_1.PathMatch(null,null,urlParse.auxiliary))]:solutions},RuleSet.prototype.recognizeAuxiliary=function(urlParse){var routeRecognizer=this.auxRulesByPath.get(urlParse.path);return lang_1.isPresent(routeRecognizer)?[routeRecognizer.recognize(urlParse)]:[async_1.PromiseWrapper.resolve(null)]},RuleSet.prototype.hasRoute=function(name){return this.rulesByName.has(name)},RuleSet.prototype.componentLoaded=function(name){return this.hasRoute(name)&&lang_1.isPresent(this.rulesByName.get(name).handler.componentType)},RuleSet.prototype.loadComponent=function(name){return this.rulesByName.get(name).handler.resolveComponentType()},RuleSet.prototype.generate=function(name,params){var rule=this.rulesByName.get(name);return lang_1.isBlank(rule)?null:rule.generate(params)},RuleSet.prototype.generateAuxiliary=function(name,params){var rule=this.auxRulesByName.get(name);return lang_1.isBlank(rule)?null:rule.generate(params)},RuleSet.prototype._assertNoHashCollision=function(hash,path){this.rules.forEach(function(rule){if(hash==rule.hash)throw new exceptions_1.BaseException("Configuration '"+path+"' conflicts with existing route '"+rule.path+"'")})},RuleSet.prototype._getRoutePath=function(config){if(lang_1.isPresent(config.regex)){if(lang_1.isFunction(config.serializer))return new regex_route_path_1.RegexRoutePath(config.regex,config.serializer);throw new exceptions_1.BaseException("Route provides a regex property, '"+config.regex+"', but no serializer property")}if(lang_1.isPresent(config.path)){var path=config instanceof route_config_impl_1.AuxRoute&&config.path.startsWith("/")?config.path.substring(1):config.path;return new param_route_path_1.ParamRoutePath(path)}throw new exceptions_1.BaseException("Route must provide either a path or regex property")},RuleSet}();return exports.RuleSet=RuleSet,module.exports}),$__System.registerDynamic("15f",["a","6","41","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),lang_1=$__require("6"),async_1=$__require("41"),RouteParams=function(){function RouteParams(params){this.params=params}return RouteParams.prototype.get=function(param){return lang_1.normalizeBlank(collection_1.StringMapWrapper.get(this.params,param));
},RouteParams}();exports.RouteParams=RouteParams;var RouteData=function(){function RouteData(data){void 0===data&&(data=lang_1.CONST_EXPR({})),this.data=data}return RouteData.prototype.get=function(key){return lang_1.normalizeBlank(collection_1.StringMapWrapper.get(this.data,key))},RouteData}();exports.RouteData=RouteData,exports.BLANK_ROUTE_DATA=new RouteData;var Instruction=function(){function Instruction(component,child,auxInstruction){this.component=component,this.child=child,this.auxInstruction=auxInstruction}return Object.defineProperty(Instruction.prototype,"urlPath",{get:function(){return lang_1.isPresent(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"urlParams",{get:function(){return lang_1.isPresent(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"specificity",{get:function(){var total="";return lang_1.isPresent(this.component)&&(total+=this.component.specificity),lang_1.isPresent(this.child)&&(total+=this.child.specificity),total},enumerable:!0,configurable:!0}),Instruction.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},Instruction.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(lang_1.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},Instruction.prototype.replaceChild=function(child){return new ResolvedInstruction(this.component,child,this.auxInstruction)},Instruction.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(lang_1.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(lang_1.isPresent(this.child)?this.child._toLinkUrl():"")},Instruction.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(lang_1.isPresent(this.child)?this.child._toLinkUrl():"")},Instruction.prototype._stringifyPathMatrixAuxPrefixed=function(){var primary=this._stringifyPathMatrixAux();return primary.length>0&&(primary="/"+primary),primary},Instruction.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},Instruction.prototype._stringifyPathMatrixAux=function(){return lang_1.isBlank(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},Instruction.prototype._stringifyAux=function(){var routes=[];return collection_1.StringMapWrapper.forEach(this.auxInstruction,function(auxInstruction,_){routes.push(auxInstruction._stringifyPathMatrixAux())}),routes.length>0?"("+routes.join("//")+")":""},Instruction}();exports.Instruction=Instruction;var ResolvedInstruction=function(_super){function ResolvedInstruction(component,child,auxInstruction){_super.call(this,component,child,auxInstruction)}return __extends(ResolvedInstruction,_super),ResolvedInstruction.prototype.resolveComponent=function(){return async_1.PromiseWrapper.resolve(this.component)},ResolvedInstruction}(Instruction);exports.ResolvedInstruction=ResolvedInstruction;var DefaultInstruction=function(_super){function DefaultInstruction(component,child){_super.call(this,component,child,{})}return __extends(DefaultInstruction,_super),DefaultInstruction.prototype.toLinkUrl=function(){return""},DefaultInstruction.prototype._toLinkUrl=function(){return""},DefaultInstruction}(ResolvedInstruction);exports.DefaultInstruction=DefaultInstruction;var UnresolvedInstruction=function(_super){function UnresolvedInstruction(_resolver,_urlPath,_urlParams){void 0===_urlPath&&(_urlPath=""),void 0===_urlParams&&(_urlParams=lang_1.CONST_EXPR([])),_super.call(this,null,null,{}),this._resolver=_resolver,this._urlPath=_urlPath,this._urlParams=_urlParams}return __extends(UnresolvedInstruction,_super),Object.defineProperty(UnresolvedInstruction.prototype,"urlPath",{get:function(){return lang_1.isPresent(this.component)?this.component.urlPath:lang_1.isPresent(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(UnresolvedInstruction.prototype,"urlParams",{get:function(){return lang_1.isPresent(this.component)?this.component.urlParams:lang_1.isPresent(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),UnresolvedInstruction.prototype.resolveComponent=function(){var _this=this;return lang_1.isPresent(this.component)?async_1.PromiseWrapper.resolve(this.component):this._resolver().then(function(resolution){return _this.child=resolution.child,_this.component=resolution.component})},UnresolvedInstruction}(Instruction);exports.UnresolvedInstruction=UnresolvedInstruction;var RedirectInstruction=function(_super){function RedirectInstruction(component,child,auxInstruction,_specificity){_super.call(this,component,child,auxInstruction),this._specificity=_specificity}return __extends(RedirectInstruction,_super),Object.defineProperty(RedirectInstruction.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),RedirectInstruction}(ResolvedInstruction);exports.RedirectInstruction=RedirectInstruction;var ComponentInstruction=function(){function ComponentInstruction(urlPath,urlParams,data,componentType,terminal,specificity,params){void 0===params&&(params=null),this.urlPath=urlPath,this.urlParams=urlParams,this.componentType=componentType,this.terminal=terminal,this.specificity=specificity,this.params=params,this.reuse=!1,this.routeData=lang_1.isPresent(data)?data:exports.BLANK_ROUTE_DATA}return ComponentInstruction}();return exports.ComponentInstruction=ComponentInstruction,module.exports}),$__System.registerDynamic("175",["6","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),RouteConfig=function(){function RouteConfig(configs){this.configs=configs}return RouteConfig=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Array])],RouteConfig)}();exports.RouteConfig=RouteConfig;var AbstractRoute=function(){function AbstractRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data;this.name=name,this.useAsDefault=useAsDefault,this.path=path,this.regex=regex,this.serializer=serializer,this.data=data}return AbstractRoute=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],AbstractRoute)}();exports.AbstractRoute=AbstractRoute;var Route=function(_super){function Route(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,component=_a.component;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.aux=null,this.component=component}return __extends(Route,_super),Route=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],Route)}(AbstractRoute);exports.Route=Route;var AuxRoute=function(_super){function AuxRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,component=_a.component;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.component=component}return __extends(AuxRoute,_super),AuxRoute=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],AuxRoute)}(AbstractRoute);exports.AuxRoute=AuxRoute;var AsyncRoute=function(_super){function AsyncRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,loader=_a.loader;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.aux=null,this.loader=loader}return __extends(AsyncRoute,_super),AsyncRoute=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],AsyncRoute)}(AbstractRoute);exports.AsyncRoute=AsyncRoute;var Redirect=function(_super){function Redirect(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,redirectTo=_a.redirectTo;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data}),this.redirectTo=redirectTo}return __extends(Redirect,_super),Redirect=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],Redirect)}(AbstractRoute);return exports.Redirect=Redirect,module.exports}),$__System.registerDynamic("176",["175","169","3"],!0,function($__require,exports,module){"use strict";var route_config_impl_1=($__require("3"),$__require("175")),decorators_1=$__require("169"),route_config_impl_2=$__require("175");return exports.Route=route_config_impl_2.Route,exports.Redirect=route_config_impl_2.Redirect,exports.AuxRoute=route_config_impl_2.AuxRoute,exports.AsyncRoute=route_config_impl_2.AsyncRoute,exports.RouteConfig=decorators_1.makeDecorator(route_config_impl_1.RouteConfig),module.exports}),$__System.registerDynamic("177",["176","6","e","3"],!0,function($__require,exports,module){"use strict";function normalizeRouteConfig(config,registry){if(config instanceof route_config_decorator_1.AsyncRoute){var wrappedLoader=wrapLoaderToReconfigureRegistry(config.loader,registry);return new route_config_decorator_1.AsyncRoute({path:config.path,loader:wrappedLoader,name:config.name,data:config.data,useAsDefault:config.useAsDefault})}if(config instanceof route_config_decorator_1.Route||config instanceof route_config_decorator_1.Redirect||config instanceof route_config_decorator_1.AuxRoute)return config;if(+!!config.component+ +!!config.redirectTo+ +!!config.loader!=1)throw new exceptions_1.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(config.as&&config.name)throw new exceptions_1.BaseException('Route config should contain exactly one "as" or "name" property.');if(config.as&&(config.name=config.as),config.loader){var wrappedLoader=wrapLoaderToReconfigureRegistry(config.loader,registry);return new route_config_decorator_1.AsyncRoute({path:config.path,loader:wrappedLoader,name:config.name,data:config.data,useAsDefault:config.useAsDefault})}if(config.aux)return new route_config_decorator_1.AuxRoute({path:config.aux,component:config.component,name:config.name});if(config.component){if("object"==typeof config.component){var componentDefinitionObject=config.component;if("constructor"==componentDefinitionObject.type)return new route_config_decorator_1.Route({path:config.path,component:componentDefinitionObject.constructor,name:config.name,data:config.data,useAsDefault:config.useAsDefault});if("loader"==componentDefinitionObject.type)return new route_config_decorator_1.AsyncRoute({path:config.path,loader:componentDefinitionObject.loader,name:config.name,data:config.data,useAsDefault:config.useAsDefault});throw new exceptions_1.BaseException('Invalid component type "'+componentDefinitionObject.type+'". Valid types are "constructor" and "loader".')}return new route_config_decorator_1.Route(config)}return config.redirectTo?new route_config_decorator_1.Redirect({path:config.path,redirectTo:config.redirectTo}):config}function wrapLoaderToReconfigureRegistry(loader,registry){return function(){return loader().then(function(componentType){return registry.configFromComponent(componentType),componentType})}}function assertComponentExists(component,path){if(!lang_1.isType(component))throw new exceptions_1.BaseException('Component for route "'+path+'" is not defined, or is not a class.')}var route_config_decorator_1=($__require("3"),$__require("176")),lang_1=$__require("6"),exceptions_1=$__require("e");return exports.normalizeRouteConfig=normalizeRouteConfig,exports.assertComponentExists=assertComponentExists,module.exports}),$__System.registerDynamic("16d",["a","6","e","3"],!0,function($__require,exports,module){"use strict";function convertUrlParamsToArray(urlParams){var paramsArray=[];return lang_1.isBlank(urlParams)?[]:(collection_1.StringMapWrapper.forEach(urlParams,function(value,key){paramsArray.push(value===!0?key:key+"="+value)}),paramsArray)}function serializeParams(urlParams,joiner){return void 0===joiner&&(joiner="&"),convertUrlParamsToArray(urlParams).join(joiner)}function pathSegmentsToUrl(pathSegments){for(var url=new Url(pathSegments[pathSegments.length-1]),i=pathSegments.length-2;i>=0;i-=1)url=new Url(pathSegments[i],url);return url}function matchUrlSegment(str){var match=lang_1.RegExpWrapper.firstMatch(SEGMENT_RE,str);return lang_1.isPresent(match)?match[0]:""}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),lang_1=$__require("6"),exceptions_1=$__require("e");exports.convertUrlParamsToArray=convertUrlParamsToArray,exports.serializeParams=serializeParams;var Url=function(){function Url(path,child,auxiliary,params){void 0===child&&(child=null),void 0===auxiliary&&(auxiliary=lang_1.CONST_EXPR([])),void 0===params&&(params=lang_1.CONST_EXPR({})),this.path=path,this.child=child,this.auxiliary=auxiliary,this.params=params}return Url.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},Url.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},Url.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(sibling){return sibling.toString()}).join("//")+")":""},Url.prototype._matrixParamsToString=function(){var paramString=serializeParams(this.params,";");return paramString.length>0?";"+paramString:""},Url.prototype._childString=function(){return lang_1.isPresent(this.child)?"/"+this.child.toString():""},Url}();exports.Url=Url;var RootUrl=function(_super){function RootUrl(path,child,auxiliary,params){void 0===child&&(child=null),void 0===auxiliary&&(auxiliary=lang_1.CONST_EXPR([])),void 0===params&&(params=null),_super.call(this,path,child,auxiliary,params)}return __extends(RootUrl,_super),RootUrl.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},RootUrl.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},RootUrl.prototype._queryParamsToString=function(){return lang_1.isBlank(this.params)?"":"?"+serializeParams(this.params)},RootUrl}(Url);exports.RootUrl=RootUrl,exports.pathSegmentsToUrl=pathSegmentsToUrl;var SEGMENT_RE=lang_1.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&#]+"),UrlParser=function(){function UrlParser(){}return UrlParser.prototype.peekStartsWith=function(str){return this._remaining.startsWith(str)},UrlParser.prototype.capture=function(str){if(!this._remaining.startsWith(str))throw new exceptions_1.BaseException('Expected "'+str+'".');this._remaining=this._remaining.substring(str.length)},UrlParser.prototype.parse=function(url){return this._remaining=url,""==url||"/"==url?new Url(""):this.parseRoot()},UrlParser.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var path=matchUrlSegment(this._remaining);this.capture(path);var aux=[];this.peekStartsWith("(")&&(aux=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var child=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),child=this.parseSegment());var queryParams=null;return this.peekStartsWith("?")&&(queryParams=this.parseQueryParams()),new RootUrl(path,child,aux,queryParams)},UrlParser.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var path=matchUrlSegment(this._remaining);this.capture(path);var matrixParams=null;this.peekStartsWith(";")&&(matrixParams=this.parseMatrixParams());var aux=[];this.peekStartsWith("(")&&(aux=this.parseAuxiliaryRoutes());var child=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),child=this.parseSegment()),new Url(path,child,aux,matrixParams)},UrlParser.prototype.parseQueryParams=function(){var params={};for(this.capture("?"),this.parseParam(params);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseParam(params);return params},UrlParser.prototype.parseMatrixParams=function(){for(var params={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(params);return params},UrlParser.prototype.parseParam=function(params){var key=matchUrlSegment(this._remaining);if(!lang_1.isBlank(key)){this.capture(key);var value=!0;if(this.peekStartsWith("=")){this.capture("=");var valueMatch=matchUrlSegment(this._remaining);lang_1.isPresent(valueMatch)&&(value=valueMatch,this.capture(value))}params[key]=value}},UrlParser.prototype.parseAuxiliaryRoutes=function(){var routes=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)routes.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),routes},UrlParser}();return exports.UrlParser=UrlParser,exports.parser=new UrlParser,module.exports}),$__System.registerDynamic("16b",["a","41","6","e","31","13","175","16c","174","15f","177","16d","3"],!0,function($__require,exports,module){"use strict";function splitAndFlattenLinkParams(linkParams){var accumulation=[];return linkParams.forEach(function(item){if(lang_1.isString(item)){var strItem=item;accumulation=accumulation.concat(strItem.split("/"))}else accumulation.push(item)}),accumulation}function mostSpecific(instructions){if(instructions=instructions.filter(function(instruction){return lang_1.isPresent(instruction)}),0==instructions.length)return null;if(1==instructions.length)return instructions[0];var first=instructions[0],rest=instructions.slice(1);return rest.reduce(function(instruction,contender){return-1==compareSpecificityStrings(contender.specificity,instruction.specificity)?contender:instruction},first)}function compareSpecificityStrings(a,b){for(var l=lang_1.Math.min(a.length,b.length),i=0;l>i;i+=1){var ai=lang_1.StringWrapper.charCodeAt(a,i),bi=lang_1.StringWrapper.charCodeAt(b,i),difference=bi-ai;if(0!=difference)return difference}return a.length-b.length}function assertTerminalComponent(component,path){if(lang_1.isType(component)){var annotations=reflection_1.reflector.annotations(component);if(lang_1.isPresent(annotations))for(var i=0;i<annotations.length;i++){var annotation=annotations[i];if(annotation instanceof route_config_impl_1.RouteConfig)throw new exceptions_1.BaseException('Child routes are not allowed for "'+path+'". Use "..." on the parent\'s route path.')}}}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},collection_1=$__require("a"),async_1=$__require("41"),lang_1=$__require("6"),exceptions_1=$__require("e"),reflection_1=$__require("31"),core_1=$__require("13"),route_config_impl_1=$__require("175"),rules_1=$__require("16c"),rule_set_1=$__require("174"),instruction_1=$__require("15f"),route_config_normalizer_1=$__require("177"),url_parser_1=$__require("16d"),_resolveToNull=async_1.PromiseWrapper.resolve(null);exports.ROUTER_PRIMARY_COMPONENT=lang_1.CONST_EXPR(new core_1.OpaqueToken("RouterPrimaryComponent"));var RouteRegistry=function(){function RouteRegistry(_rootComponent){this._rootComponent=_rootComponent,this._rules=new collection_1.Map}return RouteRegistry.prototype.config=function(parentComponent,config){config=route_config_normalizer_1.normalizeRouteConfig(config,this),config instanceof route_config_impl_1.Route?route_config_normalizer_1.assertComponentExists(config.component,config.path):config instanceof route_config_impl_1.AuxRoute&&route_config_normalizer_1.assertComponentExists(config.component,config.path);var rules=this._rules.get(parentComponent);lang_1.isBlank(rules)&&(rules=new rule_set_1.RuleSet,this._rules.set(parentComponent,rules));var terminal=rules.config(config);config instanceof route_config_impl_1.Route&&(terminal?assertTerminalComponent(config.component,config.path):this.configFromComponent(config.component))},RouteRegistry.prototype.configFromComponent=function(component){var _this=this;if(lang_1.isType(component)&&!this._rules.has(component)){var annotations=reflection_1.reflector.annotations(component);if(lang_1.isPresent(annotations))for(var i=0;i<annotations.length;i++){var annotation=annotations[i];if(annotation instanceof route_config_impl_1.RouteConfig){var routeCfgs=annotation.configs;routeCfgs.forEach(function(config){return _this.config(component,config)})}}}},RouteRegistry.prototype.recognize=function(url,ancestorInstructions){var parsedUrl=url_parser_1.parser.parse(url);return this._recognize(parsedUrl,[])},RouteRegistry.prototype._recognize=function(parsedUrl,ancestorInstructions,_aux){var _this=this;void 0===_aux&&(_aux=!1);var parentInstruction=collection_1.ListWrapper.last(ancestorInstructions),parentComponent=lang_1.isPresent(parentInstruction)?parentInstruction.component.componentType:this._rootComponent,rules=this._rules.get(parentComponent);if(lang_1.isBlank(rules))return _resolveToNull;var possibleMatches=_aux?rules.recognizeAuxiliary(parsedUrl):rules.recognize(parsedUrl),matchPromises=possibleMatches.map(function(candidate){return candidate.then(function(candidate){if(candidate instanceof rules_1.PathMatch){var auxParentInstructions=ancestorInstructions.length>0?[collection_1.ListWrapper.last(ancestorInstructions)]:[],auxInstructions=_this._auxRoutesToUnresolved(candidate.remainingAux,auxParentInstructions),instruction=new instruction_1.ResolvedInstruction(candidate.instruction,null,auxInstructions);if(lang_1.isBlank(candidate.instruction)||candidate.instruction.terminal)return instruction;var newAncestorInstructions=ancestorInstructions.concat([instruction]);return _this._recognize(candidate.remaining,newAncestorInstructions).then(function(childInstruction){return lang_1.isBlank(childInstruction)?null:childInstruction instanceof instruction_1.RedirectInstruction?childInstruction:(instruction.child=childInstruction,instruction)})}if(candidate instanceof rules_1.RedirectMatch){var instruction=_this.generate(candidate.redirectTo,ancestorInstructions.concat([null]));return new instruction_1.RedirectInstruction(instruction.component,instruction.child,instruction.auxInstruction,candidate.specificity)}})});return!lang_1.isBlank(parsedUrl)&&""!=parsedUrl.path||0!=possibleMatches.length?async_1.PromiseWrapper.all(matchPromises).then(mostSpecific):async_1.PromiseWrapper.resolve(this.generateDefault(parentComponent))},RouteRegistry.prototype._auxRoutesToUnresolved=function(auxRoutes,parentInstructions){var _this=this,unresolvedAuxInstructions={};return auxRoutes.forEach(function(auxUrl){unresolvedAuxInstructions[auxUrl.path]=new instruction_1.UnresolvedInstruction(function(){return _this._recognize(auxUrl,parentInstructions,!0)})}),unresolvedAuxInstructions},RouteRegistry.prototype.generate=function(linkParams,ancestorInstructions,_aux){void 0===_aux&&(_aux=!1);var prevInstruction,params=splitAndFlattenLinkParams(linkParams);if(""==collection_1.ListWrapper.first(params))params.shift(),prevInstruction=collection_1.ListWrapper.first(ancestorInstructions),ancestorInstructions=[];else if(prevInstruction=ancestorInstructions.length>0?ancestorInstructions.pop():null,"."==collection_1.ListWrapper.first(params))params.shift();else if(".."==collection_1.ListWrapper.first(params))for(;".."==collection_1.ListWrapper.first(params);){if(ancestorInstructions.length<=0)throw new exceptions_1.BaseException('Link "'+collection_1.ListWrapper.toJSON(linkParams)+'" has too many "../" segments.');prevInstruction=ancestorInstructions.pop(),params=collection_1.ListWrapper.slice(params,1)}else{var routeName=collection_1.ListWrapper.first(params),parentComponentType=this._rootComponent,grandparentComponentType=null;if(ancestorInstructions.length>1){var parentComponentInstruction=ancestorInstructions[ancestorInstructions.length-1],grandComponentInstruction=ancestorInstructions[ancestorInstructions.length-2];parentComponentType=parentComponentInstruction.component.componentType,grandparentComponentType=grandComponentInstruction.component.componentType}else 1==ancestorInstructions.length&&(parentComponentType=ancestorInstructions[0].component.componentType,grandparentComponentType=this._rootComponent);var childRouteExists=this.hasRoute(routeName,parentComponentType),parentRouteExists=lang_1.isPresent(grandparentComponentType)&&this.hasRoute(routeName,grandparentComponentType);if(parentRouteExists&&childRouteExists){var msg='Link "'+collection_1.ListWrapper.toJSON(linkParams)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new exceptions_1.BaseException(msg)}parentRouteExists&&(prevInstruction=ancestorInstructions.pop())}if(""==params[params.length-1]&&params.pop(),params.length>0&&""==params[0]&&params.shift(),params.length<1){var msg='Link "'+collection_1.ListWrapper.toJSON(linkParams)+'" must include a route name.';throw new exceptions_1.BaseException(msg)}for(var generatedInstruction=this._generate(params,ancestorInstructions,prevInstruction,_aux,linkParams),i=ancestorInstructions.length-1;i>=0;i--){var ancestorInstruction=ancestorInstructions[i];if(lang_1.isBlank(ancestorInstruction))break;generatedInstruction=ancestorInstruction.replaceChild(generatedInstruction)}return generatedInstruction},RouteRegistry.prototype._generate=function(linkParams,ancestorInstructions,prevInstruction,_aux,_originalLink){var _this=this;void 0===_aux&&(_aux=!1);var parentComponentType=this._rootComponent,componentInstruction=null,auxInstructions={},parentInstruction=collection_1.ListWrapper.last(ancestorInstructions);if(lang_1.isPresent(parentInstruction)&&lang_1.isPresent(parentInstruction.component)&&(parentComponentType=parentInstruction.component.componentType),0==linkParams.length){var defaultInstruction=this.generateDefault(parentComponentType);if(lang_1.isBlank(defaultInstruction))throw new exceptions_1.BaseException('Link "'+collection_1.ListWrapper.toJSON(_originalLink)+'" does not resolve to a terminal instruction.');return defaultInstruction}lang_1.isPresent(prevInstruction)&&!_aux&&(auxInstructions=collection_1.StringMapWrapper.merge(prevInstruction.auxInstruction,auxInstructions),componentInstruction=prevInstruction.component);var rules=this._rules.get(parentComponentType);if(lang_1.isBlank(rules))throw new exceptions_1.BaseException('Component "'+lang_1.getTypeNameForDebugging(parentComponentType)+'" has no route config.');var linkParamIndex=0,routeParams={};if(linkParamIndex<linkParams.length&&lang_1.isString(linkParams[linkParamIndex])){var routeName=linkParams[linkParamIndex];if(""==routeName||"."==routeName||".."==routeName)throw new exceptions_1.BaseException('"'+routeName+'/" is only allowed at the beginning of a link DSL.');if(linkParamIndex+=1,linkParamIndex<linkParams.length){var linkParam=linkParams[linkParamIndex];lang_1.isStringMap(linkParam)&&!lang_1.isArray(linkParam)&&(routeParams=linkParam,linkParamIndex+=1)}var routeRecognizer=(_aux?rules.auxRulesByName:rules.rulesByName).get(routeName);if(lang_1.isBlank(routeRecognizer))throw new exceptions_1.BaseException('Component "'+lang_1.getTypeNameForDebugging(parentComponentType)+'" has no route named "'+routeName+'".');if(lang_1.isBlank(routeRecognizer.handler.componentType)){var generatedUrl=routeRecognizer.generateComponentPathValues(routeParams);return new instruction_1.UnresolvedInstruction(function(){return routeRecognizer.handler.resolveComponentType().then(function(_){return _this._generate(linkParams,ancestorInstructions,prevInstruction,_aux,_originalLink)})},generatedUrl.urlPath,url_parser_1.convertUrlParamsToArray(generatedUrl.urlParams))}componentInstruction=_aux?rules.generateAuxiliary(routeName,routeParams):rules.generate(routeName,routeParams)}for(;linkParamIndex<linkParams.length&&lang_1.isArray(linkParams[linkParamIndex]);){var auxParentInstruction=[parentInstruction],auxInstruction=this._generate(linkParams[linkParamIndex],auxParentInstruction,null,!0,_originalLink);auxInstructions[auxInstruction.component.urlPath]=auxInstruction,linkParamIndex+=1}var instruction=new instruction_1.ResolvedInstruction(componentInstruction,null,auxInstructions);if(lang_1.isPresent(componentInstruction)&&lang_1.isPresent(componentInstruction.componentType)){var childInstruction=null;if(componentInstruction.terminal)linkParamIndex>=linkParams.length;else{var childAncestorComponents=ancestorInstructions.concat([instruction]),remainingLinkParams=linkParams.slice(linkParamIndex);childInstruction=this._generate(remainingLinkParams,childAncestorComponents,null,!1,_originalLink)}instruction.child=childInstruction}return instruction},RouteRegistry.prototype.hasRoute=function(name,parentComponent){var rules=this._rules.get(parentComponent);return lang_1.isBlank(rules)?!1:rules.hasRoute(name)},RouteRegistry.prototype.generateDefault=function(componentCursor){var _this=this;if(lang_1.isBlank(componentCursor))return null;var rules=this._rules.get(componentCursor);if(lang_1.isBlank(rules)||lang_1.isBlank(rules.defaultRule))return null;var defaultChild=null;if(lang_1.isPresent(rules.defaultRule.handler.componentType)){var componentInstruction=rules.defaultRule.generate({});return rules.defaultRule.terminal||(defaultChild=this.generateDefault(rules.defaultRule.handler.componentType)),new instruction_1.DefaultInstruction(componentInstruction,defaultChild)}return new instruction_1.UnresolvedInstruction(function(){return rules.defaultRule.handler.resolveComponentType().then(function(_){return _this.generateDefault(componentCursor)})})},RouteRegistry=__decorate([core_1.Injectable(),__param(0,core_1.Inject(exports.ROUTER_PRIMARY_COMPONENT)),__metadata("design:paramtypes",[lang_1.Type])],RouteRegistry)}();return exports.RouteRegistry=RouteRegistry,module.exports}),$__System.registerDynamic("165",["6","13","3"],!0,function($__require,exports,module){"use strict";function normalizeQueryParams(params){return params.length>0&&"?"!=params.substring(0,1)?"?"+params:params}function joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;var slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end}var lang_1=($__require("3"),$__require("6")),core_1=$__require("13"),LocationStrategy=function(){function LocationStrategy(){}return LocationStrategy}();return exports.LocationStrategy=LocationStrategy,
exports.APP_BASE_HREF=lang_1.CONST_EXPR(new core_1.OpaqueToken("appBaseHref")),exports.normalizeQueryParams=normalizeQueryParams,exports.joinWithSlash=joinWithSlash,module.exports}),$__System.registerDynamic("163",["165","41","13","3"],!0,function($__require,exports,module){"use strict";function _stripBaseHref(baseHref,url){return baseHref.length>0&&url.startsWith(baseHref)?url.substring(baseHref.length):url}function stripIndexHtml(url){return/\/index.html$/g.test(url)?url.substring(0,url.length-11):url}function stripTrailingSlash(url){return/\/$/g.test(url)&&(url=url.substring(0,url.length-1)),url}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},location_strategy_1=$__require("165"),async_1=$__require("41"),core_1=$__require("13"),Location=function(){function Location(platformStrategy){var _this=this;this.platformStrategy=platformStrategy,this._subject=new async_1.EventEmitter;var browserBaseHref=this.platformStrategy.getBaseHref();this._baseHref=stripTrailingSlash(stripIndexHtml(browserBaseHref)),this.platformStrategy.onPopState(function(ev){async_1.ObservableWrapper.callEmit(_this._subject,{url:_this.path(),pop:!0,type:ev.type})})}return Location.prototype.path=function(){return this.normalize(this.platformStrategy.path())},Location.prototype.normalize=function(url){return stripTrailingSlash(_stripBaseHref(this._baseHref,stripIndexHtml(url)))},Location.prototype.prepareExternalUrl=function(url){return url.length>0&&!url.startsWith("/")&&(url="/"+url),this.platformStrategy.prepareExternalUrl(url)},Location.prototype.go=function(path,query){void 0===query&&(query=""),this.platformStrategy.pushState(null,"",path,query)},Location.prototype.replaceState=function(path,query){void 0===query&&(query=""),this.platformStrategy.replaceState(null,"",path,query)},Location.prototype.forward=function(){this.platformStrategy.forward()},Location.prototype.back=function(){this.platformStrategy.back()},Location.prototype.subscribe=function(onNext,onThrow,onReturn){return void 0===onThrow&&(onThrow=null),void 0===onReturn&&(onReturn=null),async_1.ObservableWrapper.subscribe(this._subject,onNext,onThrow,onReturn)},Location=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[location_strategy_1.LocationStrategy])],Location)}();return exports.Location=Location,module.exports}),$__System.registerDynamic("178",["165","16a","15e","16b","163","6","13","e","3"],!0,function($__require,exports,module){"use strict";function routerFactory(registry,location,primaryComponent,appRef){var rootRouter=new router_1.RootRouter(registry,location,primaryComponent);return appRef.registerDisposeListener(function(){return rootRouter.dispose()}),rootRouter}function routerPrimaryComponentFactory(app){if(0==app.componentTypes.length)throw new exceptions_1.BaseException("Bootstrap at least one component before injecting Router.");return app.componentTypes[0]}var location_strategy_1=($__require("3"),$__require("165")),path_location_strategy_1=$__require("16a"),router_1=$__require("15e"),route_registry_1=$__require("16b"),location_1=$__require("163"),lang_1=$__require("6"),core_1=$__require("13"),exceptions_1=$__require("e");return exports.ROUTER_PROVIDERS_COMMON=lang_1.CONST_EXPR([route_registry_1.RouteRegistry,lang_1.CONST_EXPR(new core_1.Provider(location_strategy_1.LocationStrategy,{useClass:path_location_strategy_1.PathLocationStrategy})),location_1.Location,lang_1.CONST_EXPR(new core_1.Provider(router_1.Router,{useFactory:routerFactory,deps:lang_1.CONST_EXPR([route_registry_1.RouteRegistry,location_1.Location,route_registry_1.ROUTER_PRIMARY_COMPONENT,core_1.ApplicationRef])})),lang_1.CONST_EXPR(new core_1.Provider(route_registry_1.ROUTER_PRIMARY_COMPONENT,{useFactory:routerPrimaryComponentFactory,deps:lang_1.CONST_EXPR([core_1.ApplicationRef])}))]),module.exports}),$__System.registerDynamic("9",["6","3"],!0,function($__require,exports,module){"use strict";function setRootDomAdapter(adapter){lang_1.isBlank(exports.DOM)&&(exports.DOM=adapter)}var lang_1=($__require("3"),$__require("6"));exports.DOM=null,exports.setRootDomAdapter=setRootDomAdapter;var DomAdapter=function(){function DomAdapter(){}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}();return exports.DomAdapter=DomAdapter,module.exports}),$__System.registerDynamic("179",["13","166","9","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("13"),platform_location_1=$__require("166"),dom_adapter_1=$__require("9"),BrowserPlatformLocation=function(_super){function BrowserPlatformLocation(){_super.call(this),this._init()}return __extends(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this._location=dom_adapter_1.DOM.getLocation(),this._history=dom_adapter_1.DOM.getHistory()},Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return dom_adapter_1.DOM.getBaseHref()},BrowserPlatformLocation.prototype.onPopState=function(fn){dom_adapter_1.DOM.getGlobalEventTarget("window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){dom_adapter_1.DOM.getGlobalEventTarget("window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname},set:function(newPath){this._location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){this._history.pushState(state,title,url)},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){this._history.replaceState(state,title,url)},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],BrowserPlatformLocation)}(platform_location_1.PlatformLocation);return exports.BrowserPlatformLocation=BrowserPlatformLocation,module.exports}),$__System.registerDynamic("166",["3"],!0,function($__require,exports,module){"use strict";var PlatformLocation=($__require("3"),function(){function PlatformLocation(){}return PlatformLocation}());return exports.PlatformLocation=PlatformLocation,module.exports}),$__System.registerDynamic("17a",["178","13","6","179","166","3"],!0,function($__require,exports,module){"use strict";var router_providers_common_1=($__require("3"),$__require("178")),core_1=$__require("13"),lang_1=$__require("6"),browser_platform_location_1=$__require("179"),platform_location_1=$__require("166");return exports.ROUTER_PROVIDERS=lang_1.CONST_EXPR([router_providers_common_1.ROUTER_PROVIDERS_COMMON,lang_1.CONST_EXPR(new core_1.Provider(platform_location_1.PlatformLocation,{useClass:browser_platform_location_1.BrowserPlatformLocation}))]),exports.ROUTER_BINDINGS=exports.ROUTER_PROVIDERS,module.exports}),$__System.registerDynamic("6c",["15e","15d","162","15f","166","16b","165","164","16a","163","176","167","160","13","178","17a","6","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var router_1=($__require("3"),$__require("15e"));exports.Router=router_1.Router;var router_outlet_1=$__require("15d");exports.RouterOutlet=router_outlet_1.RouterOutlet;var router_link_1=$__require("162");exports.RouterLink=router_link_1.RouterLink;var instruction_1=$__require("15f");exports.RouteParams=instruction_1.RouteParams,exports.RouteData=instruction_1.RouteData;var platform_location_1=$__require("166");exports.PlatformLocation=platform_location_1.PlatformLocation;var route_registry_1=$__require("16b");exports.RouteRegistry=route_registry_1.RouteRegistry,exports.ROUTER_PRIMARY_COMPONENT=route_registry_1.ROUTER_PRIMARY_COMPONENT;var location_strategy_1=$__require("165");exports.LocationStrategy=location_strategy_1.LocationStrategy,exports.APP_BASE_HREF=location_strategy_1.APP_BASE_HREF;var hash_location_strategy_1=$__require("164");exports.HashLocationStrategy=hash_location_strategy_1.HashLocationStrategy;var path_location_strategy_1=$__require("16a");exports.PathLocationStrategy=path_location_strategy_1.PathLocationStrategy;var location_1=$__require("163");exports.Location=location_1.Location,__export($__require("176")),__export($__require("167"));var lifecycle_annotations_1=$__require("160");exports.CanActivate=lifecycle_annotations_1.CanActivate;var instruction_2=$__require("15f");exports.Instruction=instruction_2.Instruction,exports.ComponentInstruction=instruction_2.ComponentInstruction;var core_1=$__require("13");exports.OpaqueToken=core_1.OpaqueToken;var router_providers_common_1=$__require("178");exports.ROUTER_PROVIDERS_COMMON=router_providers_common_1.ROUTER_PROVIDERS_COMMON;var router_providers_1=$__require("17a");exports.ROUTER_PROVIDERS=router_providers_1.ROUTER_PROVIDERS,exports.ROUTER_BINDINGS=router_providers_1.ROUTER_BINDINGS;var router_outlet_2=$__require("15d"),router_link_2=$__require("162"),lang_1=$__require("6");return exports.ROUTER_DIRECTIVES=lang_1.CONST_EXPR([router_outlet_2.RouterOutlet,router_link_2.RouterLink]),module.exports}),function(){var define=$__System.amdDefine;!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}function Data(){this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;do scale=scale||".5",initialInUnit/=scale,jQuery.style(elem,prop,initialInUnit+unit);while(scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations)}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}function getAll(context,tag){var ret="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag||"*"):"undefined"!=typeof context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;l>i;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&jQuery.inArray(elem,selection)>-1)ignored&&ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:void 0,""!==ret&&void 0!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),computed&&!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in emptyStyle)return name}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(document.msFullscreenElement&&window.top!==window&&elem.getClientRects().length&&(val=Math.round(100*elem.getBoundingClientRect()[name])),0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=dataPriv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay="none"===display?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,"inline"===checkDisplay&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},version="2.2.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={
jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0},isPlainObject:function(obj){return"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)?!1:obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;length>i&&callback.call(obj[i],i,obj[i])!==!1;i++);else for(i in obj)if(callback.call(obj[i],i,obj[i])===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:Date.now,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if("object"!==context.nodeName.toLowerCase()){for((nid=context.getAttribute("id"))?nid=nid.replace(rescape,"\\$&"):context.setAttribute("id",nid=expando),groups=tokenize(selector),i=groups.length,nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";i--;)groups[i]=nidselect+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={}),(oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;len>i;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=document.documentElement,documentIsHTML=!isXML(document),(parent=document.defaultView)&&parent.top!==parent&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return"undefined"!=typeof context.getElementsByClassName&&documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(node=parent,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(node=elem,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex),diff===!1)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&(outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),uniqueCache[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);
},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g;jQuery.Callbacks=function(options){options="string"==typeof options?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)list[firingIndex].apply(memory[0],memory[1])===!1&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==jQuery.type(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firingIndex>=index&&firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=args||[],args=[context,args.slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed))),readyList.promise(obj)},jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;len>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};Data.uid=1,Data.prototype={register:function(owner,initial){var value=initial||{};return owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0}),owner[this.expando]},cache:function(owner){if(!acceptData(owner))return{};var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[data]=value;else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(void 0!==cache){if(void 0===key)this.register(owner);else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}(void 0===key||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));dataPriv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data,camelKey;if(elem&&void 0===value){if(data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase()),void 0!==data)return data;if(camelKey=jQuery.camelCase(key),data=dataUser.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else camelKey=jQuery.camelCase(key),this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value),key.indexOf("-")>-1&&void 0!==data&&dataUser.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=dataPriv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+;/;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return"undefined"!=typeof jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.rnamespace||event.rnamespace.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&("click"!==event.type||isNaN(event.button)||event.button<1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==safeActiveElement()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{
for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret},documentElement=document.documentElement;!function(){function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",div.innerHTML="",documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal="2px"===divStyle.marginLeft,boxSizingReliableVal="4px"===divStyle.width,div.style.marginRight="50%",pixelMarginRightVal="4px"===divStyle.marginRight,documentElement.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return null==boxSizingReliableVal&&computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return null==boxSizingReliableVal&&computeStyleTests(),reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",documentElement.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight),documentElement.removeChild(container),div.removeChild(marginDiv),ret}}))}();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value===value&&("number"===type&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles);return subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(elem,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){return computed?(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px":void 0}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0)},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.match(rnotwhite);for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return"undefined"==typeof elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret))},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>-1;)cur=cur.replace(" "+clazz+" "," ");finalValue=jQuery.trim(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if("string"===type)for(i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(void 0===value||"boolean"===type)&&(className=getClass(this),className&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||value===!1?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){return jQuery.trim(elem.value)}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],(option.selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>-1&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem),e.isDefaultPrevented()&&event.preventDefault()}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),2===state)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,
type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)},jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;return support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}:void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),support.createHTMLDocument=function(){var body=document.implementation.createHTMLDocument("").body;return body.innerHTML="<form></form><form></form>",2===body.childNodes.length}(),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||(support.createHTMLDocument?document.implementation.createHTMLDocument(""):document);var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(self,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(box=elem.getBoundingClientRect(),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val)},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&(define("6d",[],function(){return jQuery}),define("jquery",["6d"],function(m){return m}));var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery})}(),$__System.registerDynamic("6a",[],!1,function($__require,$__exports,$__module){var _retrieveGlobal=$__System.get("@@global-helpers").prepareGlobal($__module.id,null,null);return function(){!function($,window,document,undefined){$.site=$.fn.site=function(parameters){var module,returnedValue,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),settings=$.isPlainObject(parameters)?$.extend(!0,{},$.site.settings,parameters):$.extend({},$.site.settings),namespace=settings.namespace,error=settings.error,moduleNamespace="module-"+namespace,$document=$(document),$module=$document,element=this,instance=$module.data(moduleNamespace);return module={initialize:function(){module.instantiate()},instantiate:function(){module.verbose("Storing instance of site",module),instance=module,$module.data(moduleNamespace,module)},normalize:function(){module.fix.console(),module.fix.requestAnimationFrame()},fix:{console:function(){module.debug("Normalizing window.console"),(console===undefined||console.log===undefined)&&(module.verbose("Console not available, normalizing events"),module.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(module.verbose("Console group not available, normalizing events"),window.console.group=function(){},window.console.groupEnd=function(){},window.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(module.verbose("Mark timeline not available, normalizing events"),window.console.markTimeline=function(){})},consoleClear:function(){module.debug("Disabling programmatic console clearing"),window.console.clear=function(){}},requestAnimationFrame:function(){module.debug("Normalizing requestAnimationFrame"),window.requestAnimationFrame===undefined&&(module.debug("RequestAnimationFrame not available, normalizing event"),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)})}},moduleExists:function(name){return $.fn[name]!==undefined&&$.fn[name].settings!==undefined},enabled:{modules:function(modules){var enabledModules=[];return modules=modules||settings.modules,$.each(modules,function(index,name){module.moduleExists(name)&&enabledModules.push(name)}),enabledModules}},disabled:{modules:function(modules){var disabledModules=[];return modules=modules||settings.modules,$.each(modules,function(index,name){module.moduleExists(name)||disabledModules.push(name)}),disabledModules}},change:{setting:function(setting,value,modules,modifyExisting){modules="string"==typeof modules?"all"===modules?settings.modules:[modules]:modules||settings.modules,modifyExisting=modifyExisting!==undefined?modifyExisting:!0,$.each(modules,function(index,name){var $existingModules,namespace=module.moduleExists(name)?$.fn[name].settings.namespace||!1:!0;module.moduleExists(name)&&(module.verbose("Changing default setting",setting,value,name),$.fn[name].settings[setting]=value,modifyExisting&&namespace&&($existingModules=$(":data(module-"+namespace+")"),$existingModules.length>0&&(module.verbose("Modifying existing settings",$existingModules),$existingModules[name]("setting",setting,value))))})},settings:function(newSettings,modules,modifyExisting){modules="string"==typeof modules?[modules]:modules||settings.modules,modifyExisting=modifyExisting!==undefined?modifyExisting:!0,$.each(modules,function(index,name){var $existingModules;module.moduleExists(name)&&(module.verbose("Changing default setting",newSettings,name),$.extend(!0,$.fn[name].settings,newSettings),modifyExisting&&namespace&&($existingModules=$(":data(module-"+namespace+")"),$existingModules.length>0&&(module.verbose("Modifying existing settings",$existingModules),$existingModules[name]("setting",newSettings))))})}},enable:{console:function(){module.console(!0)},debug:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Enabling debug for modules",modules),module.change.setting("debug",!0,modules,modifyExisting)},verbose:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Enabling verbose debug for modules",modules),module.change.setting("verbose",!0,modules,modifyExisting)}},disable:{console:function(){module.console(!1)},debug:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Disabling debug for modules",modules),module.change.setting("debug",!1,modules,modifyExisting)},verbose:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Disabling verbose debug for modules",modules),module.change.setting("verbose",!1,modules,modifyExisting)}},console:function(enable){if(enable){if(instance.cache.console===undefined)return void module.error(error.console);module.debug("Restoring console function"),window.console=instance.cache.console}else module.debug("Disabling console function"),instance.cache.console=window.console,window.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){module.verbose("Destroying previous site for",$module),$module.removeData(moduleNamespace)},cache:{},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Element:element,Name:message[0],Arguments:[].slice.call(message,1)||"","Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&module.destroy(),module.initialize()),returnedValue!==undefined?returnedValue:this},$.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.form=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],legacyParameters=arguments[1],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $field,$group,$message,$prompt,$submit,$clear,$reset,settings,validation,metadata,selector,className,error,namespace,moduleNamespace,eventNamespace,instance,module,$module=$(this),element=this,formErrors=[],keyHeldDown=!1;module={initialize:function(){module.get.settings(),methodInvoked?(instance===undefined&&module.instantiate(),module.invoke(query)):(module.verbose("Initializing form validation",$module,settings),module.bindEvents(),module.set.defaults(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous module",instance),module.removeEvents(),$module.removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$field=$module.find(selector.field),$group=$module.find(selector.group),$message=$module.find(selector.message),$prompt=$module.find(selector.prompt),$submit=$module.find(selector.submit),$clear=$module.find(selector.clear),$reset=$module.find(selector.reset)},submit:function(){module.verbose("Submitting form",$module),$module.submit()},attachEvents:function(selector,action){action=action||"submit",$(selector).on("click"+eventNamespace,function(event){module[action](),event.preventDefault()})},bindEvents:function(){module.verbose("Attaching form events"),$module.on("submit"+eventNamespace,module.validate.form).on("blur"+eventNamespace,selector.field,module.event.field.blur).on("click"+eventNamespace,selector.submit,module.submit).on("click"+eventNamespace,selector.reset,module.reset).on("click"+eventNamespace,selector.clear,module.clear),settings.keyboardShortcuts&&$module.on("keydown"+eventNamespace,selector.field,module.event.field.keydown),$field.each(function(){var $input=$(this),type=$input.prop("type"),inputEvent=module.get.changeEvent(type,$input);$(this).on(inputEvent+eventNamespace,module.event.field.change)})},clear:function(){$field.each(function(){var $field=$(this),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue)||"",isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isErrored=$fieldGroup.hasClass(className.error);isErrored&&(module.verbose("Resetting error on field",$fieldGroup),$fieldGroup.removeClass(className.error),$prompt.remove()),isDropdown?(module.verbose("Resetting dropdown value",$element,defaultValue),$element.dropdown("clear")):isCheckbox?$field.prop("checked",!1):(module.verbose("Resetting field value",$field,defaultValue),$field.val(""))})},reset:function(){$field.each(function(){var $field=$(this),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue),isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isErrored=$fieldGroup.hasClass(className.error);defaultValue!==undefined&&(isErrored&&(module.verbose("Resetting error on field",$fieldGroup),$fieldGroup.removeClass(className.error),$prompt.remove()),isDropdown?(module.verbose("Resetting dropdown value",$element,defaultValue),$element.dropdown("restore defaults")):isCheckbox?(module.verbose("Resetting checkbox value",$element,defaultValue),$field.prop("checked",defaultValue)):(module.verbose("Resetting field value",$field,defaultValue),$field.val(defaultValue)))})},is:{bracketedRule:function(rule){return rule.type&&rule.type.match(settings.regExp.bracket)},valid:function(){var allValid=!0;return module.verbose("Checking if form is valid"),$.each(validation,function(fieldName,field){module.validate.field(field,fieldName)||(allValid=!1)}),allValid}},removeEvents:function(){$module.off(eventNamespace),$field.off(eventNamespace),$submit.off(eventNamespace),$field.off(eventNamespace)},event:{field:{keydown:function(event){var $field=$(this),key=event.which,keyCode={enter:13,escape:27};key==keyCode.escape&&(module.verbose("Escape key pressed blurring field"),$field.blur()),!event.ctrlKey&&key==keyCode.enter&&$field.is(selector.input)&&$field.not(selector.checkbox).length>0&&(keyHeldDown||($field.one("keyup"+eventNamespace,module.event.field.keyup),module.submit(),module.debug("Enter pressed on input submitting form")),keyHeldDown=!0)},keyup:function(){keyHeldDown=!1},blur:function(event){var $field=$(this),$fieldGroup=$field.closest($group),validationRules=module.get.validation($field);$fieldGroup.hasClass(className.error)?(module.debug("Revalidating field",$field,validationRules),module.validate.form.call(module,event,!0)):("blur"==settings.on||"change"==settings.on)&&validationRules&&module.validate.field(validationRules)},change:function(event){var $field=$(this),$fieldGroup=$field.closest($group);("change"==settings.on||$fieldGroup.hasClass(className.error)&&settings.revalidate)&&(clearTimeout(module.timer),module.timer=setTimeout(function(){module.debug("Revalidating field",$field,module.get.validation($field)),module.validate.form.call(module,event,!0)},settings.delay))}}},get:{ancillaryValue:function(rule){return rule.type&&module.is.bracketedRule(rule)?rule.type.match(settings.regExp.bracket)[1]+"":!1},ruleName:function(rule){return module.is.bracketedRule(rule)?rule.type.replace(rule.type.match(settings.regExp.bracket)[0],""):rule.type},changeEvent:function(type,$input){return"checkbox"==type||"radio"==type||"hidden"==type||$input.is("select")?"change":module.get.inputEvent()},inputEvent:function(){return document.createElement("input").oninput!==undefined?"input":document.createElement("input").onpropertychange!==undefined?"propertychange":"keyup"},prompt:function(rule,field){var $label,$field,name,ruleName=module.get.ruleName(rule),ancillary=module.get.ancillaryValue(rule),prompt=rule.prompt||settings.prompt[ruleName]||settings.text.unspecifiedRule,requiresValue=-1!==prompt.search("{value}"),requiresName=-1!==prompt.search("{name}");return(requiresName||requiresValue)&&($field=module.get.field(field.identifier)),requiresValue&&(prompt=prompt.replace("{value}",$field.val())),requiresName&&($label=$field.closest(selector.group).find("label").eq(0),name=1==$label.size()?$label.text():$field.prop("placeholder")||settings.text.unspecifiedField,prompt=prompt.replace("{name}",name)),prompt=prompt.replace("{identifier}",field.identifier),prompt=prompt.replace("{ruleValue}",ancillary),rule.prompt||module.verbose("Using default validation prompt for type",prompt,ruleName),prompt},settings:function(){if($.isPlainObject(parameters)){var ruleKeys,keys=Object.keys(parameters),isLegacySettings=keys.length>0?parameters[keys[0]].identifier!==undefined&&parameters[keys[0]].rules!==undefined:!1;isLegacySettings?(settings=$.extend(!0,{},$.fn.form.settings,legacyParameters),validation=$.extend({},$.fn.form.settings.defaults,parameters),module.error(settings.error.oldSyntax,element),module.verbose("Extending settings from legacy parameters",validation,settings)):(parameters.fields&&(ruleKeys=Object.keys(parameters.fields),("string"==typeof parameters.fields[ruleKeys[0]]||$.isArray(parameters.fields[ruleKeys[0]]))&&$.each(parameters.fields,function(name,rules){"string"==typeof rules&&(rules=[rules]),parameters.fields[name]={rules:[]},$.each(rules,function(index,rule){parameters.fields[name].rules.push({type:rule})})})),settings=$.extend(!0,{},$.fn.form.settings,parameters),validation=$.extend({},$.fn.form.settings.defaults,settings.fields),module.verbose("Extending settings",validation,settings))}else settings=$.fn.form.settings,validation=$.fn.form.settings.defaults,module.verbose("Using default form validation",validation,settings);namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,className=settings.className,error=settings.error,moduleNamespace="module-"+namespace,eventNamespace="."+namespace,instance=$module.data(moduleNamespace),module.refresh()},field:function(identifier){return module.verbose("Finding field with identifier",identifier),$field.filter("#"+identifier).length>0?$field.filter("#"+identifier):$field.filter('[name="'+identifier+'"]').length>0?$field.filter('[name="'+identifier+'"]'):$field.filter('[name="'+identifier+'[]"]').length>0?$field.filter('[name="'+identifier+'[]"]'):$field.filter("[data-"+metadata.validate+'="'+identifier+'"]').length>0?$field.filter("[data-"+metadata.validate+'="'+identifier+'"]'):$("<input/>")},fields:function(fields){var $fields=$();return $.each(fields,function(index,name){$fields=$fields.add(module.get.field(name))}),$fields},validation:function($field){var fieldValidation,identifier;return validation?($.each(validation,function(fieldName,field){identifier=field.identifier||fieldName,module.get.field(identifier)[0]==$field[0]&&(field.identifier=identifier,fieldValidation=field)}),fieldValidation||!1):!1},value:function(field){var results,fields=[];return fields.push(field),results=module.get.values.call(element,fields),results[field]},values:function(fields){var $fields=$.isArray(fields)?module.get.fields(fields):$field,values={};return $fields.each(function(index,field){var $field=$(field),name=($field.prop("type"),$field.prop("name")),value=$field.val(),isCheckbox=$field.is(selector.checkbox),isRadio=$field.is(selector.radio),isMultiple=-1!==name.indexOf("[]"),isChecked=isCheckbox?$field.is(":checked"):!1;name&&(isMultiple?(name=name.replace("[]",""),values[name]||(values[name]=[]),isCheckbox?isChecked?values[name].push(value||!0):values[name].push(!1):values[name].push(value)):isRadio?isChecked&&(values[name]=value):isCheckbox?isChecked?values[name]=value||!0:values[name]=!1:values[name]=value)}),values}},has:{field:function(identifier){return module.verbose("Checking for existence of a field with identifier",identifier),"string"!=typeof identifier&&module.error(error.identifier,identifier),$field.filter("#"+identifier).length>0?!0:$field.filter('[name="'+identifier+'"]').length>0?!0:$field.filter("[data-"+metadata.validate+'="'+identifier+'"]').length>0?!0:!1;
}},add:{prompt:function(identifier,errors){var $field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt),promptExists=0!==$prompt.length;errors="string"==typeof errors?[errors]:errors,module.verbose("Adding field error state",identifier),$fieldGroup.addClass(className.error),settings.inline&&(promptExists||($prompt=settings.templates.prompt(errors),$prompt.appendTo($fieldGroup)),$prompt.html(errors[0]),promptExists?module.verbose("Inline errors are disabled, no inline error added",identifier):settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.verbose("Displaying error with css transition",settings.transition),$prompt.transition(settings.transition+" in",settings.duration)):(module.verbose("Displaying error with fallback javascript animation"),$prompt.fadeIn(settings.duration)))},errors:function(errors){module.debug("Adding form error messages",errors),module.set.error(),$message.html(settings.templates.error(errors))}},remove:{prompt:function(identifier){var $field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt);$fieldGroup.removeClass(className.error),settings.inline&&$prompt.is(":visible")&&(module.verbose("Removing prompt for field",identifier),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?$prompt.transition(settings.transition+" out",settings.duration,function(){$prompt.remove()}):$prompt.fadeOut(settings.duration,function(){$prompt.remove()}))}},set:{success:function(){$module.removeClass(className.error).addClass(className.success)},defaults:function(){$field.each(function(){var $field=$(this),isCheckbox=$field.filter(selector.checkbox).length>0,value=isCheckbox?$field.is(":checked"):$field.val();$field.data(metadata.defaultValue,value)})},error:function(){$module.removeClass(className.success).addClass(className.error)},value:function(field,value){var fields={};return fields[field]=value,module.set.values.call(element,fields)},values:function(fields){$.isEmptyObject(fields)||$.each(fields,function(key,value){var $multipleField,$field=module.get.field(key),$element=$field.parent(),isMultiple=$.isArray(value),isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isRadio=$field.is(selector.radio)&&isCheckbox,fieldExists=$field.length>0;fieldExists&&(isMultiple&&isCheckbox?(module.verbose("Selecting multiple",value,$field),$element.checkbox("uncheck"),$.each(value,function(index,value){$multipleField=$field.filter('[value="'+value+'"]'),$element=$multipleField.parent(),$multipleField.length>0&&$element.checkbox("check")})):isRadio?(module.verbose("Selecting radio value",value,$field),$field.filter('[value="'+value+'"]').parent(selector.uiCheckbox).checkbox("check")):isCheckbox?(module.verbose("Setting checkbox value",value,$element),value===!0?$element.checkbox("check"):$element.checkbox("uncheck")):isDropdown?(module.verbose("Setting dropdown value",value,$element),$element.dropdown("set selected",value)):(module.verbose("Setting field value",value,$field),$field.val(value)))})}},validate:{form:function(event,ignoreCallbacks){var values=module.get.values();if(keyHeldDown)return!1;if(formErrors=[],module.is.valid()){if(module.debug("Form has no validation errors, submitting"),module.set.success(),ignoreCallbacks!==!0)return settings.onSuccess.call(element,event,values)}else if(module.debug("Form has errors"),module.set.error(),settings.inline||module.add.errors(formErrors),$module.data("moduleApi")!==undefined&&event.stopImmediatePropagation(),ignoreCallbacks!==!0)return settings.onFailure.call(element,formErrors,values)},field:function(field,fieldName){var identifier=field.identifier||fieldName,$field=module.get.field(identifier),fieldValid=!0,fieldErrors=[];return field.identifier||(module.debug("Using field name as identifier",identifier),field.identifier=identifier),$field.prop("disabled")?(module.debug("Field is disabled. Skipping",identifier),fieldValid=!0):field.optional&&""===$.trim($field.val())?(module.debug("Field is optional and empty. Skipping",identifier),fieldValid=!0):field.rules!==undefined&&$.each(field.rules,function(index,rule){module.has.field(identifier)&&!module.validate.rule(field,rule)&&(module.debug("Field is invalid",identifier,rule.type),fieldErrors.push(module.get.prompt(rule,field)),fieldValid=!1)}),fieldValid?(module.remove.prompt(identifier,fieldErrors),settings.onValid.call($field),!0):(formErrors=formErrors.concat(fieldErrors),module.add.prompt(identifier,fieldErrors),settings.onInvalid.call($field,fieldErrors),!1)},rule:function(field,rule){var $field=module.get.field(field.identifier),value=(rule.type,$field.val()),ancillary=module.get.ancillaryValue(rule),ruleName=module.get.ruleName(rule),ruleFunction=settings.rules[ruleName];return $.isFunction(ruleFunction)?(value=value===undefined||""===value||null===value?"":$.trim(value+""),ruleFunction.call($field,value,ancillary)):void module.error(error.noRule,ruleName)}},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},module.initialize()}),returnedValue!==undefined?returnedValue:this},$.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(errors){var html='<ul class="list">';return $.each(errors,function(index,value){html+="<li>"+value+"</li>"}),html+="</ul>",$(html)},prompt:function(errors){return $("<div/>").addClass("ui basic red pointing prompt label").html(errors[0])}},rules:{empty:function(value){return!(value===undefined||""===value||$.isArray(value)&&0===value.length)},checked:function(){return $(this).filter(":checked").length>0},email:function(value){var emailRegExp=new RegExp($.fn.form.settings.regExp.email,"i");return emailRegExp.test(value)},url:function(value){return $.fn.form.settings.regExp.url.test(value)},regExp:function(value,regExp){var flags,regExpParts=regExp.match($.fn.form.settings.regExp.flags);return regExpParts&&(regExp=regExpParts.length>=2?regExpParts[1]:regExp,flags=regExpParts.length>=3?regExpParts[2]:""),value.match(new RegExp(regExp,flags))},integer:function(value,range){var min,max,parts,intRegExp=$.fn.form.settings.regExp.integer;return range&&-1===["",".."].indexOf(range)&&(-1==range.indexOf("..")?intRegExp.test(range)&&(min=max=range-0):(parts=range.split("..",2),intRegExp.test(parts[0])&&(min=parts[0]-0),intRegExp.test(parts[1])&&(max=parts[1]-0))),intRegExp.test(value)&&(min===undefined||value>=min)&&(max===undefined||max>=value)},decimal:function(value){return $.fn.form.settings.regExp.decimal.test(value)},number:function(value){return $.fn.form.settings.regExp.number.test(value)},is:function(value,text){return text="string"==typeof text?text.toLowerCase():text,value="string"==typeof value?value.toLowerCase():value,value==text},isExactly:function(value,text){return value==text},not:function(value,notValue){return value="string"==typeof value?value.toLowerCase():value,notValue="string"==typeof notValue?notValue.toLowerCase():notValue,value!=notValue},notExactly:function(value,notValue){return value!=notValue},contains:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1!==value.search(new RegExp(text,"i"))},containsExactly:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1!==value.search(new RegExp(text))},doesntContain:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1===value.search(new RegExp(text,"i"))},doesntContainExactly:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1===value.search(new RegExp(text))},minLength:function(value,requiredLength){return value!==undefined?value.length>=requiredLength:!1},length:function(value,requiredLength){return value!==undefined?value.length>=requiredLength:!1},exactLength:function(value,requiredLength){return value!==undefined?value.length==requiredLength:!1},maxLength:function(value,maxLength){return value!==undefined?value.length<=maxLength:!1},match:function(value,identifier){var matchingValue;$(this);return $('[data-validate="'+identifier+'"]').length>0?matchingValue=$('[data-validate="'+identifier+'"]').val():$("#"+identifier).length>0?matchingValue=$("#"+identifier).val():$('[name="'+identifier+'"]').length>0?matchingValue=$('[name="'+identifier+'"]').val():$('[name="'+identifier+'[]"]').length>0&&(matchingValue=$('[name="'+identifier+'[]"]')),matchingValue!==undefined?value.toString()==matchingValue.toString():!1},different:function(value,identifier){var matchingValue;$(this);return $('[data-validate="'+identifier+'"]').length>0?matchingValue=$('[data-validate="'+identifier+'"]').val():$("#"+identifier).length>0?matchingValue=$("#"+identifier).val():$('[name="'+identifier+'"]').length>0?matchingValue=$('[name="'+identifier+'"]').val():$('[name="'+identifier+'[]"]').length>0&&(matchingValue=$('[name="'+identifier+'[]"]')),matchingValue!==undefined?value.toString()!==matchingValue.toString():!1},creditCard:function(cardNumber,cardTypes){var unionPay,validation,cards={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},valid={},validCard=!1,requiredTypes="string"==typeof cardTypes?cardTypes.split(","):!1;if("string"==typeof cardNumber&&0!==cardNumber.length){if(requiredTypes&&($.each(requiredTypes,function(index,type){validation=cards[type],validation&&(valid={length:-1!==$.inArray(cardNumber.length,validation.length),pattern:-1!==cardNumber.search(validation.pattern)},valid.length&&valid.pattern&&(validCard=!0))}),!validCard))return!1;if(unionPay={number:-1!==$.inArray(cardNumber.length,cards.unionPay.length),pattern:-1!==cardNumber.search(cards.unionPay.pattern)},unionPay.number&&unionPay.pattern)return!0;for(var length=cardNumber.length,multiple=0,producedValue=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],sum=0;length--;)sum+=producedValue[multiple][parseInt(cardNumber.charAt(length),10)],multiple^=1;return sum%10===0&&sum>0}},minCount:function(value,minCount){return 0==minCount?!0:1==minCount?""!==value:value.split(",").length>=minCount},exactCount:function(value,exactCount){return 0==exactCount?""===value:1==exactCount?""!==value&&-1===value.search(","):value.split(",").length==exactCount},maxCount:function(value,maxCount){return 0==maxCount?!1:1==maxCount?-1===value.search(","):value.split(",").length<=maxCount}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.accordion=function(parameters){var returnedValue,$allModules=$(this),time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.accordion.settings,parameters):$.extend({},$.fn.accordion.settings),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",$module=$(this),$title=$module.find(selector.title),$content=$module.find(selector.content),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing",$module),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.debug("Destroying previous instance",$module),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){$title=$module.find(selector.title),$content=$module.find(selector.content)},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.debug("DOM tree modified, updating selector cache"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},bind:{events:function(){module.debug("Binding delegated events"),$module.on(settings.on+eventNamespace,selector.trigger,module.event.click)}},event:{click:function(){module.toggle.call(this)}},toggle:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=isActive&&!isAnimating,isOpening=!isActive&&isAnimating;module.debug("Toggling visibility of content",$activeTitle),isOpen||isOpening?settings.collapsible?module.close.call($activeTitle):module.debug("Cannot close accordion content collapsing is disabled"):module.open.call($activeTitle)},open:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=isActive||isAnimating;return isOpen?void module.debug("Accordion already open, skipping",$activeContent):(module.debug("Opening accordion content",$activeTitle),settings.onOpening.call($activeContent),settings.exclusive&&module.closeOthers.call($activeTitle),$activeTitle.addClass(className.active),$activeContent.stop(!0,!0).addClass(className.animating),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$activeContent.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$activeContent.children().stop(!0,!0).animate({opacity:1},settings.duration,module.resetOpacity)),void $activeContent.slideDown(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).addClass(className.active),module.reset.display.call(this),settings.onOpen.call(this),settings.onChange.call(this)}))},close:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpening=!isActive&&isAnimating,isClosing=isActive&&isAnimating;!isActive&&!isOpening||isClosing||(module.debug("Closing accordion content",$activeContent),settings.onClosing.call($activeContent),$activeTitle.removeClass(className.active),$activeContent.stop(!0,!0).addClass(className.animating),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$activeContent.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$activeContent.children().stop(!0,!0).animate({opacity:0},settings.duration,module.resetOpacity)),$activeContent.slideUp(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).removeClass(className.active),module.reset.display.call(this),settings.onClose.call(this),settings.onChange.call(this)}))},closeOthers:function(index){var $openTitles,$nestedTitles,$openContents,$activeTitle=index!==undefined?$title.eq(index):$(this).closest(selector.title),$parentTitles=$activeTitle.parents(selector.content).prev(selector.title),$activeAccordion=$activeTitle.closest(selector.accordion),activeSelector=selector.title+"."+className.active+":visible",activeContent=selector.content+"."+className.active+":visible";settings.closeNested?($openTitles=$activeAccordion.find(activeSelector).not($parentTitles),$openContents=$openTitles.next($content)):($openTitles=$activeAccordion.find(activeSelector).not($parentTitles),$nestedTitles=$activeAccordion.find(activeContent).find(activeSelector).not($parentTitles),$openTitles=$openTitles.not($nestedTitles),$openContents=$openTitles.next($content)),$openTitles.length>0&&(module.debug("Exclusive enabled, closing other content",$openTitles),$openTitles.removeClass(className.active),$openContents.removeClass(className.animating).stop(!0,!0),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$openContents.children().transition({animation:"fade out",useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$openContents.children().stop(!0,!0).animate({opacity:0},settings.duration,module.resetOpacity)),$openContents.slideUp(settings.duration,settings.easing,function(){$(this).removeClass(className.active),module.reset.display.call(this)}))},reset:{display:function(){module.verbose("Removing inline display from element",this),$(this).css("display",""),""===$(this).attr("style")&&$(this).attr("style","").removeAttr("style")},opacity:function(){module.verbose("Removing inline opacity from element",this),$(this).css("opacity",""),""===$(this).attr("style")&&$(this).attr("style","").removeAttr("style")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){return module.debug("Changing internal",name,value),value===undefined?module[name]:void($.isPlainObject(name)?$.extend(!0,module,name):module[name]=value)},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.checkbox=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var observer,module,settings=$.extend(!0,{},$.fn.checkbox.settings,parameters),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$label=$(this).children(selector.label),$input=$(this).children(selector.input),input=$input[0],initialLoad=!1,shortcutPressed=!1,instance=$module.data(moduleNamespace),element=this;module={initialize:function(){module.verbose("Initializing checkbox",settings),module.create.label(),module.bind.events(),module.set.tabbable(),module.hide.input(),module.observeChanges(),module.instantiate(),module.setup()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying module"),module.unbind.events(),module.show.input(),$module.removeData(moduleNamespace)},fix:{reference:function(){$module.is(selector.input)&&(module.debug("Behavior called on <input> adjusting invoked element"),$module=$module.closest(selector.checkbox),module.refresh())}},setup:function(){module.set.initialLoad(),module.is.indeterminate()?(module.debug("Initial value is indeterminate"),module.indeterminate()):module.is.checked()?(module.debug("Initial value is checked"),module.check()):(module.debug("Initial value is unchecked"),module.uncheck()),module.remove.initialLoad()},refresh:function(){$label=$module.children(selector.label),$input=$module.children(selector.input),input=$input[0]},hide:{input:function(){module.verbose("Modfying <input> z-index to be unselectable"),$input.addClass(className.hidden)}},show:{input:function(){module.verbose("Modfying <input> z-index to be selectable"),$input.removeClass(className.hidden)}},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.debug("DOM tree modified, updating selector cache"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},attachEvents:function(selector,event){var $element=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$element.length>0?(module.debug("Attaching checkbox events to element",selector,event),$element.on("click"+eventNamespace,event)):module.error(error.notFound)},event:{click:function(event){var $target=$(event.target);return $target.is(selector.input)?void module.verbose("Using default check action on initialized checkbox"):$target.is(selector.link)?void module.debug("Clicking link inside checkbox, skipping toggle"):(module.toggle(),$input.focus(),void event.preventDefault())},keydown:function(event){var key=event.which,keyCode={enter:13,space:32,escape:27};key==keyCode.escape?(module.verbose("Escape key pressed blurring field"),$input.blur(),shortcutPressed=!0):event.ctrlKey||key!=keyCode.space&&key!=keyCode.enter?shortcutPressed=!1:(module.verbose("Enter/space key pressed, toggling checkbox"),module.toggle(),shortcutPressed=!0)},keyup:function(event){shortcutPressed&&event.preventDefault()}},check:function(){module.should.allowCheck()&&(module.debug("Checking checkbox",$input),module.set.checked(),module.should.ignoreCallbacks()||(settings.onChecked.call(input),settings.onChange.call(input)))},uncheck:function(){module.should.allowUncheck()&&(module.debug("Unchecking checkbox"),module.set.unchecked(),module.should.ignoreCallbacks()||(settings.onUnchecked.call(input),settings.onChange.call(input)))},indeterminate:function(){return module.should.allowIndeterminate()?void module.debug("Checkbox is already indeterminate"):(module.debug("Making checkbox indeterminate"),module.set.indeterminate(),void(module.should.ignoreCallbacks()||(settings.onIndeterminate.call(input),settings.onChange.call(input))))},determinate:function(){return module.should.allowDeterminate()?void module.debug("Checkbox is already determinate"):(module.debug("Making checkbox determinate"),module.set.determinate(),void(module.should.ignoreCallbacks()||(settings.onDeterminate.call(input),settings.onChange.call(input))))},enable:function(){return module.is.enabled()?void module.debug("Checkbox is already enabled"):(module.debug("Enabling checkbox"),module.set.enabled(),void settings.onEnable.call(input))},disable:function(){return module.is.disabled()?void module.debug("Checkbox is already disabled"):(module.debug("Disabling checkbox"),
module.set.disabled(),void settings.onDisable.call(input))},get:{radios:function(){var name=module.get.name();return $('input[name="'+name+'"]').closest(selector.checkbox)},otherRadios:function(){return module.get.radios().not($module)},name:function(){return $input.attr("name")}},is:{initialLoad:function(){return initialLoad},radio:function(){return $input.hasClass(className.radio)||"radio"==$input.attr("type")},indeterminate:function(){return $input.prop("indeterminate")!==undefined&&$input.prop("indeterminate")},checked:function(){return $input.prop("checked")!==undefined&&$input.prop("checked")},disabled:function(){return $input.prop("disabled")!==undefined&&$input.prop("disabled")},enabled:function(){return!module.is.disabled()},determinate:function(){return!module.is.indeterminate()},unchecked:function(){return!module.is.checked()}},should:{allowCheck:function(){return module.is.determinate()&&module.is.checked()&&!module.should.forceCallbacks()?(module.debug("Should not allow check, checkbox is already checked"),!1):settings.beforeChecked.apply(input)===!1?(module.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return module.is.determinate()&&module.is.unchecked()&&!module.should.forceCallbacks()?(module.debug("Should not allow uncheck, checkbox is already unchecked"),!1):settings.beforeUnchecked.apply(input)===!1?(module.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return module.is.indeterminate()&&!module.should.forceCallbacks()?(module.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):settings.beforeIndeterminate.apply(input)===!1?(module.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return module.is.determinate()&&!module.should.forceCallbacks()?(module.debug("Should not allow determinate, checkbox is already determinate"),!1):settings.beforeDeterminate.apply(input)===!1?(module.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return module.is.initialLoad()&&settings.fireOnInit},ignoreCallbacks:function(){return initialLoad&&!settings.fireOnInit}},can:{change:function(){return!($module.hasClass(className.disabled)||$module.hasClass(className.readOnly)||$input.prop("disabled")||$input.prop("readonly"))},uncheck:function(){return"boolean"==typeof settings.uncheckable?settings.uncheckable:!module.is.radio()}},set:{initialLoad:function(){initialLoad=!0},checked:function(){return module.verbose("Setting class to checked"),$module.removeClass(className.indeterminate).addClass(className.checked),module.is.radio()&&module.uncheckOthers(),!module.is.indeterminate()&&module.is.checked()?void module.debug("Input is already checked, skipping input property change"):(module.verbose("Setting state to checked",input),$input.prop("indeterminate",!1).prop("checked",!0),void module.trigger.change())},unchecked:function(){return module.verbose("Removing checked class"),$module.removeClass(className.indeterminate).removeClass(className.checked),!module.is.indeterminate()&&module.is.unchecked()?void module.debug("Input is already unchecked"):(module.debug("Setting state to unchecked"),$input.prop("indeterminate",!1).prop("checked",!1),void module.trigger.change())},indeterminate:function(){return module.verbose("Setting class to indeterminate"),$module.addClass(className.indeterminate),module.is.indeterminate()?void module.debug("Input is already indeterminate, skipping input property change"):(module.debug("Setting state to indeterminate"),$input.prop("indeterminate",!0),void module.trigger.change())},determinate:function(){return module.verbose("Removing indeterminate class"),$module.removeClass(className.indeterminate),module.is.determinate()?void module.debug("Input is already determinate, skipping input property change"):(module.debug("Setting state to determinate"),void $input.prop("indeterminate",!1))},disabled:function(){return module.verbose("Setting class to disabled"),$module.addClass(className.disabled),module.is.disabled()?void module.debug("Input is already disabled, skipping input property change"):(module.debug("Setting state to disabled"),$input.prop("disabled","disabled"),void module.trigger.change())},enabled:function(){return module.verbose("Removing disabled class"),$module.removeClass(className.disabled),module.is.enabled()?void module.debug("Input is already enabled, skipping input property change"):(module.debug("Setting state to enabled"),$input.prop("disabled",!1),void module.trigger.change())},tabbable:function(){module.verbose("Adding tabindex to checkbox"),$input.attr("tabindex")===undefined&&$input.attr("tabindex",0)}},remove:{initialLoad:function(){initialLoad=!1}},trigger:{change:function(){var events=document.createEvent("HTMLEvents"),inputElement=$input[0];inputElement&&(module.verbose("Triggering native change event"),events.initEvent("change",!1,!0),inputElement.dispatchEvent(events))}},create:{label:function(){$input.prevAll(selector.label).length>0?($input.prev(selector.label).detach().insertAfter($input),module.debug("Moving existing label",$label)):module.has.label()||($label=$("<label>").insertAfter($input),module.debug("Creating label",$label))}},has:{label:function(){return $label.length>0}},bind:{events:function(){module.verbose("Attaching checkbox events"),$module.on("click"+eventNamespace,module.event.click).on("keydown"+eventNamespace,selector.input,module.event.keydown).on("keyup"+eventNamespace,selector.input,module.event.keyup)}},unbind:{events:function(){module.debug("Removing events"),$module.off(eventNamespace)}},uncheckOthers:function(){var $radios=module.get.otherRadios();module.debug("Unchecking other radios",$radios),$radios.removeClass(className.checked)},toggle:function(){return module.can.change()?void(module.is.indeterminate()||module.is.unchecked()?(module.debug("Currently unchecked"),module.check()):module.is.checked()&&module.can.uncheck()&&(module.debug("Currently checked"),module.uncheck())):void(module.is.radio()||module.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.dimmer=function(parameters){var returnedValue,$allModules=$(this),time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $dimmer,$dimmable,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dimmer.settings,parameters):$.extend({},$.fn.dimmer.settings),selector=settings.selector,namespace=settings.namespace,className=settings.className,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",clickEvent="ontouchstart"in document.documentElement?"touchstart":"click",$module=$(this),element=this,instance=$module.data(moduleNamespace);module={preinitialize:function(){module.is.dimmer()?($dimmable=$module.parent(),$dimmer=$module):($dimmable=$module,$dimmer=module.has.dimmer()?settings.dimmerName?$dimmable.find(selector.dimmer).filter("."+settings.dimmerName):$dimmable.find(selector.dimmer):module.create())},initialize:function(){module.debug("Initializing dimmer",settings),module.bind.events(),module.set.dimmable(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module",$dimmer),module.unbind.events(),module.remove.variation(),$dimmable.off(eventNamespace)},bind:{events:function(){"hover"==settings.on?$dimmable.on("mouseenter"+eventNamespace,module.show).on("mouseleave"+eventNamespace,module.hide):"click"==settings.on&&$dimmable.on(clickEvent+eventNamespace,module.toggle),module.is.page()&&(module.debug("Setting as a page dimmer",$dimmable),module.set.pageDimmer()),module.is.closable()&&(module.verbose("Adding dimmer close event",$dimmer),$dimmable.on(clickEvent+eventNamespace,selector.dimmer,module.event.click))}},unbind:{events:function(){$module.removeData(moduleNamespace)}},event:{click:function(event){module.verbose("Determining if event occured on dimmer",event),(0===$dimmer.find(event.target).length||$(event.target).is(selector.content))&&(module.hide(),event.stopImmediatePropagation())}},addContent:function(element){var $content=$(element);module.debug("Add content to dimmer",$content),$content.parent()[0]!==$dimmer[0]&&$content.detach().appendTo($dimmer)},create:function(){var $element=$(settings.template.dimmer());return settings.variation&&(module.debug("Creating dimmer with variation",settings.variation),$element.addClass(settings.variation)),settings.dimmerName&&(module.debug("Creating named dimmer",settings.dimmerName),$element.addClass(settings.dimmerName)),$element.appendTo($dimmable),$element},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.debug("Showing dimmer",$dimmer,settings),module.is.dimmed()&&!module.is.animating()||!module.is.enabled()?module.debug("Dimmer is already shown or disabled"):(module.animate.show(callback),settings.onShow.call(element),settings.onChange.call(element))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.dimmed()||module.is.animating()?(module.debug("Hiding dimmer",$dimmer),module.animate.hide(callback),settings.onHide.call(element),settings.onChange.call(element)):module.debug("Dimmer is not visible")},toggle:function(){module.verbose("Toggling dimmer visibility",$dimmer),module.is.dimmed()?module.hide():module.show()},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition("is supported")?("auto"!==settings.opacity&&module.set.opacity(),$dimmer.transition({animation:settings.transition+" in",queue:!1,duration:module.get.duration(),useFailSafe:!0,onStart:function(){module.set.dimmed()},onComplete:function(){module.set.active(),callback()}})):(module.verbose("Showing dimmer animation with javascript"),module.set.dimmed(),"auto"==settings.opacity&&(settings.opacity=.8),$dimmer.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(module.get.duration(),settings.opacity,function(){$dimmer.removeAttr("style"),module.set.active(),callback()}))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition("is supported")?(module.verbose("Hiding dimmer with css"),$dimmer.transition({animation:settings.transition+" out",queue:!1,duration:module.get.duration(),useFailSafe:!0,onStart:function(){module.remove.dimmed()},onComplete:function(){module.remove.active(),callback()}})):(module.verbose("Hiding dimmer with javascript"),module.remove.dimmed(),$dimmer.stop().fadeOut(module.get.duration(),function(){module.remove.active(),$dimmer.removeAttr("style"),callback()}))}},get:{dimmer:function(){return $dimmer},duration:function(){return"object"==typeof settings.duration?module.is.active()?settings.duration.hide:settings.duration.show:settings.duration}},has:{dimmer:function(){return settings.dimmerName?$module.find(selector.dimmer).filter("."+settings.dimmerName).length>0:$module.find(selector.dimmer).length>0}},is:{active:function(){return $dimmer.hasClass(className.active)},animating:function(){return $dimmer.is(":animated")||$dimmer.hasClass(className.animating)},closable:function(){return"auto"==settings.closable?"hover"==settings.on?!1:!0:settings.closable},dimmer:function(){return $module.hasClass(className.dimmer)},dimmable:function(){return $module.hasClass(className.dimmable)},dimmed:function(){return $dimmable.hasClass(className.dimmed)},disabled:function(){return $dimmable.hasClass(className.disabled)},enabled:function(){return!module.is.disabled()},page:function(){return $dimmable.is("body")},pageDimmer:function(){return $dimmer.hasClass(className.pageDimmer)}},can:{show:function(){return!$dimmer.hasClass(className.disabled)}},set:{opacity:function(opacity){var color=$dimmer.css("background-color"),colorArray=color.split(","),isRGBA=colorArray&&4==colorArray.length;opacity=0===settings.opacity?0:settings.opacity||opacity,isRGBA?(colorArray[3]=opacity+")",color=colorArray.join(",")):color="rgba(0, 0, 0, "+opacity+")",module.debug("Setting opacity to",opacity),$dimmer.css("background-color",color)},active:function(){$dimmer.addClass(className.active)},dimmable:function(){$dimmable.addClass(className.dimmable)},dimmed:function(){$dimmable.addClass(className.dimmed)},pageDimmer:function(){$dimmer.addClass(className.pageDimmer)},disabled:function(){$dimmer.addClass(className.disabled)},variation:function(variation){variation=variation||settings.variation,variation&&$dimmer.addClass(variation)}},remove:{active:function(){$dimmer.removeClass(className.active)},dimmed:function(){$dimmable.removeClass(className.dimmed)},disabled:function(){$dimmer.removeClass(className.disabled)},variation:function(variation){variation=variation||settings.variation,variation&&$dimmer.removeClass(variation)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},module.preinitialize(),methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return $("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.dropdown=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),moduleSelector=$allModules.selector||"",hasTouch="ontouchstart"in document.documentElement,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(elementIndex){var initialLoad,pageLostFocus,elementNamespace,id,selectObserver,menuObserver,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dropdown.settings,parameters):$.extend({},$.fn.dropdown.settings),className=settings.className,message=settings.message,fields=settings.fields,keys=settings.keys,metadata=settings.metadata,namespace=settings.namespace,regExp=settings.regExp,selector=settings.selector,error=settings.error,templates=settings.templates,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$text=$module.find(selector.text),$search=$module.find(selector.search),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item),activated=!1,itemActivated=!1,internalChange=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing dropdown",settings),module.is.alreadySetup()?module.setup.reference():(module.setup.layout(),module.refreshData(),module.save.defaults(),module.restore.selected(),module.create.id(),module.bind.events(),module.observeChanges(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of dropdown",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous dropdown",$module),module.remove.tabbable(),$module.off(eventNamespace).removeData(moduleNamespace),$menu.off(eventNamespace),$document.off(elementNamespace),selectObserver&&selectObserver.disconnect(),menuObserver&&menuObserver.disconnect()},observeChanges:function(){"MutationObserver"in window&&(selectObserver=new MutationObserver(function(mutations){module.debug("<select> modified, recreating menu"),module.setup.select()}),menuObserver=new MutationObserver(function(mutations){module.debug("Menu modified, updating selector cache"),module.refresh()}),module.has.input()&&selectObserver.observe($input[0],{childList:!0,subtree:!0}),module.has.menu()&&menuObserver.observe($menu[0],{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",selectObserver,menuObserver))},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)},userChoice:function(values){var $userChoices,$userChoice,html;return(values=values||module.get.userValues())?(values=$.isArray(values)?values:[values],$.each(values,function(index,value){module.get.item(value)===!1&&(html=settings.templates.addition(module.add.variables(message.addResult,value)),$userChoice=$("<div />").html(html).attr("data-"+metadata.value,value).attr("data-"+metadata.text,value).addClass(className.addition).addClass(className.item),$userChoices=$userChoices===undefined?$userChoice:$userChoices.add($userChoice),module.verbose("Creating user choices for value",value,$userChoice))}),$userChoices):!1},userLabels:function(value){var userValues=module.get.userValues();userValues&&(module.debug("Adding user labels",userValues),$.each(userValues,function(index,value){module.verbose("Adding custom user value"),module.add.label(value,value)}))},menu:function(){$menu=$("<div />").addClass(className.menu).appendTo($module)}},search:function(query){query=query!==undefined?query:module.get.query(),module.verbose("Searching for query",query),module.filter(query)},select:{firstUnfiltered:function(){module.verbose("Selecting first non-filtered element"),module.remove.selectedItem(),$item.not(selector.unselectable).eq(0).addClass(className.selected)},nextAvailable:function($selected){$selected=$selected.eq(0);var $nextAvailable=$selected.nextAll(selector.item).not(selector.unselectable).eq(0),$prevAvailable=$selected.prevAll(selector.item).not(selector.unselectable).eq(0),hasNext=$nextAvailable.length>0;hasNext?(module.verbose("Moving selection to",$nextAvailable),$nextAvailable.addClass(className.selected)):(module.verbose("Moving selection to",$prevAvailable),$prevAvailable.addClass(className.selected))}},setup:{api:function(){var apiSettings={debug:settings.debug,on:!1};module.verbose("First request, initializing API"),$module.api(apiSettings)},layout:function(){$module.is("select")&&(module.setup.select(),module.setup.returnedObject()),module.has.menu()||module.create.menu(),module.is.search()&&!module.has.search()&&(module.verbose("Adding search input"),$search=$("<input />").addClass(className.search).prop("autocomplete","off").insertBefore($text)),settings.allowTab&&module.set.tabbable()},select:function(){var selectValues=module.get.selectValues();module.debug("Dropdown initialized on a select",selectValues),$module.is("select")&&($input=$module),$input.parent(selector.dropdown).length>0?(module.debug("UI dropdown already exists. Creating dropdown menu only"),$module=$input.closest(selector.dropdown),module.has.menu()||module.create.menu(),$menu=$module.children(selector.menu),module.setup.menu(selectValues)):(module.debug("Creating entire dropdown from select"),$module=$("<div />").attr("class",$input.attr("class")).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input),$input.hasClass(className.multiple)&&$input.prop("multiple")===!1&&(module.error(error.missingMultiple),$input.prop("multiple",!0)),$input.is("[multiple]")&&module.set.multiple(),$input.prop("disabled")&&(module.debug("Disabling dropdown"),$module.addClass(className.disabled)),$input.removeAttr("class").detach().prependTo($module)),module.refresh()},menu:function(values){$menu.html(templates.menu(values,fields)),$item=$menu.find(selector.item)},reference:function(){module.debug("Dropdown behavior was called on select, replacing with closest dropdown"),$module=$module.parent(selector.dropdown),module.refresh(),module.setup.returnedObject(),methodInvoked&&(instance=module,module.invoke(query))},returnedObject:function(){var $firstModules=$allModules.slice(0,elementIndex),$lastModules=$allModules.slice(elementIndex+1);$allModules=$firstModules.add($module).add($lastModules)}},refresh:function(){module.refreshSelectors(),module.refreshData()},refreshSelectors:function(){module.verbose("Refreshing selector cache"),$text=$module.find(selector.text),$search=$module.find(selector.search),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item)},refreshData:function(){module.verbose("Refreshing cached metadata"),$item.removeData(metadata.text).removeData(metadata.value),$module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText)},toggle:function(){module.verbose("Toggling menu visibility"),module.is.active()?module.hide():module.show()},show:function(callback){if(callback=$.isFunction(callback)?callback:function(){},module.can.show()&&!module.is.active()){if(module.debug("Showing dropdown"),module.is.multiple()&&!module.has.search()&&module.is.allFiltered())return!0;!module.has.message()||module.has.maxSelections()||module.has.allResultsFiltered()||module.remove.message(),settings.onShow.call(element)!==!1&&module.animate.show(function(){module.can.click()&&module.bind.intent(),module.set.visible(),callback.call(element)})}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.active()&&(module.debug("Hiding dropdown"),settings.onHide.call(element)!==!1&&module.animate.hide(function(){module.remove.visible(),callback.call(element)}))},hideOthers:function(){module.verbose("Finding other dropdowns to hide"),$allModules.not($module).has(selector.menu+"."+className.visible).dropdown("hide")},hideMenu:function(){module.verbose("Hiding menu  instantaneously"),module.remove.active(),module.remove.visible(),$menu.transition("hide")},hideSubMenus:function(){var $subMenus=$menu.children(selector.item).find(selector.menu);module.verbose("Hiding sub menus",$subMenus),$subMenus.transition("hide")},bind:{events:function(){hasTouch&&module.bind.touchEvents(),module.bind.keyboardEvents(),module.bind.inputEvents(),module.bind.mouseEvents()},touchEvents:function(){module.debug("Touch device detected binding additional touch events"),module.is.searchSelection()||module.is.single()&&$module.on("touchstart"+eventNamespace,module.event.test.toggle),$menu.on("touchstart"+eventNamespace,selector.item,module.event.item.mouseenter)},keyboardEvents:function(){module.verbose("Binding keyboard events"),$module.on("keydown"+eventNamespace,module.event.keydown),module.has.search()&&$module.on(module.get.inputEvent()+eventNamespace,selector.search,module.event.input),module.is.multiple()&&$document.on("keydown"+elementNamespace,module.event.document.keydown)},inputEvents:function(){module.verbose("Binding input change events"),$module.on("change"+eventNamespace,selector.input,module.event.change)},mouseEvents:function(){module.verbose("Binding mouse events"),module.is.multiple()&&$module.on("click"+eventNamespace,selector.label,module.event.label.click).on("click"+eventNamespace,selector.remove,module.event.remove.click),module.is.searchSelection()?($module.on("mousedown"+eventNamespace,selector.menu,module.event.menu.mousedown).on("mouseup"+eventNamespace,selector.menu,module.event.menu.mouseup).on("click"+eventNamespace,selector.icon,module.event.icon.click).on("click"+eventNamespace,selector.search,module.show).on("focus"+eventNamespace,selector.search,module.event.search.focus).on("blur"+eventNamespace,selector.search,module.event.search.blur).on("click"+eventNamespace,selector.text,module.event.text.focus),module.is.multiple()&&$module.on("click"+eventNamespace,module.event.click)):("click"==settings.on?$module.on("click"+eventNamespace,selector.icon,module.event.icon.click).on("click"+eventNamespace,module.event.test.toggle):"hover"==settings.on?$module.on("mouseenter"+eventNamespace,module.delay.show).on("mouseleave"+eventNamespace,module.delay.hide):$module.on(settings.on+eventNamespace,module.toggle),$module.on("mousedown"+eventNamespace,module.event.mousedown).on("mouseup"+eventNamespace,module.event.mouseup).on("focus"+eventNamespace,module.event.focus).on("blur"+eventNamespace,module.event.blur)),$menu.on("mouseenter"+eventNamespace,selector.item,module.event.item.mouseenter).on("mouseleave"+eventNamespace,selector.item,module.event.item.mouseleave).on("click"+eventNamespace,selector.item,module.event.item.click);
},intent:function(){module.verbose("Binding hide intent event to document"),hasTouch&&$document.on("touchstart"+elementNamespace,module.event.test.touch).on("touchmove"+elementNamespace,module.event.test.touch),$document.on("click"+elementNamespace,module.event.test.hide)}},unbind:{intent:function(){module.verbose("Removing hide intent event from document"),hasTouch&&$document.off("touchstart"+elementNamespace).off("touchmove"+elementNamespace),$document.off("click"+elementNamespace)}},filter:function(query){var searchTerm=query!==undefined?query:module.get.query(),afterFiltered=function(){module.is.multiple()&&module.filterActive(),module.select.firstUnfiltered(),module.has.allResultsFiltered()?settings.onNoResults.call(element,searchTerm)?settings.allowAdditions||(module.verbose("All items filtered, showing message",searchTerm),module.add.message(message.noResults)):(module.verbose("All items filtered, hiding dropdown",searchTerm),module.hideMenu()):module.remove.message(),settings.allowAdditions&&module.add.userSuggestion(query),module.is.searchSelection()&&module.can.show()&&module.is.focusedOnSearch()&&module.show()};settings.useLabels&&module.has.maxSelections()||(settings.apiSettings?module.can.useAPI()?module.queryRemote(searchTerm,function(){afterFiltered()}):module.error(error.noAPI):(module.filterItems(searchTerm),afterFiltered()))},queryRemote:function(query,callback){var apiSettings={errorDuration:!1,throttle:settings.throttle,urlData:{query:query},onError:function(){module.add.message(message.serverError),callback()},onFailure:function(){module.add.message(message.serverError),callback()},onSuccess:function(response){module.remove.message(),module.setup.menu({values:response[fields.remoteValues]}),callback()}};$module.api("get request")||module.setup.api(),apiSettings=$.extend(!0,{},apiSettings,settings.apiSettings),$module.api("setting",apiSettings).api("query")},filterItems:function(query){var searchTerm=query!==undefined?query:module.get.query(),results=null,escapedTerm=module.escape.regExp(searchTerm),beginsWithRegExp=new RegExp("^"+escapedTerm,"igm");module.has.query()&&(results=[],module.verbose("Searching for matching values",searchTerm),$item.each(function(){var text,value,$choice=$(this);if("both"==settings.match||"text"==settings.match){if(text=String(module.get.choiceText($choice,!1)),-1!==text.search(beginsWithRegExp))return results.push(this),!0;if(settings.fullTextSearch&&module.fuzzySearch(searchTerm,text))return results.push(this),!0}if("both"==settings.match||"value"==settings.match){if(value=String(module.get.choiceValue($choice,text)),-1!==value.search(beginsWithRegExp))return results.push(this),!0;if(settings.fullTextSearch&&module.fuzzySearch(searchTerm,value))return results.push(this),!0}})),module.debug("Showing only matched items",searchTerm),module.remove.filteredItem(),results&&$item.not(results).addClass(className.filtered)},fuzzySearch:function(query,term){var termLength=term.length,queryLength=query.length;if(query=query.toLowerCase(),term=term.toLowerCase(),queryLength>termLength)return!1;if(queryLength===termLength)return query===term;search:for(var characterIndex=0,nextCharacterIndex=0;queryLength>characterIndex;characterIndex++){for(var queryCharacter=query.charCodeAt(characterIndex);termLength>nextCharacterIndex;)if(term.charCodeAt(nextCharacterIndex++)===queryCharacter)continue search;return!1}return!0},filterActive:function(){settings.useLabels&&$item.filter("."+className.active).addClass(className.filtered)},focusSearch:function(){module.is.search()&&!module.is.focusedOnSearch()&&$search[0].focus()},forceSelection:function(){var $currentlySelected=$item.not(className.filtered).filter("."+className.selected).eq(0),$activeItem=$item.not(className.filtered).filter("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,hasSelected=$selectedItem.size()>0;if(module.has.query()){if(hasSelected)return module.debug("Forcing partial selection to selected item",$selectedItem),void module.event.item.click.call($selectedItem);module.remove.searchTerm()}module.hide()},event:{change:function(){internalChange||(module.debug("Input changed, updating selection"),module.set.selected())},focus:function(){settings.showOnFocus&&!activated&&module.is.hidden()&&!pageLostFocus&&module.show()},click:function(event){var $target=$(event.target);$target.is($module)&&!module.is.focusedOnSearch()&&module.focusSearch()},blur:function(event){pageLostFocus=document.activeElement===this,activated||pageLostFocus||(module.remove.activeLabel(),module.hide())},mousedown:function(){activated=!0},mouseup:function(){activated=!1},search:{focus:function(){activated=!0,module.is.multiple()&&module.remove.activeLabel(),settings.showOnFocus&&(module.search(),module.show())},blur:function(event){pageLostFocus=document.activeElement===this,itemActivated||pageLostFocus?pageLostFocus&&settings.forceSelection&&module.forceSelection():module.is.multiple()?(module.remove.activeLabel(),module.hide()):settings.forceSelection?module.forceSelection():module.hide()}},icon:{click:function(event){module.toggle(),event.stopPropagation()}},text:{focus:function(event){activated=!0,module.focusSearch()}},input:function(event){(module.is.multiple()||module.is.searchSelection())&&module.set.filtered(),clearTimeout(module.timer),module.timer=setTimeout(module.search,settings.delay.search)},label:{click:function(event){var $label=$(this),$labels=$module.find(selector.label),$activeLabels=$labels.filter("."+className.active),$nextActive=$label.nextAll("."+className.active),$prevActive=$label.prevAll("."+className.active),$range=$nextActive.length>0?$label.nextUntil($nextActive).add($activeLabels).add($label):$label.prevUntil($prevActive).add($activeLabels).add($label);event.shiftKey?($activeLabels.removeClass(className.active),$range.addClass(className.active)):event.ctrlKey?$label.toggleClass(className.active):($activeLabels.removeClass(className.active),$label.addClass(className.active)),settings.onLabelSelect.apply(this,$labels.filter("."+className.active))}},remove:{click:function(){var $label=$(this).parent();$label.hasClass(className.active)?module.remove.activeLabels():module.remove.activeLabels($label)}},test:{toggle:function(event){var toggleBehavior=module.is.multiple()?module.show:module.toggle;module.determine.eventOnElement(event,toggleBehavior)&&event.preventDefault()},touch:function(event){module.determine.eventOnElement(event,function(){"touchstart"==event.type?module.timer=setTimeout(function(){module.hide()},settings.delay.touch):"touchmove"==event.type&&clearTimeout(module.timer)}),event.stopPropagation()},hide:function(event){module.determine.eventInModule(event,module.hide)}},menu:{mousedown:function(){itemActivated=!0},mouseup:function(){itemActivated=!1}},item:{mouseenter:function(event){var $subMenu=$(this).children(selector.menu),$otherMenus=$(this).siblings(selector.item).children(selector.menu);$subMenu.length>0&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Showing sub-menu",$subMenu),$.each($otherMenus,function(){module.animate.hide(!1,$(this))}),module.animate.show(!1,$subMenu)},settings.delay.show),event.preventDefault())},mouseleave:function(event){var $subMenu=$(this).children(selector.menu);$subMenu.length>0&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Hiding sub-menu",$subMenu),module.animate.hide(!1,$subMenu)},settings.delay.hide))},touchend:function(){},click:function(event){var $choice=$(this),$target=$(event?event.target:""),$subMenu=$choice.find(selector.menu),text=module.get.choiceText($choice),value=module.get.choiceValue($choice,text),hasSubMenu=$subMenu.length>0,isBubbledEvent=$subMenu.find($target).length>0;isBubbledEvent||hasSubMenu&&!settings.allowCategorySelection||(settings.useLabels||(module.remove.filteredItem(),module.remove.searchTerm(),module.set.scrollPosition($choice)),module.determine.selectAction.call(this,text,value))}},document:{keydown:function(event){var pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var $label=$module.find(selector.label),$activeLabel=$label.filter("."+className.active),labelIndex=($activeLabel.data(metadata.value),$label.index($activeLabel)),labelCount=$label.length,hasActiveLabel=$activeLabel.length>0,hasMultipleActive=$activeLabel.length>1,isFirstLabel=0===labelIndex,isLastLabel=labelIndex+1==labelCount,isSearch=module.is.searchSelection(),isFocusedOnSearch=module.is.focusedOnSearch(),isFocused=module.is.focused(),caretAtStart=isFocusedOnSearch&&0===module.get.caretPosition();if(isSearch&&!hasActiveLabel&&!isFocusedOnSearch)return;pressedKey==keys.leftArrow?!isFocused&&!caretAtStart||hasActiveLabel?hasActiveLabel&&(event.shiftKey?module.verbose("Adding previous label to selection"):(module.verbose("Selecting previous label"),$label.removeClass(className.active)),isFirstLabel&&!hasMultipleActive?$activeLabel.addClass(className.active):$activeLabel.prev(selector.siblingLabel).addClass(className.active).end(),event.preventDefault()):(module.verbose("Selecting previous label"),$label.last().addClass(className.active)):pressedKey==keys.rightArrow?(isFocused&&!hasActiveLabel&&$label.first().addClass(className.active),hasActiveLabel&&(event.shiftKey?module.verbose("Adding next label to selection"):(module.verbose("Selecting next label"),$label.removeClass(className.active)),isLastLabel?isSearch?isFocusedOnSearch?$label.removeClass(className.active):module.focusSearch():hasMultipleActive?$activeLabel.next(selector.siblingLabel).addClass(className.active):$activeLabel.addClass(className.active):$activeLabel.next(selector.siblingLabel).addClass(className.active),event.preventDefault())):pressedKey==keys.deleteKey||pressedKey==keys.backspace?hasActiveLabel?(module.verbose("Removing active labels"),isLastLabel&&isSearch&&!isFocusedOnSearch&&module.focusSearch(),$activeLabel.last().next(selector.siblingLabel).addClass(className.active),module.remove.activeLabels($activeLabel),event.preventDefault()):caretAtStart&&!hasActiveLabel&&pressedKey==keys.backspace&&(module.verbose("Removing last label on input backspace"),$activeLabel=$label.last().addClass(className.active),module.remove.activeLabels($activeLabel)):$activeLabel.removeClass(className.active)}}},keydown:function(event){var pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var $nextItem,isSubMenuItem,$currentlySelected=$item.not(selector.unselectable).filter("."+className.selected).eq(0),$activeItem=$menu.children("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,$visibleItems=$selectedItem.length>0?$selectedItem.siblings(":not(."+className.filtered+")").andSelf():$menu.children(":not(."+className.filtered+")"),$subMenu=$selectedItem.children(selector.menu),$parentMenu=$selectedItem.closest(selector.menu),inVisibleMenu=$parentMenu.hasClass(className.visible)||$parentMenu.hasClass(className.animating)||$parentMenu.parent(selector.menu).length>0,hasSubMenu=$subMenu.length>0,hasSelectedItem=$selectedItem.length>0,selectedIsSelectable=$selectedItem.not(selector.unselectable).length>0,delimiterPressed=pressedKey==keys.delimiter&&settings.allowAdditions&&module.is.multiple();if(module.is.visible()){if((pressedKey==keys.enter||delimiterPressed)&&(pressedKey==keys.enter&&hasSelectedItem&&hasSubMenu&&!settings.allowCategorySelection?(module.verbose("Pressed enter on unselectable category, opening sub menu"),pressedKey=keys.rightArrow):selectedIsSelectable&&(module.verbose("Selecting item from keyboard shortcut",$selectedItem),module.event.item.click.call($selectedItem,event),module.is.searchSelection()&&module.remove.searchTerm()),event.preventDefault()),pressedKey==keys.leftArrow&&(isSubMenuItem=$parentMenu[0]!==$menu[0],isSubMenuItem&&(module.verbose("Left key pressed, closing sub-menu"),module.animate.hide(!1,$parentMenu),$selectedItem.removeClass(className.selected),$parentMenu.closest(selector.item).addClass(className.selected),event.preventDefault())),pressedKey==keys.rightArrow&&hasSubMenu&&(module.verbose("Right key pressed, opening sub-menu"),module.animate.show(!1,$subMenu),$selectedItem.removeClass(className.selected),$subMenu.find(selector.item).eq(0).addClass(className.selected),event.preventDefault()),pressedKey==keys.upArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$selectedItem.prevAll(selector.item+":not("+selector.unselectable+")").eq(0):$item.eq(0),$visibleItems.index($nextItem)<0)return module.verbose("Up key pressed but reached top of current menu"),void event.preventDefault();module.verbose("Up key pressed, changing active item"),$selectedItem.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),event.preventDefault()}if(pressedKey==keys.downArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$nextItem=$selectedItem.nextAll(selector.item+":not("+selector.unselectable+")").eq(0):$item.eq(0),0===$nextItem.length)return module.verbose("Down key pressed but reached bottom of current menu"),void event.preventDefault();module.verbose("Down key pressed, changing active item"),$item.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),event.preventDefault()}pressedKey==keys.pageUp&&(module.scrollPage("up"),event.preventDefault()),pressedKey==keys.pageDown&&(module.scrollPage("down"),event.preventDefault()),pressedKey==keys.escape&&(module.verbose("Escape key pressed, closing dropdown"),module.hide())}else delimiterPressed&&event.preventDefault(),pressedKey==keys.downArrow&&(module.verbose("Down key pressed, showing dropdown"),module.show(),event.preventDefault())}else module.is.selection()&&!module.is.search()&&module.set.selectedLetter(String.fromCharCode(pressedKey))}},trigger:{change:function(){var events=document.createEvent("HTMLEvents"),inputElement=$input[0];inputElement&&(module.verbose("Triggering native change event"),events.initEvent("change",!1,!0),inputElement.dispatchEvent(events))}},determine:{selectAction:function(text,value){module.verbose("Determining action",settings.action),$.isFunction(module.action[settings.action])?(module.verbose("Triggering preset action",settings.action,text,value),module.action[settings.action].call(this,text,value)):$.isFunction(settings.action)?(module.verbose("Triggering user action",settings.action,text,value),settings.action.call(this,text,value)):module.error(error.action,settings.action)},eventInModule:function(event,callback){var $target=$(event.target),inDocument=$target.closest(document.documentElement).length>0,inModule=$target.closest($module).length>0;return callback=$.isFunction(callback)?callback:function(){},inDocument&&!inModule?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(event,callback){var $target=$(event.target),$label=$target.closest(selector.siblingLabel),notOnLabel=0===$module.find($label).length,notInMenu=0===$target.closest($menu).length;return callback=$.isFunction(callback)?callback:function(){},notOnLabel&&notInMenu?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(text,value){if(value=value!==undefined?value:text,module.can.activate($(this))){if(module.set.selected(value,$(this)),module.is.multiple()&&!module.is.allFiltered())return;module.hideAndClear()}},select:function(text,value){module.action.activate.call(this)},combo:function(text,value){value=value!==undefined?value:text,module.set.selected(value,$(this)),module.hideAndClear()},hide:function(text,value){module.set.value(value),module.hideAndClear()}},get:{id:function(){return id},defaultText:function(){return $module.data(metadata.defaultText)},defaultValue:function(){return $module.data(metadata.defaultValue)},placeholderText:function(){return $module.data(metadata.placeholderText)||""},text:function(){return $text.text()},query:function(){return $.trim($search.val())},searchWidth:function(characterCount){return characterCount*settings.glyphWidth+"em"},selectionCount:function(){var count,values=module.get.values();return count=module.is.multiple()?$.isArray(values)?values.length:0:""!==module.get.value()?1:0},transition:function($subMenu){return"auto"==settings.transition?module.is.upward($subMenu)?"slide up":"slide down":settings.transition},userValues:function(){var values=module.get.values();return values?(values=$.isArray(values)?values:[values],$.grep(values,function(value){return module.get.item(value)===!1})):!1},uniqueArray:function(array){return $.grep(array,function(value,index){return $.inArray(value,array)===index})},caretPosition:function(){var range,rangeLength,input=$search.get(0);return"selectionStart"in input?input.selectionStart:document.selection?(input.focus(),range=document.selection.createRange(),rangeLength=range.text.length,range.moveStart("character",-input.value.length),range.text.length-rangeLength):void 0},value:function(){var value=$input.length>0?$input.val():$module.data(metadata.value);return $.isArray(value)&&1===value.length&&""===value[0]?"":value},values:function(){var value=module.get.value();return""===value?"":!module.has.selectInput()&&module.is.multiple()?"string"==typeof value?value.split(settings.delimiter):"":value},remoteValues:function(){var values=module.get.values(),remoteValues=!1;return values&&("string"==typeof values&&(values=[values]),remoteValues={},$.each(values,function(index,value){var name=module.read.remoteData(value);module.verbose("Restoring value from session data",name,value),remoteValues[value]=name?name:value})),remoteValues},choiceText:function($choice,preserveHTML){return preserveHTML=preserveHTML!==undefined?preserveHTML:settings.preserveHTML,$choice?($choice.find(selector.menu).length>0&&(module.verbose("Retreiving text of element with sub-menu"),$choice=$choice.clone(),$choice.find(selector.menu).remove(),$choice.find(selector.menuIcon).remove()),$choice.data(metadata.text)!==undefined?$choice.data(metadata.text):preserveHTML?$.trim($choice.html()):$.trim($choice.text())):void 0},choiceValue:function($choice,choiceText){return choiceText=choiceText||module.get.choiceText($choice),$choice?$choice.data(metadata.value)!==undefined?String($choice.data(metadata.value)):"string"==typeof choiceText?$.trim(choiceText.toLowerCase()):String(choiceText):!1},inputEvent:function(){var input=$search[0];return input?input.oninput!==undefined?"input":input.onpropertychange!==undefined?"propertychange":"keyup":!1},selectValues:function(){var select={};return select.values=[],$module.find("option").each(function(){var $option=$(this),name=$option.html(),disabled=$option.attr("disabled"),value=$option.attr("value")!==undefined?$option.attr("value"):name;"auto"===settings.placeholder&&""===value?select.placeholder=name:select.values.push({name:name,value:value,disabled:disabled})}),settings.placeholder&&"auto"!==settings.placeholder&&(module.debug("Setting placeholder value to",settings.placeholder),select.placeholder=settings.placeholder),settings.sortSelect?(select.values.sort(function(a,b){return a.name>b.name?1:-1}),module.debug("Retrieved and sorted values from select",select)):module.debug("Retreived values from select",select),select},activeItem:function(){return $item.filter("."+className.active)},selectedItem:function(){var $selectedItem=$item.not(selector.unselectable).filter("."+className.selected);return $selectedItem.length>0?$selectedItem:$item.eq(0)},itemWithAdditions:function(value){var $items=module.get.item(value),$userItems=module.create.userChoice(value),hasUserItems=$userItems&&$userItems.length>0;return hasUserItems&&($items=$items.length>0?$items.add($userItems):$userItems),$items},item:function(value,strict){var shouldSearch,isMultiple,$selectedItem=!1;return value=value!==undefined?value:module.get.values()!==undefined?module.get.values():module.get.text(),shouldSearch=isMultiple?value.length>0:value!==undefined&&null!==value,isMultiple=module.is.multiple()&&$.isArray(value),strict=""===value||0===value?!0:strict||!1,shouldSearch&&$item.each(function(){var $choice=$(this),optionText=module.get.choiceText($choice),optionValue=module.get.choiceValue($choice,optionText);if(null!==optionValue&&optionValue!==undefined)if(isMultiple)(-1!==$.inArray(String(optionValue),value)||-1!==$.inArray(optionText,value))&&($selectedItem=$selectedItem?$selectedItem.add($choice):$choice);else if(strict){if(module.verbose("Ambiguous dropdown value using strict type check",$choice,value),optionValue===value||optionText===value)return $selectedItem=$choice,!0}else if(String(optionValue)==String(value)||optionText==value)return module.verbose("Found select item by value",optionValue,value),$selectedItem=$choice,!0}),$selectedItem}},check:{maxSelections:function(selectionCount){return settings.maxSelections?(selectionCount=selectionCount!==undefined?selectionCount:module.get.selectionCount(),selectionCount>=settings.maxSelections?(module.debug("Maximum selection count reached"),settings.useLabels&&($item.addClass(className.filtered),module.add.message(message.maxSelections)),!0):(module.verbose("No longer at maximum selection count"),module.remove.message(),module.remove.filteredItem(),module.is.searchSelection()&&module.filterItems(),!1)):!0}},restore:{defaults:function(){module.clear(),module.restore.defaultText(),module.restore.defaultValue()},defaultText:function(){var defaultText=module.get.defaultText(),placeholderText=module.get.placeholderText;defaultText===placeholderText?(module.debug("Restoring default placeholder text",defaultText),module.set.placeholderText(defaultText)):(module.debug("Restoring default text",defaultText),module.set.text(defaultText))},defaultValue:function(){var defaultValue=module.get.defaultValue();defaultValue!==undefined&&(module.debug("Restoring default value",defaultValue),""!==defaultValue?(module.set.value(defaultValue),module.set.selected()):(module.remove.activeItem(),module.remove.selectedItem()))},labels:function(){settings.allowAdditions&&(settings.useLabels||(module.error(error.labels),settings.useLabels=!0),module.debug("Restoring selected values"),module.create.userLabels()),module.check.maxSelections()},selected:function(){module.restore.values(),module.is.multiple()?(module.debug("Restoring previously selected values and labels"),module.restore.labels()):module.debug("Restoring previously selected values")},values:function(){module.set.initialLoad(),settings.apiSettings?settings.saveRemoteData?module.restore.remoteValues():module.clearValue():module.set.selected(),module.remove.initialLoad()},remoteValues:function(){var values=module.get.remoteValues();module.debug("Recreating selected from session data",values),values&&(module.is.single()?$.each(values,function(value,name){module.set.text(name)}):$.each(values,function(value,name){module.add.label(value,name)}))}},read:{remoteData:function(value){var name;return window.Storage===undefined?void module.error(error.noStorage):(name=sessionStorage.getItem(value),name!==undefined?name:!1)}},save:{defaults:function(){module.save.defaultText(),module.save.placeholderText(),module.save.defaultValue()},defaultValue:function(){var value=module.get.value();module.verbose("Saving default value as",value),$module.data(metadata.defaultValue,value)},defaultText:function(){var text=module.get.text();module.verbose("Saving default text as",text),$module.data(metadata.defaultText,text)},placeholderText:function(){var text;settings.placeholder!==!1&&$text.hasClass(className.placeholder)&&(text=module.get.text(),module.verbose("Saving placeholder text as",text),$module.data(metadata.placeholderText,text))},remoteData:function(name,value){return window.Storage===undefined?void module.error(error.noStorage):(module.verbose("Saving remote data to session storage",value,name),void sessionStorage.setItem(value,name))}},clear:function(){module.is.multiple()?module.remove.labels():(module.remove.activeItem(),module.remove.selectedItem()),module.set.placeholderText(),module.clearValue()},clearValue:function(){module.set.value("")},scrollPage:function(direction,$selectedItem){var isWithinRange,$nextSelectedItem,elementIndex,$currentItem=$selectedItem||module.get.selectedItem(),$menu=$currentItem.closest(selector.menu),menuHeight=$menu.outerHeight(),currentScroll=$menu.scrollTop(),itemHeight=$item.eq(0).outerHeight(),itemsPerPage=Math.floor(menuHeight/itemHeight),newScroll=($menu.prop("scrollHeight"),"up"==direction?currentScroll-itemHeight*itemsPerPage:currentScroll+itemHeight*itemsPerPage),$selectableItem=$item.not(selector.unselectable);elementIndex="up"==direction?$selectableItem.index($currentItem)-itemsPerPage:$selectableItem.index($currentItem)+itemsPerPage,isWithinRange="up"==direction?elementIndex>=0:elementIndex<$selectableItem.length,$nextSelectedItem=isWithinRange?$selectableItem.eq(elementIndex):"up"==direction?$selectableItem.first():$selectableItem.last(),$nextSelectedItem.length>0&&(module.debug("Scrolling page",direction,$nextSelectedItem),$currentItem.removeClass(className.selected),$nextSelectedItem.addClass(className.selected),$menu.scrollTop(newScroll))},set:{filtered:function(){var isMultiple=module.is.multiple(),isSearch=module.is.searchSelection(),isSearchMultiple=isMultiple&&isSearch,searchValue=isSearch?module.get.query():"",hasSearchValue="string"==typeof searchValue&&searchValue.length>0,searchWidth=module.get.searchWidth(searchValue.length),valueIsSet=""!==searchValue;isMultiple&&hasSearchValue&&(module.verbose("Adjusting input width",searchWidth,settings.glyphWidth),$search.css("width",searchWidth)),hasSearchValue||isSearchMultiple&&valueIsSet?(module.verbose("Hiding placeholder text"),$text.addClass(className.filtered)):(!isMultiple||isSearchMultiple&&!valueIsSet)&&(module.verbose("Showing placeholder text"),$text.removeClass(className.filtered))},loading:function(){$module.addClass(className.loading)},placeholderText:function(text){text=text||module.get.placeholderText(),module.debug("Setting placeholder text",text),module.set.text(text),$text.addClass(className.placeholder)},tabbable:function(){module.has.search()?(module.debug("Added tabindex to searchable dropdown"),$search.val("").attr("tabindex",0),$menu.attr("tabindex",-1)):(module.debug("Added tabindex to dropdown"),$module.attr("tabindex")===undefined&&($module.attr("tabindex",0),$menu.attr("tabindex",-1)))},initialLoad:function(){module.verbose("Setting initial load"),initialLoad=!0},activeItem:function($item){settings.allowAdditions&&$item.filter(selector.addition).length>0?$item.addClass(className.filtered):$item.addClass(className.active)},scrollPosition:function($item,forceScroll){var $menu,hasActive,offset,itemOffset,menuOffset,menuScroll,menuHeight,abovePage,belowPage,edgeTolerance=5;$item=$item||module.get.selectedItem(),$menu=$item.closest(selector.menu),hasActive=$item&&$item.length>0,forceScroll=forceScroll!==undefined?forceScroll:!1,$item&&$menu.length>0&&hasActive&&(itemOffset=$item.position().top,$menu.addClass(className.loading),menuScroll=$menu.scrollTop(),menuOffset=$menu.offset().top,itemOffset=$item.offset().top,offset=menuScroll-menuOffset+itemOffset,forceScroll||(menuHeight=$menu.height(),belowPage=offset+edgeTolerance>menuScroll+menuHeight,abovePage=menuScroll>offset-edgeTolerance),module.debug("Scrolling to active item",offset),(forceScroll||abovePage||belowPage)&&$menu.scrollTop(offset),$menu.removeClass(className.loading))},text:function(text){"select"!==settings.action&&("combo"==settings.action?(module.debug("Changing combo button text",text,$combo),settings.preserveHTML?$combo.html(text):$combo.text(text)):(text!==module.get.placeholderText()&&$text.removeClass(className.placeholder),module.debug("Changing text",text,$text),$text.removeClass(className.filtered),settings.preserveHTML?$text.html(text):$text.text(text)))},selectedLetter:function(letter){var $nextItem,$selectedItem=$item.filter("."+className.selected),alreadySelectedLetter=$selectedItem.length>0&&module.has.firstLetter($selectedItem,letter),$nextValue=!1;alreadySelectedLetter&&($nextItem=$selectedItem.nextAll($item).eq(0),module.has.firstLetter($nextItem,letter)&&($nextValue=$nextItem)),$nextValue||$item.each(function(){return module.has.firstLetter($(this),letter)?($nextValue=$(this),!1):void 0}),$nextValue&&(module.verbose("Scrolling to next value with letter",letter),module.set.scrollPosition($nextValue),$selectedItem.removeClass(className.selected),$nextValue.addClass(className.selected))},direction:function($menu){"auto"==settings.direction?module.is.onScreen($menu)?module.remove.upward($menu):module.set.upward($menu):"upward"==settings.direction&&module.set.upward($menu)},upward:function($menu){var $element=$menu||$module;$element.addClass(className.upward)},value:function(value,text,$selected){var hasInput=$input.length>0,currentValue=(!module.has.value(value),module.get.values()),stringValue=value!==undefined?String(value):value;if(hasInput){if(stringValue==currentValue&&(module.verbose("Skipping value update already same value",value,currentValue),!module.is.initialLoad()))return;module.is.single()&&module.has.selectInput()&&module.can.extendSelect()&&(module.debug("Adding user option",value),module.add.optionValue(value)),module.debug("Updating input value",value,currentValue),internalChange=!0,$input.val(value),settings.fireOnInit===!1&&module.is.initialLoad()?module.debug("Input native change event ignored on initial load"):module.trigger.change(),internalChange=!1}else module.verbose("Storing value in metadata",value,$input),value!==currentValue&&$module.data(metadata.value,stringValue);settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("No callback on initial load",settings.onChange):settings.onChange.call(element,value,text,$selected)},active:function(){$module.addClass(className.active)},multiple:function(){$module.addClass(className.multiple)},visible:function(){$module.addClass(className.visible)},exactly:function(value,$selectedItem){module.debug("Setting selected to exact values"),module.clear(),module.set.selected(value,$selectedItem)},selected:function(value,$selectedItem){var isMultiple=module.is.multiple();$selectedItem=settings.allowAdditions?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value),$selectedItem&&(module.debug("Setting selected menu item to",$selectedItem),module.is.single()?(module.remove.activeItem(),module.remove.selectedItem()):settings.useLabels&&module.remove.selectedItem(),$selectedItem.each(function(){var $selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText),isFiltered=$selected.hasClass(className.filtered),isActive=$selected.hasClass(className.active),isUserValue=$selected.hasClass(className.addition),shouldAnimate=isMultiple&&1==$selectedItem.length;isMultiple?!isActive||isUserValue?(settings.apiSettings&&settings.saveRemoteData&&module.save.remoteData(selectedText,selectedValue),settings.useLabels?(module.add.value(selectedValue,selectedText,$selected),module.add.label(selectedValue,selectedText,shouldAnimate),module.set.activeItem($selected),module.filterActive(),module.select.nextAvailable($selectedItem)):(module.add.value(selectedValue,selectedText,$selected),module.set.text(module.add.variables(message.count)),module.set.activeItem($selected))):isFiltered||(module.debug("Selected active value, removing label"),module.remove.selected(selectedValue)):(settings.apiSettings&&settings.saveRemoteData&&module.save.remoteData(selectedText,selectedValue),module.set.text(selectedText),module.set.value(selectedValue,selectedText,$selected),$selected.addClass(className.active).addClass(className.selected));
}))}},add:{label:function(value,text,shouldAnimate){var $label,$next=module.is.searchSelection()?$search:$text;return $label=$("<a />").addClass(className.label).attr("data-value",value).html(templates.label(value,text)),$label=settings.onLabelCreate.call($label,value,text),module.has.label(value)?void module.debug("Label already exists, skipping",value):(settings.label.variation&&$label.addClass(settings.label.variation),void(shouldAnimate===!0?(module.debug("Animating in label",$label),$label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition,settings.label.duration)):(module.debug("Adding selection label",$label),$label.insertBefore($next))))},message:function(message){var $message=$menu.children(selector.message),html=settings.templates.message(module.add.variables(message));$message.length>0?$message.html(html):$message=$("<div/>").html(html).addClass(className.message).appendTo($menu)},optionValue:function(value){var $option=$input.find('option[value="'+value+'"]'),hasOption=$option.length>0;hasOption||(selectObserver&&(selectObserver.disconnect(),module.verbose("Temporarily disconnecting mutation observer",value)),module.is.single()&&(module.verbose("Removing previous user addition"),$input.find("option."+className.addition).remove()),$("<option/>").prop("value",value).addClass(className.addition).html(value).appendTo($input),module.verbose("Adding user addition as an <option>",value),selectObserver&&selectObserver.observe($input[0],{childList:!0,subtree:!0}))},userSuggestion:function(value){var html,$addition=$menu.children(selector.addition),$existingItem=module.get.item(value),alreadyHasValue=$existingItem&&$existingItem.not(selector.addition).length,hasUserSuggestion=$addition.length>0;if(!settings.useLabels||!module.has.maxSelections()){if(""===value||alreadyHasValue)return void $addition.remove();$item.removeClass(className.selected),hasUserSuggestion?(html=settings.templates.addition(module.add.variables(message.addResult,value)),$addition.html(html).attr("data-"+metadata.value,value).attr("data-"+metadata.text,value).removeClass(className.filtered).addClass(className.selected),module.verbose("Replacing user suggestion with new value",$addition)):($addition=module.create.userChoice(value),$addition.prependTo($menu).addClass(className.selected),module.verbose("Adding item choice to menu corresponding with user choice addition",$addition))}},variables:function(message,term){var count,query,hasCount=-1!==message.search("{count}"),hasMaxCount=-1!==message.search("{maxCount}"),hasTerm=-1!==message.search("{term}");return module.verbose("Adding templated variables to message",message),hasCount&&(count=module.get.selectionCount(),message=message.replace("{count}",count)),hasMaxCount&&(count=module.get.selectionCount(),message=message.replace("{maxCount}",settings.maxSelections)),hasTerm&&(query=term||module.get.query(),message=message.replace("{term}",query)),message},value:function(addedValue,addedText,$selectedItem){var newValue,currentValue=module.get.values();return""===addedValue?void module.debug("Cannot select blank values from multiselect"):($.isArray(currentValue)?(newValue=currentValue.concat([addedValue]),newValue=module.get.uniqueArray(newValue)):newValue=[addedValue],module.has.selectInput()?module.can.extendSelect()&&(module.debug("Adding value to select",addedValue,newValue,$input),module.add.optionValue(addedValue)):(newValue=newValue.join(settings.delimiter),module.debug("Setting hidden input to delimited value",newValue,$input)),settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("Skipping onadd callback on initial load",settings.onAdd):settings.onAdd.call(element,addedValue,addedText,$selectedItem),module.set.value(newValue,addedValue,addedText,$selectedItem),void module.check.maxSelections())}},remove:{active:function(){$module.removeClass(className.active)},activeLabel:function(){$module.find(selector.label).removeClass(className.active)},loading:function(){$module.removeClass(className.loading)},initialLoad:function(){initialLoad=!1},upward:function($menu){var $element=$menu||$module;$element.removeClass(className.upward)},visible:function(){$module.removeClass(className.visible)},activeItem:function(){$item.removeClass(className.active)},filteredItem:function(){settings.useLabels&&module.has.maxSelections()||(settings.useLabels&&module.is.multiple()?$item.not("."+className.active).removeClass(className.filtered):$item.removeClass(className.filtered))},optionValue:function(value){var $option=$input.find('option[value="'+value+'"]'),hasOption=$option.length>0;hasOption&&$option.hasClass(className.addition)&&(selectObserver&&(selectObserver.disconnect(),module.verbose("Temporarily disconnecting mutation observer",value)),$option.remove(),module.verbose("Removing user addition as an <option>",value),selectObserver&&selectObserver.observe($input[0],{childList:!0,subtree:!0}))},message:function(){$menu.children(selector.message).remove()},searchTerm:function(){module.verbose("Cleared search term"),$search.val(""),module.set.filtered()},selected:function(value,$selectedItem){return($selectedItem=settings.allowAdditions?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value))?void $selectedItem.each(function(){var $selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText);module.is.multiple()?settings.useLabels?(module.remove.value(selectedValue,selectedText,$selected),module.remove.label(selectedValue)):(module.remove.value(selectedValue,selectedText,$selected),0===module.get.selectionCount()?module.set.placeholderText():module.set.text(module.add.variables(message.count))):module.remove.value(selectedValue,selectedText,$selected),$selected.removeClass(className.filtered).removeClass(className.active),settings.useLabels&&$selected.removeClass(className.selected)}):!1},selectedItem:function(){$item.removeClass(className.selected)},value:function(removedValue,removedText,$removedItem){var newValue,values=module.get.values();module.has.selectInput()?(module.verbose("Input is <select> removing selected option",removedValue),newValue=module.remove.arrayValue(removedValue,values),module.remove.optionValue(removedValue)):(module.verbose("Removing from delimited values",removedValue),newValue=module.remove.arrayValue(removedValue,values),newValue=newValue.join(settings.delimiter)),settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("No callback on initial load",settings.onRemove):settings.onRemove.call(element,removedValue,removedText,$removedItem),module.set.value(newValue,removedText,$removedItem),module.check.maxSelections()},arrayValue:function(removedValue,values){return $.isArray(values)||(values=[values]),values=$.grep(values,function(value){return removedValue!=value}),module.verbose("Removed value from delimited string",removedValue,values),values},label:function(value,shouldAnimate){var $labels=$module.find(selector.label),$removedLabel=$labels.filter('[data-value="'+value+'"]');module.verbose("Removing label",$removedLabel),$removedLabel.remove()},activeLabels:function($activeLabels){$activeLabels=$activeLabels||$module.find(selector.label).filter("."+className.active),module.verbose("Removing active label selections",$activeLabels),module.remove.labels($activeLabels)},labels:function($labels){$labels=$labels||$module.find(selector.label),module.verbose("Removing labels",$labels),$labels.each(function(){var $label=$(this),value=$label.data(metadata.value),stringValue=value!==undefined?String(value):value,isUserValue=module.is.userValue(stringValue);return settings.onLabelRemove.call($label,value)===!1?void module.debug("Label remove callback cancelled removal"):void(isUserValue?(module.remove.value(stringValue),module.remove.label(stringValue)):module.remove.selected(stringValue))})},tabbable:function(){module.has.search()?(module.debug("Searchable dropdown initialized"),$search.removeAttr("tabindex"),$menu.removeAttr("tabindex")):(module.debug("Simple selection dropdown initialized"),$module.removeAttr("tabindex"),$menu.removeAttr("tabindex"))}},has:{search:function(){return $search.length>0},selectInput:function(){return $input.is("select")},firstLetter:function($item,letter){var text,firstLetter;return $item&&0!==$item.length&&"string"==typeof letter?(text=module.get.choiceText($item,!1),letter=letter.toLowerCase(),firstLetter=String(text).charAt(0).toLowerCase(),letter==firstLetter):!1},input:function(){return $input.length>0},items:function(){return $item.length>0},menu:function(){return $menu.length>0},message:function(){return 0!==$menu.children(selector.message).length},label:function(value){var $labels=$module.find(selector.label);return $labels.filter('[data-value="'+value+'"]').length>0},maxSelections:function(){return settings.maxSelections&&module.get.selectionCount()>=settings.maxSelections},allResultsFiltered:function(){return $item.filter(selector.unselectable).length===$item.length},query:function(){return""!==module.get.query()},value:function(value){var values=module.get.values(),hasValue=$.isArray(values)?values&&-1!==$.inArray(value,values):values==value;return hasValue?!0:!1}},is:{active:function(){return $module.hasClass(className.active)},alreadySetup:function(){return $module.is("select")&&$module.parent(selector.dropdown).length>0&&0===$module.prev().length},animating:function($subMenu){return $subMenu?$subMenu.transition&&$subMenu.transition("is animating"):$menu.transition&&$menu.transition("is animating")},disabled:function(){return $module.hasClass(className.disabled)},focused:function(){return document.activeElement===$module[0]},focusedOnSearch:function(){return document.activeElement===$search[0]},allFiltered:function(){return(module.is.multiple()||module.has.search())&&!module.has.message()&&module.has.allResultsFiltered()},hidden:function($subMenu){return!module.is.visible($subMenu)},initialLoad:function(){return initialLoad},onScreen:function($subMenu){var calculations,$currentMenu=$subMenu||$menu,canOpenDownward=!0,onScreen={};return $currentMenu.addClass(className.loading),calculations={context:{scrollTop:$context.scrollTop(),height:$context.outerHeight()},menu:{offset:$currentMenu.offset(),height:$currentMenu.outerHeight()}},onScreen={above:calculations.context.scrollTop<=calculations.menu.offset.top-calculations.menu.height,below:calculations.context.scrollTop+calculations.context.height>=calculations.menu.offset.top+calculations.menu.height},onScreen.below?(module.verbose("Dropdown can fit in context downward",onScreen),canOpenDownward=!0):onScreen.below||onScreen.above?(module.verbose("Dropdown cannot fit below, opening upward",onScreen),canOpenDownward=!1):(module.verbose("Dropdown cannot fit in either direction, favoring downward",onScreen),canOpenDownward=!0),$currentMenu.removeClass(className.loading),canOpenDownward},inObject:function(needle,object){var found=!1;return $.each(object,function(index,property){return property==needle?(found=!0,!0):void 0}),found},multiple:function(){return $module.hasClass(className.multiple)},single:function(){return!module.is.multiple()},selectMutation:function(mutations){var selectChanged=!1;return $.each(mutations,function(index,mutation){return mutation.target&&$(mutation.target).is("select")?(selectChanged=!0,!0):void 0}),selectChanged},search:function(){return $module.hasClass(className.search)},searchSelection:function(){return module.has.search()&&1===$search.parent(selector.dropdown).length},selection:function(){return $module.hasClass(className.selection)},userValue:function(value){return-1!==$.inArray(value,module.get.userValues())},upward:function($menu){var $element=$menu||$module;return $element.hasClass(className.upward)},visible:function($subMenu){return $subMenu?$subMenu.hasClass(className.visible):$menu.hasClass(className.visible)}},can:{activate:function($item){return settings.useLabels?!0:module.has.maxSelections()?module.has.maxSelections()&&$item.hasClass(className.active)?!0:!1:!0},click:function(){return hasTouch||"click"==settings.on},extendSelect:function(){return settings.allowAdditions||settings.apiSettings},show:function(){return!module.is.disabled()&&(module.has.items()||module.has.message())},useAPI:function(){return $.fn.api!==undefined}},animate:{show:function(callback,$subMenu){var transition,$currentMenu=$subMenu||$menu,start=$subMenu?function(){}:function(){module.hideSubMenus(),module.hideOthers(),module.set.active()};callback=$.isFunction(callback)?callback:function(){},module.verbose("Doing menu show animation",$currentMenu),module.set.direction($subMenu),transition=module.get.transition($subMenu),module.is.selection()&&module.set.scrollPosition(module.get.selectedItem(),!0),(module.is.hidden($currentMenu)||module.is.animating($currentMenu))&&("none"==transition?(start(),$currentMenu.transition("show"),callback.call(element)):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:transition+" in",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:!0,onStart:start,onComplete:function(){callback.call(element)}}):module.error(error.noTransition,transition))},hide:function(callback,$subMenu){var $currentMenu=$subMenu||$menu,start=($subMenu?.9*settings.duration:settings.duration,$subMenu?function(){}:function(){module.can.click()&&module.unbind.intent(),module.remove.active()}),transition=module.get.transition($subMenu);callback=$.isFunction(callback)?callback:function(){},(module.is.visible($currentMenu)||module.is.animating($currentMenu))&&(module.verbose("Doing menu hide animation",$currentMenu),"none"==transition?(start(),$currentMenu.transition("hide"),callback.call(element)):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:transition+" out",duration:settings.duration,debug:settings.debug,verbose:settings.verbose,queue:!0,onStart:start,onComplete:function(){"auto"==settings.direction&&module.remove.upward($subMenu),callback.call(element)}}):module.error(error.transition))}},hideAndClear:function(){module.remove.searchTerm(),module.has.maxSelections()||(module.has.search()?module.hide(function(){module.remove.filteredItem()}):module.hide())},delay:{show:function(){module.verbose("Delaying show event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.show,settings.delay.show)},hide:function(){module.verbose("Delaying hide event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.hide,settings.delay.hide)}},escape:{regExp:function(text){return text=String(text),text.replace(regExp.escape,"\\$&")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:$allModules},$.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:window,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(value,text,$selected){},onAdd:function(value,text,$selected){},onRemove:function(value,text,$selected){},onLabelSelect:function($selectedLabels){},onLabelCreate:function(value,text){return $(this)},onLabelRemove:function(value){return!0},onNoResults:function(searchTerm){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},$.fn.dropdown.settings.templates={dropdown:function(select){var placeholder=select.placeholder||!1,html=(select.values||{},"");return html+='<i class="dropdown icon"></i>',html+=select.placeholder?'<div class="default text">'+placeholder+"</div>":'<div class="text"></div>',html+='<div class="menu">',$.each(select.values,function(index,option){html+=option.disabled?'<div class="disabled item" data-value="'+option.value+'">'+option.name+"</div>":'<div class="item" data-value="'+option.value+'">'+option.name+"</div>"}),html+="</div>"},menu:function(response,fields){var values=response[fields.values]||{},html="";return $.each(values,function(index,option){html+='<div class="item" data-value="'+option[fields.value]+'">'+option[fields.name]+"</div>"}),html},label:function(value,text){return text+'<i class="delete icon"></i>'},message:function(message){return message},addition:function(choice){return choice}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.embed=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.embed.settings,parameters):$.extend({},$.fn.embed.settings),selector=settings.selector,className=settings.className,sources=settings.sources,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,templates=settings.templates,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=($(window),$(this)),$placeholder=$module.find(selector.placeholder),$icon=$module.find(selector.icon),$embed=$module.find(selector.embed),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing embed"),module.determine.autoplay(),module.create(),module.bind.events(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance of embed"),module.reset(),$module.removeData(moduleNamespace).off(eventNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$placeholder=$module.find(selector.placeholder),$icon=$module.find(selector.icon),$embed=$module.find(selector.embed)},bind:{events:function(){module.has.placeholder()&&(module.debug("Adding placeholder events"),$module.on("click"+eventNamespace,selector.placeholder,module.createAndShow).on("click"+eventNamespace,selector.icon,module.createAndShow))}},create:function(){var placeholder=module.get.placeholder();placeholder?module.createPlaceholder():module.createAndShow()},createPlaceholder:function(placeholder){var icon=module.get.icon(),url=module.get.url();module.generate.embed(url);placeholder=placeholder||module.get.placeholder(),$module.html(templates.placeholder(placeholder,icon)),module.debug("Creating placeholder for embed",placeholder,icon)},createEmbed:function(url){module.refresh(),url=url||module.get.url(),$embed=$("<div/>").addClass(className.embed).html(module.generate.embed(url)).appendTo($module),settings.onCreate.call(element,url),module.debug("Creating embed object",$embed)},createAndShow:function(){module.createEmbed(),module.show()},change:function(source,id,url){module.debug("Changing video to ",source,id,url),$module.data(metadata.source,source).data(metadata.id,id).data(metadata.url,url),module.create()},reset:function(){module.debug("Clearing embed and showing placeholder"),module.remove.active(),module.remove.embed(),module.showPlaceholder(),settings.onReset.call(element)},show:function(){module.debug("Showing embed"),module.set.active(),settings.onDisplay.call(element)},hide:function(){module.debug("Hiding embed"),module.showPlaceholder()},showPlaceholder:function(){module.debug("Showing placeholder image"),module.remove.active(),settings.onPlaceholderDisplay.call(element)},get:{id:function(){return settings.id||$module.data(metadata.id)},placeholder:function(){return settings.placeholder||$module.data(metadata.placeholder)},icon:function(){return settings.icon?settings.icon:$module.data(metadata.icon)!==undefined?$module.data(metadata.icon):module.determine.icon()},source:function(url){return settings.source?settings.source:$module.data(metadata.source)!==undefined?$module.data(metadata.source):module.determine.source()},type:function(){var source=module.get.source();return sources[source]!==undefined?sources[source].type:!1},url:function(){return settings.url?settings.url:$module.data(metadata.url)!==undefined?$module.data(metadata.url):module.determine.url()}},determine:{autoplay:function(){module.should.autoplay()&&(settings.autoplay=!0)},source:function(url){var matchedSource=!1;return url=url||module.get.url(),url&&$.each(sources,function(name,source){return-1!==url.search(source.domain)?(matchedSource=name,!1):void 0}),matchedSource},icon:function(){var source=module.get.source();return sources[source]!==undefined?sources[source].icon:!1},url:function(){var url,id=settings.id||$module.data(metadata.id),source=settings.source||$module.data(metadata.source);return url=sources[source]!==undefined?sources[source].url.replace("{id}",id):!1,url&&$module.data(metadata.url,url),url}},set:{active:function(){$module.addClass(className.active)}},remove:{active:function(){$module.removeClass(className.active)},embed:function(){$embed.empty()}},encode:{parameters:function(parameters){var index,urlString=[];for(index in parameters)urlString.push(encodeURIComponent(index)+"="+encodeURIComponent(parameters[index]));return urlString.join("&amp;")}},generate:{embed:function(url){module.debug("Generating embed html");var html,parameters,source=module.get.source();return url=module.get.url(url),url?(parameters=module.generate.parameters(source),html=templates.iframe(url,parameters)):module.error(error.noURL,$module),html},parameters:function(source,extraParameters){var parameters=sources[source]&&sources[source].parameters!==undefined?sources[source].parameters(settings):{};return extraParameters=extraParameters||settings.parameters,extraParameters&&(parameters=$.extend({},parameters,extraParameters)),parameters=settings.onEmbed(parameters),module.encode.parameters(parameters)}},has:{placeholder:function(){return settings.placeholder||$module.data(metadata.placeholder)}},should:{autoplay:function(){return"auto"===settings.autoplay?settings.placeholder||$module.data(metadata.placeholder)!==undefined:settings.autoplay}},is:{video:function(){return"video"==module.get.type()}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(url){},onEmbed:function(parameters){return parameters},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(settings){return{autohide:!settings.brandedUI,autoplay:settings.autoplay,color:settings.colors||undefined,hq:settings.hd,jsapi:settings.api,modestbranding:!settings.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(settings){return{api:settings.api,autoplay:settings.autoplay,byline:settings.brandedUI,color:settings.colors||undefined,portrait:settings.brandedUI,title:settings.brandedUI}}}},templates:{iframe:function(url,parameters){return'<iframe src="'+url+"?"+parameters+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';
},placeholder:function(image,icon){var html="";return icon&&(html+='<i class="'+icon+' icon"></i>'),image&&(html+='<img class="placeholder" src="'+image+'">'),html}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.modal=function(parameters){var returnedValue,$allModules=$(this),$window=$(window),$document=$(document),$body=$("body"),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $allModals,$otherModals,$focusedElement,$dimmable,$dimmer,elementNamespace,id,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.modal.settings,parameters):$.extend({},$.fn.modal.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$close=$module.find(selector.close),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing dimmer",$context),module.create.id(),module.create.dimmer(),module.refreshModals(),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of modal"),instance=module,$module.data(moduleNamespace,instance)},create:{dimmer:function(){var defaultSettings={debug:settings.debug,dimmerName:"modals",duration:{show:settings.duration,hide:settings.duration}},dimmerSettings=$.extend(!0,defaultSettings,settings.dimmerSettings);return settings.inverted&&(dimmerSettings.variation=dimmerSettings.variation!==undefined?dimmerSettings.variation+" inverted":"inverted"),$.fn.dimmer===undefined?void module.error(error.dimmer):(module.debug("Creating dimmer with settings",dimmerSettings),$dimmable=$context.dimmer(dimmerSettings),settings.detachable?(module.verbose("Modal is detachable, moving content into dimmer"),$dimmable.dimmer("add content",$module)):module.set.undetached(),settings.blurring&&$dimmable.addClass(className.blurring),void($dimmer=$dimmable.dimmer("get dimmer")))},id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)}},destroy:function(){module.verbose("Destroying previous modal"),$module.removeData(moduleNamespace).off(eventNamespace),$window.off(elementNamespace),$close.off(eventNamespace),$context.dimmer("destroy")},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.debug("DOM tree modified, refreshing"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},refresh:function(){module.remove.scrolling(),module.cacheSizes(),module.set.screenHeight(),module.set.type(),module.set.position()},refreshModals:function(){$otherModals=$module.siblings(selector.modal),$allModals=$otherModals.add($module)},attachEvents:function(selector,event){var $toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$toggle.length>0?(module.debug("Attaching modal events to element",selector,event),$toggle.off(eventNamespace).on("click"+eventNamespace,event)):module.error(error.notFound,selector)},bind:{events:function(){module.verbose("Attaching events"),$module.on("click"+eventNamespace,selector.close,module.event.close).on("click"+eventNamespace,selector.approve,module.event.approve).on("click"+eventNamespace,selector.deny,module.event.deny),$window.on("resize"+elementNamespace,module.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return settings.onApprove.call(element,$(this))===!1?void module.verbose("Approve callback returned false cancelling hide"):void module.hide()},deny:function(){return settings.onDeny.call(element,$(this))===!1?void module.verbose("Deny callback returned false cancelling hide"):void module.hide()},close:function(){module.hide()},click:function(event){var $target=$(event.target),isInModal=$target.closest(selector.modal).length>0,isInDOM=$.contains(document.documentElement,event.target);!isInModal&&isInDOM&&(module.debug("Dimmer clicked, hiding all modals"),module.is.active()&&(module.remove.clickaway(),settings.allowMultiple?module.hide():module.hideAll()))},debounce:function(method,delay){clearTimeout(module.timer),module.timer=setTimeout(method,delay)},keyboard:function(event){var keyCode=event.which,escapeKey=27;keyCode==escapeKey&&(settings.closable?(module.debug("Escape key pressed hiding modal"),module.hide()):module.debug("Escape key pressed, but closable is set to false"),event.preventDefault())},resize:function(){$dimmable.dimmer("is active")&&requestAnimationFrame(module.refresh)}},toggle:function(){module.is.active()||module.is.animating()?module.hide():module.show()},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.refreshModals(),module.showModal(callback)},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.refreshModals(),module.hideModal(callback)},showModal:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.animating()||!module.is.active()?(module.showDimmer(),module.cacheSizes(),module.set.position(),module.set.screenHeight(),module.set.type(),module.set.clickaway(),!settings.allowMultiple&&module.others.active()?module.hideOthers(module.showModal):(settings.onShow.call(element),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.debug("Showing modal with css animations"),$module.transition({debug:settings.debug,animation:settings.transition+" in",queue:settings.queue,duration:settings.duration,useFailSafe:!0,onComplete:function(){settings.onVisible.apply(element),module.add.keyboardShortcuts(),module.save.focus(),module.set.active(),settings.autofocus&&module.set.autofocus(),callback()}})):module.error(error.noTransition))):module.debug("Modal is already visible")},hideModal:function(callback,keepDimmed){return callback=$.isFunction(callback)?callback:function(){},module.debug("Hiding modal"),settings.onHide.call(element,$(this))===!1?void module.verbose("Hide callback returned false cancelling hide"):void((module.is.animating()||module.is.active())&&(settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.remove.active(),$module.transition({debug:settings.debug,animation:settings.transition+" out",queue:settings.queue,duration:settings.duration,useFailSafe:!0,onStart:function(){module.others.active()||keepDimmed||module.hideDimmer(),module.remove.keyboardShortcuts()},onComplete:function(){settings.onHidden.call(element),module.restore.focus(),callback()}})):module.error(error.noTransition)))},showDimmer:function(){$dimmable.dimmer("is animating")||!$dimmable.dimmer("is active")?(module.debug("Showing dimmer"),$dimmable.dimmer("show")):module.debug("Dimmer already visible")},hideDimmer:function(){return $dimmable.dimmer("is animating")||$dimmable.dimmer("is active")?void $dimmable.dimmer("hide",function(){module.remove.clickaway(),module.remove.screenHeight()}):void module.debug("Dimmer is not visible cannot hide")},hideAll:function(callback){var $visibleModals=$allModals.filter("."+className.active+", ."+className.animating);callback=$.isFunction(callback)?callback:function(){},$visibleModals.length>0&&(module.debug("Hiding all visible modals"),module.hideDimmer(),$visibleModals.modal("hide modal",callback))},hideOthers:function(callback){var $visibleModals=$otherModals.filter("."+className.active+", ."+className.animating);callback=$.isFunction(callback)?callback:function(){},$visibleModals.length>0&&(module.debug("Hiding other modals",$otherModals),$visibleModals.modal("hide modal",callback,!0))},others:{active:function(){return $otherModals.filter("."+className.active).length>0},animating:function(){return $otherModals.filter("."+className.animating).length>0}},add:{keyboardShortcuts:function(){module.verbose("Adding keyboard shortcuts"),$document.on("keyup"+eventNamespace,module.event.keyboard)}},save:{focus:function(){$focusedElement=$(document.activeElement).blur()}},restore:{focus:function(){$focusedElement&&$focusedElement.length>0&&$focusedElement.focus()}},remove:{active:function(){$module.removeClass(className.active)},clickaway:function(){settings.closable&&$dimmer.off("click"+elementNamespace)},bodyStyle:function(){""===$body.attr("style")&&(module.verbose("Removing style attribute"),$body.removeAttr("style"))},screenHeight:function(){module.debug("Removing page height"),$body.css("height","")},keyboardShortcuts:function(){module.verbose("Removing keyboard shortcuts"),$document.off("keyup"+eventNamespace)},scrolling:function(){$dimmable.removeClass(className.scrolling),$module.removeClass(className.scrolling)}},cacheSizes:function(){var modalHeight=$module.outerHeight();(module.cache===undefined||0!==modalHeight)&&(module.cache={pageHeight:$(document).outerHeight(),height:modalHeight+settings.offset,contextHeight:"body"==settings.context?$(window).height():$dimmable.height()}),module.debug("Caching modal and container sizes",module.cache)},can:{fit:function(){return module.cache.height+2*settings.padding<module.cache.contextHeight}},is:{active:function(){return $module.hasClass(className.active)},animating:function(){return $module.transition("is supported")?$module.transition("is animating"):$module.is(":visible")},scrolling:function(){return $dimmable.hasClass(className.scrolling)},modernBrowser:function(){return!(window.ActiveXObject||"ActiveXObject"in window)}},set:{autofocus:function(){var $inputs=$module.find(":input").filter(":visible"),$autofocus=$inputs.filter("[autofocus]"),$input=$autofocus.length>0?$autofocus.first():$inputs.first();$input.length>0&&$input.focus()},clickaway:function(){settings.closable&&$dimmer.on("click"+elementNamespace,module.event.click)},screenHeight:function(){module.can.fit()?$body.css("height",""):(module.debug("Modal is taller than page content, resizing page height"),$body.css("height",module.cache.height+2*settings.padding))},active:function(){$module.addClass(className.active)},scrolling:function(){$dimmable.addClass(className.scrolling),$module.addClass(className.scrolling)},type:function(){module.can.fit()?(module.verbose("Modal fits on screen"),module.others.active()||module.others.animating()||module.remove.scrolling()):(module.verbose("Modal cannot fit on screen setting to scrolling"),module.set.scrolling())},position:function(){module.verbose("Centering modal on page",module.cache),module.can.fit()?$module.css({top:"",marginTop:-(module.cache.height/2)}):$module.css({marginTop:"",top:$document.scrollTop()})},undetached:function(){$dimmable.addClass(className.undetached)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.nag=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.nag.settings,parameters):$.extend({},$.fn.nag.settings),selector=(settings.className,settings.selector),error=settings.error,namespace=settings.namespace,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),$context=($module.find(selector.close),$(settings.context?settings.context:"body")),element=this,instance=$module.data(moduleNamespace);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};module={initialize:function(){module.verbose("Initializing element"),$module.on("click"+eventNamespace,selector.close,module.dismiss).data(moduleNamespace,module),settings.detachable&&$module.parent()[0]!==$context[0]&&$module.detach().prependTo($context),settings.displayTime>0&&setTimeout(module.hide,settings.displayTime),module.show()},destroy:function(){module.verbose("Destroying instance"),$module.removeData(moduleNamespace).off(eventNamespace)},show:function(){module.should.show()&&!$module.is(":visible")&&(module.debug("Showing nag",settings.animation.show),"fade"==settings.animation.show?$module.fadeIn(settings.duration,settings.easing):$module.slideDown(settings.duration,settings.easing))},hide:function(){module.debug("Showing nag",settings.animation.hide),"fade"==settings.animation.show?$module.fadeIn(settings.duration,settings.easing):$module.slideUp(settings.duration,settings.easing)},onHide:function(){module.debug("Removing nag",settings.animation.hide),$module.remove(),settings.onHide&&settings.onHide()},dismiss:function(event){settings.storageMethod&&module.storage.set(settings.key,settings.value),module.hide(),event.stopImmediatePropagation(),event.preventDefault()},should:{show:function(){return settings.persist?(module.debug("Persistent nag is set, can show nag"),!0):module.storage.get(settings.key)!=settings.value.toString()?(module.debug("Stored value is not set, can show nag",module.storage.get(settings.key)),!0):(module.debug("Stored value is set, cannot show nag",module.storage.get(settings.key)),!1)}},get:{storageOptions:function(){var options={};return settings.expires&&(options.expires=settings.expires),settings.domain&&(options.domain=settings.domain),settings.path&&(options.path=settings.path),options}},clear:function(){module.storage.remove(settings.key)},storage:{set:function(key,value){var options=module.get.storageOptions();if("localstorage"==settings.storageMethod&&window.localStorage!==undefined)window.localStorage.setItem(key,value),module.debug("Value stored using local storage",key,value);else if("sessionstorage"==settings.storageMethod&&window.sessionStorage!==undefined)window.sessionStorage.setItem(key,value),module.debug("Value stored using session storage",key,value);else{if($.cookie===undefined)return void module.error(error.noCookieStorage);$.cookie(key,value,options),module.debug("Value stored using cookie",key,value,options)}},get:function(key,value){var storedValue;return"localstorage"==settings.storageMethod&&window.localStorage!==undefined?storedValue=window.localStorage.getItem(key):"sessionstorage"==settings.storageMethod&&window.sessionStorage!==undefined?storedValue=window.sessionStorage.getItem(key):$.cookie!==undefined?storedValue=$.cookie(key):module.error(error.noCookieStorage),("undefined"==storedValue||"null"==storedValue||storedValue===undefined||null===storedValue)&&(storedValue=undefined),storedValue},remove:function(key){var options=module.get.storageOptions();"localstorage"==settings.storageMethod&&window.localStorage!==undefined?window.localStorage.removeItem(key):"sessionstorage"==settings.storageMethod&&window.sessionStorage!==undefined?window.sessionStorage.removeItem(key):$.cookie!==undefined?$.removeCookie(key,options):module.error(error.noStorage)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.popup=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),$window=$(window),$body=$("body"),moduleSelector=$allModules.selector||"",hasTouch=!0,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $popup,$offsetParent,elementNamespace,id,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.popup.settings,parameters):$.extend({},$.fn.popup.settings),selector=settings.selector,className=settings.className,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,eventNamespace="."+settings.namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$target=settings.target?$(settings.target):$module,searchDepth=0,triedPositions=!1,openedWithTouch=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing",$module),module.createID(),module.bind.events(),!module.exists()&&settings.preserve&&module.create(),module.instantiate()},instantiate:function(){module.verbose("Storing instance",module),instance=module,$module.data(moduleNamespace,instance)},refresh:function(){settings.popup?$popup=$(settings.popup).eq(0):settings.inline&&($popup=$target.nextAll(selector.popup).eq(0),settings.popup=$popup),settings.popup?($popup.addClass(className.loading),$offsetParent=module.get.offsetParent(),$popup.removeClass(className.loading),settings.movePopup&&module.has.popup()&&module.get.offsetParent($popup)[0]!==$offsetParent[0]&&(module.debug("Moving popup to the same offset parent as activating element"),$popup.detach().appendTo($offsetParent))):$offsetParent=settings.inline?module.get.offsetParent($target):module.has.popup()?module.get.offsetParent($popup):$body,$offsetParent.is("html")&&$offsetParent[0]!==$body[0]&&(module.debug("Setting page as offset parent"),$offsetParent=$body),module.get.variation()&&module.set.variation()},reposition:function(){module.refresh(),module.set.position()},destroy:function(){module.debug("Destroying previous module"),$popup&&!settings.preserve&&module.removePopup(),clearTimeout(module.hideTimer),clearTimeout(module.showTimer),$window.off(elementNamespace),$module.off(eventNamespace).removeData(moduleNamespace)},event:{start:function(event){var delay=$.isPlainObject(settings.delay)?settings.delay.show:settings.delay;clearTimeout(module.hideTimer),openedWithTouch||(module.showTimer=setTimeout(module.show,delay))},end:function(){var delay=$.isPlainObject(settings.delay)?settings.delay.hide:settings.delay;clearTimeout(module.showTimer),module.hideTimer=setTimeout(module.hide,delay)},touchstart:function(event){openedWithTouch=!0,module.show()},resize:function(){module.is.visible()&&module.set.position()},hideGracefully:function(event){event&&0===$(event.target).closest(selector.popup).length?(module.debug("Click occurred outside popup hiding popup"),module.hide()):module.debug("Click was inside popup, keeping popup open")}},create:function(){var html=module.get.html(),title=module.get.title(),content=module.get.content();html||content||title?(module.debug("Creating pop-up html"),html||(html=settings.templates.popup({title:title,content:content})),$popup=$("<div/>").addClass(className.popup).data(metadata.activator,$module).html(html),settings.inline?(module.verbose("Inserting popup element inline",$popup),$popup.insertAfter($module)):(module.verbose("Appending popup element to body",$popup),$popup.appendTo($context)),module.refresh(),module.set.variation(),settings.hoverable&&module.bind.popup(),settings.onCreate.call($popup,element)):0!==$target.next(selector.popup).length?(module.verbose("Pre-existing popup found"),settings.inline=!0,settings.popups=$target.next(selector.popup).data(metadata.activator,$module),module.refresh(),settings.hoverable&&module.bind.popup()):settings.popup?($(settings.popup).data(metadata.activator,$module),module.verbose("Used popup specified in settings"),module.refresh(),settings.hoverable&&module.bind.popup()):module.debug("No content specified skipping display",element)},createID:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)},toggle:function(){module.debug("Toggling pop-up"),module.is.hidden()?(module.debug("Popup is hidden, showing pop-up"),module.unbind.close(),module.show()):(module.debug("Popup is visible, hiding pop-up"),module.hide())},show:function(callback){if(callback=callback||function(){},module.debug("Showing pop-up",settings.transition),module.is.hidden()&&(!module.is.active()||!module.is.dropdown())){if(module.exists()||module.create(),settings.onShow.call($popup,element)===!1)return void module.debug("onShow callback returned false, cancelling popup animation");settings.preserve||settings.popup||module.refresh(),$popup&&module.set.position()&&(module.save.conditions(),settings.exclusive&&module.hideAll(),module.animate.show(callback))}},hide:function(callback){if(callback=callback||function(){},module.is.visible()||module.is.animating()){if(settings.onHide.call($popup,element)===!1)return void module.debug("onHide callback returned false, cancelling popup animation");module.remove.visible(),module.unbind.close(),module.restore.conditions(),module.animate.hide(callback)}},hideAll:function(){$(selector.popup).filter("."+className.visible).each(function(){$(this).data(metadata.activator).popup("hide")})},exists:function(){return $popup?settings.inline||settings.popup?module.has.popup():$popup.closest($context).length>=1?!0:!1:!1},removePopup:function(){module.has.popup()&&!settings.popup&&(module.debug("Removing popup",$popup),$popup.remove(),$popup=undefined,settings.onRemove.call($popup,element))},save:{conditions:function(){module.cache={title:$module.attr("title")},module.cache.title&&$module.removeAttr("title"),module.verbose("Saving original attributes",module.cache.title)}},restore:{conditions:function(){return module.cache&&module.cache.title&&($module.attr("title",module.cache.title),module.verbose("Restoring original attributes",module.cache.title)),!0}},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.set.visible(),$popup.transition({animation:settings.transition+" in",queue:!1,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){module.bind.close(),callback.call($popup,element),settings.onVisible.call($popup,element)}})):module.error(error.noTransition)},hide:function(callback){return callback=$.isFunction(callback)?callback:function(){},module.debug("Hiding pop-up"),settings.onHide.call($popup,element)===!1?void module.debug("onHide callback returned false, cancelling popup animation"):void(settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?$popup.transition({animation:settings.transition+" out",queue:!1,duration:settings.duration,debug:settings.debug,verbose:settings.verbose,onComplete:function(){module.reset(),callback.call($popup,element),settings.onHidden.call($popup,element)}}):module.error(error.noTransition))}},change:{content:function(html){$popup.html(html)}},get:{html:function(){return $module.removeData(metadata.html),$module.data(metadata.html)||settings.html},title:function(){return $module.removeData(metadata.title),$module.data(metadata.title)||settings.title},content:function(){return $module.removeData(metadata.content),$module.data(metadata.content)||$module.attr("title")||settings.content},variation:function(){return $module.removeData(metadata.variation),$module.data(metadata.variation)||settings.variation},popup:function(){return $popup},popupOffset:function(){return $popup.offset()},calculations:function(){var screen,targetElement=$target[0],targetPosition=settings.inline||settings.popup&&settings.movePopup?$target.position():$target.offset(),calculations={};return calculations={target:{element:$target[0],width:$target.outerWidth(),height:$target.outerHeight(),top:targetPosition.top,left:targetPosition.left,margin:{}},popup:{width:$popup.outerWidth(),height:$popup.outerHeight()},parent:{width:$offsetParent.outerWidth(),height:$offsetParent.outerHeight()},screen:{scroll:{top:$window.scrollTop(),left:$window.scrollLeft()},width:$window.width(),height:$window.height()}},settings.setFluidWidth&&module.is.fluid()&&(calculations.container={width:$popup.parent().outerWidth()},calculations.popup.width=calculations.container.width),
calculations.target.margin.top=settings.inline?parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-top"),10):0,calculations.target.margin.left=settings.inline?module.is.rtl()?parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-right"),10):parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-left"),10):0,screen=calculations.screen,calculations.boundary={top:screen.scroll.top,bottom:screen.scroll.top+screen.height,left:screen.scroll.left,right:screen.scroll.left+screen.width},calculations},id:function(){return id},startEvent:function(){return"hover"==settings.on?"mouseenter":"focus"==settings.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==settings.on?"mouseleave":"focus"==settings.on?"blur":!1},distanceFromBoundary:function(offset,calculations){var popup,boundary,distanceFromBoundary={};return offset=offset||module.get.offset(),calculations=calculations||module.get.calculations(),popup=calculations.popup,boundary=calculations.boundary,offset&&(distanceFromBoundary={top:offset.top-boundary.top,left:offset.left-boundary.left,right:boundary.right-(offset.left+popup.width),bottom:boundary.bottom-(offset.top+popup.height)},module.verbose("Distance from boundaries determined",offset,distanceFromBoundary)),distanceFromBoundary},offsetParent:function($target){var element=$target!==undefined?$target[0]:$module[0],parentNode=element.parentNode,$node=$(parentNode);if(parentNode)for(var is2D="none"===$node.css("transform"),isStatic="static"===$node.css("position"),isHTML=$node.is("html");parentNode&&!isHTML&&isStatic&&is2D;)parentNode=parentNode.parentNode,$node=$(parentNode),is2D="none"===$node.css("transform"),isStatic="static"===$node.css("position"),isHTML=$node.is("html");return $node&&$node.length>0?$node:$()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(position){var positions=position.split(" "),verticalPosition=positions[0],horizontalPosition=positions[1],opposite={top:"bottom",bottom:"top",left:"right",right:"left"},adjacent={left:"center",center:"right",right:"left"},backup={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},adjacentsAvailable="top"==verticalPosition||"bottom"==verticalPosition,oppositeTried=!1,adjacentTried=!1,nextPosition=!1;return triedPositions||(module.verbose("All available positions available"),triedPositions=module.get.positions()),module.debug("Recording last position tried",position),triedPositions[position]=!0,"opposite"===settings.prefer&&(nextPosition=[opposite[verticalPosition],horizontalPosition],nextPosition=nextPosition.join(" "),oppositeTried=triedPositions[nextPosition]===!0,module.debug("Trying opposite strategy",nextPosition)),"adjacent"===settings.prefer&&adjacentsAvailable&&(nextPosition=[verticalPosition,adjacent[horizontalPosition]],nextPosition=nextPosition.join(" "),adjacentTried=triedPositions[nextPosition]===!0,module.debug("Trying adjacent strategy",nextPosition)),(adjacentTried||oppositeTried)&&(module.debug("Using backup position",nextPosition),nextPosition=backup[position]),nextPosition}},set:{position:function(position,calculations){if(0===$target.length||0===$popup.length)return void module.error(error.notFound);var offset,distanceAway,target,popup,parent,positioning,popupOffset,distanceFromBoundary;if(calculations=calculations||module.get.calculations(),position=position||$module.data(metadata.position)||settings.position,offset=$module.data(metadata.offset)||settings.offset,distanceAway=settings.distanceAway,target=calculations.target,popup=calculations.popup,parent=calculations.parent,0===target.width&&0===target.height&&!(target.element instanceof SVGGraphicsElement))return module.debug("Popup target is hidden, no action taken"),!1;switch(settings.inline&&(module.debug("Adding margin to calculation",target.margin),"left center"==position||"right center"==position?(offset+=target.margin.top,distanceAway+=-target.margin.left):"top left"==position||"top center"==position||"top right"==position?(offset+=target.margin.left,distanceAway-=target.margin.top):(offset+=target.margin.left,distanceAway+=target.margin.top)),module.debug("Determining popup position from calculations",position,calculations),module.is.rtl()&&(position=position.replace(/left|right/g,function(match){return"left"==match?"right":"left"}),module.debug("RTL: Popup position updated",position)),searchDepth==settings.maxSearchDepth&&"string"==typeof settings.lastResort&&(position=settings.lastResort),position){case"top left":positioning={top:"auto",bottom:parent.height-target.top+distanceAway,left:target.left+offset,right:"auto"};break;case"top center":positioning={bottom:parent.height-target.top+distanceAway,left:target.left+target.width/2-popup.width/2+offset,top:"auto",right:"auto"};break;case"top right":positioning={bottom:parent.height-target.top+distanceAway,right:parent.width-target.left-target.width-offset,top:"auto",left:"auto"};break;case"left center":positioning={top:target.top+target.height/2-popup.height/2+offset,right:parent.width-target.left+distanceAway,left:"auto",bottom:"auto"};break;case"right center":positioning={top:target.top+target.height/2-popup.height/2+offset,left:target.left+target.width+distanceAway,bottom:"auto",right:"auto"};break;case"bottom left":positioning={top:target.top+target.height+distanceAway,left:target.left+offset,bottom:"auto",right:"auto"};break;case"bottom center":positioning={top:target.top+target.height+distanceAway,left:target.left+target.width/2-popup.width/2+offset,bottom:"auto",right:"auto"};break;case"bottom right":positioning={top:target.top+target.height+distanceAway,right:parent.width-target.left-target.width-offset,left:"auto",bottom:"auto"}}if(positioning===undefined&&module.error(error.invalidPosition,position),module.debug("Calculated popup positioning values",positioning),$popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading),popupOffset=module.get.popupOffset(),distanceFromBoundary=module.get.distanceFromBoundary(popupOffset,calculations),module.is.offstage(distanceFromBoundary,position)){if(module.debug("Position is outside viewport",position),searchDepth<settings.maxSearchDepth)return searchDepth++,position=module.get.nextPosition(position),module.debug("Trying new position",position),$popup?module.set.position(position,calculations):!1;if(!settings.lastResort)return module.debug("Popup could not find a position to display",$popup),module.error(error.cannotPlace,element),module.remove.attempts(),module.remove.loading(),module.reset(),!1;module.debug("No position found, showing with last position")}return module.debug("Position is on stage",position),module.remove.attempts(),module.remove.loading(),settings.setFluidWidth&&module.is.fluid()&&module.set.fluidWidth(calculations),!0},fluidWidth:function(calculations){calculations=calculations||module.get.calculations(),module.debug("Automatically setting element width to parent width",calculations.parent.width),$popup.css("width",calculations.container.width)},variation:function(variation){variation=variation||module.get.variation(),variation&&module.has.popup()&&(module.verbose("Adding variation to popup",variation),$popup.addClass(variation))},visible:function(){$module.addClass(className.visible)}},remove:{loading:function(){$popup.removeClass(className.loading)},variation:function(variation){variation=variation||module.get.variation(),variation&&(module.verbose("Removing variation",variation),$popup.removeClass(variation))},visible:function(){$module.removeClass(className.visible)},attempts:function(){module.verbose("Resetting all searched positions"),searchDepth=0,triedPositions=!1}},bind:{events:function(){module.debug("Binding popup events to module"),"click"==settings.on&&$module.on("click"+eventNamespace,module.toggle),"hover"==settings.on&&hasTouch&&$module.on("touchstart"+eventNamespace,module.event.touchstart),module.get.startEvent()&&$module.on(module.get.startEvent()+eventNamespace,module.event.start).on(module.get.endEvent()+eventNamespace,module.event.end),settings.target&&module.debug("Target set to element",$target),$window.on("resize"+elementNamespace,module.event.resize)},popup:function(){module.verbose("Allowing hover events on popup to prevent closing"),$popup&&module.has.popup()&&$popup.on("mouseenter"+eventNamespace,module.event.start).on("mouseleave"+eventNamespace,module.event.end)},close:function(){(settings.hideOnScroll===!0||"auto"==settings.hideOnScroll&&"click"!=settings.on)&&($document.one(module.get.scrollEvent()+elementNamespace,module.event.hideGracefully),$context.one(module.get.scrollEvent()+elementNamespace,module.event.hideGracefully)),"hover"==settings.on&&openedWithTouch&&(module.verbose("Binding popup close event to document"),$document.on("touchstart"+elementNamespace,function(event){module.verbose("Touched away from popup"),module.event.hideGracefully.call(element,event)})),"click"==settings.on&&settings.closable&&(module.verbose("Binding popup close event to document"),$document.on("click"+elementNamespace,function(event){module.verbose("Clicked away from popup"),module.event.hideGracefully.call(element,event)}))}},unbind:{close:function(){(settings.hideOnScroll===!0||"auto"==settings.hideOnScroll&&"click"!=settings.on)&&($document.off("scroll"+elementNamespace,module.hide),$context.off("scroll"+elementNamespace,module.hide)),"hover"==settings.on&&openedWithTouch&&($document.off("touchstart"+elementNamespace),openedWithTouch=!1),"click"==settings.on&&settings.closable&&(module.verbose("Removing close event from document"),$document.off("click"+elementNamespace))}},has:{popup:function(){return $popup&&$popup.length>0}},is:{offstage:function(distanceFromBoundary,position){var offstage=[];return $.each(distanceFromBoundary,function(direction,distance){distance<-settings.jitter&&(module.debug("Position exceeds allowable distance from edge",direction,distance,position),offstage.push(direction))}),offstage.length>0?!0:!1},active:function(){return $module.hasClass(className.active)},animating:function(){return $popup&&$popup.hasClass(className.animating)},fluid:function(){return $popup&&$popup.hasClass(className.fluid)},visible:function(){return $popup&&$popup.hasClass(className.visible)},dropdown:function(){return $module.hasClass(className.dropdown)},hidden:function(){return!module.is.visible()},rtl:function(){return"rtl"==$module.css("direction")}},reset:function(){module.remove.visible(),settings.preserve?$.fn.transition!==undefined&&$popup.transition("remove transition"):module.removePopup()},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(string){var badChars=/[&<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr]};return shouldEscape.test(string)?string.replace(badChars,escapedChar):string},popup:function(text){var html="",escape=$.fn.popup.settings.templates.escape;return typeof text!==undefined&&(typeof text.title!==undefined&&text.title&&(text.title=escape(text.title),html+='<div class="header">'+text.title+"</div>"),typeof text.content!==undefined&&text.content&&(text.content=escape(text.content),html+='<div class="content">'+text.content+"</div>")),html}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.progress=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var transitionEnd,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.progress.settings,parameters):$.extend({},$.fn.progress.settings),className=settings.className,metadata=settings.metadata,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$bar=$(this).find(selector.bar),$progress=$(this).find(selector.progress),$label=$(this).find(selector.label),element=this,instance=$module.data(moduleNamespace),animating=!1;module={initialize:function(){module.debug("Initializing progress bar",settings),module.set.duration(),module.set.transitionEvent(),module.read.metadata(),module.read.settings(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of progress",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous progress for",$module),clearInterval(instance.interval),module.remove.state(),$module.removeData(moduleNamespace),instance=undefined},reset:function(){module.set.percent(0),module.set.value(0)},complete:function(){(module.percent===undefined||module.percent<100)&&module.set.percent(100)},read:{metadata:function(){var data={percent:$module.data(metadata.percent),total:$module.data(metadata.total),value:$module.data(metadata.value)};data.percent&&(module.debug("Current percent value set from metadata",data.percent),module.set.percent(data.percent)),data.total&&(module.debug("Total value set from metadata",data.total),module.set.total(data.total)),data.value&&(module.debug("Current value set from metadata",data.value),module.set.value(data.value),module.set.progress(data.value))},settings:function(){settings.total!==!1&&(module.debug("Current total set in settings",settings.total),module.set.total(settings.total)),settings.value!==!1&&(module.debug("Current value set in settings",settings.value),module.set.value(settings.value),module.set.progress(module.value)),settings.percent!==!1&&(module.debug("Current percent set in settings",settings.percent),module.set.percent(settings.percent))}},increment:function(incrementValue){var maxValue,startValue,newValue;module.has.total()?(startValue=module.get.value(),incrementValue=incrementValue||1,newValue=startValue+incrementValue,maxValue=module.get.total(),module.debug("Incrementing value",startValue,newValue,maxValue),newValue>maxValue&&(module.debug("Value cannot increment above total",maxValue),newValue=maxValue)):(startValue=module.get.percent(),incrementValue=incrementValue||module.get.randomValue(),newValue=startValue+incrementValue,maxValue=100,module.debug("Incrementing percentage by",startValue,newValue),newValue>maxValue&&(module.debug("Value cannot increment above 100 percent"),newValue=maxValue)),module.set.progress(newValue)},decrement:function(decrementValue){var startValue,newValue,total=module.get.total();total?(startValue=module.get.value(),decrementValue=decrementValue||1,newValue=startValue-decrementValue,module.debug("Decrementing value by",decrementValue,startValue)):(startValue=module.get.percent(),decrementValue=decrementValue||module.get.randomValue(),newValue=startValue-decrementValue,module.debug("Decrementing percentage by",decrementValue,startValue)),0>newValue&&(module.debug("Value cannot decrement below 0"),newValue=0),module.set.progress(newValue)},has:{total:function(){return module.get.total()!==!1}},get:{text:function(templateText){var value=module.value||0,total=module.total||0,percent=animating?module.get.displayPercent():module.percent||0,left=module.total>0?total-value:100-percent;return templateText=templateText||"",templateText=templateText.replace("{value}",value).replace("{total}",total).replace("{left}",left).replace("{percent}",percent),module.debug("Adding variables to progress bar text",templateText),templateText},randomValue:function(){return module.debug("Generating random increment percentage"),Math.floor(Math.random()*settings.random.max+settings.random.min)},numericValue:function(value){return"string"==typeof value?""!==value.replace(/[^\d.]/g,"")?+value.replace(/[^\d.]/g,""):!1:value},transitionEnd:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]},displayPercent:function(){var barWidth=$bar.width(),totalWidth=$module.width(),minDisplay=parseInt($bar.css("min-width"),10),displayPercent=barWidth>minDisplay?barWidth/totalWidth*100:module.percent;return settings.precision>0?Math.round(displayPercent*(10*settings.precision))/(10*settings.precision):Math.round(displayPercent)},percent:function(){return module.percent||0},value:function(){return module.value||0},total:function(){return module.total||!1}},is:{success:function(){return $module.hasClass(className.success)},warning:function(){return $module.hasClass(className.warning)},error:function(){return $module.hasClass(className.error)},active:function(){return $module.hasClass(className.active)},visible:function(){return $module.is(":visible")}},remove:{state:function(){module.verbose("Removing stored state"),delete module.total,delete module.percent,delete module.value},active:function(){module.verbose("Removing active state"),$module.removeClass(className.active)},success:function(){module.verbose("Removing success state"),$module.removeClass(className.success)},warning:function(){module.verbose("Removing warning state"),$module.removeClass(className.warning)},error:function(){module.verbose("Removing error state"),$module.removeClass(className.error)}},set:{barWidth:function(value){value>100?module.error(error.tooHigh,value):0>value?module.error(error.tooLow,value):($bar.css("width",value+"%"),$module.attr("data-percent",parseInt(value,10)))},duration:function(duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,module.verbose("Setting progress bar transition duration",duration),$bar.css({"transition-duration":duration})},percent:function(percent){percent="string"==typeof percent?+percent.replace("%",""):percent,percent=settings.precision>0?Math.round(percent*(10*settings.precision))/(10*settings.precision):Math.round(percent),module.percent=percent,module.has.total()||(module.value=settings.precision>0?Math.round(percent/100*module.total*(10*settings.precision))/(10*settings.precision):Math.round(percent/100*module.total*10)/10,settings.limitValues&&(module.value=module.value>100?100:module.value<0?0:module.value)),module.set.barWidth(percent),module.set.labelInterval(),module.set.labels(),settings.onChange.call(element,percent,module.value,module.total)},labelInterval:function(){var animationCallback=function(){module.verbose("Bar finished animating, removing continuous label updates"),clearInterval(module.interval),animating=!1,module.set.labels()};clearInterval(module.interval),$bar.one(transitionEnd+eventNamespace,animationCallback),module.timer=setTimeout(animationCallback,settings.duration+100),animating=!0,module.interval=setInterval(module.set.labels,settings.framerate)},labels:function(){module.verbose("Setting both bar progress and outer label text"),module.set.barLabel(),module.set.state()},label:function(text){text=text||"",text&&(text=module.get.text(text),module.debug("Setting label to text",text),$label.text(text))},state:function(percent){percent=percent!==undefined?percent:module.percent,100===percent?!settings.autoSuccess||module.is.warning()||module.is.error()?(module.verbose("Reached 100% removing active state"),module.remove.active()):(module.set.success(),module.debug("Automatically triggering success at 100%")):percent>0?(module.verbose("Adjusting active progress bar label",percent),module.set.active()):(module.remove.active(),module.set.label(settings.text.active))},barLabel:function(text){text!==undefined?$progress.text(module.get.text(text)):"ratio"==settings.label&&module.total?(module.debug("Adding ratio to bar label"),$progress.text(module.get.text(settings.text.ratio))):"percent"==settings.label&&(module.debug("Adding percentage to bar label"),$progress.text(module.get.text(settings.text.percent)))},active:function(text){text=text||settings.text.active,module.debug("Setting active state"),settings.showActivity&&!module.is.active()&&$module.addClass(className.active),module.remove.warning(),module.remove.error(),module.remove.success(),text&&module.set.label(text),settings.onActive.call(element,module.value,module.total)},success:function(text){text=text||settings.text.success,module.debug("Setting success state"),$module.addClass(className.success),module.remove.active(),module.remove.warning(),module.remove.error(),module.complete(),text&&module.set.label(text),settings.onSuccess.call(element,module.total)},warning:function(text){text=text||settings.text.warning,module.debug("Setting warning state"),$module.addClass(className.warning),module.remove.active(),module.remove.success(),module.remove.error(),module.complete(),text&&module.set.label(text),settings.onWarning.call(element,module.value,module.total)},error:function(text){text=text||settings.text.error,module.debug("Setting error state"),$module.addClass(className.error),module.remove.active(),module.remove.success(),module.remove.warning(),module.complete(),text&&module.set.label(text),settings.onError.call(element,module.value,module.total)},transitionEvent:function(){transitionEnd=module.get.transitionEnd()},total:function(totalValue){module.total=totalValue},value:function(value){module.value=value},progress:function(value){var percentComplete,numericValue=module.get.numericValue(value);numericValue===!1&&module.error(error.nonNumeric,value),module.has.total()?(module.set.value(numericValue),percentComplete=numericValue/module.total*100,module.debug("Calculating percent complete from total",percentComplete),module.set.percent(percentComplete)):(percentComplete=numericValue,module.debug("Setting value to exact percentage value",percentComplete),module.set.percent(percentComplete))}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(percent,value,total){},onSuccess:function(total){},onActive:function(value,total){},onError:function(value,total){},onWarning:function(value,total){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.rating=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.rating.settings,parameters):$.extend({},$.fn.rating.settings),namespace=settings.namespace,className=settings.className,metadata=settings.metadata,selector=settings.selector,eventNamespace=(settings.error,"."+namespace),moduleNamespace="module-"+namespace,element=this,instance=$(this).data(moduleNamespace),$module=$(this),$icon=$module.find(selector.icon);module={initialize:function(){module.verbose("Initializing rating module",settings),0===$icon.length&&module.setup.layout(),settings.interactive?module.enable():module.disable(),module.set.rating(module.get.initialRating()),module.instantiate()},instantiate:function(){module.verbose("Instantiating module",settings),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance",instance),module.remove.events(),$module.removeData(moduleNamespace)},refresh:function(){$icon=$module.find(selector.icon)},setup:{layout:function(){
var maxRating=module.get.maxRating(),html=$.fn.rating.settings.templates.icon(maxRating);module.debug("Generating icon html dynamically"),$module.html(html),module.refresh()}},event:{mouseenter:function(){var $activeIcon=$(this);$activeIcon.nextAll().removeClass(className.selected),$module.addClass(className.selected),$activeIcon.addClass(className.selected).prevAll().addClass(className.selected)},mouseleave:function(){$module.removeClass(className.selected),$icon.removeClass(className.selected)},click:function(){var $activeIcon=$(this),currentRating=module.get.rating(),rating=$icon.index($activeIcon)+1,canClear="auto"==settings.clearable?1===$icon.length:settings.clearable;canClear&&currentRating==rating?module.clearRating():module.set.rating(rating)}},clearRating:function(){module.debug("Clearing current rating"),module.set.rating(0)},bind:{events:function(){module.verbose("Binding events"),$module.on("mouseenter"+eventNamespace,selector.icon,module.event.mouseenter).on("mouseleave"+eventNamespace,selector.icon,module.event.mouseleave).on("click"+eventNamespace,selector.icon,module.event.click)}},remove:{events:function(){module.verbose("Removing events"),$module.off(eventNamespace)}},enable:function(){module.debug("Setting rating to interactive mode"),module.bind.events(),$module.removeClass(className.disabled)},disable:function(){module.debug("Setting rating to read-only mode"),module.remove.events(),$module.addClass(className.disabled)},get:{initialRating:function(){return $module.data(metadata.rating)!==undefined?($module.removeData(metadata.rating),$module.data(metadata.rating)):settings.initialRating},maxRating:function(){return $module.data(metadata.maxRating)!==undefined?($module.removeData(metadata.maxRating),$module.data(metadata.maxRating)):settings.maxRating},rating:function(){var currentRating=$icon.filter("."+className.active).length;return module.verbose("Current rating retrieved",currentRating),currentRating}},set:{rating:function(rating){var ratingIndex=rating-1>=0?rating-1:0,$activeIcon=$icon.eq(ratingIndex);$module.removeClass(className.selected),$icon.removeClass(className.selected).removeClass(className.active),rating>0&&(module.verbose("Setting current rating to",rating),$activeIcon.prevAll().andSelf().addClass(className.active)),settings.onRate.call(element,rating)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(rating){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(maxRating){for(var icon=1,html="";maxRating>=icon;)html+='<i class="icon"></i>',icon++;return html}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.search=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $(this).each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.search.settings,parameters):$.extend({},$.fn.search.settings),className=settings.className,metadata=settings.metadata,regExp=settings.regExp,fields=settings.fields,selector=settings.selector,error=settings.error,namespace=settings.namespace,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),$prompt=$module.find(selector.prompt),$searchButton=$module.find(selector.searchButton),$results=$module.find(selector.results),element=($module.find(selector.result),$module.find(selector.category),this),instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module"),module.determine.searchFields(),module.bind.events(),module.set.type(),module.create.results(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying instance"),$module.off(eventNamespace).removeData(moduleNamespace)},bind:{events:function(){module.verbose("Binding events to search"),settings.automatic&&($module.on(module.get.inputEvent()+eventNamespace,selector.prompt,module.event.input),$prompt.attr("autocomplete","off")),$module.on("focus"+eventNamespace,selector.prompt,module.event.focus).on("blur"+eventNamespace,selector.prompt,module.event.blur).on("keydown"+eventNamespace,selector.prompt,module.handleKeyboard).on("click"+eventNamespace,selector.searchButton,module.query).on("mousedown"+eventNamespace,selector.results,module.event.result.mousedown).on("mouseup"+eventNamespace,selector.results,module.event.result.mouseup).on("click"+eventNamespace,selector.result,module.event.result.click)}},determine:{searchFields:function(){parameters&&parameters.searchFields!==undefined&&(settings.searchFields=parameters.searchFields)}},event:{input:function(){clearTimeout(module.timer),module.timer=setTimeout(module.query,settings.searchDelay)},focus:function(){module.set.focus(),module.has.minimumCharacters()&&(module.query(),module.can.show()&&module.showResults())},blur:function(event){var pageLostFocus=document.activeElement===this;pageLostFocus||module.resultsClicked||(module.cancel.query(),module.remove.focus(),module.timer=setTimeout(module.hideResults,settings.hideDelay))},result:{mousedown:function(){module.resultsClicked=!0},mouseup:function(){module.resultsClicked=!1},click:function(event){module.debug("Search result selected");var $result=$(this),$title=$result.find(selector.title).eq(0),$link=$result.find("a[href]").eq(0),href=$link.attr("href")||!1,target=$link.attr("target")||!1,value=($title.html(),$title.length>0?$title.text():!1),results=module.get.results(),result=$result.data(metadata.result)||module.get.result(value,results);return $.isFunction(settings.onSelect)&&settings.onSelect.call(element,result,results)===!1?void module.debug("Custom onSelect callback cancelled default select action"):(module.hideResults(),value&&module.set.value(value),void(href&&(module.verbose("Opening search link found in result",$link),"_blank"==target||event.ctrlKey?window.open(href):window.location.href=href)))}}},handleKeyboard:function(event){var newIndex,$result=$module.find(selector.result),$category=$module.find(selector.category),currentIndex=$result.index($result.filter("."+className.active)),resultSize=$result.length,keyCode=event.which,keys={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(keyCode==keys.escape&&(module.verbose("Escape key pressed, blurring search field"),module.trigger.blur()),module.is.visible())if(keyCode==keys.enter){if(module.verbose("Enter key pressed, selecting active result"),$result.filter("."+className.active).length>0)return module.event.result.click.call($result.filter("."+className.active),event),event.preventDefault(),!1}else keyCode==keys.upArrow?(module.verbose("Up key pressed, changing active result"),newIndex=0>currentIndex-1?currentIndex:currentIndex-1,$category.removeClass(className.active),$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active),event.preventDefault()):keyCode==keys.downArrow&&(module.verbose("Down key pressed, changing active result"),newIndex=currentIndex+1>=resultSize?currentIndex:currentIndex+1,$category.removeClass(className.active),$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active),event.preventDefault());else keyCode==keys.enter&&(module.verbose("Enter key pressed, executing query"),module.query(),module.set.buttonPressed(),$prompt.one("keyup",module.remove.buttonFocus))},setup:{api:function(){var apiSettings={debug:settings.debug,on:!1,cache:"local",action:"search",onError:module.error};module.verbose("First request, initializing API"),$module.api(apiSettings)}},can:{useAPI:function(){return $.fn.api!==undefined},show:function(){return module.is.focused()&&!module.is.visible()&&!module.is.empty()},transition:function(){return settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")}},is:{empty:function(){return""===$results.html()},visible:function(){return $results.filter(":visible").length>0},focused:function(){return $prompt.filter(":focus").length>0}},trigger:{blur:function(){var events=document.createEvent("HTMLEvents"),promptElement=$prompt[0];promptElement&&(module.verbose("Triggering native blur event"),events.initEvent("blur",!1,!0),promptElement.dispatchEvent(events))}},get:{inputEvent:function(){var prompt=$prompt[0],inputEvent=prompt!==undefined&&prompt.oninput!==undefined?"input":prompt!==undefined&&prompt.onpropertychange!==undefined?"propertychange":"keyup";return inputEvent},value:function(){return $prompt.val()},results:function(){var results=$module.data(metadata.results);return results},result:function(value,results){var lookupFields=["title","id"],result=!1;return value=value!==undefined?value:module.get.value(),results=results!==undefined?results:module.get.results(),"category"===settings.type?(module.debug("Finding result that matches",value),$.each(results,function(index,category){return $.isArray(category.results)&&(result=module.search.object(value,category.results,lookupFields)[0])?!1:void 0})):(module.debug("Finding result in results object",value),result=module.search.object(value,results,lookupFields)[0]),result||!1}},set:{focus:function(){$module.addClass(className.focus)},loading:function(){$module.addClass(className.loading)},value:function(value){module.verbose("Setting search input value",value),$prompt.val(value)},type:function(type){type=type||settings.type,"category"==settings.type&&$module.addClass(settings.type)},buttonPressed:function(){$searchButton.addClass(className.pressed)}},remove:{loading:function(){$module.removeClass(className.loading)},focus:function(){$module.removeClass(className.focus)},buttonPressed:function(){$searchButton.removeClass(className.pressed)}},query:function(){var searchTerm=module.get.value(),cache=module.read.cache(searchTerm);module.has.minimumCharacters()?(cache?(module.debug("Reading result from cache",searchTerm),module.save.results(cache.results),module.addResults(cache.html),module.inject.id(cache.results)):(module.debug("Querying for",searchTerm),$.isPlainObject(settings.source)||$.isArray(settings.source)?module.search.local(searchTerm):module.can.useAPI()?module.search.remote(searchTerm):module.error(error.source)),settings.onSearchQuery.call(element,searchTerm)):module.hideResults()},search:{local:function(searchTerm){var searchHTML,results=module.search.object(searchTerm,settings.content);module.set.loading(),module.save.results(results),module.debug("Returned local search results",results),searchHTML=module.generateResults({results:results}),module.remove.loading(),module.addResults(searchHTML),module.inject.id(results),module.write.cache(searchTerm,{html:searchHTML,results:results})},remote:function(searchTerm){var apiSettings={onSuccess:function(response){module.parse.response.call(element,response,searchTerm)},onFailure:function(){module.displayMessage(error.serverError)},urlData:{query:searchTerm}};$module.api("get request")||module.setup.api(),$.extend(!0,apiSettings,settings.apiSettings),module.debug("Executing search",apiSettings),module.cancel.query(),$module.api("setting",apiSettings).api("query")},object:function(searchTerm,source,searchFields){var results=[],fuzzyResults=[],searchExp=searchTerm.toString().replace(regExp.escape,"\\$&"),matchRegExp=new RegExp(regExp.beginsWith+searchExp,"i"),addResult=function(array,result){var notResult=-1==$.inArray(result,results),notFuzzyResult=-1==$.inArray(result,fuzzyResults);notResult&&notFuzzyResult&&array.push(result)};return source=source||settings.source,searchFields=searchFields!==undefined?searchFields:settings.searchFields,$.isArray(searchFields)||(searchFields=[searchFields]),source===undefined||source===!1?(module.error(error.source),[]):($.each(searchFields,function(index,field){$.each(source,function(label,content){var fieldExists="string"==typeof content[field];fieldExists&&(-1!==content[field].search(matchRegExp)?addResult(results,content):settings.searchFullText&&module.fuzzySearch(searchTerm,content[field])&&addResult(fuzzyResults,content))})}),$.merge(results,fuzzyResults))}},fuzzySearch:function(query,term){var termLength=term.length,queryLength=query.length;if("string"!=typeof query)return!1;if(query=query.toLowerCase(),term=term.toLowerCase(),queryLength>termLength)return!1;if(queryLength===termLength)return query===term;search:for(var characterIndex=0,nextCharacterIndex=0;queryLength>characterIndex;characterIndex++){for(var queryCharacter=query.charCodeAt(characterIndex);termLength>nextCharacterIndex;)if(term.charCodeAt(nextCharacterIndex++)===queryCharacter)continue search;return!1}return!0},parse:{response:function(response,searchTerm){var searchHTML=module.generateResults(response);module.verbose("Parsing server response",response),response!==undefined&&searchTerm!==undefined&&response[fields.results]!==undefined&&(module.addResults(searchHTML),module.inject.id(response[fields.results]),module.write.cache(searchTerm,{html:searchHTML,results:response[fields.results]}),module.save.results(response[fields.results]))}},cancel:{query:function(){module.can.useAPI()&&$module.api("abort")}},has:{minimumCharacters:function(){var searchTerm=module.get.value(),numCharacters=searchTerm.length;return numCharacters>=settings.minCharacters}},clear:{cache:function(value){var cache=$module.data(metadata.cache);value?value&&cache&&cache[value]&&(module.debug("Removing value from cache",value),delete cache[value],$module.data(metadata.cache,cache)):(module.debug("Clearing cache",value),$module.removeData(metadata.cache))}},read:{cache:function(name){var cache=$module.data(metadata.cache);return settings.cache?(module.verbose("Checking cache for generated html for query",name),"object"==typeof cache&&cache[name]!==undefined?cache[name]:!1):!1}},create:{id:function(resultIndex,categoryIndex){var letterID,id,resultID=resultIndex+1;return categoryIndex!==undefined?(letterID=String.fromCharCode(97+categoryIndex),id=letterID+resultID,module.verbose("Creating category result id",id)):(id=resultID,module.verbose("Creating result id",id)),id},results:function(){0===$results.length&&($results=$("<div />").addClass(className.results).appendTo($module))}},inject:{result:function(result,resultIndex,categoryIndex){module.verbose("Injecting result into results");var $selectedResult=categoryIndex!==undefined?$results.children().eq(categoryIndex).children(selector.result).eq(resultIndex):$results.children(selector.result).eq(resultIndex);module.verbose("Injecting results metadata",$selectedResult),$selectedResult.data(metadata.result,result)},id:function(results){module.debug("Injecting unique ids into results");var categoryIndex=0,resultIndex=0;return"category"===settings.type?$.each(results,function(index,category){resultIndex=0,$.each(category.results,function(index,value){var result=category.results[index];result.id===undefined&&(result.id=module.create.id(resultIndex,categoryIndex)),module.inject.result(result,resultIndex,categoryIndex),resultIndex++}),categoryIndex++}):$.each(results,function(index,value){var result=results[index];result.id===undefined&&(result.id=module.create.id(resultIndex)),module.inject.result(result,resultIndex),resultIndex++}),results}},save:{results:function(results){module.verbose("Saving current search results to metadata",results),$module.data(metadata.results,results)}},write:{cache:function(name,value){var cache=$module.data(metadata.cache)!==undefined?$module.data(metadata.cache):{};settings.cache&&(module.verbose("Writing generated html to cache",name,value),cache[name]=value,$module.data(metadata.cache,cache))}},addResults:function(html){return $.isFunction(settings.onResultsAdd)&&settings.onResultsAdd.call($results,html)===!1?(module.debug("onResultsAdd callback cancelled default action"),!1):($results.html(html),void(module.can.show()&&module.showResults()))},showResults:function(){module.is.visible()||(module.can.transition()?(module.debug("Showing results with css animations"),$results.transition({animation:settings.transition+" in",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:!0})):(module.debug("Showing results with javascript"),$results.stop().fadeIn(settings.duration,settings.easing)),settings.onResultsOpen.call($results))},hideResults:function(){module.is.visible()&&(module.can.transition()?(module.debug("Hiding results with css animations"),$results.transition({animation:settings.transition+" out",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:!0})):(module.debug("Hiding results with javascript"),$results.stop().fadeOut(settings.duration,settings.easing)),settings.onResultsClose.call($results))},generateResults:function(response){module.debug("Generating html from response",response);var template=settings.templates[settings.type],isProperObject=$.isPlainObject(response[fields.results])&&!$.isEmptyObject(response[fields.results]),isProperArray=$.isArray(response[fields.results])&&response[fields.results].length>0,html="";return isProperObject||isProperArray?(settings.maxResults>0&&(isProperObject?"standard"==settings.type&&module.error(error.maxResults):response[fields.results]=response[fields.results].slice(0,settings.maxResults)),$.isFunction(template)?html=template(response,fields):module.error(error.noTemplate,!1)):html=module.displayMessage(error.noResults,"empty"),settings.onResults.call(element,response),html},displayMessage:function(text,type){return type=type||"standard",module.debug("Displaying message",text,type),module.addResults(settings.templates.message(text,type)),settings.templates.message(text,type)},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(query){},onResults:function(response){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(string){var badChars=/[&<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr]};return shouldEscape.test(string)?string.replace(badChars,escapedChar):string},message:function(message,type){var html="";return message!==undefined&&type!==undefined&&(html+='<div class="message '+type+'">',html+="empty"==type?'<div class="header">No Results</div class="header"><div class="description">'+message+'</div class="description">':' <div class="description">'+message+"</div>",html+="</div>"),html},category:function(response,fields){var html="";$.fn.search.settings.templates.escape;return response[fields.categoryResults]!==undefined?($.each(response[fields.categoryResults],function(index,category){category[fields.results]!==undefined&&category.results.length>0&&(html+='<div class="category">',category[fields.categoryName]!==undefined&&(html+='<div class="name">'+category[fields.categoryName]+"</div>"),$.each(category.results,function(index,result){html+=result[fields.url]?'<a class="result" href="'+result[fields.url]+'">':'<a class="result">',result[fields.image]!==undefined&&(html+='<div class="image"> <img src="'+result[fields.image]+'"></div>'),html+='<div class="content">',result[fields.price]!==undefined&&(html+='<div class="price">'+result[fields.price]+"</div>"),result[fields.title]!==undefined&&(html+='<div class="title">'+result[fields.title]+"</div>"),result[fields.description]!==undefined&&(html+='<div class="description">'+result[fields.description]+"</div>"),html+="</div>",html+="</a>"}),html+="</div>")}),response[fields.action]&&(html+='<a href="'+response[fields.action][fields.actionURL]+'" class="action">'+response[fields.action][fields.actionText]+"</a>"),html):!1},standard:function(response,fields){var html="";return response[fields.results]!==undefined?($.each(response[fields.results],function(index,result){html+=result[fields.url]?'<a class="result" href="'+result[fields.url]+'">':'<a class="result">',result[fields.image]!==undefined&&(html+='<div class="image"> <img src="'+result[fields.image]+'"></div>'),html+='<div class="content">',result[fields.price]!==undefined&&(html+='<div class="price">'+result[fields.price]+"</div>"),result[fields.title]!==undefined&&(html+='<div class="title">'+result[fields.title]+"</div>"),result[fields.description]!==undefined&&(html+='<div class="description">'+result[fields.description]+"</div>"),html+="</div>",html+="</a>"}),response[fields.action]&&(html+='<a href="'+response[fields.action][fields.actionURL]+'" class="action">'+response[fields.action][fields.actionText]+"</a>"),html):!1}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.shape=function(parameters){var returnedValue,$allModules=$(this),time=($("body"),(new Date).getTime()),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $activeSide,$nextSide,module,moduleSelector=$allModules.selector||"",settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.shape.settings,parameters):$.extend({},$.fn.shape.settings),namespace=settings.namespace,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$sides=$module.find(selector.sides),$side=$module.find(selector.side),nextIndex=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module for",element),module.set.defaultSide(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace).off(eventNamespace)},refresh:function(){module.verbose("Refreshing selector cache for",element),$module=$(element),$sides=$(this).find(selector.shape),$side=$(this).find(selector.side)},repaint:function(){module.verbose("Forcing repaint event");var shape=$sides[0]||document.createElement("div");shape.offsetWidth},animate:function(propertyObject,callback){module.verbose("Animating box with properties",propertyObject),callback=callback||function(event){module.verbose("Executing animation callback"),event!==undefined&&event.stopPropagation(),module.reset(),module.set.active()},settings.beforeChange.call($nextSide[0]),module.get.transitionEvent()?(module.verbose("Starting CSS animation"),$module.addClass(className.animating),$sides.css(propertyObject).one(module.get.transitionEvent(),callback),module.set.duration(settings.duration),requestAnimationFrame(function(){$module.addClass(className.animating),$activeSide.addClass(className.hidden)})):callback()},queue:function(method){module.debug("Queueing animation of",method),$sides.one(module.get.transitionEvent(),function(){module.debug("Executing queued animation"),setTimeout(function(){$module.shape(method)},0)})},reset:function(){module.verbose("Animating states reset"),$module.removeClass(className.animating).attr("style","").removeAttr("style"),$sides.attr("style","").removeAttr("style"),$side.attr("style","").removeAttr("style").removeClass(className.hidden),$nextSide.removeClass(className.animating).attr("style","").removeAttr("style")},is:{complete:function(){return $side.filter("."+className.active)[0]==$nextSide[0]},animating:function(){return $module.hasClass(className.animating)}},set:{defaultSide:function(){$activeSide=$module.find("."+settings.className.active),$nextSide=$activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$module.find(selector.side).first(),
nextIndex=!1,module.verbose("Active side set to",$activeSide),module.verbose("Next side set to",$nextSide)},duration:function(duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,module.verbose("Setting animation duration",duration),(settings.duration||0===settings.duration)&&$sides.add($side).css({"-webkit-transition-duration":duration,"-moz-transition-duration":duration,"-ms-transition-duration":duration,"-o-transition-duration":duration,"transition-duration":duration})},currentStageSize:function(){var $activeSide=$module.find("."+settings.className.active),width=$activeSide.outerWidth(!0),height=$activeSide.outerHeight(!0);$module.css({width:width,height:height})},stageSize:function(){var $clone=$module.clone().addClass(className.loading),$activeSide=$clone.find("."+settings.className.active),$nextSide=nextIndex?$clone.find(selector.side).eq(nextIndex):$activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$clone.find(selector.side).first(),newSize={};module.set.currentStageSize(),$activeSide.removeClass(className.active),$nextSide.addClass(className.active),$clone.insertAfter($module),newSize={width:$nextSide.outerWidth(!0),height:$nextSide.outerHeight(!0)},$clone.remove(),$module.css(newSize),module.verbose("Resizing stage to fit new content",newSize)},nextSide:function(selector){nextIndex=selector,$nextSide=$side.filter(selector),nextIndex=$side.index($nextSide),0===$nextSide.length&&(module.set.defaultSide(),module.error(error.side)),module.verbose("Next side manually set to",$nextSide)},active:function(){module.verbose("Setting new side to active",$nextSide),$side.removeClass(className.active),$nextSide.addClass(className.active),settings.onChange.call($nextSide[0]),module.set.defaultSide()}},flip:{up:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip up"):(module.debug("Flipping up",$nextSide),module.set.stageSize(),module.stage.above(),module.animate(module.get.transform.up()))):void module.debug("Side already visible",$nextSide)},down:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip down"):(module.debug("Flipping down",$nextSide),module.set.stageSize(),module.stage.below(),module.animate(module.get.transform.down()))):void module.debug("Side already visible",$nextSide)},left:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip left"):(module.debug("Flipping left",$nextSide),module.set.stageSize(),module.stage.left(),module.animate(module.get.transform.left()))):void module.debug("Side already visible",$nextSide)},right:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip right"):(module.debug("Flipping right",$nextSide),module.set.stageSize(),module.stage.right(),module.animate(module.get.transform.right()))):void module.debug("Side already visible",$nextSide)},over:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip over"):(module.debug("Flipping over",$nextSide),module.set.stageSize(),module.stage.behind(),module.animate(module.get.transform.over()))):void module.debug("Side already visible",$nextSide)},back:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip back"):(module.debug("Flipping back",$nextSide),module.set.stageSize(),module.stage.behind(),module.animate(module.get.transform.back()))):void module.debug("Side already visible",$nextSide)}},get:{transform:{up:function(){var translate={y:-(($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2),z:-($activeSide.outerHeight(!0)/2)};return{transform:"translateY("+translate.y+"px) translateZ("+translate.z+"px) rotateX(-90deg)"}},down:function(){var translate={y:-(($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2),z:-($activeSide.outerHeight(!0)/2)};return{transform:"translateY("+translate.y+"px) translateZ("+translate.z+"px) rotateX(90deg)"}},left:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2),z:-($activeSide.outerWidth(!0)/2)};return{transform:"translateX("+translate.x+"px) translateZ("+translate.z+"px) rotateY(90deg)"}},right:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2),z:-($activeSide.outerWidth(!0)/2)};return{transform:"translateX("+translate.x+"px) translateZ("+translate.z+"px) rotateY(-90deg)"}},over:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2)};return{transform:"translateX("+translate.x+"px) rotateY(180deg)"}},back:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2)};return{transform:"translateX("+translate.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]},nextSide:function(){return $activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$module.find(selector.side).first()}},stage:{above:function(){var box={origin:($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2,depth:{active:$nextSide.outerHeight(!0)/2,next:$activeSide.outerHeight(!0)/2}};module.verbose("Setting the initial animation position as above",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({top:box.origin+"px",transform:"rotateX(90deg) translateZ("+box.depth.next+"px)"})},below:function(){var box={origin:($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2,depth:{active:$nextSide.outerHeight(!0)/2,next:$activeSide.outerHeight(!0)/2}};module.verbose("Setting the initial animation position as below",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({top:box.origin+"px",transform:"rotateX(-90deg) translateZ("+box.depth.next+"px)"})},left:function(){var height={active:$activeSide.outerWidth(!0),next:$nextSide.outerWidth(!0)},box={origin:(height.active-height.next)/2,depth:{active:height.next/2,next:height.active/2}};module.verbose("Setting the initial animation position as left",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({left:box.origin+"px",transform:"rotateY(-90deg) translateZ("+box.depth.next+"px)"})},right:function(){var height={active:$activeSide.outerWidth(!0),next:$nextSide.outerWidth(!0)},box={origin:(height.active-height.next)/2,depth:{active:height.next/2,next:height.active/2}};module.verbose("Setting the initial animation position as left",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({left:box.origin+"px",transform:"rotateY(90deg) translateZ("+box.depth.next+"px)"})},behind:function(){var height={active:$activeSide.outerWidth(!0),next:$nextSide.outerWidth(!0)},box={origin:(height.active-height.next)/2,depth:{active:height.next/2,next:height.active/2}};module.verbose("Setting the initial animation position as behind",$nextSide,box),$activeSide.css({transform:"rotateY(0deg)"}),$nextSide.addClass(className.animating).css({left:box.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.sidebar=function(parameters){var returnedValue,$allModules=$(this),$window=$(window),$document=$(document),$html=$("html"),$head=$("head"),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $style,elementNamespace,id,currentScroll,transitionEvent,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.sidebar.settings,parameters):$.extend({},$.fn.sidebar.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,regExp=settings.regExp,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$sidebars=$module.children(selector.sidebar),$fixed=$context.children(selector.fixed),$pusher=$context.children(selector.pusher),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing sidebar",parameters),module.create.id(),transitionEvent=module.get.transitionEvent(),module.is.ios()&&module.set.ios(),settings.delaySetup?requestAnimationFrame(module.setup.layout):module.setup.layout(),requestAnimationFrame(function(){module.setup.cache()}),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)}},destroy:function(){module.verbose("Destroying previous module for",$module),$module.off(eventNamespace).removeData(moduleNamespace),module.is.ios()&&module.remove.ios(),$context.off(elementNamespace),$window.off(elementNamespace),$document.off(elementNamespace)},event:{clickaway:function(event){var clickedInPusher=$pusher.find(event.target).length>0||$pusher.is(event.target),clickedContext=$context.is(event.target);clickedInPusher&&(module.verbose("User clicked on dimmed page"),module.hide()),clickedContext&&(module.verbose("User clicked on dimmable context (scaled out page)"),module.hide())},touch:function(event){},containScroll:function(event){element.scrollTop<=0&&(element.scrollTop=1),element.scrollTop+element.offsetHeight>=element.scrollHeight&&(element.scrollTop=element.scrollHeight-element.offsetHeight-1)},scroll:function(event){0===$(event.target).closest(selector.sidebar).length&&event.preventDefault()}},bind:{clickaway:function(){module.verbose("Adding clickaway events to context",$context),settings.closable&&$context.on("click"+elementNamespace,module.event.clickaway).on("touchend"+elementNamespace,module.event.clickaway)},scrollLock:function(){settings.scrollLock&&(module.debug("Disabling page scroll"),$window.on("DOMMouseScroll"+elementNamespace,module.event.scroll)),module.verbose("Adding events to contain sidebar scroll"),$document.on("touchmove"+elementNamespace,module.event.touch),$module.on("scroll"+eventNamespace,module.event.containScroll)}},unbind:{clickaway:function(){module.verbose("Removing clickaway events from context",$context),$context.off(elementNamespace)},scrollLock:function(){module.verbose("Removing scroll lock from page"),$document.off(elementNamespace),$window.off(elementNamespace),$module.off("scroll"+eventNamespace)}},add:{inlineCSS:function(){var style,width=module.cache.width||$module.outerWidth(),height=module.cache.height||$module.outerHeight(),isRTL=module.is.rtl(),direction=module.get.direction(),distance={left:width,right:-width,top:height,bottom:-height};isRTL&&(module.verbose("RTL detected, flipping widths"),distance.left=-width,distance.right=width),style="<style>","left"===direction||"right"===direction?(module.debug("Adding CSS rules for animation distance",width),style+=" .ui.visible."+direction+".sidebar ~ .fixed, .ui.visible."+direction+".sidebar ~ .pusher {   -webkit-transform: translate3d("+distance[direction]+"px, 0, 0);           transform: translate3d("+distance[direction]+"px, 0, 0); }"):("top"===direction||"bottom"==direction)&&(style+=" .ui.visible."+direction+".sidebar ~ .fixed, .ui.visible."+direction+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+distance[direction]+"px, 0);           transform: translate3d(0, "+distance[direction]+"px, 0); }"),module.is.ie()&&("left"===direction||"right"===direction?(module.debug("Adding CSS rules for animation distance",width),style+=" body.pushable > .ui.visible."+direction+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+distance[direction]+"px, 0, 0);           transform: translate3d("+distance[direction]+"px, 0, 0); }"):("top"===direction||"bottom"==direction)&&(style+=" body.pushable > .ui.visible."+direction+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+distance[direction]+"px, 0);           transform: translate3d(0, "+distance[direction]+"px, 0); }"),style+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),style+="</style>",$style=$(style).appendTo($head),module.debug("Adding sizing css to head",$style)}},refresh:function(){module.verbose("Refreshing selector cache"),$context=$(settings.context),$sidebars=$context.children(selector.sidebar),$pusher=$context.children(selector.pusher),$fixed=$context.children(selector.fixed),module.clear.cache()},refreshSidebars:function(){module.verbose("Refreshing other sidebars"),$sidebars=$context.children(selector.sidebar)},repaint:function(){module.verbose("Forcing repaint event"),element.style.display="none";element.offsetHeight;element.scrollTop=element.scrollTop,element.style.display=""},setup:{cache:function(){module.cache={width:$module.outerWidth(),height:$module.outerHeight(),rtl:"rtl"==$module.css("direction")}},layout:function(){0===$context.children(selector.pusher).length&&(module.debug("Adding wrapper element for sidebar"),module.error(error.pusher),$pusher=$('<div class="pusher" />'),$context.children().not(selector.omitted).not($sidebars).wrapAll($pusher),module.refresh()),(0===$module.nextAll(selector.pusher).length||$module.nextAll(selector.pusher)[0]!==$pusher[0])&&(module.debug("Moved sidebar to correct parent element"),module.error(error.movedSidebar,element),$module.detach().prependTo($context),module.refresh()),module.clear.cache(),module.set.pushable(),module.set.direction()}},attachEvents:function(selector,event){var $toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$toggle.length>0?(module.debug("Attaching sidebar events to element",selector,event),$toggle.on("click"+eventNamespace,event)):module.error(error.notFound,selector)},show:function(callback){if(callback=$.isFunction(callback)?callback:function(){},module.is.hidden()){if(module.refreshSidebars(),settings.overlay&&(module.error(error.overlay),settings.transition="overlay"),module.refresh(),module.othersActive())if(module.debug("Other sidebars currently visible"),settings.exclusive){if("overlay"!=settings.transition)return void module.hideOthers(module.show);module.hideOthers()}else settings.transition="overlay";module.pushPage(function(){callback.call(element),settings.onShow.call(element)}),settings.onChange.call(element),settings.onVisible.call(element)}else module.debug("Sidebar is already visible")},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},(module.is.visible()||module.is.animating())&&(module.debug("Hiding sidebar",callback),module.refreshSidebars(),module.pullPage(function(){callback.call(element),settings.onHidden.call(element)}),settings.onChange.call(element),settings.onHide.call(element))},othersAnimating:function(){return $sidebars.not($module).filter("."+className.animating).length>0},othersVisible:function(){return $sidebars.not($module).filter("."+className.visible).length>0},othersActive:function(){return module.othersVisible()||module.othersAnimating()},hideOthers:function(callback){var $otherSidebars=$sidebars.not($module).filter("."+className.visible),sidebarCount=$otherSidebars.length,callbackCount=0;callback=callback||function(){},$otherSidebars.sidebar("hide",function(){callbackCount++,callbackCount==sidebarCount&&callback()})},toggle:function(){module.verbose("Determining toggled direction"),module.is.hidden()?module.show():module.hide()},pushPage:function(callback){var animate,dim,transitionEnd,transition=module.get.transition(),$transition="overlay"===transition||module.othersActive()?$module:$pusher;callback=$.isFunction(callback)?callback:function(){},"scale down"==settings.transition&&module.scrollToTop(),module.set.transition(transition),module.repaint(),animate=function(){module.bind.clickaway(),module.add.inlineCSS(),module.set.animating(),module.set.visible()},dim=function(){module.set.dimmed()},transitionEnd=function(event){event.target==$transition[0]&&($transition.off(transitionEvent+elementNamespace,transitionEnd),module.remove.animating(),module.bind.scrollLock(),callback.call(element))},$transition.off(transitionEvent+elementNamespace),$transition.on(transitionEvent+elementNamespace,transitionEnd),requestAnimationFrame(animate),settings.dimPage&&!module.othersVisible()&&requestAnimationFrame(dim)},pullPage:function(callback){var animate,transitionEnd,transition=module.get.transition(),$transition="overlay"==transition||module.othersActive()?$module:$pusher;callback=$.isFunction(callback)?callback:function(){},module.verbose("Removing context push state",module.get.direction()),module.unbind.clickaway(),module.unbind.scrollLock(),animate=function(){module.set.transition(transition),module.set.animating(),module.remove.visible(),settings.dimPage&&!module.othersVisible()&&$pusher.removeClass(className.dimmed)},transitionEnd=function(event){event.target==$transition[0]&&($transition.off(transitionEvent+elementNamespace,transitionEnd),module.remove.animating(),module.remove.transition(),module.remove.inlineCSS(),("scale down"==transition||settings.returnScroll&&module.is.mobile())&&module.scrollBack(),callback.call(element))},$transition.off(transitionEvent+elementNamespace),$transition.on(transitionEvent+elementNamespace,transitionEnd),requestAnimationFrame(animate)},scrollToTop:function(){module.verbose("Scrolling to top of page to avoid animation issues"),currentScroll=$(window).scrollTop(),$module.scrollTop(0),window.scrollTo(0,0)},scrollBack:function(){module.verbose("Scrolling back to original page position"),window.scrollTo(0,currentScroll)},clear:{cache:function(){module.verbose("Clearing cached dimensions"),module.cache={}}},set:{ios:function(){$html.addClass(className.ios)},pushed:function(){$context.addClass(className.pushed)},pushable:function(){$context.addClass(className.pushable)},dimmed:function(){$pusher.addClass(className.dimmed)},active:function(){$module.addClass(className.active)},animating:function(){$module.addClass(className.animating)},transition:function(transition){transition=transition||module.get.transition(),$module.addClass(transition)},direction:function(direction){direction=direction||module.get.direction(),$module.addClass(className[direction])},visible:function(){$module.addClass(className.visible)},overlay:function(){$module.addClass(className.overlay)}},remove:{inlineCSS:function(){module.debug("Removing inline css styles",$style),$style&&$style.length>0&&$style.remove()},ios:function(){$html.removeClass(className.ios)},pushed:function(){$context.removeClass(className.pushed)},pushable:function(){$context.removeClass(className.pushable)},active:function(){$module.removeClass(className.active)},animating:function(){$module.removeClass(className.animating)},transition:function(transition){transition=transition||module.get.transition(),$module.removeClass(transition)},direction:function(direction){direction=direction||module.get.direction(),$module.removeClass(className[direction])},visible:function(){$module.removeClass(className.visible)},overlay:function(){$module.removeClass(className.overlay)}},get:{direction:function(){return $module.hasClass(className.top)?className.top:$module.hasClass(className.right)?className.right:$module.hasClass(className.bottom)?className.bottom:className.left},transition:function(){var transition,direction=module.get.direction();return transition=module.is.mobile()?"auto"==settings.mobileTransition?settings.defaultTransition.mobile[direction]:settings.mobileTransition:"auto"==settings.transition?settings.defaultTransition.computer[direction]:settings.transition,module.verbose("Determined transition",transition),transition},transitionEvent:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]}},is:{ie:function(){var isIE11=!window.ActiveXObject&&"ActiveXObject"in window,isIE="ActiveXObject"in window;return isIE11||isIE},ios:function(){var userAgent=navigator.userAgent,isIOS=userAgent.match(regExp.ios),isMobileChrome=userAgent.match(regExp.mobileChrome);return isIOS&&!isMobileChrome?(module.verbose("Browser was found to be iOS",userAgent),!0):!1},mobile:function(){var userAgent=navigator.userAgent,isMobile=userAgent.match(regExp.mobile);return isMobile?(module.verbose("Browser was found to be mobile",userAgent),!0):(module.verbose("Browser is not mobile, using regular transition",userAgent),!1)},hidden:function(){return!module.is.visible()},visible:function(){return $module.hasClass(className.visible)},open:function(){return module.is.visible()},closed:function(){return module.is.hidden()},vertical:function(){return $module.hasClass(className.top)},animating:function(){return $context.hasClass(className.animating)},rtl:function(){return module.cache.rtl===undefined&&(module.cache.rtl="rtl"==$module.css("direction")),module.cache.rtl}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&module.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.sticky=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $container,$context,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.sticky.settings,parameters):$.extend({},$.fn.sticky.settings),className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$window=$(window),$scroll=$(settings.scrollContext),instance=($module.selector||"",$module.data(moduleNamespace)),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)},element=this;module={initialize:function(){module.determineContainer(),module.determineContext(),module.verbose("Initializing sticky",settings,$container),module.save.positions(),module.checkErrors(),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),
instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance"),module.reset(),observer&&observer.disconnect(),$window.off("load"+eventNamespace,module.event.load).off("resize"+eventNamespace,module.event.resize),$scroll.off("scrollchange"+eventNamespace,module.event.scrollchange),$module.removeData(moduleNamespace)},observeChanges:function(){var context=$context[0];"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){clearTimeout(module.timer),module.timer=setTimeout(function(){module.verbose("DOM tree modified, updating sticky menu",mutations),module.refresh()},100)}),observer.observe(element,{childList:!0,subtree:!0}),observer.observe(context,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},determineContainer:function(){$container=$module.offsetParent()},determineContext:function(){return $context=settings.context?$(settings.context):$container,0===$context.length?void module.error(error.invalidContext,settings.context,$module):void 0},checkErrors:function(){return module.is.hidden()&&module.error(error.visible,$module),module.cache.element.height>module.cache.context.height?(module.reset(),void module.error(error.elementSize,$module)):void 0},bind:{events:function(){$window.on("load"+eventNamespace,module.event.load).on("resize"+eventNamespace,module.event.resize),$scroll.off("scroll"+eventNamespace).on("scroll"+eventNamespace,module.event.scroll).on("scrollchange"+eventNamespace,module.event.scrollchange)}},event:{load:function(){module.verbose("Page contents finished loading"),requestAnimationFrame(module.refresh)},resize:function(){module.verbose("Window resized"),requestAnimationFrame(module.refresh)},scroll:function(){requestAnimationFrame(function(){$scroll.triggerHandler("scrollchange"+eventNamespace,$scroll.scrollTop())})},scrollchange:function(event,scrollPosition){module.stick(scrollPosition),settings.onScroll.call(element)}},refresh:function(hardRefresh){module.reset(),settings.context||module.determineContext(),hardRefresh&&module.determineContainer(),module.save.positions(),module.stick(),settings.onReposition.call(element)},supports:{sticky:function(){var $element=$("<div/>");$element[0];return $element.addClass(className.supported),$element.css("position").match("sticky")}},save:{lastScroll:function(scroll){module.lastScroll=scroll},elementScroll:function(scroll){module.elementScroll=scroll},positions:function(){var scrollContext={height:$scroll.height()},element={margin:{top:parseInt($module.css("margin-top"),10),bottom:parseInt($module.css("margin-bottom"),10)},offset:$module.offset(),width:$module.outerWidth(),height:$module.outerHeight()},context={offset:$context.offset(),height:$context.outerHeight()};({height:$container.outerHeight()});module.is.standardScroll()||(module.debug("Non-standard scroll. Removing scroll offset from element offset"),scrollContext.top=$scroll.scrollTop(),scrollContext.left=$scroll.scrollLeft(),element.offset.top+=scrollContext.top,context.offset.top+=scrollContext.top,element.offset.left+=scrollContext.left,context.offset.left+=scrollContext.left),module.cache={fits:element.height<scrollContext.height,scrollContext:{height:scrollContext.height},element:{margin:element.margin,top:element.offset.top-element.margin.top,left:element.offset.left,width:element.width,height:element.height,bottom:element.offset.top+element.height},context:{top:context.offset.top,height:context.height,bottom:context.offset.top+context.height}},module.set.containerSize(),module.set.size(),module.stick(),module.debug("Caching element positions",module.cache)}},get:{direction:function(scroll){var direction="down";return scroll=scroll||$scroll.scrollTop(),module.lastScroll!==undefined&&(module.lastScroll<scroll?direction="down":module.lastScroll>scroll&&(direction="up")),direction},scrollChange:function(scroll){return scroll=scroll||$scroll.scrollTop(),module.lastScroll?scroll-module.lastScroll:0},currentElementScroll:function(){return module.elementScroll?module.elementScroll:module.is.top()?Math.abs(parseInt($module.css("top"),10))||0:Math.abs(parseInt($module.css("bottom"),10))||0},elementScroll:function(scroll){scroll=scroll||$scroll.scrollTop();var element=module.cache.element,scrollContext=module.cache.scrollContext,delta=module.get.scrollChange(scroll),maxScroll=element.height-scrollContext.height+settings.offset,elementScroll=module.get.currentElementScroll(),possibleScroll=elementScroll+delta;return elementScroll=module.cache.fits||0>possibleScroll?0:possibleScroll>maxScroll?maxScroll:possibleScroll}},remove:{lastScroll:function(){delete module.lastScroll},elementScroll:function(scroll){delete module.elementScroll},offset:function(){$module.css("margin-top","")}},set:{offset:function(){module.verbose("Setting offset on element",settings.offset),$module.css("margin-top",settings.offset)},containerSize:function(){var tagName=$container.get(0).tagName;"HTML"===tagName||"body"==tagName?module.determineContainer():Math.abs($container.outerHeight()-module.cache.context.height)>settings.jitter&&(module.debug("Context has padding, specifying exact height for container",module.cache.context.height),$container.css({height:module.cache.context.height}))},minimumSize:function(){var element=module.cache.element;$container.css("min-height",element.height)},scroll:function(scroll){module.debug("Setting scroll on element",scroll),module.elementScroll!=scroll&&(module.is.top()&&$module.css("bottom","").css("top",-scroll),module.is.bottom()&&$module.css("top","").css("bottom",scroll))},size:function(){0!==module.cache.element.height&&0!==module.cache.element.width&&(element.style.setProperty("width",module.cache.element.width+"px","important"),element.style.setProperty("height",module.cache.element.height+"px","important"))}},is:{standardScroll:function(){return $scroll[0]==window},top:function(){return $module.hasClass(className.top)},bottom:function(){return $module.hasClass(className.bottom)},initialPosition:function(){return!module.is.fixed()&&!module.is.bound()},hidden:function(){return!$module.is(":visible")},bound:function(){return $module.hasClass(className.bound)},fixed:function(){return $module.hasClass(className.fixed)}},stick:function(scroll){var cachedPosition=scroll||$scroll.scrollTop(),cache=module.cache,fits=cache.fits,element=cache.element,scrollContext=cache.scrollContext,context=cache.context,offset=module.is.bottom()&&settings.pushing?settings.bottomOffset:settings.offset,scroll={top:cachedPosition+offset,bottom:cachedPosition+offset+scrollContext.height},elementScroll=(module.get.direction(scroll.top),fits?0:module.get.elementScroll(scroll.top)),doesntFit=!fits,elementVisible=0!==element.height;elementVisible&&(module.is.initialPosition()?scroll.top>=context.bottom?(module.debug("Initial element position is bottom of container"),module.bindBottom()):scroll.top>element.top&&(element.height+scroll.top-elementScroll>=context.bottom?(module.debug("Initial element position is bottom of container"),module.bindBottom()):(module.debug("Initial element position is fixed"),module.fixTop())):module.is.fixed()?module.is.top()?scroll.top<=element.top?(module.debug("Fixed element reached top of container"),module.setInitialPosition()):element.height+scroll.top-elementScroll>=context.bottom?(module.debug("Fixed element reached bottom of container"),module.bindBottom()):doesntFit&&(module.set.scroll(elementScroll),module.save.lastScroll(scroll.top),module.save.elementScroll(elementScroll)):module.is.bottom()&&(scroll.bottom-element.height<=element.top?(module.debug("Bottom fixed rail has reached top of container"),module.setInitialPosition()):scroll.bottom>=context.bottom?(module.debug("Bottom fixed rail has reached bottom of container"),module.bindBottom()):doesntFit&&(module.set.scroll(elementScroll),module.save.lastScroll(scroll.top),module.save.elementScroll(elementScroll))):module.is.bottom()&&(scroll.top<=element.top?(module.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),module.setInitialPosition()):settings.pushing?module.is.bound()&&scroll.bottom<=context.bottom&&(module.debug("Fixing bottom attached element to bottom of browser."),module.fixBottom()):module.is.bound()&&scroll.top<=context.bottom-element.height&&(module.debug("Fixing bottom attached element to top of browser."),module.fixTop())))},bindTop:function(){module.debug("Binding element to top of parent container"),module.remove.offset(),$module.css({left:"",top:"",marginBottom:""}).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top),settings.onTop.call(element),settings.onUnstick.call(element)},bindBottom:function(){module.debug("Binding element to bottom of parent container"),module.remove.offset(),$module.css({left:"",top:""}).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom),settings.onBottom.call(element),settings.onUnstick.call(element)},setInitialPosition:function(){module.debug("Returning to initial position"),module.unfix(),module.unbind()},fixTop:function(){module.debug("Fixing element to top of page"),module.set.minimumSize(),module.set.offset(),$module.css({left:module.cache.element.left,bottom:"",marginBottom:""}).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top),settings.onStick.call(element)},fixBottom:function(){module.debug("Sticking element to bottom of page"),module.set.minimumSize(),module.set.offset(),$module.css({left:module.cache.element.left,bottom:"",marginBottom:""}).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom),settings.onStick.call(element)},unbind:function(){module.is.bound()&&(module.debug("Removing container bound position on element"),module.remove.offset(),$module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom))},unfix:function(){module.is.fixed()&&(module.debug("Removing fixed position on element"),module.remove.offset(),$module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom),settings.onUnstick.call(element))},reset:function(){module.debug("Reseting elements position"),module.unbind(),module.unfix(),module.resetCSS(),module.remove.offset(),module.remove.lastScroll()},resetCSS:function(){$module.css({width:"",height:""}),$container.css({height:""})},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,0)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:window,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.tab=function(parameters){var returnedValue,$allModules=$($.isFunction(this)?window:this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),initializedHistory=!1;return $allModules.each(function(){var $context,$tabs,activeTabPath,parameterArray,module,historyEvent,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.tab.settings,parameters):$.extend({},$.fn.tab.settings),className=settings.className,metadata=settings.metadata,selector=settings.selector,error=settings.error,eventNamespace="."+settings.namespace,moduleNamespace="module-"+settings.namespace,$module=$(this),cache={},firstLoad=!0,recursionDepth=0,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing tab menu item",$module),module.fix.callbacks(),module.determineTabs(),module.debug("Determining tabs",settings.context,$tabs),settings.auto&&module.set.auto(),module.bind.events(),settings.history&&!initializedHistory&&(module.initializeHistory(),initializedHistory=!0),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.debug("Destroying tabs",$module),$module.removeData(moduleNamespace).off(eventNamespace)},bind:{events:function(){$.isWindow(element)||(module.debug("Attaching tab activation events to element",$module),$module.on("click"+eventNamespace,module.event.click))}},determineTabs:function(){var $reference;"parent"===settings.context?($module.closest(selector.ui).length>0?($reference=$module.closest(selector.ui),module.verbose("Using closest UI element as parent",$reference)):$reference=$module,$context=$reference.parent(),module.verbose("Determined parent element for creating context",$context)):settings.context?($context=$(settings.context),module.verbose("Using selector for tab context",settings.context,$context)):$context=$("body"),settings.childrenOnly?($tabs=$context.children(selector.tabs),module.debug("Searching tab context children for tabs",$context,$tabs)):($tabs=$context.find(selector.tabs),module.debug("Searching tab context for tabs",$context,$tabs))},fix:{callbacks:function(){$.isPlainObject(parameters)&&(parameters.onTabLoad||parameters.onTabInit)&&(parameters.onTabLoad&&(parameters.onLoad=parameters.onTabLoad,delete parameters.onTabLoad,module.error(error.legacyLoad,parameters.onLoad)),parameters.onTabInit&&(parameters.onFirstLoad=parameters.onTabInit,delete parameters.onTabInit,module.error(error.legacyInit,parameters.onFirstLoad)),settings=$.extend(!0,{},$.fn.tab.settings,parameters))}},initializeHistory:function(){if(module.debug("Initializing page state"),$.address===undefined)return module.error(error.state),!1;if("state"==settings.historyType){if(module.debug("Using HTML5 to manage state"),settings.path===!1)return module.error(error.path),!1;$.address.history(!0).state(settings.path)}$.address.bind("change",module.event.history.change)},event:{click:function(event){var tabPath=$(this).data(metadata.tab);tabPath!==undefined?(settings.history?(module.verbose("Updating page state",event),$.address.value(tabPath)):(module.verbose("Changing tab",event),module.changeTab(tabPath)),event.preventDefault()):module.debug("No tab specified")},history:{change:function(event){var tabPath=event.pathNames.join("/")||module.get.initialPath(),pageTitle=settings.templates.determineTitle(tabPath)||!1;module.performance.display(),module.debug("History change event",tabPath,event),historyEvent=event,tabPath!==undefined&&module.changeTab(tabPath),pageTitle&&$.address.title(pageTitle)}}},refresh:function(){activeTabPath&&(module.debug("Refreshing tab",activeTabPath),module.changeTab(activeTabPath))},cache:{read:function(cacheKey){return cacheKey!==undefined?cache[cacheKey]:!1},add:function(cacheKey,content){cacheKey=cacheKey||activeTabPath,module.debug("Adding cached content for",cacheKey),cache[cacheKey]=content},remove:function(cacheKey){cacheKey=cacheKey||activeTabPath,module.debug("Removing cached content for",cacheKey),delete cache[cacheKey]}},set:{auto:function(){var url="string"==typeof settings.path?settings.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";module.verbose("Setting up automatic tab retrieval from server",url),$.isPlainObject(settings.apiSettings)?settings.apiSettings.url=url:settings.apiSettings={url:url}},loading:function(tabPath){var $tab=module.get.tabElement(tabPath),isLoading=$tab.hasClass(className.loading);isLoading||(module.verbose("Setting loading state for",$tab),$tab.addClass(className.loading).siblings($tabs).removeClass(className.active+" "+className.loading),$tab.length>0&&settings.onRequest.call($tab[0],tabPath))},state:function(state){$.address.value(state)}},changeTab:function(tabPath){var pushStateAvailable=window.history&&window.history.pushState,shouldIgnoreLoad=pushStateAvailable&&settings.ignoreFirstLoad&&firstLoad,remoteContent=settings.auto||$.isPlainObject(settings.apiSettings),pathArray=remoteContent&&!shouldIgnoreLoad?module.utilities.pathToArray(tabPath):module.get.defaultPathArray(tabPath);tabPath=module.utilities.arrayToPath(pathArray),$.each(pathArray,function(index,tab){var $anchor,nextPathArray,nextPath,isLastTab,currentPathArray=pathArray.slice(0,index+1),currentPath=module.utilities.arrayToPath(currentPathArray),isTab=module.is.tab(currentPath),isLastIndex=index+1==pathArray.length,$tab=module.get.tabElement(currentPath);if(module.verbose("Looking for tab",tab),isTab){if(module.verbose("Tab was found",tab),activeTabPath=currentPath,parameterArray=module.utilities.filterArray(pathArray,currentPathArray),isLastIndex?isLastTab=!0:(nextPathArray=pathArray.slice(0,index+2),nextPath=module.utilities.arrayToPath(nextPathArray),isLastTab=!module.is.tab(nextPath),isLastTab&&module.verbose("Tab parameters found",nextPathArray)),isLastTab&&remoteContent)return shouldIgnoreLoad?(module.debug("Ignoring remote content on first tab load",currentPath),firstLoad=!1,module.cache.add(tabPath,$tab.html()),module.activate.all(currentPath),settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent),settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent)):(module.activate.navigation(currentPath),module.fetch.content(currentPath,tabPath)),!1;module.debug("Opened local tab",currentPath),module.activate.all(currentPath),module.cache.read(currentPath)||(module.cache.add(currentPath,!0),module.debug("First time tab loaded calling tab init"),settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent)),settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent)}else{if(-1!=tabPath.search("/")||""===tabPath)return module.error(error.missingTab,$module,$context,currentPath),!1;if($anchor=$("#"+tabPath+', a[name="'+tabPath+'"]'),currentPath=$anchor.closest("[data-tab]").data(metadata.tab),$tab=module.get.tabElement(currentPath),$anchor&&$anchor.length>0&&currentPath)return module.debug("Anchor link used, opening parent tab",$tab,$anchor),$tab.hasClass(className.active)||setTimeout(function(){module.scrollTo($anchor)},0),module.activate.all(currentPath),module.cache.read(currentPath)||(module.cache.add(currentPath,!0),module.debug("First time tab loaded calling tab init"),settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent)),settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent),!1}})},scrollTo:function($element){var scrollOffset=$element&&$element.length>0?$element.offset().top:!1;scrollOffset!==!1&&(module.debug("Forcing scroll to an in-page link in a hidden tab",scrollOffset,$element),$(document).scrollTop(scrollOffset))},update:{content:function(tabPath,html,evaluateScripts){var $tab=module.get.tabElement(tabPath),tab=$tab[0];evaluateScripts=evaluateScripts!==undefined?evaluateScripts:settings.evaluateScripts,evaluateScripts?(module.debug("Updating HTML and evaluating inline scripts",tabPath,html),$tab.html(html)):(module.debug("Updating HTML",tabPath,html),tab.innerHTML=html)}},fetch:{content:function(tabPath,fullTabPath){var requestSettings,cachedContent,$tab=module.get.tabElement(tabPath),apiSettings={dataType:"html",encodeParameters:!1,on:"now",cache:settings.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(response){module.cache.add(fullTabPath,response),module.update.content(tabPath,response),tabPath==activeTabPath?(module.debug("Content loaded",tabPath),module.activate.tab(tabPath)):module.debug("Content loaded in background",tabPath),settings.onFirstLoad.call($tab[0],tabPath,parameterArray,historyEvent),settings.onLoad.call($tab[0],tabPath,parameterArray,historyEvent)},urlData:{tab:fullTabPath}},request=$tab.api("get request")||!1,existingRequest=request&&"pending"===request.state();fullTabPath=fullTabPath||tabPath,cachedContent=module.cache.read(fullTabPath),settings.cache&&cachedContent?(module.activate.tab(tabPath),module.debug("Adding cached content",fullTabPath),"once"==settings.evaluateScripts?module.update.content(tabPath,cachedContent,!1):module.update.content(tabPath,cachedContent),settings.onLoad.call($tab[0],tabPath,parameterArray,historyEvent)):existingRequest?(module.set.loading(tabPath),module.debug("Content is already loading",fullTabPath)):$.api!==undefined?(requestSettings=$.extend(!0,{},settings.apiSettings,apiSettings),module.debug("Retrieving remote content",fullTabPath,requestSettings),module.set.loading(tabPath),$tab.api(requestSettings)):module.error(error.api)}},activate:{all:function(tabPath){module.activate.tab(tabPath),module.activate.navigation(tabPath)},tab:function(tabPath){var $tab=module.get.tabElement(tabPath),isActive=$tab.hasClass(className.active);module.verbose("Showing tab content for",$tab),isActive||($tab.addClass(className.active).siblings($tabs).removeClass(className.active+" "+className.loading),$tab.length>0&&settings.onVisible.call($tab[0],tabPath))},navigation:function(tabPath){var $navigation=module.get.navElement(tabPath),isActive=$navigation.hasClass(className.active);module.verbose("Activating tab navigation for",$navigation,tabPath),isActive||$navigation.addClass(className.active).siblings($allModules).removeClass(className.active+" "+className.loading)}},deactivate:{all:function(){module.deactivate.navigation(),module.deactivate.tabs()},navigation:function(){$allModules.removeClass(className.active)},tabs:function(){$tabs.removeClass(className.active+" "+className.loading)}},is:{tab:function(tabName){return tabName!==undefined?module.get.tabElement(tabName).length>0:!1}},get:{initialPath:function(){return $allModules.eq(0).data(metadata.tab)||$tabs.eq(0).data(metadata.tab)},path:function(){return $.address.value()},defaultPathArray:function(tabPath){return module.utilities.pathToArray(module.get.defaultPath(tabPath))},defaultPath:function(tabPath){var $defaultNav=$allModules.filter("[data-"+metadata.tab+'^="'+tabPath+'/"]').eq(0),defaultTab=$defaultNav.data(metadata.tab)||!1;if(defaultTab){if(module.debug("Found default tab",defaultTab),recursionDepth<settings.maxDepth)return recursionDepth++,module.get.defaultPath(defaultTab);module.error(error.recursion)}else module.debug("No default tabs found for",tabPath,$tabs);return recursionDepth=0,tabPath},navElement:function(tabPath){return tabPath=tabPath||activeTabPath,$allModules.filter("[data-"+metadata.tab+'="'+tabPath+'"]')},tabElement:function(tabPath){var $fullPathTab,$simplePathTab,tabPathArray,lastTab;return tabPath=tabPath||activeTabPath,tabPathArray=module.utilities.pathToArray(tabPath),lastTab=module.utilities.last(tabPathArray),$fullPathTab=$tabs.filter("[data-"+metadata.tab+'="'+tabPath+'"]'),$simplePathTab=$tabs.filter("[data-"+metadata.tab+'="'+lastTab+'"]'),$fullPathTab.length>0?$fullPathTab:$simplePathTab},tab:function(){return activeTabPath}},utilities:{filterArray:function(keepArray,removeArray){return $.grep(keepArray,function(keepValue){return-1==$.inArray(keepValue,removeArray)})},last:function(array){return $.isArray(array)?array[array.length-1]:!1},pathToArray:function(pathName){return pathName===undefined&&(pathName=activeTabPath),"string"==typeof pathName?pathName.split("/"):[pathName]},arrayToPath:function(pathArray){return $.isArray(pathArray)?pathArray.join("/"):!1}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.tab=function(){$(window).tab.apply(this,arguments)},$.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(tabPath,parameterArray,historyEvent){},onLoad:function(tabPath,parameterArray,historyEvent){},onVisible:function(tabPath,parameterArray,historyEvent){},onRequest:function(tabPath,parameterArray,historyEvent){},templates:{determineTitle:function(tabArray){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.transition=function(){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],moduleArguments=arguments,query=moduleArguments[0],queryArguments=[].slice.call(arguments,1),methodInvoked="string"==typeof query;window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(index){var settings,instance,error,className,metadata,animationEnd,moduleNamespace,eventNamespace,module,$module=$(this),element=this;module={initialize:function(){settings=module.get.settings.apply(element,moduleArguments),className=settings.className,
error=settings.error,metadata=settings.metadata,eventNamespace="."+settings.namespace,moduleNamespace="module-"+settings.namespace,instance=$module.data(moduleNamespace)||module,animationEnd=module.get.animationEndEvent(),methodInvoked&&(methodInvoked=module.invoke(query)),methodInvoked===!1&&(module.verbose("Converted arguments into settings object",settings),settings.interval?module.delay(settings.animate):module.animate(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing display type on next animation"),delete module.displayType},forceRepaint:function(){module.verbose("Forcing element repaint");var $parentElement=$module.parent(),$nextElement=$module.next();0===$nextElement.length?$module.detach().appendTo($parentElement):$module.detach().insertBefore($nextElement)},repaint:function(){module.verbose("Repainting element");element.offsetWidth},delay:function(interval){var shouldReverse,delay,direction=module.get.animationDirection();direction||(direction=module.can.transition()?module.get.direction():"static"),interval=interval!==undefined?interval:settings.interval,shouldReverse="auto"==settings.reverse&&direction==className.outward,delay=shouldReverse||1==settings.reverse?($allModules.length-index)*settings.interval:index*settings.interval,module.debug("Delaying animation by",delay),setTimeout(module.animate,delay)},animate:function(overrideSettings){if(settings=overrideSettings||settings,!module.is.supported())return module.error(error.support),!1;if(module.debug("Preparing animation",settings.animation),module.is.animating()){if(settings.queue)return!settings.allowRepeats&&module.has.direction()&&module.is.occurring()&&module.queuing!==!0?module.debug("Animation is currently occurring, preventing queueing same animation",settings.animation):module.queue(settings.animation),!1;if(!settings.allowRepeats&&module.is.occurring())return module.debug("Animation is already occurring, will not execute repeated animation",settings.animation),!1;module.debug("New animation started, completing previous early",settings.animation),instance.complete()}module.can.animate()?module.set.animating(settings.animation):module.error(error.noAnimation,settings.animation,element)},reset:function(){module.debug("Resetting animation to beginning conditions"),module.remove.animationCallbacks(),module.restore.conditions(),module.remove.animating()},queue:function(animation){module.debug("Queueing animation of",animation),module.queuing=!0,$module.one(animationEnd+".queue"+eventNamespace,function(){module.queuing=!1,module.repaint(),module.animate.apply(this,settings)})},complete:function(event){module.debug("Animation complete",settings.animation),module.remove.completeCallback(),module.remove.failSafe(),module.is.looping()||(module.is.outward()?(module.verbose("Animation is outward, hiding element"),module.restore.conditions(),module.hide()):module.is.inward()?(module.verbose("Animation is outward, showing element"),module.restore.conditions(),module.show()):(module.verbose("Static animation completed"),module.restore.conditions(),settings.onComplete.call(element)))},force:{visible:function(){var style=$module.attr("style"),userStyle=module.get.userStyle(),displayType=module.get.displayType(),overrideStyle=userStyle+"display: "+displayType+" !important;",currentDisplay=$module.css("display"),emptyStyle=style===undefined||""===style;currentDisplay!==displayType?(module.verbose("Overriding default display to show element",displayType),$module.attr("style",overrideStyle)):emptyStyle&&$module.removeAttr("style")},hidden:function(){var style=$module.attr("style"),currentDisplay=$module.css("display"),emptyStyle=style===undefined||""===style;"none"===currentDisplay||module.is.hidden()?emptyStyle&&$module.removeAttr("style"):(module.verbose("Overriding default display to hide element"),$module.css("display","none"))}},has:{direction:function(animation){var hasDirection=!1;return animation=animation||settings.animation,"string"==typeof animation&&(animation=animation.split(" "),$.each(animation,function(index,word){(word===className.inward||word===className.outward)&&(hasDirection=!0)})),hasDirection},inlineDisplay:function(){var style=$module.attr("style")||"";return $.isArray(style.match(/display.*?;/,""))}},set:{animating:function(animation){var animationClass;module.remove.completeCallback(),animation=animation||settings.animation,animationClass=module.get.animationClass(animation),module.save.animation(animationClass),module.force.visible(),module.remove.hidden(),module.remove.direction(),module.start.animation(animationClass)},duration:function(animationName,duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,(duration||0===duration)&&(module.verbose("Setting animation duration",duration),$module.css({"animation-duration":duration}))},direction:function(direction){direction=direction||module.get.direction(),direction==className.inward?module.set.inward():module.set.outward()},looping:function(){module.debug("Transition set to loop"),$module.addClass(className.looping)},hidden:function(){$module.addClass(className.transition).addClass(className.hidden)},inward:function(){module.debug("Setting direction to inward"),$module.removeClass(className.outward).addClass(className.inward)},outward:function(){module.debug("Setting direction to outward"),$module.removeClass(className.inward).addClass(className.outward)},visible:function(){$module.addClass(className.transition).addClass(className.visible)}},start:{animation:function(animationClass){animationClass=animationClass||module.get.animationClass(),module.debug("Starting tween",animationClass),$module.addClass(animationClass).one(animationEnd+".complete"+eventNamespace,module.complete),settings.useFailSafe&&module.add.failSafe(),module.set.duration(settings.duration),settings.onStart.call(element)}},save:{animation:function(animation){module.cache||(module.cache={}),module.cache.animation=animation},displayType:function(displayType){"none"!==displayType&&$module.data(metadata.displayType,displayType)},transitionExists:function(animation,exists){$.fn.transition.exists[animation]=exists,module.verbose("Saving existence of transition",animation,exists)}},restore:{conditions:function(){var animation=module.get.currentAnimation();animation&&($module.removeClass(animation),module.verbose("Removing animation class",module.cache)),module.remove.duration()}},add:{failSafe:function(){var duration=module.get.duration();module.timer=setTimeout(function(){$module.triggerHandler(animationEnd)},duration+settings.failSafeDelay),module.verbose("Adding fail safe timer",module.timer)}},remove:{animating:function(){$module.removeClass(className.animating)},animationCallbacks:function(){module.remove.queueCallback(),module.remove.completeCallback()},queueCallback:function(){$module.off(".queue"+eventNamespace)},completeCallback:function(){$module.off(".complete"+eventNamespace)},display:function(){$module.css("display","")},direction:function(){$module.removeClass(className.inward).removeClass(className.outward)},duration:function(){$module.css("animation-duration","")},failSafe:function(){module.verbose("Removing fail safe timer",module.timer),module.timer&&clearTimeout(module.timer)},hidden:function(){$module.removeClass(className.hidden)},visible:function(){$module.removeClass(className.visible)},looping:function(){module.debug("Transitions are no longer looping"),module.is.looping()&&(module.reset(),$module.removeClass(className.looping))},transition:function(){$module.removeClass(className.visible).removeClass(className.hidden)}},get:{settings:function(animation,duration,onComplete){return"object"==typeof animation?$.extend(!0,{},$.fn.transition.settings,animation):"function"==typeof onComplete?$.extend({},$.fn.transition.settings,{animation:animation,onComplete:onComplete,duration:duration}):"string"==typeof duration||"number"==typeof duration?$.extend({},$.fn.transition.settings,{animation:animation,duration:duration}):"object"==typeof duration?$.extend({},$.fn.transition.settings,duration,{animation:animation}):"function"==typeof duration?$.extend({},$.fn.transition.settings,{animation:animation,onComplete:duration}):$.extend({},$.fn.transition.settings,{animation:animation})},animationClass:function(animation){var animationClass=animation||settings.animation,directionClass=module.can.transition()&&!module.has.direction()?module.get.direction()+" ":"";return className.animating+" "+className.transition+" "+directionClass+animationClass},currentAnimation:function(){return module.cache&&module.cache.animation!==undefined?module.cache.animation:!1},currentDirection:function(){return module.is.inward()?className.inward:className.outward},direction:function(){return module.is.hidden()||!module.is.visible()?className.inward:className.outward},animationDirection:function(animation){var direction;return animation=animation||settings.animation,"string"==typeof animation&&(animation=animation.split(" "),$.each(animation,function(index,word){word===className.inward?direction=className.inward:word===className.outward&&(direction=className.outward)})),direction?direction:!1},duration:function(duration){return duration=duration||settings.duration,duration===!1&&(duration=$module.css("animation-duration")||0),"string"==typeof duration?duration.indexOf("ms")>-1?parseFloat(duration):1e3*parseFloat(duration):duration},displayType:function(){return settings.displayType?settings.displayType:($module.data(metadata.displayType)===undefined&&module.can.transition(!0),$module.data(metadata.displayType))},userStyle:function(style){return style=style||$module.attr("style")||"",style.replace(/display.*?;/,"")},transitionExists:function(animation){return $.fn.transition.exists[animation]},animationStartEvent:function(){var animation,element=document.createElement("div"),animations={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1},animationEndEvent:function(){var animation,element=document.createElement("div"),animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1}},can:{transition:function(forced){var elementClass,tagName,$clone,currentAnimation,inAnimation,directionExists,displayType,animation=settings.animation,transitionExists=module.get.transitionExists(animation);if(transitionExists===undefined||forced){if(module.verbose("Determining whether animation exists"),elementClass=$module.attr("class"),tagName=$module.prop("tagName"),$clone=$("<"+tagName+" />").addClass(elementClass).insertAfter($module),currentAnimation=$clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css("animationName"),inAnimation=$clone.addClass(className.inward).css("animationName"),displayType=$clone.attr("class",elementClass).removeAttr("style").removeClass(className.hidden).removeClass(className.visible).show().css("display"),module.verbose("Determining final display state",displayType),module.save.displayType(displayType),$clone.remove(),currentAnimation!=inAnimation)module.debug("Direction exists for animation",animation),directionExists=!0;else{if("none"==currentAnimation||!currentAnimation)return void module.debug("No animation defined in css",animation);module.debug("Static animation found",animation,displayType),directionExists=!1}module.save.transitionExists(animation,directionExists)}return transitionExists!==undefined?transitionExists:directionExists},animate:function(){return module.can.transition()!==undefined}},is:{animating:function(){return $module.hasClass(className.animating)},inward:function(){return $module.hasClass(className.inward)},outward:function(){return $module.hasClass(className.outward)},looping:function(){return $module.hasClass(className.looping)},occurring:function(animation){return animation=animation||settings.animation,animation="."+animation.replace(" ","."),$module.filter(animation).length>0},visible:function(){return $module.is(":visible")},hidden:function(){return"hidden"===$module.css("visibility")},supported:function(){return animationEnd!==!1}},hide:function(){module.verbose("Hiding element"),module.is.animating()&&module.reset(),element.blur(),module.remove.display(),module.remove.visible(),module.set.hidden(),module.force.hidden(),settings.onHide.call(element),settings.onComplete.call(element)},show:function(display){module.verbose("Showing element",display),module.remove.hidden(),module.set.visible(),module.force.visible(),settings.onShow.call(element),settings.onComplete.call(element)},toggle:function(){module.is.visible()?module.hide():module.show()},stop:function(){module.debug("Stopping current animation"),$module.triggerHandler(animationEnd)},stopAll:function(){module.debug("Stopping all animation"),module.remove.queueCallback(),$module.triggerHandler(animationEnd)},clear:{queue:function(){module.debug("Clearing animation queue"),module.remove.queueCallback()}},enable:function(){module.verbose("Starting animation"),$module.removeClass(className.disabled)},disable:function(){module.debug("Stopping animation"),$module.addClass(className.disabled)},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found!==undefined?found:!1}},module.initialize()}),returnedValue!==undefined?returnedValue:this},$.fn.transition.exists={},$.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.api=$.fn.api=function(parameters){var returnedValue,$allModules=$($.isFunction(this)?window:this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var ajaxSettings,requestSettings,url,data,requestStartTime,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.api.settings,parameters):$.extend({},$.fn.api.settings),namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$form=$module.closest(selector.form),$context=settings.stateContext?$(settings.stateContext):$module,element=this,context=$context[0],instance=$module.data(moduleNamespace);module={initialize:function(){methodInvoked||module.bind.events(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace).off(eventNamespace)},bind:{events:function(){var triggerEvent=module.get.event();triggerEvent?(module.verbose("Attaching API events to element",triggerEvent),$module.on(triggerEvent+eventNamespace,module.event.trigger)):"now"==settings.on&&(module.debug("Querying API endpoint immediately"),module.query())}},decode:{json:function(response){if(response!==undefined&&"string"==typeof response)try{response=JSON.parse(response)}catch(e){}return response}},read:{cachedResponse:function(url){var response;return window.Storage===undefined?void module.error(error.noStorage):(response=sessionStorage.getItem(url),module.debug("Using cached response",url,response),response=module.decode.json(response),!1)}},write:{cachedResponse:function(url,response){return response&&""===response?void module.debug("Response empty, not caching",response):window.Storage===undefined?void module.error(error.noStorage):($.isPlainObject(response)&&(response=JSON.stringify(response)),sessionStorage.setItem(url,response),void module.verbose("Storing cached response for url",url,response))}},query:function(){if(module.is.disabled())return void module.debug("Element is disabled API request aborted");if(module.is.loading()){if(!settings.interruptRequests)return void module.debug("Cancelling request, previous request is still pending");module.debug("Interrupting previous request"),module.abort()}return settings.defaultData&&$.extend(!0,settings.urlData,module.get.defaultData()),settings.serializeForm&&(settings.data=module.add.formData(settings.data)),requestSettings=module.get.settings(),requestSettings===!1?(module.cancelled=!0,void module.error(error.beforeSend)):(module.cancelled=!1,url=module.get.templatedURL(),url||module.is.mocked()?(url=module.add.urlData(url),url||module.is.mocked()?(ajaxSettings=$.extend(!0,{},settings,{type:settings.method||settings.type,data:data,url:settings.base+url,beforeSend:settings.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),module.debug("Querying URL",ajaxSettings.url),module.verbose("Using AJAX settings",ajaxSettings),"local"===settings.cache&&module.read.cachedResponse(url)?(module.debug("Response returned from local cache"),module.request=module.create.request(),void module.request.resolveWith(context,[module.read.cachedResponse(url)])):void(settings.throttle?settings.throttleFirstRequest||module.timer?(module.debug("Throttling request",settings.throttle),clearTimeout(module.timer),module.timer=setTimeout(function(){module.timer&&delete module.timer,module.debug("Sending throttled request",data,ajaxSettings.method),module.send.request()},settings.throttle)):(module.debug("Sending request",data,ajaxSettings.method),module.send.request(),module.timer=setTimeout(function(){},settings.throttle)):(module.debug("Sending request",data,ajaxSettings.method),module.send.request()))):void 0):void module.error(error.missingURL))},should:{removeError:function(){return settings.hideError===!0||"auto"===settings.hideError&&!module.is.form()}},is:{disabled:function(){return $module.filter(selector.disabled).length>0},form:function(){return $module.is("form")||$context.is("form")},mocked:function(){return settings.mockResponse||settings.mockResponseAsync},input:function(){return $module.is("input")},loading:function(){return module.request&&"pending"==module.request.state()},abortedRequest:function(xhr){return xhr&&xhr.readyState!==undefined&&0===xhr.readyState?(module.verbose("XHR request determined to be aborted"),!0):(module.verbose("XHR request was not aborted"),!1)},validResponse:function(response){return"json"!==settings.dataType&&"jsonp"!==settings.dataType||!$.isFunction(settings.successTest)?(module.verbose("Response is not JSON, skipping validation",settings.successTest,response),!0):(module.debug("Checking JSON returned success",settings.successTest,response),settings.successTest(response)?(module.debug("Response passed success test",response),!0):(module.debug("Response failed success test",response),!1))}},was:{cancelled:function(){return module.cancelled||!1},succesful:function(){return module.request&&"resolved"==module.request.state()},failure:function(){return module.request&&"rejected"==module.request.state()},complete:function(){return module.request&&("resolved"==module.request.state()||"rejected"==module.request.state())}},add:{urlData:function(url,urlData){var requiredVariables,optionalVariables;return url&&(requiredVariables=url.match(settings.regExp.required),optionalVariables=url.match(settings.regExp.optional),urlData=urlData||settings.urlData,requiredVariables&&(module.debug("Looking for required URL variables",requiredVariables),$.each(requiredVariables,function(index,templatedString){var variable=-1!==templatedString.indexOf("$")?templatedString.substr(2,templatedString.length-3):templatedString.substr(1,templatedString.length-2),value=$.isPlainObject(urlData)&&urlData[variable]!==undefined?urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):urlData[variable];return value===undefined?(module.error(error.requiredParameter,variable,url),url=!1,!1):(module.verbose("Found required variable",variable,value),value=settings.encodeParameters?module.get.urlEncodedValue(value):value,url=url.replace(templatedString,value),void 0)})),optionalVariables&&(module.debug("Looking for optional URL variables",requiredVariables),$.each(optionalVariables,function(index,templatedString){var variable=-1!==templatedString.indexOf("$")?templatedString.substr(3,templatedString.length-4):templatedString.substr(2,templatedString.length-3),value=$.isPlainObject(urlData)&&urlData[variable]!==undefined?urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):urlData[variable];value!==undefined?(module.verbose("Optional variable Found",variable,value),url=url.replace(templatedString,value)):(module.verbose("Optional variable not found",variable),url=-1!==url.indexOf("/"+templatedString)?url.replace("/"+templatedString,""):url.replace(templatedString,""))}))),url},formData:function(data){var hasOtherData,canSerialize=$.fn.serializeObject!==undefined,formData=canSerialize?$form.serializeObject():$form.serialize();return data=data||settings.data,hasOtherData=$.isPlainObject(data),hasOtherData?canSerialize?(module.debug("Extending existing data with form data",data,formData),data=$.extend(!0,{},data,formData)):(module.error(error.missingSerialize),module.debug("Cant extend data. Replacing data with form data",data,formData),data=formData):(module.debug("Adding form data",formData),data=formData),data}},send:{request:function(){module.set.loading(),module.request=module.create.request(),module.is.mocked()?module.mockedXHR=module.create.mockedXHR():module.xhr=module.create.xhr(),settings.onRequest.call(context,module.request,module.xhr)}},event:{trigger:function(event){module.query(),("submit"==event.type||"click"==event.type)&&event.preventDefault()},xhr:{always:function(){},done:function(response,textStatus,xhr){var context=this,elapsedTime=(new Date).getTime()-requestStartTime,timeLeft=settings.loadingDuration-elapsedTime,translatedResponse=$.isFunction(settings.onResponse)?settings.onResponse.call(context,$.extend(!0,{},response)):!1;timeLeft=timeLeft>0?timeLeft:0,translatedResponse&&(module.debug("Modified API response in onResponse callback",settings.onResponse,translatedResponse,response),response=translatedResponse),timeLeft>0&&module.debug("Response completed early delaying state change by",timeLeft),setTimeout(function(){module.is.validResponse(response)?module.request.resolveWith(context,[response,xhr]):module.request.rejectWith(context,[xhr,"invalid"])},timeLeft)},fail:function(xhr,status,httpMessage){var context=this,elapsedTime=(new Date).getTime()-requestStartTime,timeLeft=settings.loadingDuration-elapsedTime;timeLeft=timeLeft>0?timeLeft:0,timeLeft>0&&module.debug("Response completed early delaying state change by",timeLeft),setTimeout(function(){module.is.abortedRequest(xhr)?module.request.rejectWith(context,[xhr,"aborted",httpMessage]):module.request.rejectWith(context,[xhr,"error",status,httpMessage])},timeLeft)}},request:{done:function(response,xhr){module.debug("Successful API Response",response),"local"===settings.cache&&url&&(module.write.cachedResponse(url,response),module.debug("Saving server response locally",module.cache)),settings.onSuccess.call(context,response,$module,xhr)},complete:function(firstParameter,secondParameter){var xhr,response;module.was.succesful()?(response=firstParameter,xhr=secondParameter):(xhr=firstParameter,response=module.get.responseFromXHR(xhr)),module.remove.loading(),settings.onComplete.call(context,response,$module,xhr)},fail:function(xhr,status,httpMessage){var response=module.get.responseFromXHR(xhr),errorMessage=module.get.errorFromRequest(response,status,httpMessage);"aborted"==status?(module.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",status,httpMessage),settings.onAbort.call(context,status,$module,xhr)):"invalid"==status?module.debug("JSON did not pass success test. A server-side error has most likely occurred",response):"error"==status&&xhr!==undefined&&(module.debug("XHR produced a server error",status,httpMessage),200!=xhr.status&&httpMessage!==undefined&&""!==httpMessage&&module.error(error.statusMessage+httpMessage,ajaxSettings.url),settings.onError.call(context,errorMessage,$module,xhr)),settings.errorDuration&&"aborted"!==status&&(module.debug("Adding error state"),module.set.error(),module.should.removeError()&&setTimeout(module.remove.error,settings.errorDuration)),module.debug("API Request failed",errorMessage,xhr),settings.onFailure.call(context,response,$module,xhr)}}},create:{request:function(){return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail)},mockedXHR:function(){var asyncCallback,response,mockedXHR,textStatus=!1,status=!1,httpMessage=!1;return mockedXHR=$.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail),settings.mockResponse?($.isFunction(settings.mockResponse)?(module.debug("Using mocked callback returning response",settings.mockResponse),response=settings.mockResponse.call(context,settings)):(module.debug("Using specified response",settings.mockResponse),response=settings.mockResponse),mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}])):$.isFunction(settings.mockResponseAsync)&&(asyncCallback=function(response){module.debug("Async callback returned response",response),response?mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}]):mockedXHR.rejectWith(context,[{responseText:response},status,httpMessage])},module.debug("Using async mocked response",settings.mockResponseAsync),settings.mockResponseAsync.call(context,settings,asyncCallback)),mockedXHR},xhr:function(){var xhr;return xhr=$.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail),module.verbose("Created server request",xhr),xhr}},set:{error:function(){module.verbose("Adding error state to element",$context),$context.addClass(className.error)},loading:function(){module.verbose("Adding loading state to element",$context),$context.addClass(className.loading),requestStartTime=(new Date).getTime()}},remove:{error:function(){module.verbose("Removing error state from element",$context),$context.removeClass(className.error)},loading:function(){module.verbose("Removing loading state from element",$context),$context.removeClass(className.loading)}},get:{responseFromXHR:function(xhr){return $.isPlainObject(xhr)?"json"==settings.dataType||"jsonp"==settings.dataType?module.decode.json(xhr.responseText):xhr.responseText:!1},errorFromRequest:function(response,status,httpMessage){return $.isPlainObject(response)&&response.error!==undefined?response.error:settings.error[status]!==undefined?settings.error[status]:httpMessage},request:function(){return module.request||!1},xhr:function(){return module.xhr||!1},settings:function(){var runSettings;return runSettings=settings.beforeSend.call(context,settings),runSettings&&(runSettings.success!==undefined&&(module.debug("Legacy success callback detected",runSettings),module.error(error.legacyParameters,runSettings.success),runSettings.onSuccess=runSettings.success),runSettings.failure!==undefined&&(module.debug("Legacy failure callback detected",runSettings),module.error(error.legacyParameters,runSettings.failure),runSettings.onFailure=runSettings.failure),runSettings.complete!==undefined&&(module.debug("Legacy complete callback detected",runSettings),module.error(error.legacyParameters,runSettings.complete),runSettings.onComplete=runSettings.complete)),runSettings===undefined&&module.error(error.noReturnedValue),runSettings!==undefined?runSettings:settings;
},urlEncodedValue:function(value){var decodedValue=window.decodeURIComponent(value),encodedValue=window.encodeURIComponent(value),alreadyEncoded=decodedValue!==value;return alreadyEncoded?(module.debug("URL value is already encoded, avoiding double encoding",value),value):(module.verbose("Encoding value using encodeURIComponent",value,encodedValue),encodedValue)},defaultData:function(){var data={};return $.isWindow(element)||(module.is.input()?data.value=$module.val():module.is.form()&&(data.text=$module.text())),data},event:function(){return $.isWindow(element)||"now"==settings.on?(module.debug("API called without element, no events attached"),!1):"auto"==settings.on?$module.is("input")?element.oninput!==undefined?"input":element.onpropertychange!==undefined?"propertychange":"keyup":$module.is("form")?"submit":"click":settings.on},templatedURL:function(action){if(action=action||$module.data(metadata.action)||settings.action||!1,url=$module.data(metadata.url)||settings.url||!1)return module.debug("Using specified url",url),url;if(action){if(module.debug("Looking up url for action",action,settings.api),settings.api[action]===undefined&&!module.is.mocked())return void module.error(error.missingAction,settings.action,settings.api);url=settings.api[action]}else module.is.form()&&(url=$module.attr("action")||$context.attr("action")||!1,module.debug("No url or action specified, defaulting to form action",url));return url}},abort:function(){var xhr=module.get.xhr();xhr&&"resolved"!==xhr.state()&&(module.debug("Cancelling API request"),xhr.abort())},reset:function(){module.remove.error(),module.remove.loading()},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"","Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,beforeSend:function(settings){return settings},beforeXHR:function(xhr){},onRequest:function(promise,xhr){},onResponse:!1,onSuccess:function(response,$module){},onComplete:function(response,$module){},onFailure:function(response,$module){},onError:function(errorMessage,$module){},onAbort:function(errorMessage,$module){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.state=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=("ontouchstart"in document.documentElement,(new Date).getTime()),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.state.settings,parameters):$.extend({},$.fn.state.settings),error=settings.error,metadata=settings.metadata,className=settings.className,namespace=settings.namespace,states=settings.states,text=settings.text,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module"),settings.automatic&&module.add.defaults(),settings.context&&""!==moduleSelector?$(settings.context).on(moduleSelector,"mouseenter"+eventNamespace,module.change.text).on(moduleSelector,"mouseleave"+eventNamespace,module.reset.text).on(moduleSelector,"click"+eventNamespace,module.toggle.state):$module.on("mouseenter"+eventNamespace,module.change.text).on("mouseleave"+eventNamespace,module.reset.text).on("click"+eventNamespace,module.toggle.state),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous module",instance),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$module=$(element)},add:{defaults:function(){var userStates=parameters&&$.isPlainObject(parameters.states)?parameters.states:{};$.each(settings.defaults,function(type,typeStates){module.is[type]!==undefined&&module.is[type]()&&(module.verbose("Adding default states",type,element),$.extend(settings.states,typeStates,userStates))})}},is:{active:function(){return $module.hasClass(className.active)},loading:function(){return $module.hasClass(className.loading)},inactive:function(){return!$module.hasClass(className.active)},state:function(state){return className[state]===undefined?!1:$module.hasClass(className[state])},enabled:function(){return!$module.is(settings.filter.active)},disabled:function(){return $module.is(settings.filter.active)},textEnabled:function(){return!$module.is(settings.filter.text)},button:function(){return $module.is(".button:not(a, .submit)")},input:function(){return $module.is("input")},progress:function(){return $module.is(".ui.progress")}},allow:function(state){module.debug("Now allowing state",state),states[state]=!0},disallow:function(state){module.debug("No longer allowing",state),states[state]=!1},allows:function(state){return states[state]||!1},enable:function(){$module.removeClass(className.disabled)},disable:function(){$module.addClass(className.disabled)},setState:function(state){module.allows(state)&&$module.addClass(className[state])},removeState:function(state){module.allows(state)&&$module.removeClass(className[state])},toggle:{state:function(){var apiRequest,requestCancelled;if(module.allows("active")&&module.is.enabled()){if(module.refresh(),$.fn.api!==undefined)if(apiRequest=$module.api("get request"),requestCancelled=$module.api("was cancelled"))module.debug("API Request cancelled by beforesend"),settings.activateTest=function(){return!1},settings.deactivateTest=function(){return!1};else if(apiRequest)return void module.listenTo(apiRequest);module.change.state()}}},listenTo:function(apiRequest){module.debug("API request detected, waiting for state signal",apiRequest),apiRequest&&(text.loading&&module.update.text(text.loading),$.when(apiRequest).then(function(){"resolved"==apiRequest.state()?(module.debug("API request succeeded"),settings.activateTest=function(){return!0},settings.deactivateTest=function(){return!0}):(module.debug("API request failed"),settings.activateTest=function(){return!1},settings.deactivateTest=function(){return!1}),module.change.state()}))},change:{state:function(){module.debug("Determining state change direction"),module.is.inactive()?module.activate():module.deactivate(),settings.sync&&module.sync(),settings.onChange.call(element)},text:function(){module.is.textEnabled()&&(module.is.disabled()?(module.verbose("Changing text to disabled text",text.hover),module.update.text(text.disabled)):module.is.active()?text.hover?(module.verbose("Changing text to hover text",text.hover),module.update.text(text.hover)):text.deactivate&&(module.verbose("Changing text to deactivating text",text.deactivate),module.update.text(text.deactivate)):text.hover?(module.verbose("Changing text to hover text",text.hover),module.update.text(text.hover)):text.activate&&(module.verbose("Changing text to activating text",text.activate),module.update.text(text.activate)))}},activate:function(){settings.activateTest.call(element)&&(module.debug("Setting state to active"),$module.addClass(className.active),module.update.text(text.active),settings.onActivate.call(element))},deactivate:function(){settings.deactivateTest.call(element)&&(module.debug("Setting state to inactive"),$module.removeClass(className.active),module.update.text(text.inactive),settings.onDeactivate.call(element))},sync:function(){module.verbose("Syncing other buttons to current state"),module.is.active()?$allModules.not($module).state("activate"):$allModules.not($module).state("deactivate")},get:{text:function(){return settings.selector.text?$module.find(settings.selector.text).text():$module.html()},textFor:function(state){return text[state]||!1}},flash:{text:function(text,duration,callback){var previousText=module.get.text();module.debug("Flashing text message",text,duration),text=text||settings.text.flash,duration=duration||settings.flashDuration,callback=callback||function(){},module.update.text(text),setTimeout(function(){module.update.text(previousText),callback.call(element)},duration)}},reset:{text:function(){var activeText=text.active||$module.data(metadata.storedText),inactiveText=text.inactive||$module.data(metadata.storedText);module.is.textEnabled()&&(module.is.active()&&activeText?(module.verbose("Resetting active text",activeText),module.update.text(activeText)):inactiveText&&(module.verbose("Resetting inactive text",activeText),module.update.text(inactiveText)))}},update:{text:function(text){var currentText=module.get.text();text&&text!==currentText?(module.debug("Updating text",text),settings.selector.text?$module.data(metadata.storedText,text).find(settings.selector.text).text(text):$module.data(metadata.storedText,text).html(text)):module.debug("Text is already set, ignoring update",text)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function($,window,document,undefined){"use strict";$.fn.visibility=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $placeholder,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.visibility.settings,parameters):$.extend({},$.fn.visibility.settings),className=settings.className,namespace=settings.namespace,error=settings.error,metadata=settings.metadata,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$window=$(window),$module=$(this),$context=$(settings.context),instance=($module.selector||"",$module.data(moduleNamespace)),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)},element=this,disabled=!1;module={initialize:function(){module.debug("Initializing",settings),module.setup.cache(),module.should.trackChanges()&&("image"==settings.type&&module.setup.image(),"fixed"==settings.type&&module.setup.fixed(),settings.observeChanges&&module.observeChanges(),module.bind.events()),module.save.position(),module.is.visible()||module.error(error.visible,$module),settings.initialCheck&&module.checkVisibility(),module.instantiate()},instantiate:function(){module.debug("Storing instance",module),$module.data(moduleNamespace,module),instance=module},destroy:function(){module.verbose("Destroying previous module"),observer&&observer.disconnect(),$window.off("load"+eventNamespace,module.event.load).off("resize"+eventNamespace,module.event.resize),$context.off("scrollchange"+eventNamespace,module.event.scrollchange),$module.off(eventNamespace).removeData(moduleNamespace)},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(mutations){module.verbose("DOM tree modified, updating visibility calculations"),module.timer=setTimeout(function(){module.verbose("DOM tree modified, updating sticky menu"),module.refresh()},100)}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},bind:{events:function(){module.verbose("Binding visibility events to scroll and resize"),settings.refreshOnLoad&&$window.on("load"+eventNamespace,module.event.load),$window.on("resize"+eventNamespace,module.event.resize),$context.off("scroll"+eventNamespace).on("scroll"+eventNamespace,module.event.scroll).on("scrollchange"+eventNamespace,module.event.scrollchange)}},event:{resize:function(){module.debug("Window resized"),settings.refreshOnResize&&requestAnimationFrame(module.refresh)},load:function(){module.debug("Page finished loading"),requestAnimationFrame(module.refresh)},scroll:function(){settings.throttle?(clearTimeout(module.timer),module.timer=setTimeout(function(){$context.triggerHandler("scrollchange"+eventNamespace,[$context.scrollTop()])},settings.throttle)):requestAnimationFrame(function(){$context.triggerHandler("scrollchange"+eventNamespace,[$context.scrollTop()])})},scrollchange:function(event,scrollPosition){module.checkVisibility(scrollPosition)}},precache:function(images,callback){images instanceof Array||(images=[images]);for(var imagesLength=images.length,loadedCounter=0,cache=[],cacheImage=document.createElement("img"),handleLoad=function(){loadedCounter++,loadedCounter>=images.length&&$.isFunction(callback)&&callback()};imagesLength--;)cacheImage=document.createElement("img"),cacheImage.onload=handleLoad,cacheImage.onerror=handleLoad,cacheImage.src=images[imagesLength],cache.push(cacheImage)},enableCallbacks:function(){module.debug("Allowing callbacks to occur"),disabled=!1},disableCallbacks:function(){module.debug("Disabling all callbacks temporarily"),disabled=!0},should:{trackChanges:function(){return methodInvoked?(module.debug("One time query, no need to bind events"),!1):(module.debug("Callbacks being attached"),!0)}},setup:{cache:function(){module.cache={occurred:{},screen:{},element:{}}},image:function(){var src=$module.data(metadata.src);src&&(module.verbose("Lazy loading image",src),settings.once=!0,settings.observeChanges=!1,settings.onOnScreen=function(){module.debug("Image on screen",element),module.precache(src,function(){module.set.image(src)})})},fixed:function(){module.debug("Setting up fixed"),settings.once=!1,settings.observeChanges=!1,settings.initialCheck=!0,settings.refreshOnLoad=!0,parameters.transition||(settings.transition=!1),module.create.placeholder(),module.debug("Added placeholder",$placeholder),settings.onTopPassed=function(){module.debug("Element passed, adding fixed position",$module),module.show.placeholder(),module.set.fixed(),settings.transition&&$.fn.transition!==undefined&&$module.transition(settings.transition,settings.duration)},settings.onTopPassedReverse=function(){module.debug("Element returned to position, removing fixed",$module),module.hide.placeholder(),module.remove.fixed()}}},create:{placeholder:function(){module.verbose("Creating fixed position placeholder"),$placeholder=$module.clone(!1).css("display","none").addClass(className.placeholder).insertAfter($module)}},show:{placeholder:function(){module.verbose("Showing placeholder"),$placeholder.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){module.verbose("Hiding placeholder"),$placeholder.css("display","none").css("visibility","")}},set:{fixed:function(){module.verbose("Setting element to fixed position"),$module.addClass(className.fixed).css({position:"fixed",top:settings.offset+"px",left:"auto",zIndex:"1"})},image:function(src){$module.attr("src",src),settings.transition?$.fn.transition!==undefined?$module.transition(settings.transition,settings.duration):$module.fadeIn(settings.duration):$module.show()}},is:{onScreen:function(){var calculations=module.get.elementCalculations();return calculations.onScreen},offScreen:function(){var calculations=module.get.elementCalculations();return calculations.offScreen},visible:function(){return module.cache&&module.cache.element?!(0===module.cache.element.width&&0===module.cache.element.offset.top):!1}},refresh:function(){module.debug("Refreshing constants (width/height)"),"fixed"==settings.type&&(module.remove.fixed(),module.remove.occurred()),module.reset(),module.save.position(),settings.checkOnRefresh&&module.checkVisibility(),settings.onRefresh.call(element)},reset:function(){module.verbose("Reseting all cached values"),$.isPlainObject(module.cache)&&(module.cache.screen={},module.cache.element={})},checkVisibility:function(scroll){module.verbose("Checking visibility of element",module.cache.element),!disabled&&module.is.visible()&&(module.save.scroll(scroll),module.save.calculations(),module.passed(),module.passingReverse(),module.topVisibleReverse(),module.bottomVisibleReverse(),module.topPassedReverse(),module.bottomPassedReverse(),module.onScreen(),module.offScreen(),module.passing(),module.topVisible(),module.bottomVisible(),module.topPassed(),module.bottomPassed(),settings.onUpdate&&settings.onUpdate.call(element,module.get.elementCalculations()))},passed:function(amount,newCallback){var calculations=module.get.elementCalculations();if(amount&&newCallback)settings.onPassed[amount]=newCallback;else{if(amount!==undefined)return module.get.pixelsPassed(amount)>calculations.pixelsPassed;calculations.passing&&$.each(settings.onPassed,function(amount,callback){calculations.bottomVisible||calculations.pixelsPassed>module.get.pixelsPassed(amount)?module.execute(callback,amount):settings.once||module.remove.occurred(callback)})}},onScreen:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onOnScreen,callbackName="onScreen";return newCallback&&(module.debug("Adding callback for onScreen",newCallback),settings.onOnScreen=newCallback),calculations.onScreen?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined?calculations.onOnScreen:void 0},offScreen:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onOffScreen,callbackName="offScreen";return newCallback&&(module.debug("Adding callback for offScreen",newCallback),settings.onOffScreen=newCallback),calculations.offScreen?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined?calculations.onOffScreen:void 0},passing:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassing,callbackName="passing";return newCallback&&(module.debug("Adding callback for passing",newCallback),settings.onPassing=newCallback),calculations.passing?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined?calculations.passing:void 0},topVisible:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisible,callbackName="topVisible";return newCallback&&(module.debug("Adding callback for top visible",newCallback),settings.onTopVisible=newCallback),calculations.topVisible?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.topVisible:void 0},bottomVisible:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisible,callbackName="bottomVisible";return newCallback&&(module.debug("Adding callback for bottom visible",newCallback),settings.onBottomVisible=newCallback),calculations.bottomVisible?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.bottomVisible:void 0},topPassed:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassed,callbackName="topPassed";return newCallback&&(module.debug("Adding callback for top passed",newCallback),settings.onTopPassed=newCallback),calculations.topPassed?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.topPassed:void 0},bottomPassed:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassed,callbackName="bottomPassed";return newCallback&&(module.debug("Adding callback for bottom passed",newCallback),settings.onBottomPassed=newCallback),calculations.bottomPassed?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.bottomPassed:void 0},passingReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassingReverse,callbackName="passingReverse";return newCallback&&(module.debug("Adding callback for passing reverse",newCallback),settings.onPassingReverse=newCallback),calculations.passing?settings.once||module.remove.occurred(callbackName):module.get.occurred("passing")&&module.execute(callback,callbackName),newCallback!==undefined?!calculations.passing:void 0},topVisibleReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisibleReverse,callbackName="topVisibleReverse";return newCallback&&(module.debug("Adding callback for top visible reverse",newCallback),settings.onTopVisibleReverse=newCallback),calculations.topVisible?settings.once||module.remove.occurred(callbackName):module.get.occurred("topVisible")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.topVisible:void 0},bottomVisibleReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisibleReverse,callbackName="bottomVisibleReverse";return newCallback&&(module.debug("Adding callback for bottom visible reverse",newCallback),settings.onBottomVisibleReverse=newCallback),calculations.bottomVisible?settings.once||module.remove.occurred(callbackName):module.get.occurred("bottomVisible")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.bottomVisible:void 0},topPassedReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassedReverse,callbackName="topPassedReverse";return newCallback&&(module.debug("Adding callback for top passed reverse",newCallback),settings.onTopPassedReverse=newCallback),calculations.topPassed?settings.once||module.remove.occurred(callbackName):module.get.occurred("topPassed")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.onTopPassed:void 0},bottomPassedReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassedReverse,callbackName="bottomPassedReverse";return newCallback&&(module.debug("Adding callback for bottom passed reverse",newCallback),settings.onBottomPassedReverse=newCallback),calculations.bottomPassed?settings.once||module.remove.occurred(callbackName):module.get.occurred("bottomPassed")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.bottomPassed:void 0},execute:function(callback,callbackName){var calculations=module.get.elementCalculations(),screen=module.get.screenCalculations();callback=callback||!1,callback&&(settings.continuous?(module.debug("Callback being called continuously",callbackName,calculations),callback.call(element,calculations,screen)):module.get.occurred(callbackName)||(module.debug("Conditions met",callbackName,calculations),callback.call(element,calculations,screen))),module.save.occurred(callbackName)},remove:{fixed:function(){module.debug("Removing fixed position"),$module.removeClass(className.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(callback){if(callback){var occurred=module.cache.occurred;occurred[callback]!==undefined&&occurred[callback]===!0&&(module.debug("Callback can now be called again",callback),module.cache.occurred[callback]=!1)}else module.cache.occurred={}}},save:{calculations:function(){module.verbose("Saving all calculations necessary to determine positioning"),module.save.direction(),module.save.screenCalculations(),module.save.elementCalculations()},occurred:function(callback){callback&&(module.cache.occurred[callback]===undefined||module.cache.occurred[callback]!==!0)&&(module.verbose("Saving callback occurred",callback),
module.cache.occurred[callback]=!0)},scroll:function(scrollPosition){scrollPosition=scrollPosition+settings.offset||$context.scrollTop()+settings.offset,module.cache.scroll=scrollPosition},direction:function(){var direction,scroll=module.get.scroll(),lastScroll=module.get.lastScroll();return direction=scroll>lastScroll&&lastScroll?"down":lastScroll>scroll&&lastScroll?"up":"static",module.cache.direction=direction,module.cache.direction},elementPosition:function(){var element=module.cache.element,screen=module.get.screenSize();return module.verbose("Saving element position"),element.fits=element.height<screen.height,element.offset=$module.offset(),element.width=$module.outerWidth(),element.height=$module.outerHeight(),module.cache.element=element,element},elementCalculations:function(){var screen=module.get.screenCalculations(),element=module.get.elementPosition();return settings.includeMargin?(element.margin={},element.margin.top=parseInt($module.css("margin-top"),10),element.margin.bottom=parseInt($module.css("margin-bottom"),10),element.top=element.offset.top-element.margin.top,element.bottom=element.offset.top+element.height+element.margin.bottom):(element.top=element.offset.top,element.bottom=element.offset.top+element.height),element.topVisible=screen.bottom>=element.top,element.topPassed=screen.top>=element.top,element.bottomVisible=screen.bottom>=element.bottom,element.bottomPassed=screen.top>=element.bottom,element.pixelsPassed=0,element.percentagePassed=0,element.onScreen=element.topVisible&&!element.bottomPassed,element.passing=element.topPassed&&!element.bottomPassed,element.offScreen=!element.onScreen,element.passing&&(element.pixelsPassed=screen.top-element.top,element.percentagePassed=(screen.top-element.top)/element.height),module.cache.element=element,module.verbose("Updated element calculations",element),element},screenCalculations:function(){var scroll=module.get.scroll();return module.save.direction(),module.cache.screen.top=scroll,module.cache.screen.bottom=scroll+module.cache.screen.height,module.cache.screen},screenSize:function(){module.verbose("Saving window position"),module.cache.screen={height:$context.height()}},position:function(){module.save.screenSize(),module.save.elementPosition()}},get:{pixelsPassed:function(amount){var element=module.get.elementCalculations();return amount.search("%")>-1?element.height*(parseInt(amount,10)/100):parseInt(amount,10)},occurred:function(callback){return module.cache.occurred!==undefined?module.cache.occurred[callback]||!1:!1},direction:function(){return module.cache.direction===undefined&&module.save.direction(),module.cache.direction},elementPosition:function(){return module.cache.element===undefined&&module.save.elementPosition(),module.cache.element},elementCalculations:function(){return module.cache.element===undefined&&module.save.elementCalculations(),module.cache.element},screenCalculations:function(){return module.cache.screen===undefined&&module.save.screenCalculations(),module.cache.screen},screenSize:function(){return module.cache.screen===undefined&&module.save.screenSize(),module.cache.screen},scroll:function(){return module.cache.scroll===undefined&&module.save.scroll(),module.cache.scroll},lastScroll:function(){return module.cache.screen===undefined?(module.debug("First scroll event, no last scroll could be found"),!1):module.cache.screen.top}},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),instance.save.scroll(),instance.save.calculations(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:window,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document)}(),_retrieveGlobal()}),function(){var define=$__System.amdDefine;define("17b",[],function(){return'<div class="content">\n	<a class="header" [routerLink]="[ \'/AppDev/MyApps/App\', {slug: app.slug}, \'AppDashboard\']">\n		{{app.name}}\n	</a>\n	<a class="meta" [routerLink]="[ \'/AppDev/MyApps/App\', {slug: app.slug}, \'AppDashboard\']">\n		<span class="date">{{app.created}}</span>\n	</a>\n</div>'})}(),$__System.register("17c",[],function(){return{setters:[],execute:function(){}}}),$__System.register("17d",["13","2d","6c","6d","6a","17e","17b","17c"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,jquery_1,App_1,template_html_1,AppTileComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(App_1_1){App_1=App_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){AppTileComponent=function(){function AppTileComponent(element,router){this.element=element}return AppTileComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement)},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof App_1["default"]&&App_1["default"])&&_a||Object)],AppTileComponent.prototype,"app",void 0),AppTileComponent=__decorate([core_1.Component({selector:"app-tile",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES]}),__metadata("design:paramtypes",["function"==typeof(_b="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_b||Object,"function"==typeof(_c="undefined"!=typeof router_1.Router&&router_1.Router)&&_c||Object])],AppTileComponent);var _a,_b,_c}(),exports_1("default",AppTileComponent)}}}),$__System.register("17e",[],function(exports_1,context_1){"use strict";var App;context_1&&context_1.id;return{setters:[],execute:function(){App=function(){function App(){}return App}(),exports_1("App",App),exports_1("default",App)}}}),function(){var define=$__System.amdDefine;define("17f",[],function(){return'<h1>My Apps</h1>\n<div class="ui stackable cards">\n	<div class="card">\n		<div class="content">\n			<a class="header">\n				Create new App\n			</a>\n		</div>\n	</div>\n	<app-tile class="card" *ngFor="#app of apps; #i=index;" [app]="app"></app-tile>\n</div>'})}(),$__System.register("180",["13","2d","6c","10c","17d","17e","17f"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,MyAppsService_1,AppTileComponent_1,App_1,template_html_1,AppsListView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(MyAppsService_1_1){MyAppsService_1=MyAppsService_1_1},function(AppTileComponent_1_1){AppTileComponent_1=AppTileComponent_1_1},function(App_1_1){App_1=App_1_1},function(template_html_1_1){template_html_1=template_html_1_1}],execute:function(){AppsListView=function(){function AppsListView(myAppsService,router){this.apps=[],this.routeDefinitions=[],this.myAppsService=myAppsService,this.router=router}return AppsListView.prototype.routerOnActivate=function(){var _this=this;return new Promise(function(resolve){_this.myAppsService.getApps().then(function(apps){apps.forEach(function(app){var data={alias:app.name.replace(new RegExp(" ","g"),""),displayName:app.name};_this.routeDefinitions.push({path:"/"+app.slug,component:App_1["default"],as:app.name.replace(new RegExp(" ","g"),""),data:data}),app.data=data,_this.apps.push(app)}),resolve(!0)},function(error){console.error(error),resolve(!1)})})},AppsListView=__decorate([core_1.Component({selector:"my-apps-list",template:template_html_1["default"],directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,AppTileComponent_1["default"]],providers:[MyAppsService_1["default"]]}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof MyAppsService_1["default"]&&MyAppsService_1["default"])&&_a||Object,"function"==typeof(_b="undefined"!=typeof router_1.Router&&router_1.Router)&&_b||Object])],AppsListView);var _a,_b}(),exports_1("default",AppsListView)}}}),$__System.register("181",["13","2d","6c","11e","180"],function(exports_1,context_1){"use strict";var core_1,common_1,router_1,AppDetailView_1,AppsListView_1,MyAppsView,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(AppDetailView_1_1){AppDetailView_1=AppDetailView_1_1},function(AppsListView_1_1){AppsListView_1=AppsListView_1_1}],execute:function(){MyAppsView=function(){function MyAppsView(){}return MyAppsView=__decorate([core_1.Component({selector:"my-apps",template:"<router-outlet></router-outlet>",directives:[common_1.CORE_DIRECTIVES,router_1.ROUTER_DIRECTIVES,router_1.RouterOutlet]}),router_1.RouteConfig([{path:"/",as:"List",component:AppsListView_1["default"],useAsDefault:!0,data:{alias:"List",displayName:"My Apps"}},{path:"/:slug/...",as:"App",component:AppDetailView_1["default"],data:{alias:"App",displayName:"App",params:{name:"slug",redirectTo:"AppDashboard"}}}]),__metadata("design:paramtypes",[])],MyAppsView)}(),exports_1("default",MyAppsView)}}}),function(){var define=$__System.amdDefine;define("182",[],function(){return'<header>\n	<h1>Header</h1>\n</header>\n<div class="page-content big-stone1">\n	<sidebar class="ui inverted vertical menu accordion"></sidebar>\n	<div class="dashboard-content">\n		<menu-bar></menu-bar>\n		<div class="scrollable-content">\n			<div class="rendered-content">\n				<router-outlet></router-outlet>\n			</div>\n			<footer>\n				<h1>Footer</h1>\n			</footer>\n		</div>\n	</div>\n</div>\n'})}(),$__System.register("183",[],function(){return{setters:[],execute:function(){}}}),$__System.register("92",["13","6c","6d","6a","fe","fd","101","104","107","109","181","182","183"],function(exports_1,context_1){"use strict";var core_1,router_1,jquery_1,SidebarService_1,SidebarComponent_1,HeaderComponent_1,FooterComponent_1,MenuBarComponent_1,DashboardView_1,MyAppsView_1,template_html_1,AppDevComponent,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(router_1_1){router_1=router_1_1},function(jquery_1_1){jquery_1=jquery_1_1},function(_1){},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1},function(SidebarComponent_1_1){SidebarComponent_1=SidebarComponent_1_1},function(HeaderComponent_1_1){HeaderComponent_1=HeaderComponent_1_1},function(FooterComponent_1_1){FooterComponent_1=FooterComponent_1_1},function(MenuBarComponent_1_1){MenuBarComponent_1=MenuBarComponent_1_1},function(DashboardView_1_1){DashboardView_1=DashboardView_1_1},function(MyAppsView_1_1){MyAppsView_1=MyAppsView_1_1},function(template_html_1_1){template_html_1=template_html_1_1},function(_2){}],execute:function(){AppDevComponent=function(){function AppDevComponent(element,sidebarService){this.element=element,this.sidebarService=sidebarService}return AppDevComponent.prototype.ngAfterViewInit=function(){this.$element=jquery_1["default"](this.element.nativeElement),this.sidebar=this.$element.children(".ui.sidebar")},AppDevComponent.prototype.toggleSidebar=function(){this.sidebarService.toggle()},AppDevComponent=__decorate([core_1.Component({selector:"app-dev",template:template_html_1["default"],directives:[router_1.RouterOutlet,SidebarComponent_1["default"],HeaderComponent_1["default"],FooterComponent_1["default"],MenuBarComponent_1["default"]]}),router_1.RouteConfig([{path:"/",as:"Home",component:DashboardView_1["default"],useAsDefault:!0,data:{alias:"Home",displayName:"Home"}},{path:"/my-apps/...",as:"MyApps",component:MyAppsView_1["default"],data:{alias:"MyApps",displayName:"My Apps"}}]),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof core_1.ElementRef&&core_1.ElementRef)&&_a||Object,"function"==typeof(_b="undefined"!=typeof SidebarService_1["default"]&&SidebarService_1["default"])&&_b||Object])],AppDevComponent);var _a,_b}(),exports_1("default",AppDevComponent)}}}),$__System.registerDynamic("184",["169","3"],!0,function($__require,exports,module){"use strict";var decorators_1=($__require("3"),$__require("169"));return exports.Class=decorators_1.Class,module.exports}),$__System.registerDynamic("185",["6","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6"));return exports.enableProdMode=lang_1.enableProdMode,module.exports}),$__System.registerDynamic("186",["6","41","e","187","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6"));exports.Type=lang_1.Type;var async_1=$__require("41");exports.EventEmitter=async_1.EventEmitter;var exceptions_1=$__require("e");exports.WrappedException=exceptions_1.WrappedException;var exception_handler_1=$__require("187");return exports.ExceptionHandler=exception_handler_1.ExceptionHandler,module.exports}),$__System.registerDynamic("2a",["20","6","b","61","41","a","2e","189","e","18a","188","3"],!0,function($__require,exports,module){"use strict";function _componentProviders(appComponentType){return[di_1.provide(application_tokens_1.APP_COMPONENT,{useValue:appComponentType}),di_1.provide(application_tokens_1.APP_COMPONENT_REF_PROMISE,{useFactory:function(dynamicComponentLoader,appRef,injector){var ref;return dynamicComponentLoader.loadAsRoot(appComponentType,null,injector,function(){appRef._unloadComponent(ref)}).then(function(componentRef){ref=componentRef;var testability=injector.getOptional(testability_1.Testability);return lang_1.isPresent(testability)&&injector.get(testability_1.TestabilityRegistry).registerApplication(componentRef.location.nativeElement,testability),componentRef})},deps:[dynamic_component_loader_1.DynamicComponentLoader,ApplicationRef,di_1.Injector]}),di_1.provide(appComponentType,{useFactory:function(p){return p.then(function(ref){return ref.instance})},deps:[application_tokens_1.APP_COMPONENT_REF_PROMISE]})]}function createNgZone(){return new ng_zone_1.NgZone({enableLongStackTrace:lang_1.assertionsEnabled()})}function platform(providers){if(lang_2.lockMode(),lang_1.isPresent(_platform)){if(collection_1.ListWrapper.equals(_platformProviders,providers))return _platform;throw new exceptions_1.BaseException("platform cannot be initialized with different sets of providers.")}return _createPlatform(providers)}function disposePlatform(){lang_1.isPresent(_platform)&&(_platform.dispose(),_platform=null)}function _createPlatform(providers){_platformProviders=providers;var injector=di_1.Injector.resolveAndCreate(providers);return _platform=new PlatformRef_(injector,function(){_platform=null,_platformProviders=null}),_runPlatformInitializers(injector),_platform}function _runPlatformInitializers(injector){var inits=injector.getOptional(application_tokens_1.PLATFORM_INITIALIZER);lang_1.isPresent(inits)&&inits.forEach(function(init){return init()})}function _runAppInitializers(injector){var inits=injector.getOptional(application_tokens_1.APP_INITIALIZER),promises=[];return lang_1.isPresent(inits)&&inits.forEach(function(init){var retVal=init();async_1.PromiseWrapper.isPromise(retVal)&&promises.push(retVal)}),promises.length>0?async_1.PromiseWrapper.all(promises):null}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ng_zone_1=$__require("20"),lang_1=$__require("6"),di_1=$__require("b"),application_tokens_1=$__require("61"),async_1=$__require("41"),collection_1=$__require("a"),testability_1=$__require("2e"),dynamic_component_loader_1=$__require("189"),exceptions_1=$__require("e"),console_1=$__require("18a"),profile_1=$__require("188"),lang_2=$__require("6");exports.createNgZone=createNgZone;var _platform,_platformProviders;exports.platform=platform,exports.disposePlatform=disposePlatform;var PlatformRef=function(){function PlatformRef(){}return Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}();exports.PlatformRef=PlatformRef;var PlatformRef_=function(_super){function PlatformRef_(_injector,_dispose){_super.call(this),this._injector=_injector,this._dispose=_dispose,this._applications=[],this._disposeListeners=[]}return __extends(PlatformRef_,_super),PlatformRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),PlatformRef_.prototype.application=function(providers){var app=this._initApp(createNgZone(),providers);if(async_1.PromiseWrapper.isPromise(app))throw new exceptions_1.BaseException("Cannot use asyncronous app initializers with application. Use asyncApplication instead.");return app},PlatformRef_.prototype.asyncApplication=function(bindingFn,additionalProviders){var _this=this,zone=createNgZone(),completer=async_1.PromiseWrapper.completer();return null===bindingFn?completer.resolve(this._initApp(zone,additionalProviders)):zone.run(function(){async_1.PromiseWrapper.then(bindingFn(zone),function(providers){lang_1.isPresent(additionalProviders)&&(providers=collection_1.ListWrapper.concat(providers,additionalProviders));var promise=_this._initApp(zone,providers);completer.resolve(promise)})}),completer.promise},PlatformRef_.prototype._initApp=function(zone,providers){var injector,app,_this=this;zone.run(function(){providers=collection_1.ListWrapper.concat(providers,[di_1.provide(ng_zone_1.NgZone,{useValue:zone}),di_1.provide(ApplicationRef,{useFactory:function(){return app},deps:[]})]);var exceptionHandler;try{injector=_this.injector.resolveAndCreateChild(providers),exceptionHandler=injector.get(exceptions_1.ExceptionHandler),zone.overrideOnErrorHandler(function(e,s){return exceptionHandler.call(e,s)})}catch(e){lang_1.isPresent(exceptionHandler)?exceptionHandler.call(e,e.stack):lang_1.print(e.toString())}}),app=new ApplicationRef_(this,zone,injector),this._applications.push(app);var promise=_runAppInitializers(injector);return null!==promise?async_1.PromiseWrapper.then(promise,function(_){return app}):app},PlatformRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._applications).forEach(function(app){return app.dispose()}),this._disposeListeners.forEach(function(dispose){return dispose()}),this._dispose()},PlatformRef_.prototype._applicationDisposed=function(app){collection_1.ListWrapper.remove(this._applications,app)},PlatformRef_}(PlatformRef);exports.PlatformRef_=PlatformRef_;var ApplicationRef=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"zone",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}();exports.ApplicationRef=ApplicationRef;var ApplicationRef_=function(_super){function ApplicationRef_(_platform,_zone,_injector){var _this=this;_super.call(this),this._platform=_platform,this._zone=_zone,this._injector=_injector,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,lang_1.isPresent(this._zone)&&async_1.ObservableWrapper.subscribe(this._zone.onTurnDone,function(_){_this._zone.run(function(){_this.tick()})}),this._enforceNoNewChanges=lang_1.assertionsEnabled()}return __extends(ApplicationRef_,_super),ApplicationRef_.prototype.registerBootstrapListener=function(listener){this._bootstrapListeners.push(listener)},ApplicationRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)},ApplicationRef_.prototype.registerChangeDetector=function(changeDetector){this._changeDetectorRefs.push(changeDetector)},ApplicationRef_.prototype.unregisterChangeDetector=function(changeDetector){collection_1.ListWrapper.remove(this._changeDetectorRefs,changeDetector)},ApplicationRef_.prototype.bootstrap=function(componentType,providers){var _this=this,completer=async_1.PromiseWrapper.completer();return this._zone.run(function(){var componentProviders=_componentProviders(componentType);lang_1.isPresent(providers)&&componentProviders.push(providers);var exceptionHandler=_this._injector.get(exceptions_1.ExceptionHandler);_this._rootComponentTypes.push(componentType);try{var injector=_this._injector.resolveAndCreateChild(componentProviders),compRefToken=injector.get(application_tokens_1.APP_COMPONENT_REF_PROMISE),tick=function(componentRef){_this._loadComponent(componentRef),completer.resolve(componentRef)},tickResult=async_1.PromiseWrapper.then(compRefToken,tick);lang_1.IS_DART&&async_1.PromiseWrapper.then(tickResult,function(_){}),async_1.PromiseWrapper.then(tickResult,null,function(err,stackTrace){return completer.reject(err,stackTrace)})}catch(e){exceptionHandler.call(e,e.stack),completer.reject(e,e.stack)}}),completer.promise.then(function(_){var c=_this._injector.get(console_1.Console);return lang_1.assertionsEnabled()&&c.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),_})},ApplicationRef_.prototype._loadComponent=function(componentRef){var appChangeDetector=componentRef.location.internalElement.parentView.changeDetector;this._changeDetectorRefs.push(appChangeDetector.ref),this.tick(),this._rootComponents.push(componentRef),this._bootstrapListeners.forEach(function(listener){return listener(componentRef)})},ApplicationRef_.prototype._unloadComponent=function(componentRef){collection_1.ListWrapper.contains(this._rootComponents,componentRef)&&(this.unregisterChangeDetector(componentRef.location.internalElement.parentView.changeDetector.ref),collection_1.ListWrapper.remove(this._rootComponents,componentRef))},Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new exceptions_1.BaseException("ApplicationRef.tick is called recursively");var s=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(detector){return detector.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(detector){return detector.checkNoChanges()})}finally{this._runningTick=!1,profile_1.wtfLeave(s)}},ApplicationRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._rootComponents).forEach(function(ref){return ref.dispose()}),this._disposeListeners.forEach(function(dispose){return dispose()}),this._platform._applicationDisposed(this)},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=profile_1.wtfCreateScope("ApplicationRef#tick()"),ApplicationRef_}(ApplicationRef);return exports.ApplicationRef_=ApplicationRef_,module.exports}),$__System.registerDynamic("18b",["20","3"],!0,function($__require,exports,module){"use strict";var ng_zone_1=($__require("3"),$__require("20"));return exports.NgZone=ng_zone_1.NgZone,exports.NgZoneError=ng_zone_1.NgZoneError,module.exports}),$__System.registerDynamic("18c",["18d","3"],!0,function($__require,exports,module){"use strict";var api_1=($__require("3"),$__require("18d"));return exports.RootRenderer=api_1.RootRenderer,exports.Renderer=api_1.Renderer,exports.RenderComponentType=api_1.RenderComponentType,module.exports}),$__System.registerDynamic("18e",["57","59","5e","18f","190","189","191","192","5f","193","3"],!0,function($__require,exports,module){"use strict";var directive_resolver_1=($__require("3"),$__require("57"));exports.DirectiveResolver=directive_resolver_1.DirectiveResolver;var view_resolver_1=$__require("59");exports.ViewResolver=view_resolver_1.ViewResolver;var compiler_1=$__require("5e");exports.Compiler=compiler_1.Compiler;var view_manager_1=$__require("18f");exports.AppViewManager=view_manager_1.AppViewManager;var query_list_1=$__require("190");exports.QueryList=query_list_1.QueryList;var dynamic_component_loader_1=$__require("189");exports.DynamicComponentLoader=dynamic_component_loader_1.DynamicComponentLoader;var element_ref_1=$__require("191");exports.ElementRef=element_ref_1.ElementRef;var template_ref_1=$__require("192");exports.TemplateRef=template_ref_1.TemplateRef;var view_ref_1=$__require("5f");exports.EmbeddedViewRef=view_ref_1.EmbeddedViewRef,exports.HostViewRef=view_ref_1.HostViewRef,exports.ViewRef=view_ref_1.ViewRef,exports.HostViewFactoryRef=view_ref_1.HostViewFactoryRef;var view_container_ref_1=$__require("193");exports.ViewContainerRef=view_container_ref_1.ViewContainerRef;var dynamic_component_loader_2=$__require("189");return exports.ComponentRef=dynamic_component_loader_2.ComponentRef,module.exports}),$__System.registerDynamic("24",["6","a","3"],!0,function($__require,exports,module){"use strict";function asNativeElements(debugEls){return debugEls.map(function(el){return el.nativeElement})}function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){node instanceof DebugElement&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement&&parentNode.childNodes.forEach(function(node){predicate(node)&&matches.push(node),node instanceof DebugElement&&_queryNodeChildren(node,predicate,matches)})}function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)}function getAllDebugNodes(){
return collection_1.MapWrapper.values(_nativeNodeToDebugNode)}function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode["delete"](node.nativeNode)}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),collection_1=$__require("a"),EventListener=function(){function EventListener(name,callback){this.name=name,this.callback=callback}return EventListener}();exports.EventListener=EventListener;var DebugNode=function(){function DebugNode(nativeNode,parent){this.nativeNode=nativeNode,lang_1.isPresent(parent)&&parent instanceof DebugElement?parent.addChild(this):this.parent=null,this.listeners=[],this.providerTokens=[]}return DebugNode.prototype.setDebugInfo=function(info){this.injector=info.injector,this.providerTokens=info.providerTokens,this.locals=info.locals,this.componentInstance=info.component},DebugNode.prototype.inject=function(token){return this.injector.get(token)},DebugNode.prototype.getLocal=function(name){return this.locals.get(name)},DebugNode}();exports.DebugNode=DebugNode;var DebugElement=function(_super){function DebugElement(nativeNode,parent){_super.call(this,nativeNode,parent),this.properties=new Map,this.attributes=new Map,this.childNodes=[],this.nativeElement=nativeNode}return __extends(DebugElement,_super),DebugElement.prototype.addChild=function(child){lang_1.isPresent(child)&&(this.childNodes.push(child),child.parent=this)},DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))},DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(-1!==siblingIndex){var previousChildren=this.childNodes.slice(0,siblingIndex+1),nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=collection_1.ListWrapper.concat(collection_1.ListWrapper.concat(previousChildren,newChildren),nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];lang_1.isPresent(newChild.parent)&&newChild.parent.removeChild(newChild),newChild.parent=this}}},DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results.length>0?results[0]:null},DebugElement.prototype.queryAll=function(predicate){var matches=[];return _queryElementChildren(this,predicate,matches),matches},DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];return _queryNodeChildren(this,predicate,matches),matches},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var children=[];return this.childNodes.forEach(function(node){node instanceof DebugElement&&children.push(node)}),children},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){listener.name==eventName&&listener.callback(eventObj)})},DebugElement}(DebugNode);exports.DebugElement=DebugElement,exports.asNativeElements=asNativeElements;var _nativeNodeToDebugNode=new Map;return exports.getDebugNode=getDebugNode,exports.getAllDebugNodes=getAllDebugNodes,exports.indexDebugNode=indexDebugNode,exports.removeDebugNodeFromIndex=removeDebugNodeFromIndex,module.exports}),$__System.registerDynamic("5a",["b","6","3"],!0,function($__require,exports,module){"use strict";var di_1=($__require("3"),$__require("b")),lang_1=$__require("6");return exports.PLATFORM_DIRECTIVES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Directives")),exports.PLATFORM_PIPES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Pipes")),module.exports}),$__System.registerDynamic("18a",["b","6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),lang_1=$__require("6"),Console=function(){function Console(){}return Console.prototype.log=function(message){lang_1.print(message)},Console=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],Console)}();return exports.Console=Console,module.exports}),$__System.registerDynamic("20",["a","6","41","188","3"],!0,function($__require,exports,module){"use strict";var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),async_1=$__require("41"),profile_1=$__require("188"),NgZoneError=function(){function NgZoneError(error,stackTrace){this.error=error,this.stackTrace=stackTrace}return NgZoneError}();exports.NgZoneError=NgZoneError;var NgZone=function(){function NgZone(_a){var enableLongStackTrace=_a.enableLongStackTrace;this._runScope=profile_1.wtfCreateScope("NgZone#run()"),this._microtaskScope=profile_1.wtfCreateScope("NgZone#microtask()"),this._pendingMicrotasks=0,this._hasExecutedCodeInInnerZone=!1,this._nestedRun=0,this._inVmTurnDone=!1,this._pendingTimeouts=[],lang_1.global.zone?(this._disabled=!1,this._mountZone=lang_1.global.zone,this._innerZone=this._createInnerZone(this._mountZone,enableLongStackTrace)):(this._disabled=!0,this._mountZone=null),this._onTurnStartEvents=new async_1.EventEmitter(!1),this._onTurnDoneEvents=new async_1.EventEmitter(!1),this._onEventDoneEvents=new async_1.EventEmitter(!1),this._onErrorEvents=new async_1.EventEmitter(!1)}return NgZone.prototype.overrideOnTurnStart=function(onTurnStartHook){this._onTurnStart=lang_1.normalizeBlank(onTurnStartHook)},Object.defineProperty(NgZone.prototype,"onTurnStart",{get:function(){return this._onTurnStartEvents},enumerable:!0,configurable:!0}),NgZone.prototype._notifyOnTurnStart=function(parentRun){var _this=this;parentRun.call(this._innerZone,function(){_this._onTurnStartEvents.emit(null)})},NgZone.prototype.overrideOnTurnDone=function(onTurnDoneHook){this._onTurnDone=lang_1.normalizeBlank(onTurnDoneHook)},Object.defineProperty(NgZone.prototype,"onTurnDone",{get:function(){return this._onTurnDoneEvents},enumerable:!0,configurable:!0}),NgZone.prototype._notifyOnTurnDone=function(parentRun){var _this=this;parentRun.call(this._innerZone,function(){_this._onTurnDoneEvents.emit(null)})},NgZone.prototype.overrideOnEventDone=function(onEventDoneFn,opt_waitForAsync){var _this=this;void 0===opt_waitForAsync&&(opt_waitForAsync=!1);var normalizedOnEventDone=lang_1.normalizeBlank(onEventDoneFn);opt_waitForAsync?this._onEventDone=function(){_this._pendingTimeouts.length||normalizedOnEventDone()}:this._onEventDone=normalizedOnEventDone},Object.defineProperty(NgZone.prototype,"onEventDone",{get:function(){return this._onEventDoneEvents},enumerable:!0,configurable:!0}),NgZone.prototype._notifyOnEventDone=function(){var _this=this;this.runOutsideAngular(function(){_this._onEventDoneEvents.emit(null)})},Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._pendingMicrotasks>0},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingTimers",{get:function(){return this._pendingTimeouts.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingAsyncTasks",{get:function(){return this.hasPendingMicrotasks||this.hasPendingTimers},enumerable:!0,configurable:!0}),NgZone.prototype.overrideOnErrorHandler=function(errorHandler){this._onErrorHandler=lang_1.normalizeBlank(errorHandler)},Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),NgZone.prototype.run=function(fn){if(this._disabled)return fn();var s=this._runScope();try{return this._innerZone.run(fn)}finally{profile_1.wtfLeave(s)}},NgZone.prototype.runOutsideAngular=function(fn){return this._disabled?fn():this._mountZone.run(fn)},NgZone.prototype._createInnerZone=function(zone,enableLongStackTrace){var errorHandling,microtaskScope=this._microtaskScope,ngZone=this;return errorHandling=enableLongStackTrace?collection_1.StringMapWrapper.merge(lang_1.global.Zone.longStackTraceZone,{onError:function(e){ngZone._notifyOnError(this,e)}}):{onError:function(e){ngZone._notifyOnError(this,e)}},zone.fork(errorHandling).fork({$run:function(parentRun){return function(){try{return ngZone._nestedRun++,ngZone._hasExecutedCodeInInnerZone||(ngZone._hasExecutedCodeInInnerZone=!0,ngZone._notifyOnTurnStart(parentRun),ngZone._onTurnStart&&parentRun.call(ngZone._innerZone,ngZone._onTurnStart)),parentRun.apply(this,arguments)}finally{if(ngZone._nestedRun--,0==ngZone._pendingMicrotasks&&0==ngZone._nestedRun&&!this._inVmTurnDone){if(ngZone._hasExecutedCodeInInnerZone)try{this._inVmTurnDone=!0,ngZone._notifyOnTurnDone(parentRun),ngZone._onTurnDone&&parentRun.call(ngZone._innerZone,ngZone._onTurnDone)}finally{this._inVmTurnDone=!1,ngZone._hasExecutedCodeInInnerZone=!1}0===ngZone._pendingMicrotasks&&(ngZone._notifyOnEventDone(),lang_1.isPresent(ngZone._onEventDone)&&ngZone.runOutsideAngular(ngZone._onEventDone))}}}},$scheduleMicrotask:function(parentScheduleMicrotask){return function(fn){ngZone._pendingMicrotasks++;var microtask=function(){var s=microtaskScope();try{fn()}finally{ngZone._pendingMicrotasks--,profile_1.wtfLeave(s)}};parentScheduleMicrotask.call(this,microtask)}},$setTimeout:function(parentSetTimeout){return function(fn,delay){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var id,cb=function(){fn(),collection_1.ListWrapper.remove(ngZone._pendingTimeouts,id)};return id=parentSetTimeout.call(this,cb,delay,args),ngZone._pendingTimeouts.push(id),id}},$clearTimeout:function(parentClearTimeout){return function(id){parentClearTimeout.call(this,id),collection_1.ListWrapper.remove(ngZone._pendingTimeouts,id)}},_innerZone:!0})},NgZone.prototype._notifyOnError=function(zone,e){if(!lang_1.isPresent(this._onErrorHandler)&&!async_1.ObservableWrapper.hasSubscribers(this._onErrorEvents))throw console.log("## _notifyOnError ##"),console.log(e.stack),e;for(var trace=[lang_1.normalizeBlank(e.stack)];zone&&zone.constructedAtException;)trace.push(zone.constructedAtException.get()),zone=zone.parent;async_1.ObservableWrapper.hasSubscribers(this._onErrorEvents)&&async_1.ObservableWrapper.callEmit(this._onErrorEvents,new NgZoneError(e,trace)),lang_1.isPresent(this._onErrorHandler)&&this._onErrorHandler(e,trace)},NgZone}();return exports.NgZone=NgZone,module.exports}),$__System.registerDynamic("2e",["b","a","6","e","20","41","3"],!0,function($__require,exports,module){"use strict";function setTestabilityGetter(getter){_testabilityGetter=getter}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),collection_1=$__require("a"),lang_1=$__require("6"),exceptions_1=$__require("e"),ng_zone_1=$__require("20"),async_1=$__require("41"),Testability=function(){function Testability(_ngZone){this._pendingCount=0,this._didWork=!1,this._callbacks=[],this._isAngularEventPending=!1,this._watchAngularEvents(_ngZone)}return Testability.prototype._watchAngularEvents=function(_ngZone){var _this=this;async_1.ObservableWrapper.subscribe(_ngZone.onTurnStart,function(_){_this._didWork=!0,_this._isAngularEventPending=!0}),_ngZone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(_ngZone.onEventDone,function(_){_ngZone.hasPendingTimers||(_this._isAngularEventPending=!1,_this._runCallbacksIfReady())})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new exceptions_1.BaseException("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return 0==this._pendingCount&&!this._isAngularEventPending},Testability.prototype._runCallbacksIfReady=function(){var _this=this;return this.isStable()?void async_1.PromiseWrapper.resolve(null).then(function(_){for(;0!==_this._callbacks.length;)_this._callbacks.pop()(_this._didWork);_this._didWork=!1}):void(this._didWork=!0)},Testability.prototype.whenStable=function(callback){this._callbacks.push(callback),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.isAngularEventPending=function(){return this._isAngularEventPending},Testability.prototype.findBindings=function(using,provider,exactMatch){return[]},Testability.prototype.findProviders=function(using,provider,exactMatch){return[]},Testability=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[ng_zone_1.NgZone])],Testability)}();exports.Testability=Testability;var TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new collection_1.Map,_testabilityGetter.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability)},TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)},TestabilityRegistry.prototype.getAllTestabilities=function(){return collection_1.MapWrapper.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return collection_1.MapWrapper.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){return void 0===findInAncestors&&(findInAncestors=!0),_testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)},TestabilityRegistry=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],TestabilityRegistry)}();exports.TestabilityRegistry=TestabilityRegistry;var _NoopGetTestability=function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(registry){},_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null},_NoopGetTestability=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],_NoopGetTestability)}();exports.setTestabilityGetter=setTestabilityGetter;var _testabilityGetter=lang_1.CONST_EXPR(new _NoopGetTestability);return module.exports}),$__System.registerDynamic("194",["6","b","18a","31","2e","3"],!0,function($__require,exports,module){"use strict";function _reflector(){return reflection_1.reflector}var lang_1=($__require("3"),$__require("6")),di_1=$__require("b"),console_1=$__require("18a"),reflection_1=$__require("31"),testability_1=$__require("2e");return exports.PLATFORM_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(reflection_1.Reflector,{useFactory:_reflector,deps:[]}),testability_1.TestabilityRegistry,console_1.Console]),module.exports}),$__System.registerDynamic("5c",["b","6","47","57","195","58","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),lang_1=$__require("6"),element_1=$__require("47"),directive_resolver_1=$__require("57"),pipe_provider_1=$__require("195"),pipe_resolver_1=$__require("58"),ResolvedMetadataCache=function(){function ResolvedMetadataCache(_directiveResolver,_pipeResolver){this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._directiveCache=new Map,this._pipeCache=new Map}return ResolvedMetadataCache.prototype.getResolvedDirectiveMetadata=function(type){var result=this._directiveCache.get(type);return lang_1.isBlank(result)&&(result=element_1.DirectiveProvider.createFromType(type,this._directiveResolver.resolve(type)),this._directiveCache.set(type,result)),result},ResolvedMetadataCache.prototype.getResolvedPipeMetadata=function(type){var result=this._pipeCache.get(type);return lang_1.isBlank(result)&&(result=pipe_provider_1.PipeProvider.createFromType(type,this._pipeResolver.resolve(type)),this._pipeCache.set(type,result)),result},ResolvedMetadataCache=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver])],ResolvedMetadataCache)}();return exports.ResolvedMetadataCache=ResolvedMetadataCache,exports.CODEGEN_RESOLVED_METADATA_CACHE=new ResolvedMetadataCache(directive_resolver_1.CODEGEN_DIRECTIVE_RESOLVER,pipe_resolver_1.CODEGEN_PIPE_RESOLVER),module.exports}),$__System.registerDynamic("59",["b","3f","56","6","e","a","31","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),view_1=$__require("3f"),directives_1=$__require("56"),lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),reflection_1=$__require("31"),ViewResolver=function(){function ViewResolver(){this._cache=new collection_1.Map}return ViewResolver.prototype.resolve=function(component){var view=this._cache.get(component);return lang_1.isBlank(view)&&(view=this._resolve(component),this._cache.set(component,view)),view},ViewResolver.prototype._resolve=function(component){var compMeta,viewMeta;if(reflection_1.reflector.annotations(component).forEach(function(m){m instanceof view_1.ViewMetadata&&(viewMeta=m),m instanceof directives_1.ComponentMetadata&&(compMeta=m)}),!lang_1.isPresent(compMeta)){if(lang_1.isBlank(viewMeta))throw new exceptions_1.BaseException("No View decorator found on component '"+lang_1.stringify(component)+"'");return viewMeta}if(lang_1.isBlank(compMeta.template)&&lang_1.isBlank(compMeta.templateUrl)&&lang_1.isBlank(viewMeta))throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' must have either 'template', 'templateUrl', or '@View' set.");if(lang_1.isPresent(compMeta.template)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("template",component);else if(lang_1.isPresent(compMeta.templateUrl)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("templateUrl",component);else if(lang_1.isPresent(compMeta.directives)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("directives",component);else if(lang_1.isPresent(compMeta.pipes)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("pipes",component);else if(lang_1.isPresent(compMeta.encapsulation)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("encapsulation",component);else if(lang_1.isPresent(compMeta.styles)&&lang_1.isPresent(viewMeta))this._throwMixingViewAndComponent("styles",component);else{if(!lang_1.isPresent(compMeta.styleUrls)||!lang_1.isPresent(viewMeta))return lang_1.isPresent(viewMeta)?viewMeta:new view_1.ViewMetadata({templateUrl:compMeta.templateUrl,template:compMeta.template,directives:compMeta.directives,pipes:compMeta.pipes,encapsulation:compMeta.encapsulation,styles:compMeta.styles,styleUrls:compMeta.styleUrls});this._throwMixingViewAndComponent("styleUrls",component)}return null},ViewResolver.prototype._throwMixingViewAndComponent=function(propertyName,component){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' cannot have both '"+propertyName+"' and '@View' set at the same time\"")},ViewResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ViewResolver)}();return exports.ViewResolver=ViewResolver,module.exports}),$__System.registerDynamic("57",["b","6","e","a","22","31","3"],!0,function($__require,exports,module){"use strict";function _isDirectiveMetadata(type){return type instanceof metadata_1.DirectiveMetadata}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),metadata_1=$__require("22"),reflection_1=$__require("31"),DirectiveResolver=function(){function DirectiveResolver(){}return DirectiveResolver.prototype.resolve=function(type){var typeMetadata=reflection_1.reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(typeMetadata)){var metadata=typeMetadata.find(_isDirectiveMetadata);if(lang_1.isPresent(metadata)){var propertyMetadata=reflection_1.reflector.propMetadata(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,type)}}throw new exceptions_1.BaseException("No Directive annotation found on "+lang_1.stringify(type))},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,directiveType){var inputs=[],outputs=[],host={},queries={};return collection_1.StringMapWrapper.forEach(propertyMetadata,function(metadata,propName){metadata.forEach(function(a){if(a instanceof metadata_1.InputMetadata&&(lang_1.isPresent(a.bindingPropertyName)?inputs.push(propName+": "+a.bindingPropertyName):inputs.push(propName)),a instanceof metadata_1.OutputMetadata&&(lang_1.isPresent(a.bindingPropertyName)?outputs.push(propName+": "+a.bindingPropertyName):outputs.push(propName)),a instanceof metadata_1.HostBindingMetadata&&(lang_1.isPresent(a.hostPropertyName)?host["["+a.hostPropertyName+"]"]=propName:host["["+propName+"]"]=propName),a instanceof metadata_1.HostListenerMetadata){var args=lang_1.isPresent(a.args)?a.args.join(", "):"";host["("+a.eventName+")"]=propName+"("+args+")"}a instanceof metadata_1.ContentChildrenMetadata&&(queries[propName]=a),a instanceof metadata_1.ViewChildrenMetadata&&(queries[propName]=a),a instanceof metadata_1.ContentChildMetadata&&(queries[propName]=a),a instanceof metadata_1.ViewChildMetadata&&(queries[propName]=a)})}),this._merge(dm,inputs,outputs,host,queries,directiveType)},DirectiveResolver.prototype._merge=function(dm,inputs,outputs,host,queries,directiveType){var mergedOutputs,mergedInputs=lang_1.isPresent(dm.inputs)?collection_1.ListWrapper.concat(dm.inputs,inputs):inputs;lang_1.isPresent(dm.outputs)?(dm.outputs.forEach(function(propName){if(collection_1.ListWrapper.contains(outputs,propName))throw new exceptions_1.BaseException("Output event '"+propName+"' defined multiple times in '"+lang_1.stringify(directiveType)+"'")}),mergedOutputs=collection_1.ListWrapper.concat(dm.outputs,outputs)):mergedOutputs=outputs;var mergedHost=lang_1.isPresent(dm.host)?collection_1.StringMapWrapper.merge(dm.host,host):host,mergedQueries=lang_1.isPresent(dm.queries)?collection_1.StringMapWrapper.merge(dm.queries,queries):queries;return dm instanceof metadata_1.ComponentMetadata?new metadata_1.ComponentMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,moduleId:dm.moduleId,queries:mergedQueries,changeDetection:dm.changeDetection,providers:dm.providers,viewProviders:dm.viewProviders}):new metadata_1.DirectiveMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,queries:mergedQueries,providers:dm.providers})},DirectiveResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],DirectiveResolver)}();return exports.DirectiveResolver=DirectiveResolver,exports.CODEGEN_DIRECTIVE_RESOLVER=new DirectiveResolver,module.exports}),$__System.registerDynamic("3f",["6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6");!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None"}(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewEncapsulation=exports.ViewEncapsulation;exports.VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None];var ViewMetadata=function(){function ViewMetadata(_a){var _b=void 0===_a?{}:_a,templateUrl=_b.templateUrl,template=_b.template,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls;this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,this.directives=directives,this.pipes=pipes,this.encapsulation=encapsulation}return ViewMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewMetadata)}();return exports.ViewMetadata=ViewMetadata,module.exports}),$__System.registerDynamic("22",["196","56","3f","169","3"],!0,function($__require,exports,module){"use strict";var di_1=($__require("3"),$__require("196"));exports.QueryMetadata=di_1.QueryMetadata,exports.ContentChildrenMetadata=di_1.ContentChildrenMetadata,exports.ContentChildMetadata=di_1.ContentChildMetadata,exports.ViewChildrenMetadata=di_1.ViewChildrenMetadata,exports.ViewQueryMetadata=di_1.ViewQueryMetadata,exports.ViewChildMetadata=di_1.ViewChildMetadata,exports.AttributeMetadata=di_1.AttributeMetadata;var directives_1=$__require("56");exports.ComponentMetadata=directives_1.ComponentMetadata,exports.DirectiveMetadata=directives_1.DirectiveMetadata,exports.PipeMetadata=directives_1.PipeMetadata,exports.InputMetadata=directives_1.InputMetadata,exports.OutputMetadata=directives_1.OutputMetadata,exports.HostBindingMetadata=directives_1.HostBindingMetadata,exports.HostListenerMetadata=directives_1.HostListenerMetadata;var view_1=$__require("3f");exports.ViewMetadata=view_1.ViewMetadata,exports.ViewEncapsulation=view_1.ViewEncapsulation;var di_2=$__require("196"),directives_2=$__require("56"),view_2=$__require("3f"),decorators_1=$__require("169");return exports.Component=decorators_1.makeDecorator(directives_2.ComponentMetadata,function(fn){return fn.View=exports.View}),exports.Directive=decorators_1.makeDecorator(directives_2.DirectiveMetadata),exports.View=decorators_1.makeDecorator(view_2.ViewMetadata,function(fn){return fn.View=exports.View}),exports.Attribute=decorators_1.makeParamDecorator(di_2.AttributeMetadata),exports.Query=decorators_1.makeParamDecorator(di_2.QueryMetadata),exports.ContentChildren=decorators_1.makePropDecorator(di_2.ContentChildrenMetadata),exports.ContentChild=decorators_1.makePropDecorator(di_2.ContentChildMetadata),exports.ViewChildren=decorators_1.makePropDecorator(di_2.ViewChildrenMetadata),exports.ViewChild=decorators_1.makePropDecorator(di_2.ViewChildMetadata),exports.ViewQuery=decorators_1.makeParamDecorator(di_2.ViewQueryMetadata),exports.Pipe=decorators_1.makeDecorator(directives_2.PipeMetadata),exports.Input=decorators_1.makePropDecorator(directives_2.InputMetadata),exports.Output=decorators_1.makePropDecorator(directives_2.OutputMetadata),exports.HostBinding=decorators_1.makePropDecorator(directives_2.HostBindingMetadata),exports.HostListener=decorators_1.makePropDecorator(directives_2.HostListenerMetadata),module.exports}),$__System.registerDynamic("58",["b","6","e","22","31","3"],!0,function($__require,exports,module){"use strict";function _isPipeMetadata(type){return type instanceof metadata_1.PipeMetadata}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),lang_1=$__require("6"),exceptions_1=$__require("e"),metadata_1=$__require("22"),reflection_1=$__require("31"),PipeResolver=function(){function PipeResolver(){}return PipeResolver.prototype.resolve=function(type){var metas=reflection_1.reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(metas)){var annotation=metas.find(_isPipeMetadata);if(lang_1.isPresent(annotation))return annotation}throw new exceptions_1.BaseException("No Pipe decorator found on "+lang_1.stringify(type))},PipeResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],PipeResolver)}();return exports.PipeResolver=PipeResolver,exports.CODEGEN_PIPE_RESOLVER=new PipeResolver,module.exports}),$__System.registerDynamic("5e",["b","6","e","41","31","45","5f","3"],!0,function($__require,exports,module){"use strict";function isHostViewFactory(type){return type instanceof view_1.HostViewFactory}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);
return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),lang_1=$__require("6"),exceptions_1=$__require("e"),async_1=$__require("41"),reflection_1=$__require("31"),view_1=$__require("45"),view_ref_1=$__require("5f"),Compiler=function(){function Compiler(){}return Compiler}();exports.Compiler=Compiler;var Compiler_=function(_super){function Compiler_(){_super.apply(this,arguments)}return __extends(Compiler_,_super),Compiler_.prototype.compileInHost=function(componentType){var metadatas=reflection_1.reflector.annotations(componentType),hostViewFactory=metadatas.find(isHostViewFactory);if(lang_1.isBlank(hostViewFactory))throw new exceptions_1.BaseException("No precompiled component "+lang_1.stringify(componentType)+" found");return async_1.PromiseWrapper.resolve(new view_ref_1.HostViewFactoryRef_(hostViewFactory))},Compiler_.prototype.clearCache=function(){},Compiler_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],Compiler_)}(Compiler);return exports.Compiler_=Compiler_,module.exports}),$__System.registerDynamic("196",["6","b","197","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),di_1=$__require("b"),metadata_1=$__require("197"),AttributeMetadata=function(_super){function AttributeMetadata(attributeName){_super.call(this),this.attributeName=attributeName}return __extends(AttributeMetadata,_super),Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),AttributeMetadata.prototype.toString=function(){return"@Attribute("+lang_1.stringify(this.attributeName)+")"},AttributeMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],AttributeMetadata)}(metadata_1.DependencyMetadata);exports.AttributeMetadata=AttributeMetadata;var QueryMetadata=function(_super){function QueryMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0===_c?!1:_c,_d=_b.first,first=void 0===_d?!1:_d;_super.call(this),this._selector=_selector,this.descendants=descendants,this.first=first}return __extends(QueryMetadata,_super),Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return di_1.resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return lang_1.isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:!0,configurable:!0}),QueryMetadata.prototype.toString=function(){return"@Query("+lang_1.stringify(this.selector)+")"},QueryMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],QueryMetadata)}(metadata_1.DependencyMetadata);exports.QueryMetadata=QueryMetadata;var ContentChildrenMetadata=function(_super){function ContentChildrenMetadata(_selector,_a){var _b=(void 0===_a?{}:_a).descendants,descendants=void 0===_b?!1:_b;_super.call(this,_selector,{descendants:descendants})}return __extends(ContentChildrenMetadata,_super),ContentChildrenMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],ContentChildrenMetadata)}(QueryMetadata);exports.ContentChildrenMetadata=ContentChildrenMetadata;var ContentChildMetadata=function(_super){function ContentChildMetadata(_selector){_super.call(this,_selector,{descendants:!0,first:!0})}return __extends(ContentChildMetadata,_super),ContentChildMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ContentChildMetadata)}(QueryMetadata);exports.ContentChildMetadata=ContentChildMetadata;var ViewQueryMetadata=function(_super){function ViewQueryMetadata(_selector,_a){var _b=void 0===_a?{}:_a,_c=_b.descendants,descendants=void 0===_c?!1:_c,_d=_b.first,first=void 0===_d?!1:_d;_super.call(this,_selector,{descendants:descendants,first:first})}return __extends(ViewQueryMetadata,_super),Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+lang_1.stringify(this.selector)+")"},ViewQueryMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],ViewQueryMetadata)}(QueryMetadata);exports.ViewQueryMetadata=ViewQueryMetadata;var ViewChildrenMetadata=function(_super){function ViewChildrenMetadata(_selector){_super.call(this,_selector,{descendants:!0})}return __extends(ViewChildrenMetadata,_super),ViewChildrenMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewChildrenMetadata)}(ViewQueryMetadata);exports.ViewChildrenMetadata=ViewChildrenMetadata;var ViewChildMetadata=function(_super){function ViewChildMetadata(_selector){_super.call(this,_selector,{descendants:!0,first:!0})}return __extends(ViewChildMetadata,_super),ViewChildMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewChildMetadata)}(ViewQueryMetadata);return exports.ViewChildMetadata=ViewChildMetadata,module.exports}),$__System.registerDynamic("191",["e","3"],!0,function($__require,exports,module){"use strict";var exceptions_1=($__require("3"),$__require("e")),ElementRef=function(){function ElementRef(){}return Object.defineProperty(ElementRef.prototype,"nativeElement",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ElementRef}();exports.ElementRef=ElementRef;var ElementRef_=function(){function ElementRef_(_appElement){this._appElement=_appElement}return Object.defineProperty(ElementRef_.prototype,"internalElement",{get:function(){return this._appElement},enumerable:!0,configurable:!0}),Object.defineProperty(ElementRef_.prototype,"nativeElement",{get:function(){return this._appElement.nativeElement},enumerable:!0,configurable:!0}),ElementRef_}();return exports.ElementRef_=ElementRef_,module.exports}),$__System.registerDynamic("193",["a","e","6","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),exceptions_1=$__require("e"),lang_1=$__require("6"),ViewContainerRef=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef.prototype.clear=function(){for(var i=this.length-1;i>=0;i--)this.remove(i)},Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}();exports.ViewContainerRef=ViewContainerRef;var ViewContainerRef_=function(_super){function ViewContainerRef_(_element){_super.call(this),this._element=_element}return __extends(ViewContainerRef_,_super),ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var views=this._element.nestedViews;return lang_1.isPresent(views)?views.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.ref},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,index){void 0===index&&(index=-1),-1==index&&(index=this.length);var vm=this._element.parentView.viewManager;return vm.createEmbeddedViewInContainer(this._element.ref,index,templateRef)},ViewContainerRef_.prototype.createHostView=function(hostViewFactoryRef,index,dynamicallyCreatedProviders,projectableNodes){void 0===index&&(index=-1),void 0===dynamicallyCreatedProviders&&(dynamicallyCreatedProviders=null),void 0===projectableNodes&&(projectableNodes=null),-1==index&&(index=this.length);var vm=this._element.parentView.viewManager;return vm.createHostViewInContainer(this._element.ref,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes)},ViewContainerRef_.prototype.insert=function(viewRef,index){void 0===index&&(index=-1),-1==index&&(index=this.length);var vm=this._element.parentView.viewManager;return vm.attachViewInContainer(this._element.ref,index,viewRef)},ViewContainerRef_.prototype.indexOf=function(viewRef){return collection_1.ListWrapper.indexOf(this._element.nestedViews,viewRef.internalView)},ViewContainerRef_.prototype.remove=function(index){void 0===index&&(index=-1),-1==index&&(index=this.length-1);var vm=this._element.parentView.viewManager;return vm.destroyViewInContainer(this._element.ref,index)},ViewContainerRef_.prototype.detach=function(index){void 0===index&&(index=-1),-1==index&&(index=this.length-1);var vm=this._element.parentView.viewManager;return vm.detachViewInContainer(this._element.ref,index)},ViewContainerRef_}(ViewContainerRef);return exports.ViewContainerRef_=ViewContainerRef_,module.exports}),$__System.registerDynamic("192",["3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),TemplateRef=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}();exports.TemplateRef=TemplateRef;var TemplateRef_=function(_super){function TemplateRef_(_elementRef){_super.call(this),this._elementRef=_elementRef}return __extends(TemplateRef_,_super),Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(TemplateRef);return exports.TemplateRef_=TemplateRef_,module.exports}),$__System.registerDynamic("198",["32","3"],!0,function($__require,exports,module){"use strict";var change_detection_1=($__require("3"),$__require("32"));return exports.ChangeDetectionStrategy=change_detection_1.ChangeDetectionStrategy,exports.ExpressionChangedAfterItHasBeenCheckedException=change_detection_1.ExpressionChangedAfterItHasBeenCheckedException,exports.ChangeDetectionError=change_detection_1.ChangeDetectionError,exports.ChangeDetectorRef=change_detection_1.ChangeDetectorRef,exports.WrappedValue=change_detection_1.WrappedValue,exports.SimpleChange=change_detection_1.SimpleChange,exports.IterableDiffers=change_detection_1.IterableDiffers,exports.KeyValueDiffers=change_detection_1.KeyValueDiffers,exports.CollectionChangeRecord=change_detection_1.CollectionChangeRecord,exports.KeyValueChangeRecord=change_detection_1.KeyValueChangeRecord,module.exports}),$__System.registerDynamic("56",["6","197","198","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),metadata_1=$__require("197"),change_detection_1=$__require("198"),DirectiveMetadata=function(_super){function DirectiveMetadata(_a){var _b=void 0===_a?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,bindings=_b.bindings,providers=_b.providers,exportAs=_b.exportAs,queries=_b.queries;_super.call(this),this.selector=selector,this._inputs=inputs,this._properties=properties,this._outputs=outputs,this._events=events,this.host=host,this.exportAs=exportAs,this.queries=queries,this._providers=providers,this._bindings=bindings}return __extends(DirectiveMetadata,_super),Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return lang_1.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return lang_1.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return lang_1.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"bindings",{get:function(){return this.providers},enumerable:!0,configurable:!0}),DirectiveMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],DirectiveMetadata)}(metadata_1.InjectableMetadata);exports.DirectiveMetadata=DirectiveMetadata;var ComponentMetadata=function(_super){function ComponentMetadata(_a){var _b=void 0===_a?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,exportAs=_b.exportAs,moduleId=_b.moduleId,bindings=_b.bindings,providers=_b.providers,viewBindings=_b.viewBindings,viewProviders=_b.viewProviders,_c=_b.changeDetection,changeDetection=void 0===_c?change_detection_1.ChangeDetectionStrategy.Default:_c,queries=_b.queries,templateUrl=_b.templateUrl,template=_b.template,styleUrls=_b.styleUrls,styles=_b.styles,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation;_super.call(this,{selector:selector,inputs:inputs,outputs:outputs,properties:properties,events:events,host:host,exportAs:exportAs,bindings:bindings,providers:providers,queries:queries}),this.changeDetection=changeDetection,this._viewProviders=viewProviders,this._viewBindings=viewBindings,this.templateUrl=templateUrl,this.template=template,this.styleUrls=styleUrls,this.styles=styles,this.directives=directives,this.pipes=pipes,this.encapsulation=encapsulation,this.moduleId=moduleId}return __extends(ComponentMetadata,_super),Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return lang_1.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentMetadata.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:!0,configurable:!0}),ComponentMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ComponentMetadata)}(DirectiveMetadata);exports.ComponentMetadata=ComponentMetadata;var PipeMetadata=function(_super){function PipeMetadata(_a){var name=_a.name,pure=_a.pure;_super.call(this),this.name=name,this._pure=pure}return __extends(PipeMetadata,_super),Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return lang_1.isPresent(this._pure)?this._pure:!0},enumerable:!0,configurable:!0}),PipeMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],PipeMetadata)}(metadata_1.InjectableMetadata);exports.PipeMetadata=PipeMetadata;var InputMetadata=function(){function InputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}return InputMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],InputMetadata)}();exports.InputMetadata=InputMetadata;var OutputMetadata=function(){function OutputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}return OutputMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],OutputMetadata)}();exports.OutputMetadata=OutputMetadata;var HostBindingMetadata=function(){function HostBindingMetadata(hostPropertyName){this.hostPropertyName=hostPropertyName}return HostBindingMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],HostBindingMetadata)}();exports.HostBindingMetadata=HostBindingMetadata;var HostListenerMetadata=function(){function HostListenerMetadata(eventName,args){this.eventName=eventName,this.args=args}return HostListenerMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String,Array])],HostListenerMetadata)}();return exports.HostListenerMetadata=HostListenerMetadata,module.exports}),$__System.registerDynamic("199",["6","e","a","b","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),di_1=$__require("b"),IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories}return IterableDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new IterableDiffers(factories)}return new IterableDiffers(factories)},IterableDiffers.extend=function(factories){return new di_1.Provider(IterableDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent))throw new exceptions_1.BaseException("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable)});if(lang_1.isPresent(factory))return factory;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+iterable+"'")},IterableDiffers=__decorate([di_1.Injectable(),lang_1.CONST(),__metadata("design:paramtypes",[Array])],IterableDiffers)}();return exports.IterableDiffers=IterableDiffers,module.exports}),$__System.registerDynamic("19a",["6","e","a","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),lang_2=$__require("6"),DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(obj){return collection_1.isListLikeIterable(obj)},DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn)},DefaultIterableDifferFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DefaultIterableDifferFactory)}();exports.DefaultIterableDifferFactory=DefaultIterableDifferFactory;var trackByIdentity=function(index,item){return item},DefaultIterableDiffer=function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=lang_2.isPresent(this._trackByFn)?this._trackByFn:trackByIdentity}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;null!==record;record=record._next)fn(record)},DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)},DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)},DefaultIterableDiffer.prototype.diff=function(collection){if(lang_2.isBlank(collection)&&(collection=[]),!collection_1.isListLikeIterable(collection))throw new exceptions_1.BaseException("Error trying to diff '"+collection+"'");return this.check(collection)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(lang_2.isArray(collection)){if(collection!==this._collection||!collection_1.ListWrapper.isImmutable(collection)){var list=collection;for(this._length=collection.length,index=0;index<this._length;index++)item=list[index],itemTrackBy=this._trackByFn(index,item),null!==record&&lang_2.looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),lang_2.looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next;this._truncate(record)}}else index=0,collection_1.iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item),null!==record&&lang_2.looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=_this._verifyReinsertion(record,item,itemTrackBy,index)),lang_2.looseIdentical(record.item,item)||_this._addIdentityChange(record,item)):(record=_this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this._length=index,this._truncate(record);return this._collection=collection,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index),null!==record?(lang_2.looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy),null!==record?(lang_2.looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index)),record},DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record},DefaultIterableDiffer.prototype._truncate=function(record){for(;null!==record;){var nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);var prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record},DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record},DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record},DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))},DefaultIterableDiffer.prototype._unlink=function(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);var prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record},DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)},DefaultIterableDiffer.prototype._addToRemovals=function(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record},DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record},DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record)});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record)});var additions=[];this.forEachAddedItem(function(record){return additions.push(record)});var moves=[];this.forEachMovedItem(function(record){return moves.push(record)});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record)});var identityChanges=[];return this.forEachIdentityChange(function(record){return identityChanges.push(record)}),"collection: "+list.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nmoves: "+moves.join(", ")+"\nremovals: "+removals.join(", ")+"\nidentityChanges: "+identityChanges.join(", ")+"\n"},DefaultIterableDiffer}();exports.DefaultIterableDiffer=DefaultIterableDiffer;var CollectionChangeRecord=function(){function CollectionChangeRecord(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?lang_2.stringify(this.item):lang_2.stringify(this.item)+"["+lang_2.stringify(this.previousIndex)+"->"+lang_2.stringify(this.currentIndex)+"]"},CollectionChangeRecord}();exports.CollectionChangeRecord=CollectionChangeRecord;var _DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)},_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;null!==record;record=record._nextDup)if((null===afterIndex||afterIndex<record.currentIndex)&&lang_2.looseIdentical(record.trackById,trackById))return record;
return null},_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head},_DuplicateItemRecordList}(),_DuplicateMap=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(record){var key=lang_2.getMapKey(record.trackById),duplicates=this.map.get(key);lang_2.isPresent(duplicates)||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)},_DuplicateMap.prototype.get=function(trackById,afterIndex){void 0===afterIndex&&(afterIndex=null);var key=lang_2.getMapKey(trackById),recordList=this.map.get(key);return lang_2.isBlank(recordList)?null:recordList.get(trackById,afterIndex)},_DuplicateMap.prototype.remove=function(record){var key=lang_2.getMapKey(record.trackById),recordList=this.map.get(key);return recordList.remove(record)&&this.map["delete"](key),record},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+lang_2.stringify(this.map)+")"},_DuplicateMap}();return module.exports}),$__System.registerDynamic("19b",["6","e","a","b","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),di_1=$__require("b"),KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories}return KeyValueDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);return factories=factories.concat(copied),new KeyValueDiffers(factories)}return new KeyValueDiffers(factories)},KeyValueDiffers.extend=function(factories){return new di_1.Provider(KeyValueDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent))throw new exceptions_1.BaseException("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(lang_1.isPresent(factory))return factory;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+kv+"'")},KeyValueDiffers=__decorate([di_1.Injectable(),lang_1.CONST(),__metadata("design:paramtypes",[Array])],KeyValueDiffers)}();return exports.KeyValueDiffers=KeyValueDiffers,module.exports}),$__System.registerDynamic("19c",["a","6","e","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},collection_1=$__require("a"),lang_1=$__require("6"),exceptions_1=$__require("e"),DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||lang_1.isJsObject(obj)},DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer},DefaultKeyValueDifferFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DefaultKeyValueDifferFactory)}();exports.DefaultKeyValueDifferFactory=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;null!==record;record=record._next)fn(record)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)},DefaultKeyValueDiffer.prototype.diff=function(map){if(lang_1.isBlank(map)&&(map=collection_1.MapWrapper.createFromPairs([])),!(map instanceof Map||lang_1.isJsObject(map)))throw new exceptions_1.BaseException("Error trying to diff '"+map+"'");return this.check(map)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records,oldSeqRecord=this._mapHead,lastOldSeqRecord=null,lastNewSeqRecord=null,seqChanged=!1;return this._forEach(map,function(value,key){var newSeqRecord;null!==oldSeqRecord&&key===oldSeqRecord.key?(newSeqRecord=oldSeqRecord,lang_1.looseIdentical(value,oldSeqRecord.currentValue)||(oldSeqRecord.previousValue=oldSeqRecord.currentValue,oldSeqRecord.currentValue=value,_this._addToChanges(oldSeqRecord))):(seqChanged=!0,null!==oldSeqRecord&&(oldSeqRecord._next=null,_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord),_this._addToRemovals(oldSeqRecord)),records.has(key)?newSeqRecord=records.get(key):(newSeqRecord=new KeyValueChangeRecord(key),records.set(key,newSeqRecord),newSeqRecord.currentValue=value,_this._addToAdditions(newSeqRecord))),seqChanged&&(_this._isInRemovals(newSeqRecord)&&_this._removeFromRemovals(newSeqRecord),null==lastNewSeqRecord?_this._mapHead=newSeqRecord:lastNewSeqRecord._next=newSeqRecord),lastOldSeqRecord=oldSeqRecord,lastNewSeqRecord=newSeqRecord,oldSeqRecord=null===oldSeqRecord?null:oldSeqRecord._next}),this._truncate(lastOldSeqRecord,oldSeqRecord),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record;for(record=this._previousMapHead=this._mapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){for(;null!==record;){null===lastRecord?this._mapHead=null:lastRecord._next=null;var nextRecord=record._next;this._addToRemovals(record),lastRecord=record,record=nextRecord}for(var rec=this._removalsHead;null!==rec;rec=rec._nextRemoved)rec.previousValue=rec.currentValue,rec.currentValue=null,this._records["delete"](rec.key)},DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||null!==record._nextRemoved||null!==record._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(record){null===this._removalsHead?this._removalsHead=this._removalsTail=record:(this._removalsTail._nextRemoved=record,record._prevRemoved=this._removalsTail,this._removalsTail=record)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;null===prev?this._mapHead=next:prev._next=next},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved,next=record._nextRemoved;null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,record._prevRemoved=record._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)},DefaultKeyValueDiffer.prototype._addToChanges=function(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)},DefaultKeyValueDiffer.prototype.toString=function(){var record,items=[],previous=[],changes=[],additions=[],removals=[];for(record=this._mapHead;null!==record;record=record._next)items.push(lang_1.stringify(record));for(record=this._previousMapHead;null!==record;record=record._nextPrevious)previous.push(lang_1.stringify(record));for(record=this._changesHead;null!==record;record=record._nextChanged)changes.push(lang_1.stringify(record));for(record=this._additionsHead;null!==record;record=record._nextAdded)additions.push(lang_1.stringify(record));for(record=this._removalsHead;null!==record;record=record._nextRemoved)removals.push(lang_1.stringify(record));return"map: "+items.join(", ")+"\nprevious: "+previous.join(", ")+"\nadditions: "+additions.join(", ")+"\nchanges: "+changes.join(", ")+"\nremovals: "+removals.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){obj instanceof Map?obj.forEach(fn):collection_1.StringMapWrapper.forEach(obj,fn)},DefaultKeyValueDiffer}();exports.DefaultKeyValueDiffer=DefaultKeyValueDiffer;var KeyValueChangeRecord=function(){function KeyValueChangeRecord(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return lang_1.looseIdentical(this.previousValue,this.currentValue)?lang_1.stringify(this.key):lang_1.stringify(this.key)+"["+lang_1.stringify(this.previousValue)+"->"+lang_1.stringify(this.currentValue)+"]"},KeyValueChangeRecord}();return exports.KeyValueChangeRecord=KeyValueChangeRecord,module.exports}),$__System.registerDynamic("19d",["19e","a","6","e","3"],!0,function($__require,exports,module){"use strict";function newCharacterToken(index,code){return new Token(index,TokenType.Character,code,lang_1.StringWrapper.fromCharCode(code))}function newIdentifierToken(index,text){return new Token(index,TokenType.Identifier,0,text)}function newKeywordToken(index,text){return new Token(index,TokenType.Keyword,0,text)}function newOperatorToken(index,text){return new Token(index,TokenType.Operator,0,text)}function newStringToken(index,text){return new Token(index,TokenType.String,0,text)}function newNumberToken(index,n){return new Token(index,TokenType.Number,n,"")}function isWhitespace(code){return code>=exports.$TAB&&code<=exports.$SPACE||code==$NBSP}function isIdentifierStart(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code||code==$_||code==exports.$$}function isIdentifier(input){if(0==input.length)return!1;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();scanner.peek!==exports.$EOF;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}function isIdentifierPart(code){return code>=$a&&$z>=code||code>=$A&&$Z>=code||code>=$0&&$9>=code||code==$_||code==exports.$$}function isDigit(code){return code>=$0&&$9>=code}function isExponentStart(code){return code==$e||code==$E}function isExponentSign(code){return code==exports.$MINUS||code==exports.$PLUS}function unescape(code){switch(code){case $n:return exports.$LF;case $f:return exports.$FF;case $r:return exports.$CR;case $t:return exports.$TAB;case $v:return exports.$VTAB;default:return code}}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},decorators_1=$__require("19e"),collection_1=$__require("a"),lang_1=$__require("6"),exceptions_1=$__require("e");!function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number"}(exports.TokenType||(exports.TokenType={}));var TokenType=exports.TokenType,Lexer=function(){function Lexer(){}return Lexer.prototype.tokenize=function(text){for(var scanner=new _Scanner(text),tokens=[],token=scanner.scanToken();null!=token;)tokens.push(token),token=scanner.scanToken();return tokens},Lexer=__decorate([decorators_1.Injectable(),__metadata("design:paramtypes",[])],Lexer)}();exports.Lexer=Lexer;var Token=function(){function Token(index,type,numValue,strValue){this.index=index,this.type=type,this.numValue=numValue,this.strValue=strValue}return Token.prototype.isCharacter=function(code){return this.type==TokenType.Character&&this.numValue==code},Token.prototype.isNumber=function(){return this.type==TokenType.Number},Token.prototype.isString=function(){return this.type==TokenType.String},Token.prototype.isOperator=function(operater){return this.type==TokenType.Operator&&this.strValue==operater},Token.prototype.isIdentifier=function(){return this.type==TokenType.Identifier},Token.prototype.isKeyword=function(){return this.type==TokenType.Keyword},Token.prototype.isKeywordVar=function(){return this.type==TokenType.Keyword&&"var"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==TokenType.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==TokenType.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==TokenType.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==TokenType.Keyword&&"false"==this.strValue},Token.prototype.toNumber=function(){return this.type==TokenType.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}},Token}();exports.Token=Token,exports.EOF=new Token(-1,TokenType.Character,0,""),exports.$EOF=0,exports.$TAB=9,exports.$LF=10,exports.$VTAB=11,exports.$FF=12,exports.$CR=13,exports.$SPACE=32,exports.$BANG=33,exports.$DQ=34,exports.$HASH=35,exports.$$=36,exports.$PERCENT=37,exports.$AMPERSAND=38,exports.$SQ=39,exports.$LPAREN=40,exports.$RPAREN=41,exports.$STAR=42,exports.$PLUS=43,exports.$COMMA=44,exports.$MINUS=45,exports.$PERIOD=46,exports.$SLASH=47,exports.$COLON=58,exports.$SEMICOLON=59,exports.$LT=60,exports.$EQ=61,exports.$GT=62,exports.$QUESTION=63;var $0=48,$9=57,$A=65,$E=69,$Z=90;exports.$LBRACKET=91,exports.$BACKSLASH=92,exports.$RBRACKET=93;var $CARET=94,$_=95,$a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$z=122;exports.$LBRACE=123,exports.$BAR=124,exports.$RBRACE=125;var $NBSP=160,ScannerError=function(_super){function ScannerError(message){_super.call(this),this.message=message}return __extends(ScannerError,_super),ScannerError.prototype.toString=function(){return this.message},ScannerError}(exceptions_1.BaseException);exports.ScannerError=ScannerError;var _Scanner=function(){function _Scanner(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?exports.$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)},_Scanner.prototype.scanToken=function(){for(var input=this.input,length=this.length,peek=this.peek,index=this.index;peek<=exports.$SPACE;){if(++index>=length){peek=exports.$EOF;break}peek=lang_1.StringWrapper.charCodeAt(input,index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);var start=index;switch(peek){case exports.$PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,exports.$PERIOD);case exports.$LPAREN:case exports.$RPAREN:case exports.$LBRACE:case exports.$RBRACE:case exports.$LBRACKET:case exports.$RBRACKET:case exports.$COMMA:case exports.$COLON:case exports.$SEMICOLON:return this.scanCharacter(start,peek);case exports.$SQ:case exports.$DQ:return this.scanString();case exports.$HASH:case exports.$PLUS:case exports.$MINUS:case exports.$STAR:case exports.$SLASH:case exports.$PERCENT:case $CARET:return this.scanOperator(start,lang_1.StringWrapper.fromCharCode(peek));case exports.$QUESTION:return this.scanComplexOperator(start,"?",exports.$PERIOD,".");case exports.$LT:case exports.$GT:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,"=");case exports.$BANG:case exports.$EQ:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,"=",exports.$EQ,"=");case exports.$AMPERSAND:return this.scanComplexOperator(start,"&",exports.$AMPERSAND,"&");case exports.$BAR:return this.scanComplexOperator(start,"|",exports.$BAR,"|");case $NBSP:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+lang_1.StringWrapper.fromCharCode(peek)+"]",0),null},_Scanner.prototype.scanCharacter=function(start,code){return this.advance(),newCharacterToken(start,code)},_Scanner.prototype.scanOperator=function(start,str){return this.advance(),newOperatorToken(start,str)},_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){this.advance();var str=one;return this.peek==twoCode&&(this.advance(),str+=two),lang_1.isPresent(threeCode)&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,str)},_Scanner.prototype.scanIdentifier=function(){var start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var str=this.input.substring(start,this.index);return collection_1.SetWrapper.has(KEYWORDS,str)?newKeywordToken(start,str):newIdentifierToken(start,str)},_Scanner.prototype.scanNumber=function(start){var simple=this.index===start;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==exports.$PERIOD)simple=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),isDigit(this.peek)||this.error("Invalid exponent",-1),simple=!1}this.advance()}var str=this.input.substring(start,this.index),value=simple?lang_1.NumberWrapper.parseIntAutoRadix(str):lang_1.NumberWrapper.parseFloat(str);return newNumberToken(start,value)},_Scanner.prototype.scanString=function(){var start=this.index,quote=this.peek;this.advance();for(var buffer,marker=this.index,input=this.input;this.peek!=quote;)if(this.peek==exports.$BACKSLASH){null==buffer&&(buffer=new lang_1.StringJoiner),buffer.add(input.substring(marker,this.index)),this.advance();var unescapedCode;if(this.peek==$u){var hex=input.substring(this.index+1,this.index+5);try{unescapedCode=lang_1.NumberWrapper.parseInt(hex,16)}catch(e){this.error("Invalid unicode escape [\\u"+hex+"]",0)}for(var i=0;5>i;i++)this.advance()}else unescapedCode=unescape(this.peek),this.advance();buffer.add(lang_1.StringWrapper.fromCharCode(unescapedCode)),marker=this.index}else this.peek==exports.$EOF?this.error("Unterminated quote",0):this.advance();var last=input.substring(marker,this.index);this.advance();var unescaped=last;return null!=buffer&&(buffer.add(last),unescaped=buffer.toString()),newStringToken(start,unescaped)},_Scanner.prototype.error=function(message,offset){var position=this.index+offset;throw new ScannerError("Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]")},_Scanner}();exports.isIdentifier=isIdentifier;var KEYWORDS=(collection_1.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]),collection_1.SetWrapper.createFromList(["var","null","undefined","true","false","if","else"]));return module.exports}),$__System.registerDynamic("19f",["19e","6","e","a","19d","31","4e","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},decorators_1=$__require("19e"),lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),lexer_1=$__require("19d"),reflection_1=$__require("31"),ast_1=$__require("4e"),_implicitReceiver=new ast_1.ImplicitReceiver,INTERPOLATION_REGEXP=/\{\{([\s\S]*?)\}\}/g,ParseException=function(_super){function ParseException(message,input,errLocation,ctxLocation){_super.call(this,"Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation)}return __extends(ParseException,_super),ParseException}(exceptions_1.BaseException),Parser=function(){function Parser(_lexer,providedReflector){void 0===providedReflector&&(providedReflector=null),this._lexer=_lexer,this._reflector=lang_1.isPresent(providedReflector)?providedReflector:reflection_1.reflector}return Parser.prototype.parseAction=function(input,location){this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input),ast=new _ParseAST(input,location,tokens,this._reflector,!0).parseChain();return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype.parseBinding=function(input,location){var ast=this._parseBindingAst(input,location);return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype.parseSimpleBinding=function(input,location){var ast=this._parseBindingAst(input,location);if(!SimpleExpressionChecker.check(ast))throw new ParseException("Host binding expression can only contain field access and constants",input,location);return new ast_1.ASTWithSource(ast,input,location)},Parser.prototype._parseBindingAst=function(input,location){var quote=this._parseQuote(input,location);if(lang_1.isPresent(quote))return quote;this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,!1).parseChain()},Parser.prototype._parseQuote=function(input,location){if(lang_1.isBlank(input))return null;var prefixSeparatorIndex=input.indexOf(":");if(-1==prefixSeparatorIndex)return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!lexer_1.isIdentifier(prefix))return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new ast_1.Quote(prefix,uninterpretedExpression,location)},Parser.prototype.parseTemplateBindings=function(input,location){var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,!1).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length<=1)return null;for(var strings=[],expressions=[],i=0;i<parts.length;i++){var part=parts[i];if(i%2===0)strings.push(part);else{if(!(part.trim().length>0))throw new ParseException("Blank expressions are not allowed in interpolated strings",input,"at column "+this._findInterpolationErrorColumn(parts,i)+" in",location);var tokens=this._lexer.tokenize(part),ast=new _ParseAST(input,location,tokens,this._reflector,!1).parseChain();expressions.push(ast)}}return new ast_1.ASTWithSource(new ast_1.Interpolation(strings,expressions),input,location)},Parser.prototype.wrapLiteralPrimitive=function(input,location){return new ast_1.ASTWithSource(new ast_1.LiteralPrimitive(input),input,location)},Parser.prototype._checkNoInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length>1)throw new ParseException("Got interpolation ({{}}) where expression was expected",input,"at column "+this._findInterpolationErrorColumn(parts,1)+" in",location)},Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx){for(var errLocation="",j=0;partInErrIdx>j;j++)errLocation+=j%2===0?parts[j]:"{{"+parts[j]+"}}";return errLocation.length},Parser=__decorate([decorators_1.Injectable(),__metadata("design:paramtypes",[lexer_1.Lexer,reflection_1.Reflector])],Parser)}();exports.Parser=Parser;var _ParseAST=function(){function _ParseAST(input,location,tokens,reflector,parseAction){this.input=input,this.location=location,this.tokens=tokens,this.reflector=reflector,this.parseAction=parseAction,this.index=0}return _ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:lexer_1.EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(code){return this.next.isCharacter(code)?(this.advance(),!0):!1},_ParseAST.prototype.optionalKeywordVar=function(){return this.peekKeywordVar()?(this.advance(),!0):!1},_ParseAST.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator("#")},_ParseAST.prototype.expectCharacter=function(code){this.optionalCharacter(code)||this.error("Missing expected "+lang_1.StringWrapper.fromCharCode(code))},_ParseAST.prototype.optionalOperator=function(op){return this.next.isOperator(op)?(this.advance(),!0):!1},_ParseAST.prototype.expectOperator=function(operator){this.optionalOperator(operator)||this.error("Missing expected operator "+operator)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||this.error("Unexpected token "+n+", expected identifier or keyword"),this.advance(),n.toString()},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()||this.error("Unexpected token "+n+", expected identifier, keyword, or string"),this.advance(),n.toString()},_ParseAST.prototype.parseChain=function(){for(var exprs=[];this.index<this.tokens.length;){var expr=this.parsePipe();if(exprs.push(expr),this.optionalCharacter(lexer_1.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(lexer_1.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==exprs.length?new ast_1.EmptyExpr:1==exprs.length?exprs[0]:new ast_1.Chain(exprs)},_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var name=this.expectIdentifierOrKeyword(),args=[];this.optionalCharacter(lexer_1.$COLON);)args.push(this.parseExpression());result=new ast_1.BindingPipe(result,name,args)}while(this.optionalOperator("|"))}return result},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex,result=this.parseLogicalOr();if(this.optionalOperator("?")){var yes=this.parsePipe();if(!this.optionalCharacter(lexer_1.$COLON)){var end=this.inputIndex,expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions")}var no=this.parsePipe();return new ast_1.Conditional(result,yes,no)}return result},_ParseAST.prototype.parseLogicalOr=function(){for(var result=this.parseLogicalAnd();this.optionalOperator("||");)result=new ast_1.Binary("||",result,this.parseLogicalAnd());return result},_ParseAST.prototype.parseLogicalAnd=function(){for(var result=this.parseEquality();this.optionalOperator("&&");)result=new ast_1.Binary("&&",result,this.parseEquality());return result},_ParseAST.prototype.parseEquality=function(){for(var result=this.parseRelational();;)if(this.optionalOperator("=="))result=new ast_1.Binary("==",result,this.parseRelational());else if(this.optionalOperator("==="))result=new ast_1.Binary("===",result,this.parseRelational());else if(this.optionalOperator("!="))result=new ast_1.Binary("!=",result,this.parseRelational());else{if(!this.optionalOperator("!=="))return result;result=new ast_1.Binary("!==",result,this.parseRelational())}},_ParseAST.prototype.parseRelational=function(){for(var result=this.parseAdditive();;)if(this.optionalOperator("<"))result=new ast_1.Binary("<",result,this.parseAdditive());else if(this.optionalOperator(">"))result=new ast_1.Binary(">",result,this.parseAdditive());else if(this.optionalOperator("<="))result=new ast_1.Binary("<=",result,this.parseAdditive());else{if(!this.optionalOperator(">="))return result;result=new ast_1.Binary(">=",result,this.parseAdditive())}},_ParseAST.prototype.parseAdditive=function(){for(var result=this.parseMultiplicative();;)if(this.optionalOperator("+"))result=new ast_1.Binary("+",result,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return result;result=new ast_1.Binary("-",result,this.parseMultiplicative())}},_ParseAST.prototype.parseMultiplicative=function(){for(var result=this.parsePrefix();;)if(this.optionalOperator("*"))result=new ast_1.Binary("*",result,this.parsePrefix());else if(this.optionalOperator("%"))result=new ast_1.Binary("%",result,this.parsePrefix());else{if(!this.optionalOperator("/"))return result;result=new ast_1.Binary("/",result,this.parsePrefix())}},_ParseAST.prototype.parsePrefix=function(){
return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new ast_1.Binary("-",new ast_1.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new ast_1.PrefixNot(this.parsePrefix()):this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var result=this.parsePrimary();;)if(this.optionalCharacter(lexer_1.$PERIOD))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.optionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.optionalCharacter(lexer_1.$LBRACKET)){var key=this.parsePipe();if(this.expectCharacter(lexer_1.$RBRACKET),this.optionalOperator("=")){var value=this.parseConditional();result=new ast_1.KeyedWrite(result,key,value)}else result=new ast_1.KeyedRead(result,key)}else{if(!this.optionalCharacter(lexer_1.$LPAREN))return result;var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN),result=new ast_1.FunctionCall(result,args)}},_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(lexer_1.$LPAREN)){var result=this.parsePipe();return this.expectCharacter(lexer_1.$RPAREN),result}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new ast_1.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new ast_1.LiteralPrimitive(!0);if(this.next.isKeywordFalse())return this.advance(),new ast_1.LiteralPrimitive(!1);if(this.optionalCharacter(lexer_1.$LBRACKET)){var elements=this.parseExpressionList(lexer_1.$RBRACKET);return this.expectCharacter(lexer_1.$RBRACKET),new ast_1.LiteralArray(elements)}if(this.next.isCharacter(lexer_1.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(_implicitReceiver,!1);if(this.next.isNumber()){var value=this.next.toNumber();return this.advance(),new ast_1.LiteralPrimitive(value)}if(this.next.isString()){var literalValue=this.next.toString();return this.advance(),new ast_1.LiteralPrimitive(literalValue)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new exceptions_1.BaseException("Fell through all cases in parsePrimary")},_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator))do result.push(this.parsePipe());while(this.optionalCharacter(lexer_1.$COMMA));return result},_ParseAST.prototype.parseLiteralMap=function(){var keys=[],values=[];if(this.expectCharacter(lexer_1.$LBRACE),!this.optionalCharacter(lexer_1.$RBRACE)){do{var key=this.expectIdentifierOrKeywordOrString();keys.push(key),this.expectCharacter(lexer_1.$COLON),values.push(this.parsePipe())}while(this.optionalCharacter(lexer_1.$COMMA));this.expectCharacter(lexer_1.$RBRACE)}return new ast_1.LiteralMap(keys,values)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){void 0===isSafe&&(isSafe=!1);var id=this.expectIdentifierOrKeyword();if(this.optionalCharacter(lexer_1.$LPAREN)){var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN);var fn=this.reflector.method(id);return isSafe?new ast_1.SafeMethodCall(receiver,id,fn,args):new ast_1.MethodCall(receiver,id,fn,args)}if(!isSafe){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var value=this.parseConditional();return new ast_1.PropertyWrite(receiver,id,this.reflector.setter(id),value)}return new ast_1.PropertyRead(receiver,id,this.reflector.getter(id))}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new ast_1.SafePropertyRead(receiver,id,this.reflector.getter(id))},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(lexer_1.$RPAREN))return[];var positionals=[];do positionals.push(this.parsePipe());while(this.optionalCharacter(lexer_1.$COMMA));return positionals},_ParseAST.prototype.parseBlockContent=function(){this.parseAction||this.error("Binding expression cannot contain chained expression");for(var exprs=[];this.index<this.tokens.length&&!this.next.isCharacter(lexer_1.$RBRACE);){var expr=this.parseExpression();if(exprs.push(expr),this.optionalCharacter(lexer_1.$SEMICOLON))for(;this.optionalCharacter(lexer_1.$SEMICOLON););}return 0==exprs.length?new ast_1.EmptyExpr:1==exprs.length?exprs[0]:new ast_1.Chain(exprs)},_ParseAST.prototype.expectTemplateBindingKey=function(){var result="",operatorFound=!1;do result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.optionalOperator("-"),operatorFound&&(result+="-");while(operatorFound);return result.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var bindings=[],prefix=null;this.index<this.tokens.length;){var keyIsVar=this.optionalKeywordVar(),key=this.expectTemplateBindingKey();keyIsVar||(null==prefix?prefix=key:key=prefix+key[0].toUpperCase()+key.substring(1)),this.optionalCharacter(lexer_1.$COLON);var name=null,expression=null;if(keyIsVar)name=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==lexer_1.EOF&&!this.peekKeywordVar()){var start=this.inputIndex,ast=this.parsePipe(),source=this.input.substring(start,this.inputIndex);expression=new ast_1.ASTWithSource(ast,source,this.location)}bindings.push(new ast_1.TemplateBinding(key,keyIsVar,name,expression)),this.optionalCharacter(lexer_1.$SEMICOLON)||this.optionalCharacter(lexer_1.$COMMA)}return bindings},_ParseAST.prototype.error=function(message,index){void 0===index&&(index=null),lang_1.isBlank(index)&&(index=this.index);var location=index<this.tokens.length?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression";throw new ParseException(message,this.input,location,this.location)},_ParseAST}();exports._ParseAST=_ParseAST;var SimpleExpressionChecker=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker;return ast.visit(s),s.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast){},SimpleExpressionChecker.prototype.visitInterpolation=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast){},SimpleExpressionChecker.prototype.visitPropertyRead=function(ast){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(ast){this.visitAll(ast.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(ast){this.visitAll(ast.values)},SimpleExpressionChecker.prototype.visitBinary=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},SimpleExpressionChecker.prototype.visitChain=function(ast){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(ast){this.simple=!1},SimpleExpressionChecker}();return module.exports}),$__System.registerDynamic("1a0",["3"],!0,function($__require,exports,module){"use strict";var DebugContext=($__require("3"),function(){function DebugContext(element,componentElement,directive,context,locals,injector){this.element=element,this.componentElement=componentElement,this.directive=directive,this.context=context,this.locals=locals,this.injector=injector}return DebugContext}());exports.DebugContext=DebugContext;var ChangeDetectorGenConfig=function(){function ChangeDetectorGenConfig(genDebugInfo,logBindingUpdate,useJit){this.genDebugInfo=genDebugInfo,this.logBindingUpdate=logBindingUpdate,this.useJit=useJit}return ChangeDetectorGenConfig}();exports.ChangeDetectorGenConfig=ChangeDetectorGenConfig;var ChangeDetectorDefinition=function(){function ChangeDetectorDefinition(id,strategy,variableNames,bindingRecords,eventRecords,directiveRecords,genConfig){this.id=id,this.strategy=strategy,this.variableNames=variableNames,this.bindingRecords=bindingRecords,this.eventRecords=eventRecords,this.directiveRecords=directiveRecords,this.genConfig=genConfig}return ChangeDetectorDefinition}();return exports.ChangeDetectorDefinition=ChangeDetectorDefinition,module.exports}),$__System.registerDynamic("1a1",["6","a","3"],!0,function($__require,exports,module){"use strict";function sanitizeName(s){return lang_1.StringWrapper.replaceAll(s,_whiteSpaceRegExp,"")}var lang_1=($__require("3"),$__require("6")),collection_1=$__require("a"),_STATE_ACCESSOR="state",_PROP_BINDING_INDEX="propertyBindingIndex",_DIRECTIVES_ACCESSOR="directiveIndices",_DISPATCHER_ACCESSOR="dispatcher",_LOCALS_ACCESSOR="locals",_MODE_ACCESSOR="mode",_PIPES_ACCESSOR="pipes",_PROTOS_ACCESSOR="protos";exports.CONTEXT_ACCESSOR="context",exports.CONTEXT_INDEX=0;var _FIELD_PREFIX="this.",_whiteSpaceRegExp=/\W/g;exports.sanitizeName=sanitizeName;var CodegenNameUtil=function(){function CodegenNameUtil(_records,_eventBindings,_directiveRecords,_utilName){this._records=_records,this._eventBindings=_eventBindings,this._directiveRecords=_directiveRecords,this._utilName=_utilName,this._sanitizedEventNames=new collection_1.Map,this._sanitizedNames=collection_1.ListWrapper.createFixedSize(this._records.length+1),this._sanitizedNames[exports.CONTEXT_INDEX]=exports.CONTEXT_ACCESSOR;for(var i=0,iLen=this._records.length;iLen>i;++i)this._sanitizedNames[i+1]=sanitizeName(""+this._records[i].name+i);for(var ebIndex=0;ebIndex<_eventBindings.length;++ebIndex){for(var eb=_eventBindings[ebIndex],names=[exports.CONTEXT_ACCESSOR],i=0,iLen=eb.records.length;iLen>i;++i)names.push(sanitizeName(""+eb.records[i].name+i+"_"+ebIndex));this._sanitizedEventNames.set(eb,names)}}return CodegenNameUtil.prototype._addFieldPrefix=function(name){return""+_FIELD_PREFIX+name},CodegenNameUtil.prototype.getDispatcherName=function(){return this._addFieldPrefix(_DISPATCHER_ACCESSOR)},CodegenNameUtil.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(_PIPES_ACCESSOR)},CodegenNameUtil.prototype.getProtosName=function(){return this._addFieldPrefix(_PROTOS_ACCESSOR)},CodegenNameUtil.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(_DIRECTIVES_ACCESSOR)},CodegenNameUtil.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(_LOCALS_ACCESSOR)},CodegenNameUtil.prototype.getStateName=function(){return this._addFieldPrefix(_STATE_ACCESSOR)},CodegenNameUtil.prototype.getModeName=function(){return this._addFieldPrefix(_MODE_ACCESSOR)},CodegenNameUtil.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(_PROP_BINDING_INDEX)},CodegenNameUtil.prototype.getLocalName=function(idx){return"l_"+this._sanitizedNames[idx]},CodegenNameUtil.prototype.getEventLocalName=function(eb,idx){return"l_"+this._sanitizedEventNames.get(eb)[idx]},CodegenNameUtil.prototype.getChangeName=function(idx){return"c_"+this._sanitizedNames[idx]},CodegenNameUtil.prototype.genInitLocals=function(){for(var declarations=[],assignments=[],i=0,iLen=this.getFieldCount();iLen>i;++i)if(i==exports.CONTEXT_INDEX)declarations.push(this.getLocalName(i)+" = "+this.getFieldName(i));else{var rec=this._records[i-1];if(rec.argumentToPureFunction){var changeName=this.getChangeName(i);declarations.push(this.getLocalName(i)+","+changeName),assignments.push(changeName)}else declarations.push(""+this.getLocalName(i))}var assignmentsCode=collection_1.ListWrapper.isEmpty(assignments)?"":assignments.join("=")+" = false;";return"var "+declarations.join(",")+";"+assignmentsCode},CodegenNameUtil.prototype.genInitEventLocals=function(){var _this=this,res=[this.getLocalName(exports.CONTEXT_INDEX)+" = "+this.getFieldName(exports.CONTEXT_INDEX)];return this._sanitizedEventNames.forEach(function(names,eb){for(var i=0;i<names.length;++i)i!==exports.CONTEXT_INDEX&&res.push(""+_this.getEventLocalName(eb,i))}),res.length>1?"var "+res.join(",")+";":""},CodegenNameUtil.prototype.getPreventDefaultAccesor=function(){return"preventDefault"},CodegenNameUtil.prototype.getFieldCount=function(){return this._sanitizedNames.length},CodegenNameUtil.prototype.getFieldName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx])},CodegenNameUtil.prototype.getAllFieldNames=function(){for(var fieldList=[],k=0,kLen=this.getFieldCount();kLen>k;++k)(0===k||this._records[k-1].shouldBeChecked())&&fieldList.push(this.getFieldName(k));for(var i=0,iLen=this._records.length;iLen>i;++i){var rec=this._records[i];rec.isPipeRecord()&&fieldList.push(this.getPipeName(rec.selfIndex))}for(var j=0,jLen=this._directiveRecords.length;jLen>j;++j){var dRec=this._directiveRecords[j];fieldList.push(this.getDirectiveName(dRec.directiveIndex)),dRec.isDefaultChangeDetection()||fieldList.push(this.getDetectorName(dRec.directiveIndex))}return fieldList},CodegenNameUtil.prototype.genDehydrateFields=function(){var fields=this.getAllFieldNames();return collection_1.ListWrapper.removeAt(fields,exports.CONTEXT_INDEX),collection_1.ListWrapper.isEmpty(fields)?"":(fields.push(this._utilName+".uninitialized;"),fields.join(" = "))},CodegenNameUtil.prototype.genPipeOnDestroy=function(){var _this=this;return this._records.filter(function(r){return r.isPipeRecord()}).map(function(r){return _this._utilName+".callPipeOnDestroy("+_this.getPipeName(r.selfIndex)+");"}).join("\n")},CodegenNameUtil.prototype.getPipeName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx]+"_pipe")},CodegenNameUtil.prototype.getDirectiveName=function(d){return this._addFieldPrefix("directive_"+d.name)},CodegenNameUtil.prototype.getDetectorName=function(d){return this._addFieldPrefix("detector_"+d.name)},CodegenNameUtil}();return exports.CodegenNameUtil=CodegenNameUtil,module.exports}),$__System.registerDynamic("1a2",["6","1a3","1a4","e","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),codegen_facade_1=$__require("1a3"),proto_record_1=$__require("1a4"),exceptions_1=$__require("e"),CodegenLogicUtil=function(){function CodegenLogicUtil(_names,_utilName,_changeDetectorStateName){this._names=_names,this._utilName=_utilName,this._changeDetectorStateName=_changeDetectorStateName}return CodegenLogicUtil.prototype.genPropertyBindingEvalValue=function(protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getLocalName(idx)},this._names.getLocalsAccessorName())},CodegenLogicUtil.prototype.genEventBindingEvalValue=function(eventRecord,protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getEventLocalName(eventRecord,idx)},"locals")},CodegenLogicUtil.prototype._genEvalValue=function(protoRec,getLocalName,localsAccessor){var rhs,context=-1==protoRec.contextIndex?this._names.getDirectiveName(protoRec.directiveIndex):getLocalName(protoRec.contextIndex),argString=protoRec.args.map(function(arg){return getLocalName(arg)}).join(", ");switch(protoRec.mode){case proto_record_1.RecordType.Self:rhs=context;break;case proto_record_1.RecordType.Const:rhs=codegen_facade_1.codify(protoRec.funcOrValue);break;case proto_record_1.RecordType.PropertyRead:rhs=context+"."+protoRec.name;break;case proto_record_1.RecordType.SafeProperty:var read=context+"."+protoRec.name;rhs=this._utilName+".isValueBlank("+context+") ? null : "+read;break;case proto_record_1.RecordType.PropertyWrite:rhs=context+"."+protoRec.name+" = "+getLocalName(protoRec.args[0]);break;case proto_record_1.RecordType.Local:rhs=localsAccessor+".get("+codegen_facade_1.rawString(protoRec.name)+")";break;case proto_record_1.RecordType.InvokeMethod:rhs=context+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.SafeMethodInvoke:var invoke=context+"."+protoRec.name+"("+argString+")";rhs=this._utilName+".isValueBlank("+context+") ? null : "+invoke;break;case proto_record_1.RecordType.InvokeClosure:rhs=context+"("+argString+")";break;case proto_record_1.RecordType.PrimitiveOp:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.CollectionLiteral:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.Interpolate:rhs=this._genInterpolation(protoRec);break;case proto_record_1.RecordType.KeyedRead:rhs=context+"["+getLocalName(protoRec.args[0])+"]";break;case proto_record_1.RecordType.KeyedWrite:rhs=context+"["+getLocalName(protoRec.args[0])+"] = "+getLocalName(protoRec.args[1]);break;case proto_record_1.RecordType.Chain:rhs=""+getLocalName(protoRec.args[protoRec.args.length-1]);break;default:throw new exceptions_1.BaseException("Unknown operation "+protoRec.mode)}return getLocalName(protoRec.selfIndex)+" = "+rhs+";"},CodegenLogicUtil.prototype.genPropertyBindingTargets=function(propertyBindingTargets,genDebugInfo){var _this=this,bs=propertyBindingTargets.map(function(b){if(lang_1.isBlank(b))return"null";var debug=genDebugInfo?codegen_facade_1.codify(b.debug):"null";return _this._utilName+".bindingTarget("+codegen_facade_1.codify(b.mode)+", "+b.elementIndex+", "+codegen_facade_1.codify(b.name)+", "+codegen_facade_1.codify(b.unit)+", "+debug+")"});return"["+bs.join(", ")+"]"},CodegenLogicUtil.prototype.genDirectiveIndices=function(directiveRecords){var _this=this,bs=directiveRecords.map(function(b){return _this._utilName+".directiveIndex("+b.directiveIndex.elementIndex+", "+b.directiveIndex.directiveIndex+")"});return"["+bs.join(", ")+"]"},CodegenLogicUtil.prototype._genInterpolation=function(protoRec){for(var iVals=[],i=0;i<protoRec.args.length;++i)iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[i])),iVals.push(this._utilName+".s("+this._names.getLocalName(protoRec.args[i])+")");return iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[protoRec.args.length])),codegen_facade_1.combineGeneratedStrings(iVals)},CodegenLogicUtil.prototype.genHydrateDirectives=function(directiveRecords){for(var _this=this,res=[],outputCount=0,i=0;i<directiveRecords.length;++i){var r=directiveRecords[i],dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+" = "+this._genReadDirective(i)+";"),lang_1.isPresent(r.outputs)&&r.outputs.forEach(function(output){var eventHandlerExpr=_this._genEventHandler(r.directiveIndex.elementIndex,output[1]),statementStart="this.outputSubscriptions["+outputCount++ +"] = "+dirVarName+"."+output[0];lang_1.IS_DART?res.push(statementStart+".listen("+eventHandlerExpr+");"):res.push(statementStart+".subscribe({next: "+eventHandlerExpr+"});")})}if(outputCount>0){var statementStart="this.outputSubscriptions";lang_1.IS_DART?res.unshift(statementStart+" = new List("+outputCount+");"):res.unshift(statementStart+" = new Array("+outputCount+");")}return res.join("\n")},CodegenLogicUtil.prototype.genDirectivesOnDestroy=function(directiveRecords){for(var res=[],i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];if(r.callOnDestroy){var dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+".ngOnDestroy();")}}return res.join("\n")},CodegenLogicUtil.prototype._genEventHandler=function(boundElementIndex,eventName){return lang_1.IS_DART?"(event) => this.handleEvent('"+eventName+"', "+boundElementIndex+", event)":"(function(event) { return this.handleEvent('"+eventName+"', "+boundElementIndex+", event); }).bind(this)"},CodegenLogicUtil.prototype._genReadDirective=function(index){return"this.getDirectiveFor(directives, "+index+")"},CodegenLogicUtil.prototype.genHydrateDetectors=function(directiveRecords){for(var res=[],i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];r.isDefaultChangeDetection()||res.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+i+");")}return res.join("\n")},CodegenLogicUtil.prototype.genContentLifecycleCallbacks=function(directiveRecords){for(var res=[],eq=lang_1.IS_DART?"==":"===",i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];dir.callAfterContentInit&&res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentInit();"),dir.callAfterContentChecked&&res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentChecked();")}return res},CodegenLogicUtil.prototype.genViewLifecycleCallbacks=function(directiveRecords){for(var res=[],eq=lang_1.IS_DART?"==":"===",i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];dir.callAfterViewInit&&res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewInit();"),dir.callAfterViewChecked&&res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewChecked();")}return res},CodegenLogicUtil}();return exports.CodegenLogicUtil=CodegenLogicUtil,module.exports}),$__System.registerDynamic("1a3",["3"],!0,function($__require,exports,module){"use strict";function codify(obj){return JSON.stringify(obj)}function rawString(str){return"'"+str+"'"}function combineGeneratedStrings(vals){return vals.join(" + ")}$__require("3");return exports.codify=codify,exports.rawString=rawString,exports.combineGeneratedStrings=combineGeneratedStrings,module.exports}),$__System.registerDynamic("4e",["a","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),AST=function(){function AST(){}return AST.prototype.visit=function(visitor){return null},AST.prototype.toString=function(){return"AST"},AST}();exports.AST=AST;var Quote=function(_super){function Quote(prefix,uninterpretedExpression,location){_super.call(this),this.prefix=prefix,this.uninterpretedExpression=uninterpretedExpression,this.location=location}return __extends(Quote,_super),Quote.prototype.visit=function(visitor){return visitor.visitQuote(this)},Quote.prototype.toString=function(){return"Quote"},Quote}(AST);exports.Quote=Quote;var EmptyExpr=function(_super){function EmptyExpr(){_super.apply(this,arguments)}return __extends(EmptyExpr,_super),EmptyExpr.prototype.visit=function(visitor){},EmptyExpr}(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=function(_super){function ImplicitReceiver(){_super.apply(this,arguments)}return __extends(ImplicitReceiver,_super),ImplicitReceiver.prototype.visit=function(visitor){return visitor.visitImplicitReceiver(this)},ImplicitReceiver}(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=function(_super){function Chain(expressions){_super.call(this),this.expressions=expressions}return __extends(Chain,_super),Chain.prototype.visit=function(visitor){return visitor.visitChain(this)},Chain}(AST);exports.Chain=Chain;var Conditional=function(_super){function Conditional(condition,trueExp,falseExp){_super.call(this),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}return __extends(Conditional,_super),Conditional.prototype.visit=function(visitor){return visitor.visitConditional(this)},Conditional}(AST);exports.Conditional=Conditional;var PropertyRead=function(_super){function PropertyRead(receiver,name,getter){_super.call(this),this.receiver=receiver,this.name=name,this.getter=getter}return __extends(PropertyRead,_super),PropertyRead.prototype.visit=function(visitor){return visitor.visitPropertyRead(this)},PropertyRead}(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=function(_super){function PropertyWrite(receiver,name,setter,value){_super.call(this),this.receiver=receiver,this.name=name,this.setter=setter,this.value=value}return __extends(PropertyWrite,_super),PropertyWrite.prototype.visit=function(visitor){return visitor.visitPropertyWrite(this)},PropertyWrite}(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=function(_super){function SafePropertyRead(receiver,name,getter){_super.call(this),this.receiver=receiver,this.name=name,this.getter=getter}return __extends(SafePropertyRead,_super),SafePropertyRead.prototype.visit=function(visitor){return visitor.visitSafePropertyRead(this)},SafePropertyRead}(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=function(_super){function KeyedRead(obj,key){_super.call(this),this.obj=obj,this.key=key}return __extends(KeyedRead,_super),KeyedRead.prototype.visit=function(visitor){return visitor.visitKeyedRead(this)},KeyedRead}(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=function(_super){function KeyedWrite(obj,key,value){_super.call(this),this.obj=obj,this.key=key,this.value=value}return __extends(KeyedWrite,_super),KeyedWrite.prototype.visit=function(visitor){return visitor.visitKeyedWrite(this)},KeyedWrite}(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=function(_super){function BindingPipe(exp,name,args){_super.call(this),this.exp=exp,this.name=name,this.args=args}return __extends(BindingPipe,_super),BindingPipe.prototype.visit=function(visitor){return visitor.visitPipe(this)},BindingPipe}(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=function(_super){function LiteralPrimitive(value){_super.call(this),this.value=value}return __extends(LiteralPrimitive,_super),LiteralPrimitive.prototype.visit=function(visitor){return visitor.visitLiteralPrimitive(this)},LiteralPrimitive}(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=function(_super){function LiteralArray(expressions){_super.call(this),this.expressions=expressions}return __extends(LiteralArray,_super),LiteralArray.prototype.visit=function(visitor){return visitor.visitLiteralArray(this)},LiteralArray}(AST);exports.LiteralArray=LiteralArray;var LiteralMap=function(_super){function LiteralMap(keys,values){_super.call(this),this.keys=keys,this.values=values}return __extends(LiteralMap,_super),LiteralMap.prototype.visit=function(visitor){return visitor.visitLiteralMap(this)},LiteralMap}(AST);exports.LiteralMap=LiteralMap;var Interpolation=function(_super){function Interpolation(strings,expressions){_super.call(this),this.strings=strings,this.expressions=expressions}return __extends(Interpolation,_super),Interpolation.prototype.visit=function(visitor){return visitor.visitInterpolation(this)},Interpolation}(AST);exports.Interpolation=Interpolation;var Binary=function(_super){function Binary(operation,left,right){_super.call(this),this.operation=operation,this.left=left,this.right=right}return __extends(Binary,_super),Binary.prototype.visit=function(visitor){return visitor.visitBinary(this)},Binary}(AST);exports.Binary=Binary;var PrefixNot=function(_super){function PrefixNot(expression){_super.call(this),this.expression=expression}return __extends(PrefixNot,_super),PrefixNot.prototype.visit=function(visitor){return visitor.visitPrefixNot(this)},PrefixNot}(AST);exports.PrefixNot=PrefixNot;var MethodCall=function(_super){function MethodCall(receiver,name,fn,args){_super.call(this),this.receiver=receiver,this.name=name,this.fn=fn,this.args=args}return __extends(MethodCall,_super),MethodCall.prototype.visit=function(visitor){return visitor.visitMethodCall(this)},MethodCall}(AST);exports.MethodCall=MethodCall;var SafeMethodCall=function(_super){function SafeMethodCall(receiver,name,fn,args){_super.call(this),this.receiver=receiver,this.name=name,this.fn=fn,this.args=args}return __extends(SafeMethodCall,_super),SafeMethodCall.prototype.visit=function(visitor){return visitor.visitSafeMethodCall(this)},SafeMethodCall}(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=function(_super){function FunctionCall(target,args){_super.call(this),this.target=target,this.args=args}return __extends(FunctionCall,_super),FunctionCall.prototype.visit=function(visitor){return visitor.visitFunctionCall(this)},FunctionCall}(AST);exports.FunctionCall=FunctionCall;var ASTWithSource=function(_super){function ASTWithSource(ast,source,location){_super.call(this),this.ast=ast,this.source=source,this.location=location}return __extends(ASTWithSource,_super),ASTWithSource.prototype.visit=function(visitor){return this.ast.visit(visitor)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=function(){function TemplateBinding(key,keyIsVar,name,expression){this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.expression=expression}return TemplateBinding}();exports.TemplateBinding=TemplateBinding;var RecursiveAstVisitor=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(ast){return ast.left.visit(this),ast.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(ast){return this.visitAll(ast.expressions)},RecursiveAstVisitor.prototype.visitConditional=function(ast){return ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(ast){return ast.exp.visit(this),this.visitAll(ast.args),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(ast){return ast.target.visit(this),this.visitAll(ast.args),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(ast){return this.visitAll(ast.expressions)},RecursiveAstVisitor.prototype.visitKeyedRead=function(ast){return ast.obj.visit(this),ast.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast){return ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(ast){return this.visitAll(ast.expressions)},RecursiveAstVisitor.prototype.visitLiteralMap=function(ast){return this.visitAll(ast.values)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(ast){return ast.receiver.visit(this),this.visitAll(ast.args)},RecursiveAstVisitor.prototype.visitPrefixNot=function(ast){return ast.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(ast){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast){return ast.receiver.visit(this),ast.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast){return ast.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast){return ast.receiver.visit(this),this.visitAll(ast.args)},RecursiveAstVisitor.prototype.visitAll=function(asts){var _this=this;return asts.forEach(function(ast){return ast.visit(_this)}),null},RecursiveAstVisitor.prototype.visitQuote=function(ast){return null},RecursiveAstVisitor}();exports.RecursiveAstVisitor=RecursiveAstVisitor;var AstTransformer=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(ast){return ast},AstTransformer.prototype.visitInterpolation=function(ast){return new Interpolation(ast.strings,this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(ast){return new LiteralPrimitive(ast.value)},AstTransformer.prototype.visitPropertyRead=function(ast){return new PropertyRead(ast.receiver.visit(this),ast.name,ast.getter)},AstTransformer.prototype.visitPropertyWrite=function(ast){return new PropertyWrite(ast.receiver.visit(this),ast.name,ast.setter,ast.value);
},AstTransformer.prototype.visitSafePropertyRead=function(ast){return new SafePropertyRead(ast.receiver.visit(this),ast.name,ast.getter)},AstTransformer.prototype.visitMethodCall=function(ast){return new MethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args))},AstTransformer.prototype.visitSafeMethodCall=function(ast){return new SafeMethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args))},AstTransformer.prototype.visitFunctionCall=function(ast){return new FunctionCall(ast.target.visit(this),this.visitAll(ast.args))},AstTransformer.prototype.visitLiteralArray=function(ast){return new LiteralArray(this.visitAll(ast.expressions))},AstTransformer.prototype.visitLiteralMap=function(ast){return new LiteralMap(ast.keys,this.visitAll(ast.values))},AstTransformer.prototype.visitBinary=function(ast){return new Binary(ast.operation,ast.left.visit(this),ast.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(ast){return new PrefixNot(ast.expression.visit(this))},AstTransformer.prototype.visitConditional=function(ast){return new Conditional(ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(ast){return new BindingPipe(ast.exp.visit(this),ast.name,this.visitAll(ast.args))},AstTransformer.prototype.visitKeyedRead=function(ast){return new KeyedRead(ast.obj.visit(this),ast.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(ast){return new KeyedWrite(ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))},AstTransformer.prototype.visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},AstTransformer.prototype.visitChain=function(ast){return new Chain(this.visitAll(ast.expressions))},AstTransformer.prototype.visitQuote=function(ast){return new Quote(ast.prefix,ast.uninterpretedExpression,ast.location)},AstTransformer}();return exports.AstTransformer=AstTransformer,module.exports}),$__System.registerDynamic("1a5",["3"],!0,function($__require,exports,module){"use strict";var EventBinding=($__require("3"),function(){function EventBinding(eventName,elIndex,dirIndex,records){this.eventName=eventName,this.elIndex=elIndex,this.dirIndex=dirIndex,this.records=records}return EventBinding}());return exports.EventBinding=EventBinding,module.exports}),$__System.registerDynamic("1a6",["6","a","1a4","3"],!0,function($__require,exports,module){"use strict";function coalesce(srcRecords){for(var dstRecords=[],excludedIdxs=[],indexMap=new collection_1.Map,skipDepth=0,skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length),protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];lang_1.isPresent(skipRecord)&&(skipDepth--,skipRecord.fixedArgs[0]=dstRecords.length);var src=srcRecords[protoIndex],dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);if(dst.isSkipRecord())dstRecords.push(dst),skipDepth++,skipSources[dst.fixedArgs[0]]=dst;else{var record=_mayBeAddRecord(dst,dstRecords,excludedIdxs,skipDepth>0);indexMap.set(src.selfIndex,record.selfIndex)}}return _optimizeSkips(dstRecords)}function _optimizeSkips(srcRecords){for(var dstRecords=[],skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length),indexMap=new collection_1.Map,protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];lang_1.isPresent(skipRecord)&&(skipRecord.fixedArgs[0]=dstRecords.length);var src=srcRecords[protoIndex];if(src.isSkipRecord()){if(src.isConditionalSkipRecord()&&src.fixedArgs[0]===protoIndex+2&&protoIndex<srcRecords.length-1&&srcRecords[protoIndex+1].mode===proto_record_1.RecordType.SkipRecords&&(src.mode=src.mode===proto_record_1.RecordType.SkipRecordsIf?proto_record_1.RecordType.SkipRecordsIfNot:proto_record_1.RecordType.SkipRecordsIf,src.fixedArgs[0]=srcRecords[protoIndex+1].fixedArgs[0],protoIndex++),src.fixedArgs[0]>protoIndex+1){var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst),skipSources[dst.fixedArgs[0]]=dst}}else{var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst),indexMap.set(src.selfIndex,dst.selfIndex)}}return dstRecords}function _mayBeAddRecord(record,dstRecords,excludedIdxs,excluded){var match=_findFirstMatch(record,dstRecords,excludedIdxs);return lang_1.isPresent(match)?(record.lastInBinding?(dstRecords.push(_createSelfRecord(record,match.selfIndex,dstRecords.length+1)),match.referencedBySelf=!0):record.argumentToPureFunction&&(match.argumentToPureFunction=!0),match):(excluded&&excludedIdxs.push(record.selfIndex),dstRecords.push(record),record)}function _findFirstMatch(record,dstRecords,excludedIdxs){return dstRecords.find(function(rr){return-1==excludedIdxs.indexOf(rr.selfIndex)&&rr.mode!==proto_record_1.RecordType.DirectiveLifecycle&&_haveSameDirIndex(rr,record)&&rr.mode===record.mode&&lang_1.looseIdentical(rr.funcOrValue,record.funcOrValue)&&rr.contextIndex===record.contextIndex&&lang_1.looseIdentical(rr.name,record.name)&&collection_1.ListWrapper.equals(rr.args,record.args)})}function _cloneAndUpdateIndexes(record,dstRecords,indexMap){var args=record.args.map(function(src){return _srcToDstSelfIndex(indexMap,src)}),contextIndex=_srcToDstSelfIndex(indexMap,record.contextIndex),selfIndex=dstRecords.length+1;return new proto_record_1.ProtoRecord(record.mode,record.name,record.funcOrValue,args,record.fixedArgs,contextIndex,record.directiveIndex,selfIndex,record.bindingRecord,record.lastInBinding,record.lastInDirective,record.argumentToPureFunction,record.referencedBySelf,record.propertyBindingIndex)}function _srcToDstSelfIndex(indexMap,srcIdx){var dstIdx=indexMap.get(srcIdx);return lang_1.isPresent(dstIdx)?dstIdx:srcIdx}function _createSelfRecord(r,contextIndex,selfIndex){return new proto_record_1.ProtoRecord(proto_record_1.RecordType.Self,"self",null,[],r.fixedArgs,contextIndex,r.directiveIndex,selfIndex,r.bindingRecord,r.lastInBinding,r.lastInDirective,!1,!1,r.propertyBindingIndex)}function _haveSameDirIndex(a,b){var di1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.directiveIndex,ei1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.elementIndex,di2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.directiveIndex,ei2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.elementIndex;return di1===di2&&ei1===ei2}var lang_1=($__require("3"),$__require("6")),collection_1=$__require("a"),proto_record_1=$__require("1a4");return exports.coalesce=coalesce,module.exports}),$__System.registerDynamic("1a7",["6","e","a","4e","3a","1a8","1a9","1a5","1a6","1a4","3"],!0,function($__require,exports,module){"use strict";function createPropertyRecords(definition){var recordBuilder=new ProtoRecordBuilder;return collection_1.ListWrapper.forEachWithIndex(definition.bindingRecords,function(b,index){return recordBuilder.add(b,definition.variableNames,index)}),coalesce_1.coalesce(recordBuilder.records)}function createEventRecords(definition){var varNames=collection_1.ListWrapper.concat(["$event"],definition.variableNames);return definition.eventRecords.map(function(er){var records=_ConvertAstIntoProtoRecords.create(er,varNames),dirIndex=er.implicitReceiver instanceof directive_record_1.DirectiveIndex?er.implicitReceiver:null;return new event_binding_1.EventBinding(er.target.name,er.target.elementIndex,dirIndex,records)})}function _arrayFn(length){switch(length){case 0:return change_detection_util_1.ChangeDetectionUtil.arrayFn0;case 1:return change_detection_util_1.ChangeDetectionUtil.arrayFn1;case 2:return change_detection_util_1.ChangeDetectionUtil.arrayFn2;case 3:return change_detection_util_1.ChangeDetectionUtil.arrayFn3;case 4:return change_detection_util_1.ChangeDetectionUtil.arrayFn4;case 5:return change_detection_util_1.ChangeDetectionUtil.arrayFn5;case 6:return change_detection_util_1.ChangeDetectionUtil.arrayFn6;case 7:return change_detection_util_1.ChangeDetectionUtil.arrayFn7;case 8:return change_detection_util_1.ChangeDetectionUtil.arrayFn8;case 9:return change_detection_util_1.ChangeDetectionUtil.arrayFn9;default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements")}}function _mapPrimitiveName(keys){var stringifiedKeys=keys.map(function(k){return lang_1.isString(k)?'"'+k+'"':""+k}).join(", ");return"mapFn(["+stringifiedKeys+"])"}function _operationToPrimitiveName(operation){switch(operation){case"+":return"operation_add";case"-":return"operation_subtract";case"*":return"operation_multiply";case"/":return"operation_divide";case"%":return"operation_remainder";case"==":return"operation_equals";case"!=":return"operation_not_equals";case"===":return"operation_identical";case"!==":return"operation_not_identical";case"<":return"operation_less_then";case">":return"operation_greater_then";case"<=":return"operation_less_or_equals_then";case">=":return"operation_greater_or_equals_then";default:throw new exceptions_1.BaseException("Unsupported operation "+operation)}}function _operationToFunction(operation){switch(operation){case"+":return change_detection_util_1.ChangeDetectionUtil.operation_add;case"-":return change_detection_util_1.ChangeDetectionUtil.operation_subtract;case"*":return change_detection_util_1.ChangeDetectionUtil.operation_multiply;case"/":return change_detection_util_1.ChangeDetectionUtil.operation_divide;case"%":return change_detection_util_1.ChangeDetectionUtil.operation_remainder;case"==":return change_detection_util_1.ChangeDetectionUtil.operation_equals;case"!=":return change_detection_util_1.ChangeDetectionUtil.operation_not_equals;case"===":return change_detection_util_1.ChangeDetectionUtil.operation_identical;case"!==":return change_detection_util_1.ChangeDetectionUtil.operation_not_identical;case"<":return change_detection_util_1.ChangeDetectionUtil.operation_less_then;case">":return change_detection_util_1.ChangeDetectionUtil.operation_greater_then;case"<=":return change_detection_util_1.ChangeDetectionUtil.operation_less_or_equals_then;case">=":return change_detection_util_1.ChangeDetectionUtil.operation_greater_or_equals_then;default:throw new exceptions_1.BaseException("Unsupported operation "+operation)}}function s(v){return lang_1.isPresent(v)?""+v:""}function _interpolationFn(strings){var length=strings.length,c0=length>0?strings[0]:null,c1=length>1?strings[1]:null,c2=length>2?strings[2]:null,c3=length>3?strings[3]:null,c4=length>4?strings[4]:null,c5=length>5?strings[5]:null,c6=length>6?strings[6]:null,c7=length>7?strings[7]:null,c8=length>8?strings[8]:null,c9=length>9?strings[9]:null;switch(length-1){case 1:return function(a1){return c0+s(a1)+c1};case 2:return function(a1,a2){return c0+s(a1)+c1+s(a2)+c2};case 3:return function(a1,a2,a3){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3};case 4:return function(a1,a2,a3,a4){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4};case 5:return function(a1,a2,a3,a4,a5){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5};case 6:return function(a1,a2,a3,a4,a5,a6){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8+s(a9)+c9};default:throw new exceptions_1.BaseException("Does not support more than 9 expressions")}}var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),ast_1=$__require("4e"),change_detection_util_1=$__require("3a"),dynamic_change_detector_1=$__require("1a8"),directive_record_1=$__require("1a9"),event_binding_1=$__require("1a5"),coalesce_1=$__require("1a6"),proto_record_1=$__require("1a4"),DynamicProtoChangeDetector=function(){function DynamicProtoChangeDetector(_definition){this._definition=_definition,this._propertyBindingRecords=createPropertyRecords(_definition),this._eventBindingRecords=createEventRecords(_definition),this._propertyBindingTargets=this._definition.bindingRecords.map(function(b){return b.target}),this._directiveIndices=this._definition.directiveRecords.map(function(d){return d.directiveIndex})}return DynamicProtoChangeDetector.prototype.instantiate=function(){return new dynamic_change_detector_1.DynamicChangeDetector(this._definition.id,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig)},DynamicProtoChangeDetector}();exports.DynamicProtoChangeDetector=DynamicProtoChangeDetector,exports.createPropertyRecords=createPropertyRecords,exports.createEventRecords=createEventRecords;var ProtoRecordBuilder=function(){function ProtoRecordBuilder(){this.records=[]}return ProtoRecordBuilder.prototype.add=function(b,variableNames,bindingIndex){var oldLast=collection_1.ListWrapper.last(this.records);lang_1.isPresent(oldLast)&&oldLast.bindingRecord.directiveRecord==b.directiveRecord&&(oldLast.lastInDirective=!1);var numberOfRecordsBefore=this.records.length;this._appendRecords(b,variableNames,bindingIndex);var newLast=collection_1.ListWrapper.last(this.records);lang_1.isPresent(newLast)&&newLast!==oldLast&&(newLast.lastInBinding=!0,newLast.lastInDirective=!0,this._setArgumentToPureFunction(numberOfRecordsBefore))},ProtoRecordBuilder.prototype._setArgumentToPureFunction=function(startIndex){for(var _this=this,i=startIndex;i<this.records.length;++i){var rec=this.records[i];rec.isPureFunction()&&rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=!0}),rec.mode===proto_record_1.RecordType.Pipe&&(rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=!0}),this.records[rec.contextIndex-1].argumentToPureFunction=!0)}},ProtoRecordBuilder.prototype._appendRecords=function(b,variableNames,bindingIndex){b.isDirectiveLifecycle()?this.records.push(new proto_record_1.ProtoRecord(proto_record_1.RecordType.DirectiveLifecycle,b.lifecycleEvent,null,[],[],-1,null,this.records.length+1,b,!1,!1,!1,!1,null)):_ConvertAstIntoProtoRecords.append(this.records,b,variableNames,bindingIndex)},ProtoRecordBuilder}();exports.ProtoRecordBuilder=ProtoRecordBuilder;var _ConvertAstIntoProtoRecords=function(){function _ConvertAstIntoProtoRecords(_records,_bindingRecord,_variableNames,_bindingIndex){this._records=_records,this._bindingRecord=_bindingRecord,this._variableNames=_variableNames,this._bindingIndex=_bindingIndex}return _ConvertAstIntoProtoRecords.append=function(records,b,variableNames,bindingIndex){var c=new _ConvertAstIntoProtoRecords(records,b,variableNames,bindingIndex);b.ast.visit(c)},_ConvertAstIntoProtoRecords.create=function(b,variableNames){var rec=[];return _ConvertAstIntoProtoRecords.append(rec,b,variableNames,null),rec[rec.length-1].lastInBinding=!0,rec},_ConvertAstIntoProtoRecords.prototype.visitImplicitReceiver=function(ast){return this._bindingRecord.implicitReceiver},_ConvertAstIntoProtoRecords.prototype.visitInterpolation=function(ast){var args=this._visitAll(ast.expressions);return this._addRecord(proto_record_1.RecordType.Interpolate,"interpolate",_interpolationFn(ast.strings),args,ast.strings,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralPrimitive=function(ast){return this._addRecord(proto_record_1.RecordType.Const,"literal",ast.value,[],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPropertyRead=function(ast){var receiver=ast.receiver.visit(this);return lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver?this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver):this._addRecord(proto_record_1.RecordType.PropertyRead,ast.name,ast.getter,[],null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitPropertyWrite=function(ast){if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver)throw new exceptions_1.BaseException("Cannot reassign a variable binding "+ast.name);var receiver=ast.receiver.visit(this),value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.PropertyWrite,ast.name,ast.setter,[value],null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitKeyedWrite=function(ast){var obj=ast.obj.visit(this),key=ast.key.visit(this),value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedWrite,null,null,[key,value],null,obj)},_ConvertAstIntoProtoRecords.prototype.visitSafePropertyRead=function(ast){var receiver=ast.receiver.visit(this);return this._addRecord(proto_record_1.RecordType.SafeProperty,ast.name,ast.getter,[],null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitMethodCall=function(ast){var receiver=ast.receiver.visit(this),args=this._visitAll(ast.args);if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)){var target=this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target)}return this._addRecord(proto_record_1.RecordType.InvokeMethod,ast.name,ast.fn,args,null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitSafeMethodCall=function(ast){var receiver=ast.receiver.visit(this),args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.SafeMethodInvoke,ast.name,ast.fn,args,null,receiver)},_ConvertAstIntoProtoRecords.prototype.visitFunctionCall=function(ast){var target=ast.target.visit(this),args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target)},_ConvertAstIntoProtoRecords.prototype.visitLiteralArray=function(ast){var primitiveName="arrayFn"+ast.expressions.length;return this._addRecord(proto_record_1.RecordType.CollectionLiteral,primitiveName,_arrayFn(ast.expressions.length),this._visitAll(ast.expressions),null,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralMap=function(ast){return this._addRecord(proto_record_1.RecordType.CollectionLiteral,_mapPrimitiveName(ast.keys),change_detection_util_1.ChangeDetectionUtil.mapFn(ast.keys),this._visitAll(ast.values),null,0)},_ConvertAstIntoProtoRecords.prototype.visitBinary=function(ast){var left=ast.left.visit(this);switch(ast.operation){case"&&":var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],branchEnd,left);var right=ast.right.visit(this);return branchEnd[0]=right,this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,right,left],null,0);case"||":var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIf,"SkipRecordsIf",null,[],branchEnd,left);var right=ast.right.visit(this);return branchEnd[0]=right,this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,left,right],null,0);default:var right=ast.right.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,_operationToPrimitiveName(ast.operation),_operationToFunction(ast.operation),[left,right],null,0)}},_ConvertAstIntoProtoRecords.prototype.visitPrefixNot=function(ast){var exp=ast.expression.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"operation_negate",change_detection_util_1.ChangeDetectionUtil.operation_negate,[exp],null,0)},_ConvertAstIntoProtoRecords.prototype.visitConditional=function(ast){var condition=ast.condition.visit(this),startOfFalseBranch=[null],endOfFalseBranch=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],startOfFalseBranch,condition);var whenTrue=ast.trueExp.visit(this),skip=this._addRecord(proto_record_1.RecordType.SkipRecords,"SkipRecords",null,[],endOfFalseBranch,0),whenFalse=ast.falseExp.visit(this);return startOfFalseBranch[0]=skip,endOfFalseBranch[0]=whenFalse,this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[condition,whenTrue,whenFalse],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPipe=function(ast){var value=ast.exp.visit(this),args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.Pipe,ast.name,ast.name,args,null,value)},_ConvertAstIntoProtoRecords.prototype.visitKeyedRead=function(ast){var obj=ast.obj.visit(this),key=ast.key.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedRead,"keyedAccess",change_detection_util_1.ChangeDetectionUtil.keyedAccess,[key],null,obj)},_ConvertAstIntoProtoRecords.prototype.visitChain=function(ast){var _this=this,args=ast.expressions.map(function(e){return e.visit(_this)});return this._addRecord(proto_record_1.RecordType.Chain,"chain",null,args,null,0)},_ConvertAstIntoProtoRecords.prototype.visitQuote=function(ast){throw new exceptions_1.BaseException("Caught uninterpreted expression at "+ast.location+": "+ast.uninterpretedExpression+". "+("Expression prefix "+ast.prefix+" did not match a template transformer to interpret the expression."))},_ConvertAstIntoProtoRecords.prototype._visitAll=function(asts){for(var res=collection_1.ListWrapper.createFixedSize(asts.length),i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res},_ConvertAstIntoProtoRecords.prototype._addRecord=function(type,name,funcOrValue,args,fixedArgs,context){var selfIndex=this._records.length+1;return context instanceof directive_record_1.DirectiveIndex?this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,-1,context,selfIndex,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)):this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,context,null,selfIndex,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)),selfIndex},_ConvertAstIntoProtoRecords}();return module.exports}),$__System.registerDynamic("38",["6","e","a","39","3a","1a4","1a1","1a2","1a3","3b","1a7","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),abstract_change_detector_1=$__require("39"),change_detection_util_1=$__require("3a"),proto_record_1=$__require("1a4"),codegen_name_util_1=$__require("1a1"),codegen_logic_util_1=$__require("1a2"),codegen_facade_1=$__require("1a3"),constants_1=$__require("3b"),proto_change_detector_1=$__require("1a7"),IS_CHANGED_LOCAL="isChanged",CHANGES_LOCAL="changes",ChangeDetectorJITGenerator=function(){function ChangeDetectorJITGenerator(definition,changeDetectionUtilVarName,abstractChangeDetectorVarName,changeDetectorStateVarName){this.changeDetectionUtilVarName=changeDetectionUtilVarName,this.abstractChangeDetectorVarName=abstractChangeDetectorVarName,this.changeDetectorStateVarName=changeDetectorStateVarName;var propertyBindingRecords=proto_change_detector_1.createPropertyRecords(definition),eventBindingRecords=proto_change_detector_1.createEventRecords(definition),propertyBindingTargets=definition.bindingRecords.map(function(b){return b.target});this.id=definition.id,this.changeDetectionStrategy=definition.strategy,this.genConfig=definition.genConfig,this.records=propertyBindingRecords,this.propertyBindingTargets=propertyBindingTargets,this.eventBindings=eventBindingRecords,this.directiveRecords=definition.directiveRecords,this._names=new codegen_name_util_1.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName),this._logic=new codegen_logic_util_1.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectorStateVarName),this.typeName=codegen_name_util_1.sanitizeName("ChangeDetector_"+this.id)}return ChangeDetectorJITGenerator.prototype.generate=function(){var factorySource="\n      "+this.generateSource()+"\n      return function() {\n        return new "+this.typeName+"();\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,factorySource)(abstract_change_detector_1.AbstractChangeDetector,change_detection_util_1.ChangeDetectionUtil,constants_1.ChangeDetectorState)},ChangeDetectorJITGenerator.prototype.generateSource=function(){return"\n      var "+this.typeName+" = function "+this.typeName+"() {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+codegen_facade_1.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+IS_CHANGED_LOCAL+" = false;\n        var "+CHANGES_LOCAL+" = null;\n\n        "+this._genAllRecords(this.records)+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    "},ChangeDetectorJITGenerator.prototype._genPropertyBindingTargets=function(){var targets=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+targets+";"},ChangeDetectorJITGenerator.prototype._genDirectiveIndices=function(){var indices=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+indices+";"},ChangeDetectorJITGenerator.prototype._maybeGenHandleEventInternal=function(){var _this=this;if(this.eventBindings.length>0){var handlers=this.eventBindings.map(function(eb){return _this._genEventBinding(eb)}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+handlers+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genEventBinding=function(eb){var _this=this,codes=[];return this._endOfBlockIdxs=[],collection_1.ListWrapper.forEachWithIndex(eb.records,function(r,i){var code;code=r.isConditionalSkipRecord()?_this._genConditionalSkip(r,_this._names.getEventLocalName(eb,i)):r.isUnconditionalSkipRecord()?_this._genUnconditionalSkip(r):_this._genEventBindingEval(eb,r),code+=_this._genEndOfSkipBlock(i),codes.push(code)}),'\n    if (eventName === "'+eb.eventName+'" && elIndex === '+eb.elIndex+") {\n      "+codes.join("\n")+"\n    }"},ChangeDetectorJITGenerator.prototype._genEventBindingEval=function(eb,r){if(r.lastInBinding){var evalRecord=this._logic.genEventBindingEvalValue(eb,r),markPath=this._genMarkPathToRootAsCheckOnce(r),prevDefault=this._genUpdatePreventDefault(eb,r);return markPath+"\n"+evalRecord+"\n"+prevDefault}return this._logic.genEventBindingEvalValue(eb,r)},ChangeDetectorJITGenerator.prototype._genMarkPathToRootAsCheckOnce=function(r){var br=r.bindingRecord;return br.isDefaultChangeDetection()?"":this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();"},ChangeDetectorJITGenerator.prototype._genUpdatePreventDefault=function(eb,r){var local=this._names.getEventLocalName(eb,r.selfIndex);return"if ("+local+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};"},ChangeDetectorJITGenerator.prototype._maybeGenDehydrateDirectives=function(){var destroyPipesCode=this._names.genPipeOnDestroy(),destroyDirectivesCode=this._logic.genDirectivesOnDestroy(this.directiveRecords),dehydrateFieldsCode=this._names.genDehydrateFields();return destroyPipesCode||destroyDirectivesCode||dehydrateFieldsCode?this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        if (destroyPipes) {\n          "+destroyPipesCode+"\n          "+destroyDirectivesCode+"\n        }\n        "+dehydrateFieldsCode+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenHydrateDirectives=function(){var hydrateDirectivesCode=this._logic.genHydrateDirectives(this.directiveRecords),hydrateDetectorsCode=this._logic.genHydrateDetectors(this.directiveRecords);return hydrateDirectivesCode||hydrateDetectorsCode?this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+hydrateDirectivesCode+"\n      "+hydrateDetectorsCode+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var notifications=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var notifications=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genAllRecords=function(rs){var codes=[];this._endOfBlockIdxs=[];for(var i=0;i<rs.length;i++){var code=void 0,r=rs[i];code=r.isLifeCycleRecord()?this._genDirectiveLifecycle(r):r.isPipeRecord()?this._genPipeCheck(r):r.isConditionalSkipRecord()?this._genConditionalSkip(r,this._names.getLocalName(r.contextIndex)):r.isUnconditionalSkipRecord()?this._genUnconditionalSkip(r):this._genReferenceCheck(r),code="\n        "+this._maybeFirstInBinding(r)+"\n        "+code+"\n        "+this._maybeGenLastInDirective(r)+"\n        "+this._genEndOfSkipBlock(i)+"\n      ",codes.push(code)}return codes.join("\n")},ChangeDetectorJITGenerator.prototype._genConditionalSkip=function(r,condition){var maybeNegate=r.mode===proto_record_1.RecordType.SkipRecordsIf?"!":"";return this._endOfBlockIdxs.push(r.fixedArgs[0]-1),"if ("+maybeNegate+condition+") {"},ChangeDetectorJITGenerator.prototype._genUnconditionalSkip=function(r){return this._endOfBlockIdxs.pop(),this._endOfBlockIdxs.push(r.fixedArgs[0]-1),"} else {"},ChangeDetectorJITGenerator.prototype._genEndOfSkipBlock=function(protoIndex){if(!collection_1.ListWrapper.isEmpty(this._endOfBlockIdxs)){var endOfBlock=collection_1.ListWrapper.last(this._endOfBlockIdxs);if(protoIndex===endOfBlock)return this._endOfBlockIdxs.pop(),"}"}return""},ChangeDetectorJITGenerator.prototype._genDirectiveLifecycle=function(r){if("DoCheck"===r.name)return this._genOnCheck(r);if("OnInit"===r.name)return this._genOnInit(r);if("OnChanges"===r.name)return this._genOnChange(r);throw new exceptions_1.BaseException("Unknown lifecycle event '"+r.name+"'")},ChangeDetectorJITGenerator.prototype._genPipeCheck=function(r){var _this=this,context=this._names.getLocalName(r.contextIndex),argString=r.args.map(function(arg){return _this._names.getLocalName(arg)}).join(", "),oldValue=this._names.getFieldName(r.selfIndex),newValue=this._names.getLocalName(r.selfIndex),pipe=this._names.getPipeName(r.selfIndex),pipeName=r.name,init="\n      if ("+pipe+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+pipe+" = "+this._names.getPipesAccessorName()+".get('"+pipeName+"');\n      }\n    ",read=newValue+" = "+pipe+".pipe.transform("+context+", ["+argString+"]);",contexOrArgCheck=r.args.map(function(a){
return _this._names.getChangeName(a)});contexOrArgCheck.push(this._names.getChangeName(r.contextIndex));var condition="!"+pipe+".pure || ("+contexOrArgCheck.join(" || ")+")",check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+newValue+" = "+this.changeDetectionUtilVarName+".unwrapValue("+newValue+")\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ",genCode=r.shouldBeChecked()?""+read+check:read;return r.isUsedByOtherRecord()?init+" if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }":init+" if ("+condition+") { "+genCode+" }"},ChangeDetectorJITGenerator.prototype._genReferenceCheck=function(r){var _this=this,oldValue=this._names.getFieldName(r.selfIndex),newValue=this._names.getLocalName(r.selfIndex),read="\n      "+this._logic.genPropertyBindingEvalValue(r)+"\n    ",check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ",genCode=r.shouldBeChecked()?""+read+check:read;if(r.isPureFunction()){var condition=r.args.map(function(a){return _this._names.getChangeName(a)}).join(" || ");return r.isUsedByOtherRecord()?"if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }":"if ("+condition+") { "+genCode+" }"}return genCode},ChangeDetectorJITGenerator.prototype._genChangeMarker=function(r){return r.argumentToPureFunction?this._names.getChangeName(r.selfIndex)+" = true":""},ChangeDetectorJITGenerator.prototype._genUpdateDirectiveOrElement=function(r){if(!r.lastInBinding)return"";var newValue=this._names.getLocalName(r.selfIndex),notifyDebug=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+newValue+");":"",br=r.bindingRecord;if(br.target.isDirective()){var directiveProperty=this._names.getDirectiveName(br.directiveRecord.directiveIndex)+"."+br.target.name;return"\n        "+directiveProperty+" = "+newValue+";\n        "+notifyDebug+"\n        "+IS_CHANGED_LOCAL+" = true;\n      "}return"\n        this.notifyDispatcher("+newValue+");\n        "+notifyDebug+"\n      "},ChangeDetectorJITGenerator.prototype._genThrowOnChangeCheck=function(oldValue,newValue){return lang_1.assertionsEnabled()?"\n        if (throwOnChange && !"+this.changeDetectionUtilVarName+".devModeEqual("+oldValue+", "+newValue+")) {\n          this.throwOnChangeError("+oldValue+", "+newValue+");\n        }\n        ":""},ChangeDetectorJITGenerator.prototype._genAddToChanges=function(r){var newValue=this._names.getLocalName(r.selfIndex),oldValue=this._names.getFieldName(r.selfIndex);return r.bindingRecord.callOnChanges()?CHANGES_LOCAL+" = this.addChange("+CHANGES_LOCAL+", "+oldValue+", "+newValue+");":""},ChangeDetectorJITGenerator.prototype._maybeFirstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this.records,r.selfIndex-1),firstInBinding=lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord;return firstInBinding&&!r.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+r.propertyBindingIndex+";":""},ChangeDetectorJITGenerator.prototype._maybeGenLastInDirective=function(r){return r.lastInDirective?"\n      "+CHANGES_LOCAL+" = null;\n      "+this._genNotifyOnPushDetectors(r)+"\n      "+IS_CHANGED_LOCAL+" = false;\n    ":""},ChangeDetectorJITGenerator.prototype._genOnCheck=function(r){var br=r.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngDoCheck();"},ChangeDetectorJITGenerator.prototype._genOnInit=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+this._names.getStateName()+" === "+this.changeDetectorStateVarName+".NeverChecked) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnInit();"},ChangeDetectorJITGenerator.prototype._genOnChange=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+CHANGES_LOCAL+") "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnChanges("+CHANGES_LOCAL+");"},ChangeDetectorJITGenerator.prototype._genNotifyOnPushDetectors=function(r){var br=r.bindingRecord;if(!r.lastInDirective||br.isDefaultChangeDetection())return"";var retVal="\n      if("+IS_CHANGED_LOCAL+") {\n        "+this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return retVal},ChangeDetectorJITGenerator}();return exports.ChangeDetectorJITGenerator=ChangeDetectorJITGenerator,module.exports}),$__System.registerDynamic("1aa",["38","3"],!0,function($__require,exports,module){"use strict";var change_detection_jit_generator_1=($__require("3"),$__require("38")),JitProtoChangeDetector=function(){function JitProtoChangeDetector(definition){this.definition=definition,this._factory=this._createFactory(definition)}return JitProtoChangeDetector.isSupported=function(){return!0},JitProtoChangeDetector.prototype.instantiate=function(){return this._factory()},JitProtoChangeDetector.prototype._createFactory=function(definition){return new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,"util","AbstractChangeDetector","ChangeDetectorStatus").generate()},JitProtoChangeDetector}();return exports.JitProtoChangeDetector=JitProtoChangeDetector,module.exports}),$__System.registerDynamic("1ab",["e","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),exceptions_1=$__require("e"),ExpressionChangedAfterItHasBeenCheckedException=function(_super){function ExpressionChangedAfterItHasBeenCheckedException(exp,oldValue,currValue,context){_super.call(this,"Expression '"+exp+"' has changed after it was checked. "+("Previous value: '"+oldValue+"'. Current value: '"+currValue+"'"))}return __extends(ExpressionChangedAfterItHasBeenCheckedException,_super),ExpressionChangedAfterItHasBeenCheckedException}(exceptions_1.BaseException);exports.ExpressionChangedAfterItHasBeenCheckedException=ExpressionChangedAfterItHasBeenCheckedException;var ChangeDetectionError=function(_super){function ChangeDetectionError(exp,originalException,originalStack,context){_super.call(this,originalException+" in ["+exp+"]",originalException,originalStack,context),this.location=exp}return __extends(ChangeDetectionError,_super),ChangeDetectionError}(exceptions_1.WrappedException);exports.ChangeDetectionError=ChangeDetectionError;var DehydratedException=function(_super){function DehydratedException(details){_super.call(this,"Attempt to use a dehydrated detector: "+details)}return __extends(DehydratedException,_super),DehydratedException}(exceptions_1.BaseException);exports.DehydratedException=DehydratedException;var EventEvaluationError=function(_super){function EventEvaluationError(eventName,originalException,originalStack,context){_super.call(this,'Error during evaluation of "'+eventName+'"',originalException,originalStack,context)}return __extends(EventEvaluationError,_super),EventEvaluationError}(exceptions_1.WrappedException);exports.EventEvaluationError=EventEvaluationError;var EventEvaluationErrorContext=function(){function EventEvaluationErrorContext(element,componentElement,context,locals,injector){this.element=element,this.componentElement=componentElement,this.context=context,this.locals=locals,this.injector=injector}return EventEvaluationErrorContext}();return exports.EventEvaluationErrorContext=EventEvaluationErrorContext,module.exports}),$__System.registerDynamic("1ac",["6","e","a","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),Locals=function(){function Locals(parent,current){this.parent=parent,this.current=current}return Locals.prototype.contains=function(name){return this.current.has(name)?!0:lang_1.isPresent(this.parent)?this.parent.contains(name):!1},Locals.prototype.get=function(name){if(this.current.has(name))return this.current.get(name);if(lang_1.isPresent(this.parent))return this.parent.get(name);throw new exceptions_1.BaseException("Cannot find '"+name+"'")},Locals.prototype.set=function(name,value){if(!this.current.has(name))throw new exceptions_1.BaseException("Setting of new keys post-construction is not supported. Key: "+name+".");this.current.set(name,value)},Locals.prototype.clearLocalValues=function(){collection_1.MapWrapper.clearValues(this.current)},Locals}();return exports.Locals=Locals,module.exports}),$__System.registerDynamic("39",["6","a","3a","1ad","1ab","1ac","3b","188","41","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),collection_1=$__require("a"),change_detection_util_1=$__require("3a"),change_detector_ref_1=$__require("1ad"),exceptions_1=$__require("1ab"),locals_1=$__require("1ac"),constants_1=$__require("3b"),profile_1=$__require("188"),async_1=$__require("41"),_scope_check=profile_1.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)"),_Context=function(){function _Context(element,componentElement,context,locals,injector,expression){this.element=element,this.componentElement=componentElement,this.context=context,this.locals=locals,this.injector=injector,this.expression=expression}return _Context}(),AbstractChangeDetector=function(){function AbstractChangeDetector(id,numberOfPropertyProtoRecords,bindingTargets,directiveIndices,strategy){this.id=id,this.numberOfPropertyProtoRecords=numberOfPropertyProtoRecords,this.bindingTargets=bindingTargets,this.directiveIndices=directiveIndices,this.strategy=strategy,this.contentChildren=[],this.viewChildren=[],this.state=constants_1.ChangeDetectorState.NeverChecked,this.locals=null,this.mode=null,this.pipes=null,this.ref=new change_detector_ref_1.ChangeDetectorRef_(this)}return AbstractChangeDetector.prototype.addContentChild=function(cd){this.contentChildren.push(cd),cd.parent=this},AbstractChangeDetector.prototype.removeContentChild=function(cd){collection_1.ListWrapper.remove(this.contentChildren,cd)},AbstractChangeDetector.prototype.addViewChild=function(cd){this.viewChildren.push(cd),cd.parent=this},AbstractChangeDetector.prototype.removeViewChild=function(cd){collection_1.ListWrapper.remove(this.viewChildren,cd)},AbstractChangeDetector.prototype.remove=function(){this.parent.removeContentChild(this)},AbstractChangeDetector.prototype.handleEvent=function(eventName,elIndex,event){this.hydrated()||this.throwDehydratedError(this.id+" -> "+eventName);try{var locals=new Map;locals.set("$event",event);var res=!this.handleEventInternal(eventName,elIndex,new locals_1.Locals(this.locals,locals));return this.markPathToRootAsCheckOnce(),res}catch(e){var c=this.dispatcher.getDebugContext(null,elIndex,null),context=lang_1.isPresent(c)?new exceptions_1.EventEvaluationErrorContext(c.element,c.componentElement,c.context,c.locals,c.injector):null;throw new exceptions_1.EventEvaluationError(eventName,e,e.stack,context)}},AbstractChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){return!1},AbstractChangeDetector.prototype.detectChanges=function(){this.runDetectChanges(!1)},AbstractChangeDetector.prototype.checkNoChanges=function(){lang_1.assertionsEnabled()&&this.runDetectChanges(!0)},AbstractChangeDetector.prototype.runDetectChanges=function(throwOnChange){if(this.mode!==constants_1.ChangeDetectionStrategy.Detached&&this.mode!==constants_1.ChangeDetectionStrategy.Checked&&this.state!==constants_1.ChangeDetectorState.Errored){var s=_scope_check(this.id,throwOnChange);this.detectChangesInRecords(throwOnChange),this._detectChangesContentChildren(throwOnChange),throwOnChange||this.afterContentLifecycleCallbacks(),this._detectChangesInViewChildren(throwOnChange),throwOnChange||this.afterViewLifecycleCallbacks(),this.mode===constants_1.ChangeDetectionStrategy.CheckOnce&&(this.mode=constants_1.ChangeDetectionStrategy.Checked),this.state=constants_1.ChangeDetectorState.CheckedBefore,profile_1.wtfLeave(s)}},AbstractChangeDetector.prototype.detectChangesInRecords=function(throwOnChange){this.hydrated()||this.throwDehydratedError(this.id);try{this.detectChangesInRecordsInternal(throwOnChange)}catch(e){e instanceof exceptions_1.ExpressionChangedAfterItHasBeenCheckedException||(this.state=constants_1.ChangeDetectorState.Errored),this._throwError(e,e.stack)}},AbstractChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){},AbstractChangeDetector.prototype.hydrate=function(context,locals,dispatcher,pipes){this.dispatcher=dispatcher,this.mode=change_detection_util_1.ChangeDetectionUtil.changeDetectionMode(this.strategy),this.context=context,this.locals=locals,this.pipes=pipes,this.hydrateDirectives(dispatcher),this.state=constants_1.ChangeDetectorState.NeverChecked},AbstractChangeDetector.prototype.hydrateDirectives=function(dispatcher){},AbstractChangeDetector.prototype.dehydrate=function(){this.dehydrateDirectives(!0),this._unsubscribeFromOutputs(),this.dispatcher=null,this.context=null,this.locals=null,this.pipes=null},AbstractChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){},AbstractChangeDetector.prototype.hydrated=function(){return lang_1.isPresent(this.context)},AbstractChangeDetector.prototype.destroyRecursive=function(){this.dispatcher.notifyOnDestroy(),this.dehydrate();for(var children=this.contentChildren,i=0;i<children.length;i++)children[i].destroyRecursive();children=this.viewChildren;for(var i=0;i<children.length;i++)children[i].destroyRecursive()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked(),this.afterContentLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked(),this.afterViewLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype._detectChangesContentChildren=function(throwOnChange){for(var c=this.contentChildren,i=0;i<c.length;++i)c[i].runDetectChanges(throwOnChange)},AbstractChangeDetector.prototype._detectChangesInViewChildren=function(throwOnChange){for(var c=this.viewChildren,i=0;i<c.length;++i)c[i].runDetectChanges(throwOnChange)},AbstractChangeDetector.prototype.markAsCheckOnce=function(){this.mode=constants_1.ChangeDetectionStrategy.CheckOnce},AbstractChangeDetector.prototype.markPathToRootAsCheckOnce=function(){for(var c=this;lang_1.isPresent(c)&&c.mode!==constants_1.ChangeDetectionStrategy.Detached;)c.mode===constants_1.ChangeDetectionStrategy.Checked&&(c.mode=constants_1.ChangeDetectionStrategy.CheckOnce),c=c.parent},AbstractChangeDetector.prototype._unsubscribeFromOutputs=function(){if(lang_1.isPresent(this.outputSubscriptions))for(var i=0;i<this.outputSubscriptions.length;++i)async_1.ObservableWrapper.dispose(this.outputSubscriptions[i]),this.outputSubscriptions[i]=null},AbstractChangeDetector.prototype.getDirectiveFor=function(directives,index){return directives.getDirectiveFor(this.directiveIndices[index])},AbstractChangeDetector.prototype.getDetectorFor=function(directives,index){return directives.getDetectorFor(this.directiveIndices[index])},AbstractChangeDetector.prototype.notifyDispatcher=function(value){this.dispatcher.notifyOnBinding(this._currentBinding(),value)},AbstractChangeDetector.prototype.logBindingUpdate=function(value){this.dispatcher.logBindingUpdate(this._currentBinding(),value)},AbstractChangeDetector.prototype.addChange=function(changes,oldValue,newValue){return lang_1.isBlank(changes)&&(changes={}),changes[this._currentBinding().name]=change_detection_util_1.ChangeDetectionUtil.simpleChange(oldValue,newValue),changes},AbstractChangeDetector.prototype._throwError=function(exception,stack){var error;try{var c=this.dispatcher.getDebugContext(null,this._currentBinding().elementIndex,null),context=lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.context,c.locals,c.injector,this._currentBinding().debug):null;error=new exceptions_1.ChangeDetectionError(this._currentBinding().debug,exception,stack,context)}catch(e){error=new exceptions_1.ChangeDetectionError(null,exception,stack,null)}throw error},AbstractChangeDetector.prototype.throwOnChangeError=function(oldValue,newValue){throw new exceptions_1.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,oldValue,newValue,null)},AbstractChangeDetector.prototype.throwDehydratedError=function(detail){throw new exceptions_1.DehydratedException(detail)},AbstractChangeDetector.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex]},AbstractChangeDetector}();return exports.AbstractChangeDetector=AbstractChangeDetector,module.exports}),$__System.registerDynamic("1a4",["3"],!0,function($__require,exports,module){"use strict";$__require("3");!function(RecordType){RecordType[RecordType.Self=0]="Self",RecordType[RecordType.Const=1]="Const",RecordType[RecordType.PrimitiveOp=2]="PrimitiveOp",RecordType[RecordType.PropertyRead=3]="PropertyRead",RecordType[RecordType.PropertyWrite=4]="PropertyWrite",RecordType[RecordType.Local=5]="Local",RecordType[RecordType.InvokeMethod=6]="InvokeMethod",RecordType[RecordType.InvokeClosure=7]="InvokeClosure",RecordType[RecordType.KeyedRead=8]="KeyedRead",RecordType[RecordType.KeyedWrite=9]="KeyedWrite",RecordType[RecordType.Pipe=10]="Pipe",RecordType[RecordType.Interpolate=11]="Interpolate",RecordType[RecordType.SafeProperty=12]="SafeProperty",RecordType[RecordType.CollectionLiteral=13]="CollectionLiteral",RecordType[RecordType.SafeMethodInvoke=14]="SafeMethodInvoke",RecordType[RecordType.DirectiveLifecycle=15]="DirectiveLifecycle",RecordType[RecordType.Chain=16]="Chain",RecordType[RecordType.SkipRecordsIf=17]="SkipRecordsIf",RecordType[RecordType.SkipRecordsIfNot=18]="SkipRecordsIfNot",RecordType[RecordType.SkipRecords=19]="SkipRecords"}(exports.RecordType||(exports.RecordType={}));var RecordType=exports.RecordType,ProtoRecord=function(){function ProtoRecord(mode,name,funcOrValue,args,fixedArgs,contextIndex,directiveIndex,selfIndex,bindingRecord,lastInBinding,lastInDirective,argumentToPureFunction,referencedBySelf,propertyBindingIndex){this.mode=mode,this.name=name,this.funcOrValue=funcOrValue,this.args=args,this.fixedArgs=fixedArgs,this.contextIndex=contextIndex,this.directiveIndex=directiveIndex,this.selfIndex=selfIndex,this.bindingRecord=bindingRecord,this.lastInBinding=lastInBinding,this.lastInDirective=lastInDirective,this.argumentToPureFunction=argumentToPureFunction,this.referencedBySelf=referencedBySelf,this.propertyBindingIndex=propertyBindingIndex}return ProtoRecord.prototype.isPureFunction=function(){return this.mode===RecordType.Interpolate||this.mode===RecordType.CollectionLiteral},ProtoRecord.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf},ProtoRecord.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord()},ProtoRecord.prototype.isPipeRecord=function(){return this.mode===RecordType.Pipe},ProtoRecord.prototype.isConditionalSkipRecord=function(){return this.mode===RecordType.SkipRecordsIfNot||this.mode===RecordType.SkipRecordsIf},ProtoRecord.prototype.isUnconditionalSkipRecord=function(){return this.mode===RecordType.SkipRecords},ProtoRecord.prototype.isSkipRecord=function(){return this.isConditionalSkipRecord()||this.isUnconditionalSkipRecord()},ProtoRecord.prototype.isLifeCycleRecord=function(){return this.mode===RecordType.DirectiveLifecycle},ProtoRecord}();return exports.ProtoRecord=ProtoRecord,module.exports}),$__System.registerDynamic("1a8",["6","e","a","39","3a","3b","1a4","31","41","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),abstract_change_detector_1=$__require("39"),change_detection_util_1=$__require("3a"),constants_1=$__require("3b"),proto_record_1=$__require("1a4"),reflection_1=$__require("31"),async_1=$__require("41"),DynamicChangeDetector=function(_super){function DynamicChangeDetector(id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy,_records,_eventBindings,_directiveRecords,_genConfig){_super.call(this,id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy),this._records=_records,this._eventBindings=_eventBindings,this._directiveRecords=_directiveRecords,this._genConfig=_genConfig;var len=_records.length+1;this.values=collection_1.ListWrapper.createFixedSize(len),this.localPipes=collection_1.ListWrapper.createFixedSize(len),this.prevContexts=collection_1.ListWrapper.createFixedSize(len),this.changes=collection_1.ListWrapper.createFixedSize(len),this.dehydrateDirectives(!1)}return __extends(DynamicChangeDetector,_super),DynamicChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){var _this=this,preventDefault=!1;return this._matchingEventBindings(eventName,elIndex).forEach(function(rec){var res=_this._processEventBinding(rec,locals);res===!1&&(preventDefault=!0)}),preventDefault},DynamicChangeDetector.prototype._processEventBinding=function(eb,locals){var values=collection_1.ListWrapper.createFixedSize(eb.records.length);values[0]=this.values[0];for(var protoIdx=0;protoIdx<eb.records.length;++protoIdx){var proto=eb.records[protoIdx];if(proto.isSkipRecord())protoIdx+=this._computeSkipLength(protoIdx,proto,values);else{proto.lastInBinding&&this._markPathAsCheckOnce(proto);var res=this._calculateCurrValue(proto,values,locals);if(proto.lastInBinding)return res;this._writeSelf(proto,res,values)}}throw new exceptions_1.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._computeSkipLength=function(protoIndex,proto,values){if(proto.mode===proto_record_1.RecordType.SkipRecords)return proto.fixedArgs[0]-protoIndex-1;if(proto.mode===proto_record_1.RecordType.SkipRecordsIf){var condition=this._readContext(proto,values);return condition?proto.fixedArgs[0]-protoIndex-1:0}if(proto.mode===proto_record_1.RecordType.SkipRecordsIfNot){var condition=this._readContext(proto,values);return condition?0:proto.fixedArgs[0]-protoIndex-1}throw new exceptions_1.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._markPathAsCheckOnce=function(proto){if(!proto.bindingRecord.isDefaultChangeDetection()){var dir=proto.bindingRecord.directiveRecord;this._getDetectorFor(dir.directiveIndex).markPathToRootAsCheckOnce()}},DynamicChangeDetector.prototype._matchingEventBindings=function(eventName,elIndex){return this._eventBindings.filter(function(eb){return eb.eventName==eventName&&eb.elIndex===elIndex})},DynamicChangeDetector.prototype.hydrateDirectives=function(dispatcher){var _this=this;this.values[0]=this.context,this.dispatcher=dispatcher,this.outputSubscriptions=[];for(var i=0;i<this._directiveRecords.length;++i){var r=this._directiveRecords[i];lang_1.isPresent(r.outputs)&&r.outputs.forEach(function(output){var eventHandler=_this._createEventHandler(r.directiveIndex.elementIndex,output[1]),directive=_this._getDirectiveFor(r.directiveIndex),getter=reflection_1.reflector.getter(output[0]);_this.outputSubscriptions.push(async_1.ObservableWrapper.subscribe(getter(directive),eventHandler))})}},DynamicChangeDetector.prototype._createEventHandler=function(boundElementIndex,eventName){var _this=this;return function(event){return _this.handleEvent(eventName,boundElementIndex,event)}},DynamicChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){destroyPipes&&(this._destroyPipes(),this._destroyDirectives()),this.values[0]=null,collection_1.ListWrapper.fill(this.values,change_detection_util_1.ChangeDetectionUtil.uninitialized,1),collection_1.ListWrapper.fill(this.changes,!1),collection_1.ListWrapper.fill(this.localPipes,null),collection_1.ListWrapper.fill(this.prevContexts,change_detection_util_1.ChangeDetectionUtil.uninitialized)},DynamicChangeDetector.prototype._destroyPipes=function(){for(var i=0;i<this.localPipes.length;++i)lang_1.isPresent(this.localPipes[i])&&change_detection_util_1.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[i])},DynamicChangeDetector.prototype._destroyDirectives=function(){for(var i=0;i<this._directiveRecords.length;++i){var record=this._directiveRecords[i];record.callOnDestroy&&this._getDirectiveFor(record.directiveIndex).ngOnDestroy()}},DynamicChangeDetector.prototype.checkNoChanges=function(){this.runDetectChanges(!0)},DynamicChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){for(var protos=this._records,changes=null,isChanged=!1,protoIdx=0;protoIdx<protos.length;++protoIdx){var proto=protos[protoIdx],bindingRecord=proto.bindingRecord,directiveRecord=bindingRecord.directiveRecord;if(this._firstInBinding(proto)&&(this.propertyBindingIndex=proto.propertyBindingIndex),proto.isLifeCycleRecord())"DoCheck"!==proto.name||throwOnChange?"OnInit"!==proto.name||throwOnChange||this.state!=constants_1.ChangeDetectorState.NeverChecked?"OnChanges"===proto.name&&lang_1.isPresent(changes)&&!throwOnChange&&this._getDirectiveFor(directiveRecord.directiveIndex).ngOnChanges(changes):this._getDirectiveFor(directiveRecord.directiveIndex).ngOnInit():this._getDirectiveFor(directiveRecord.directiveIndex).ngDoCheck();else if(proto.isSkipRecord())protoIdx+=this._computeSkipLength(protoIdx,proto,this.values);else{var change=this._check(proto,throwOnChange,this.values,this.locals);lang_1.isPresent(change)&&(this._updateDirectiveOrElement(change,bindingRecord),isChanged=!0,changes=this._addChange(bindingRecord,change,changes))}proto.lastInDirective&&(changes=null,isChanged&&!bindingRecord.isDefaultChangeDetection()&&this._getDetectorFor(directiveRecord.directiveIndex).markAsCheckOnce(),isChanged=!1)}},DynamicChangeDetector.prototype._firstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this._records,r.selfIndex-1);return lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord},DynamicChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){for(var dirs=this._directiveRecords,i=dirs.length-1;i>=0;--i){var dir=dirs[i];dir.callAfterContentInit&&this.state==constants_1.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterContentInit(),dir.callAfterContentChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterContentChecked()}},DynamicChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){for(var dirs=this._directiveRecords,i=dirs.length-1;i>=0;--i){var dir=dirs[i];dir.callAfterViewInit&&this.state==constants_1.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterViewInit(),dir.callAfterViewChecked&&this._getDirectiveFor(dir.directiveIndex).ngAfterViewChecked()}},DynamicChangeDetector.prototype._updateDirectiveOrElement=function(change,bindingRecord){if(lang_1.isBlank(bindingRecord.directiveRecord))_super.prototype.notifyDispatcher.call(this,change.currentValue);else{var directiveIndex=bindingRecord.directiveRecord.directiveIndex;bindingRecord.setter(this._getDirectiveFor(directiveIndex),change.currentValue)}this._genConfig.logBindingUpdate&&_super.prototype.logBindingUpdate.call(this,change.currentValue)},DynamicChangeDetector.prototype._addChange=function(bindingRecord,change,changes){return bindingRecord.callOnChanges()?_super.prototype.addChange.call(this,changes,change.previousValue,change.currentValue):changes},DynamicChangeDetector.prototype._getDirectiveFor=function(directiveIndex){return this.dispatcher.getDirectiveFor(directiveIndex)},DynamicChangeDetector.prototype._getDetectorFor=function(directiveIndex){return this.dispatcher.getDetectorFor(directiveIndex)},DynamicChangeDetector.prototype._check=function(proto,throwOnChange,values,locals){return proto.isPipeRecord()?this._pipeCheck(proto,throwOnChange,values):this._referenceCheck(proto,throwOnChange,values,locals)},DynamicChangeDetector.prototype._referenceCheck=function(proto,throwOnChange,values,locals){if(this._pureFuncAndArgsDidNotChange(proto))return this._setChanged(proto,!1),null;var currValue=this._calculateCurrValue(proto,values,locals);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values),detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){if(proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);return throwOnChange&&this.throwOnChangeError(prevValue,currValue),this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),change}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null}return this._setChanged(proto,!1),null}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null},DynamicChangeDetector.prototype._calculateCurrValue=function(proto,values,locals){switch(proto.mode){case proto_record_1.RecordType.Self:return this._readContext(proto,values);case proto_record_1.RecordType.Const:return proto.funcOrValue;case proto_record_1.RecordType.PropertyRead:var context=this._readContext(proto,values);return proto.funcOrValue(context);case proto_record_1.RecordType.SafeProperty:var context=this._readContext(proto,values);return lang_1.isBlank(context)?null:proto.funcOrValue(context);case proto_record_1.RecordType.PropertyWrite:var context=this._readContext(proto,values),value=this._readArgs(proto,values)[0];return proto.funcOrValue(context,value),value;case proto_record_1.RecordType.KeyedWrite:var context=this._readContext(proto,values),key=this._readArgs(proto,values)[0],value=this._readArgs(proto,values)[1];return context[key]=value,value;case proto_record_1.RecordType.Local:return locals.get(proto.name);case proto_record_1.RecordType.InvokeMethod:var context=this._readContext(proto,values),args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.SafeMethodInvoke:var context=this._readContext(proto,values);if(lang_1.isBlank(context))return null;var args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.KeyedRead:var arg=this._readArgs(proto,values)[0];return this._readContext(proto,values)[arg];case proto_record_1.RecordType.Chain:var args=this._readArgs(proto,values);return args[args.length-1];case proto_record_1.RecordType.InvokeClosure:return lang_1.FunctionWrapper.apply(this._readContext(proto,values),this._readArgs(proto,values));case proto_record_1.RecordType.Interpolate:case proto_record_1.RecordType.PrimitiveOp:case proto_record_1.RecordType.CollectionLiteral:return lang_1.FunctionWrapper.apply(proto.funcOrValue,this._readArgs(proto,values));default:throw new exceptions_1.BaseException("Unknown operation "+proto.mode)}},DynamicChangeDetector.prototype._pipeCheck=function(proto,throwOnChange,values){var context=this._readContext(proto,values),selectedPipe=this._pipeFor(proto,context);if(!selectedPipe.pure||this._argsOrContextChanged(proto)){var args=this._readArgs(proto,values),currValue=selectedPipe.pipe.transform(context,args);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values),detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);
if(detectedChange){if(currValue=change_detection_util_1.ChangeDetectionUtil.unwrapValue(currValue),proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);return throwOnChange&&this.throwOnChangeError(prevValue,currValue),this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),change}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null}return this._setChanged(proto,!1),null}return this._writeSelf(proto,currValue,values),this._setChanged(proto,!0),null}},DynamicChangeDetector.prototype._pipeFor=function(proto,context){var storedPipe=this._readPipe(proto);if(lang_1.isPresent(storedPipe))return storedPipe;var pipe=this.pipes.get(proto.name);return this._writePipe(proto,pipe),pipe},DynamicChangeDetector.prototype._readContext=function(proto,values){return-1==proto.contextIndex?this._getDirectiveFor(proto.directiveIndex):values[proto.contextIndex]},DynamicChangeDetector.prototype._readSelf=function(proto,values){return values[proto.selfIndex]},DynamicChangeDetector.prototype._writeSelf=function(proto,value,values){values[proto.selfIndex]=value},DynamicChangeDetector.prototype._readPipe=function(proto){return this.localPipes[proto.selfIndex]},DynamicChangeDetector.prototype._writePipe=function(proto,value){this.localPipes[proto.selfIndex]=value},DynamicChangeDetector.prototype._setChanged=function(proto,value){proto.argumentToPureFunction&&(this.changes[proto.selfIndex]=value)},DynamicChangeDetector.prototype._pureFuncAndArgsDidNotChange=function(proto){return proto.isPureFunction()&&!this._argsChanged(proto)},DynamicChangeDetector.prototype._argsChanged=function(proto){for(var args=proto.args,i=0;i<args.length;++i)if(this.changes[args[i]])return!0;return!1},DynamicChangeDetector.prototype._argsOrContextChanged=function(proto){return this._argsChanged(proto)||this.changes[proto.contextIndex]},DynamicChangeDetector.prototype._readArgs=function(proto,values){for(var res=collection_1.ListWrapper.createFixedSize(proto.args.length),args=proto.args,i=0;i<args.length;++i)res[i]=values[args[i]];return res},DynamicChangeDetector}(abstract_change_detector_1.AbstractChangeDetector);return exports.DynamicChangeDetector=DynamicChangeDetector,module.exports}),$__System.registerDynamic("1ad",["3b","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),constants_1=$__require("3b"),ChangeDetectorRef=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}();exports.ChangeDetectorRef=ChangeDetectorRef;var ChangeDetectorRef_=function(_super){function ChangeDetectorRef_(_cd){_super.call(this),this._cd=_cd}return __extends(ChangeDetectorRef_,_super),ChangeDetectorRef_.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce()},ChangeDetectorRef_.prototype.detach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.Detached},ChangeDetectorRef_.prototype.detectChanges=function(){this._cd.detectChanges()},ChangeDetectorRef_.prototype.checkNoChanges=function(){this._cd.checkNoChanges()},ChangeDetectorRef_.prototype.reattach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.CheckAlways,this.markForCheck()},ChangeDetectorRef_}(ChangeDetectorRef);return exports.ChangeDetectorRef_=ChangeDetectorRef_,module.exports}),$__System.registerDynamic("1ae",["3"],!0,function($__require,exports,module){"use strict";function implementsOnDestroy(pipe){return pipe.constructor.prototype.ngOnDestroy}$__require("3");return exports.implementsOnDestroy=implementsOnDestroy,module.exports}),$__System.registerDynamic("1af",["6","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),DIRECTIVE_LIFECYCLE="directiveLifecycle",BINDING="native",DIRECTIVE="directive",ELEMENT_PROPERTY="elementProperty",ELEMENT_ATTRIBUTE="elementAttribute",ELEMENT_CLASS="elementClass",ELEMENT_STYLE="elementStyle",TEXT_NODE="textNode",EVENT="event",HOST_EVENT="hostEvent",BindingTarget=function(){function BindingTarget(mode,elementIndex,name,unit,debug){this.mode=mode,this.elementIndex=elementIndex,this.name=name,this.unit=unit,this.debug=debug}return BindingTarget.prototype.isDirective=function(){return this.mode===DIRECTIVE},BindingTarget.prototype.isElementProperty=function(){return this.mode===ELEMENT_PROPERTY},BindingTarget.prototype.isElementAttribute=function(){return this.mode===ELEMENT_ATTRIBUTE},BindingTarget.prototype.isElementClass=function(){return this.mode===ELEMENT_CLASS},BindingTarget.prototype.isElementStyle=function(){return this.mode===ELEMENT_STYLE},BindingTarget.prototype.isTextNode=function(){return this.mode===TEXT_NODE},BindingTarget}();exports.BindingTarget=BindingTarget;var BindingRecord=function(){function BindingRecord(mode,target,implicitReceiver,ast,setter,lifecycleEvent,directiveRecord){this.mode=mode,this.target=target,this.implicitReceiver=implicitReceiver,this.ast=ast,this.setter=setter,this.lifecycleEvent=lifecycleEvent,this.directiveRecord=directiveRecord}return BindingRecord.prototype.isDirectiveLifecycle=function(){return this.mode===DIRECTIVE_LIFECYCLE},BindingRecord.prototype.callOnChanges=function(){return lang_1.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges},BindingRecord.prototype.isDefaultChangeDetection=function(){return lang_1.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection()},BindingRecord.createDirectiveDoCheck=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"DoCheck",directiveRecord)},BindingRecord.createDirectiveOnInit=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnInit",directiveRecord)},BindingRecord.createDirectiveOnChanges=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnChanges",directiveRecord)},BindingRecord.createForDirective=function(ast,propertyName,setter,directiveRecord){var elementIndex=directiveRecord.directiveIndex.elementIndex,t=new BindingTarget(DIRECTIVE,elementIndex,propertyName,null,ast.toString());return new BindingRecord(DIRECTIVE,t,0,ast,setter,null,directiveRecord)},BindingRecord.createForElementProperty=function(ast,elementIndex,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForElementAttribute=function(ast,elementIndex,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForElementClass=function(ast,elementIndex,className){var t=new BindingTarget(ELEMENT_CLASS,elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForElementStyle=function(ast,elementIndex,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForHostProperty=function(directiveIndex,ast,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,directiveIndex.elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForHostAttribute=function(directiveIndex,ast,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,directiveIndex.elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForHostClass=function(directiveIndex,ast,className){var t=new BindingTarget(ELEMENT_CLASS,directiveIndex.elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForHostStyle=function(directiveIndex,ast,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,directiveIndex.elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)},BindingRecord.createForTextNode=function(ast,elementIndex){var t=new BindingTarget(TEXT_NODE,elementIndex,null,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)},BindingRecord.createForEvent=function(ast,eventName,elementIndex){var t=new BindingTarget(EVENT,elementIndex,eventName,null,ast.toString());return new BindingRecord(EVENT,t,0,ast,null,null,null)},BindingRecord.createForHostEvent=function(ast,eventName,directiveRecord){var directiveIndex=directiveRecord.directiveIndex,t=new BindingTarget(HOST_EVENT,directiveIndex.elementIndex,eventName,null,ast.toString());return new BindingRecord(HOST_EVENT,t,directiveIndex,ast,null,null,directiveRecord)},BindingRecord}();return exports.BindingRecord=BindingRecord,module.exports}),$__System.registerDynamic("3b",["6","3"],!0,function($__require,exports,module){"use strict";function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return lang_1.isBlank(changeDetectionStrategy)||changeDetectionStrategy===ChangeDetectionStrategy.Default}var lang_1=($__require("3"),$__require("6"));!function(ChangeDetectorState){ChangeDetectorState[ChangeDetectorState.NeverChecked=0]="NeverChecked",ChangeDetectorState[ChangeDetectorState.CheckedBefore=1]="CheckedBefore",ChangeDetectorState[ChangeDetectorState.Errored=2]="Errored"}(exports.ChangeDetectorState||(exports.ChangeDetectorState={}));var ChangeDetectorState=exports.ChangeDetectorState;!function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.CheckOnce=0]="CheckOnce",ChangeDetectionStrategy[ChangeDetectionStrategy.Checked=1]="Checked",ChangeDetectionStrategy[ChangeDetectionStrategy.CheckAlways=2]="CheckAlways",ChangeDetectionStrategy[ChangeDetectionStrategy.Detached=3]="Detached",ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=4]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=5]="Default"}(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectionStrategy=exports.ChangeDetectionStrategy;return exports.CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.CheckOnce,ChangeDetectionStrategy.Checked,ChangeDetectionStrategy.CheckAlways,ChangeDetectionStrategy.Detached,ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default],exports.CHANGE_DETECTOR_STATE_VALUES=[ChangeDetectorState.NeverChecked,ChangeDetectorState.CheckedBefore,ChangeDetectorState.Errored],exports.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy,module.exports}),$__System.registerDynamic("1a9",["6","3b","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),constants_1=$__require("3b"),DirectiveIndex=function(){function DirectiveIndex(elementIndex,directiveIndex){this.elementIndex=elementIndex,this.directiveIndex=directiveIndex}return Object.defineProperty(DirectiveIndex.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex},enumerable:!0,configurable:!0}),DirectiveIndex}();exports.DirectiveIndex=DirectiveIndex;var DirectiveRecord=function(){function DirectiveRecord(_a){var _b=void 0===_a?{}:_a,directiveIndex=_b.directiveIndex,callAfterContentInit=_b.callAfterContentInit,callAfterContentChecked=_b.callAfterContentChecked,callAfterViewInit=_b.callAfterViewInit,callAfterViewChecked=_b.callAfterViewChecked,callOnChanges=_b.callOnChanges,callDoCheck=_b.callDoCheck,callOnInit=_b.callOnInit,callOnDestroy=_b.callOnDestroy,changeDetection=_b.changeDetection,outputs=_b.outputs;this.directiveIndex=directiveIndex,this.callAfterContentInit=lang_1.normalizeBool(callAfterContentInit),this.callAfterContentChecked=lang_1.normalizeBool(callAfterContentChecked),this.callOnChanges=lang_1.normalizeBool(callOnChanges),this.callAfterViewInit=lang_1.normalizeBool(callAfterViewInit),this.callAfterViewChecked=lang_1.normalizeBool(callAfterViewChecked),this.callDoCheck=lang_1.normalizeBool(callDoCheck),this.callOnInit=lang_1.normalizeBool(callOnInit),this.callOnDestroy=lang_1.normalizeBool(callOnDestroy),this.changeDetection=changeDetection,this.outputs=outputs}return DirectiveRecord.prototype.isDefaultChangeDetection=function(){return constants_1.isDefaultChangeDetectionStrategy(this.changeDetection)},DirectiveRecord}();return exports.DirectiveRecord=DirectiveRecord,module.exports}),$__System.registerDynamic("3a",["6","e","a","3b","1ae","1af","1a9","3"],!0,function($__require,exports,module){"use strict";function _simpleChange(previousValue,currentValue){var index=_simpleChangesIndex++%20,s=_simpleChanges[index];return s.previousValue=previousValue,s.currentValue=currentValue,s}var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),constants_1=$__require("3b"),pipe_lifecycle_reflector_1=$__require("1ae"),binding_record_1=$__require("1af"),directive_record_1=$__require("1a9"),WrappedValue=function(){function WrappedValue(wrapped){this.wrapped=wrapped}return WrappedValue.wrap=function(value){var w=_wrappedValues[_wrappedIndex++%5];return w.wrapped=value,w},WrappedValue}();exports.WrappedValue=WrappedValue;var _wrappedValues=[new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null)],_wrappedIndex=0,SimpleChange=function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue,this.currentValue=currentValue}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===ChangeDetectionUtil.uninitialized},SimpleChange}();exports.SimpleChange=SimpleChange;var _simpleChangesIndex=0,_simpleChanges=[new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null)],ChangeDetectionUtil=function(){function ChangeDetectionUtil(){}return ChangeDetectionUtil.arrayFn0=function(){return[]},ChangeDetectionUtil.arrayFn1=function(a1){return[a1]},ChangeDetectionUtil.arrayFn2=function(a1,a2){return[a1,a2]},ChangeDetectionUtil.arrayFn3=function(a1,a2,a3){return[a1,a2,a3]},ChangeDetectionUtil.arrayFn4=function(a1,a2,a3,a4){return[a1,a2,a3,a4]},ChangeDetectionUtil.arrayFn5=function(a1,a2,a3,a4,a5){return[a1,a2,a3,a4,a5]},ChangeDetectionUtil.arrayFn6=function(a1,a2,a3,a4,a5,a6){return[a1,a2,a3,a4,a5,a6]},ChangeDetectionUtil.arrayFn7=function(a1,a2,a3,a4,a5,a6,a7){return[a1,a2,a3,a4,a5,a6,a7]},ChangeDetectionUtil.arrayFn8=function(a1,a2,a3,a4,a5,a6,a7,a8){return[a1,a2,a3,a4,a5,a6,a7,a8]},ChangeDetectionUtil.arrayFn9=function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return[a1,a2,a3,a4,a5,a6,a7,a8,a9]},ChangeDetectionUtil.operation_negate=function(value){return!value},ChangeDetectionUtil.operation_add=function(left,right){return left+right},ChangeDetectionUtil.operation_subtract=function(left,right){return left-right},ChangeDetectionUtil.operation_multiply=function(left,right){return left*right},ChangeDetectionUtil.operation_divide=function(left,right){return left/right},ChangeDetectionUtil.operation_remainder=function(left,right){return left%right},ChangeDetectionUtil.operation_equals=function(left,right){return left==right},ChangeDetectionUtil.operation_not_equals=function(left,right){return left!=right},ChangeDetectionUtil.operation_identical=function(left,right){return left===right},ChangeDetectionUtil.operation_not_identical=function(left,right){return left!==right},ChangeDetectionUtil.operation_less_then=function(left,right){return right>left},ChangeDetectionUtil.operation_greater_then=function(left,right){return left>right},ChangeDetectionUtil.operation_less_or_equals_then=function(left,right){return right>=left},ChangeDetectionUtil.operation_greater_or_equals_then=function(left,right){return left>=right},ChangeDetectionUtil.cond=function(cond,trueVal,falseVal){return cond?trueVal:falseVal},ChangeDetectionUtil.mapFn=function(keys){function buildMap(values){for(var res=collection_1.StringMapWrapper.create(),i=0;i<keys.length;++i)collection_1.StringMapWrapper.set(res,keys[i],values[i]);return res}switch(keys.length){case 0:return function(){return[]};case 1:return function(a1){return buildMap([a1])};case 2:return function(a1,a2){return buildMap([a1,a2])};case 3:return function(a1,a2,a3){return buildMap([a1,a2,a3])};case 4:return function(a1,a2,a3,a4){return buildMap([a1,a2,a3,a4])};case 5:return function(a1,a2,a3,a4,a5){return buildMap([a1,a2,a3,a4,a5])};case 6:return function(a1,a2,a3,a4,a5,a6){return buildMap([a1,a2,a3,a4,a5,a6])};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return buildMap([a1,a2,a3,a4,a5,a6,a7])};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8])};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8,a9])};default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements")}},ChangeDetectionUtil.keyedAccess=function(obj,args){return obj[args[0]]},ChangeDetectionUtil.unwrapValue=function(value){return value instanceof WrappedValue?value.wrapped:value},ChangeDetectionUtil.changeDetectionMode=function(strategy){return constants_1.isDefaultChangeDetectionStrategy(strategy)?constants_1.ChangeDetectionStrategy.CheckAlways:constants_1.ChangeDetectionStrategy.CheckOnce},ChangeDetectionUtil.simpleChange=function(previousValue,currentValue){return _simpleChange(previousValue,currentValue)},ChangeDetectionUtil.isValueBlank=function(value){return lang_1.isBlank(value)},ChangeDetectionUtil.s=function(value){return lang_1.isPresent(value)?""+value:""},ChangeDetectionUtil.protoByIndex=function(protos,selfIndex){return 1>selfIndex?null:protos[selfIndex-1]},ChangeDetectionUtil.callPipeOnDestroy=function(selectedPipe){pipe_lifecycle_reflector_1.implementsOnDestroy(selectedPipe.pipe)&&selectedPipe.pipe.ngOnDestroy()},ChangeDetectionUtil.bindingTarget=function(mode,elementIndex,name,unit,debug){return new binding_record_1.BindingTarget(mode,elementIndex,name,unit,debug)},ChangeDetectionUtil.directiveIndex=function(elementIndex,directiveIndex){return new directive_record_1.DirectiveIndex(elementIndex,directiveIndex)},ChangeDetectionUtil.looseNotIdentical=function(a,b){return!lang_1.looseIdentical(a,b)},ChangeDetectionUtil.devModeEqual=function(a,b){return collection_1.isListLikeIterable(a)&&collection_1.isListLikeIterable(b)?collection_1.areIterablesEqual(a,b,ChangeDetectionUtil.devModeEqual):collection_1.isListLikeIterable(a)||lang_1.isPrimitive(a)||collection_1.isListLikeIterable(b)||lang_1.isPrimitive(b)?lang_1.looseIdentical(a,b):!0},ChangeDetectionUtil.uninitialized=lang_1.CONST_EXPR(new Object),ChangeDetectionUtil}();return exports.ChangeDetectionUtil=ChangeDetectionUtil,module.exports}),$__System.registerDynamic("32",["199","19a","19b","19c","6","4e","19d","19f","1ac","1ab","1a0","3b","1a7","1aa","1af","1a9","1a8","1ad","3a","3"],!0,function($__require,exports,module){"use strict";var iterable_differs_1=($__require("3"),$__require("199")),default_iterable_differ_1=$__require("19a"),keyvalue_differs_1=$__require("19b"),default_keyvalue_differ_1=$__require("19c"),lang_1=$__require("6"),default_keyvalue_differ_2=$__require("19c");exports.DefaultKeyValueDifferFactory=default_keyvalue_differ_2.DefaultKeyValueDifferFactory,exports.KeyValueChangeRecord=default_keyvalue_differ_2.KeyValueChangeRecord;var default_iterable_differ_2=$__require("19a");exports.DefaultIterableDifferFactory=default_iterable_differ_2.DefaultIterableDifferFactory,exports.CollectionChangeRecord=default_iterable_differ_2.CollectionChangeRecord;var ast_1=$__require("4e");exports.ASTWithSource=ast_1.ASTWithSource,exports.AST=ast_1.AST,exports.AstTransformer=ast_1.AstTransformer,exports.PropertyRead=ast_1.PropertyRead,exports.LiteralArray=ast_1.LiteralArray,exports.ImplicitReceiver=ast_1.ImplicitReceiver;var lexer_1=$__require("19d");exports.Lexer=lexer_1.Lexer;var parser_1=$__require("19f");exports.Parser=parser_1.Parser;var locals_1=$__require("1ac");exports.Locals=locals_1.Locals;var exceptions_1=$__require("1ab");exports.DehydratedException=exceptions_1.DehydratedException,exports.ExpressionChangedAfterItHasBeenCheckedException=exceptions_1.ExpressionChangedAfterItHasBeenCheckedException,exports.ChangeDetectionError=exceptions_1.ChangeDetectionError;var interfaces_1=$__require("1a0");exports.ChangeDetectorDefinition=interfaces_1.ChangeDetectorDefinition,exports.DebugContext=interfaces_1.DebugContext,exports.ChangeDetectorGenConfig=interfaces_1.ChangeDetectorGenConfig;var constants_1=$__require("3b");exports.ChangeDetectionStrategy=constants_1.ChangeDetectionStrategy,exports.CHANGE_DETECTION_STRATEGY_VALUES=constants_1.CHANGE_DETECTION_STRATEGY_VALUES;var proto_change_detector_1=$__require("1a7");exports.DynamicProtoChangeDetector=proto_change_detector_1.DynamicProtoChangeDetector;var jit_proto_change_detector_1=$__require("1aa");exports.JitProtoChangeDetector=jit_proto_change_detector_1.JitProtoChangeDetector;var binding_record_1=$__require("1af");exports.BindingRecord=binding_record_1.BindingRecord,exports.BindingTarget=binding_record_1.BindingTarget;var directive_record_1=$__require("1a9");exports.DirectiveIndex=directive_record_1.DirectiveIndex,exports.DirectiveRecord=directive_record_1.DirectiveRecord;var dynamic_change_detector_1=$__require("1a8");exports.DynamicChangeDetector=dynamic_change_detector_1.DynamicChangeDetector;var change_detector_ref_1=$__require("1ad");exports.ChangeDetectorRef=change_detector_ref_1.ChangeDetectorRef;var iterable_differs_2=$__require("199");exports.IterableDiffers=iterable_differs_2.IterableDiffers;var keyvalue_differs_2=$__require("19b");exports.KeyValueDiffers=keyvalue_differs_2.KeyValueDiffers;var change_detection_util_1=$__require("3a");return exports.WrappedValue=change_detection_util_1.WrappedValue,exports.SimpleChange=change_detection_util_1.SimpleChange,exports.keyValDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_keyvalue_differ_1.DefaultKeyValueDifferFactory)]),exports.iterableDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_iterable_differ_1.DefaultIterableDifferFactory)]),exports.defaultIterableDiffers=lang_1.CONST_EXPR(new iterable_differs_1.IterableDiffers(exports.iterableDiff)),exports.defaultKeyValueDiffers=lang_1.CONST_EXPR(new keyvalue_differs_1.KeyValueDiffers(exports.keyValDiff)),module.exports}),$__System.registerDynamic("64",["3"],!0,function($__require,exports,module){"use strict";var PromiseWrapper=($__require("3"),function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(obj){return Promise.resolve(obj)},PromiseWrapper.reject=function(obj,_){return Promise.reject(obj)},PromiseWrapper.catchError=function(promise,onError){return promise["catch"](onError)},PromiseWrapper.all=function(promises){return 0==promises.length?Promise.resolve([]):Promise.all(promises)},PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection)},PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation())}catch(e){rej(e)}})},PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){})},PromiseWrapper.isPromise=function(obj){return obj instanceof Promise},PromiseWrapper.completer=function(){var resolve,reject,p=new Promise(function(res,rej){resolve=res,reject=rej});return{promise:p,resolve:resolve,reject:reject}},PromiseWrapper}());return exports.PromiseWrapper=PromiseWrapper,module.exports}),$__System.registerDynamic("1b0",["1b1","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Subscription_1=$__require("1b1"),SubjectSubscription=function(_super){function SubjectSubscription(subject,observer){_super.call(this),this.subject=subject,this.observer=observer,this.isUnsubscribed=!1}return __extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isUnsubscribed){var subscriberIndex=observers.indexOf(this.observer);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(Subscription_1.Subscription);return exports.SubjectSubscription=SubjectSubscription,module.exports}),$__System.registerDynamic("1b2",["3"],!0,function($__require,exports,module){"use strict";function throwError(e){throw e}$__require("3");return exports.throwError=throwError,module.exports}),$__System.registerDynamic("1b3",["3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ObjectUnsubscribedError=function(_super){function ObjectUnsubscribedError(){_super.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return __extends(ObjectUnsubscribedError,_super),ObjectUnsubscribedError}(Error);return exports.ObjectUnsubscribedError=ObjectUnsubscribedError,module.exports}),$__System.registerDynamic("1b4",["129","1b5","1b1","1b0","1b6","1b2","1b3","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Observable_1=$__require("129"),Subscriber_1=$__require("1b5"),Subscription_1=$__require("1b1"),SubjectSubscription_1=$__require("1b0"),rxSubscriber_1=$__require("1b6"),throwError_1=$__require("1b2"),ObjectUnsubscribedError_1=$__require("1b3"),Subject=function(_super){function Subject(destination,source){_super.call(this),this.destination=destination,this.source=source,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1}return __extends(Subject,_super),Subject.prototype.lift=function(operator){var subject=new Subject(this.destination||this,this);return subject.operator=operator,subject},Subject.prototype.add=function(subscription){Subscription_1.Subscription.prototype.add.call(this,subscription)},Subject.prototype.remove=function(subscription){Subscription_1.Subscription.prototype.remove.call(this,subscription)},Subject.prototype.unsubscribe=function(){Subscription_1.Subscription.prototype.unsubscribe.call(this)},Subject.prototype._subscribe=function(subscriber){if(this.source)return this.source.subscribe(subscriber);if(!subscriber.isUnsubscribed){if(this.hasErrored)return subscriber.error(this.errorValue);if(this.hasCompleted)return subscriber.complete();this.throwIfUnsubscribed();var subscription=new SubjectSubscription_1.SubjectSubscription(this,subscriber);return this.observers.push(subscriber),subscription}},Subject.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},Subject.prototype.next=function(value){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(value),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},Subject.prototype.error=function(err){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=err,this.dispatching||this._error(err))},Subject.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},Subject.prototype.asObservable=function(){var observable=new SubjectObservable(this);return observable},Subject.prototype._next=function(value){this.destination?this.destination.next(value):this._finalNext(value)},Subject.prototype._finalNext=function(value){for(var index=-1,observers=this.observers.slice(0),len=observers.length;++index<len;)observers[index].next(value)},Subject.prototype._error=function(err){this.destination?this.destination.error(err):this._finalError(err)},Subject.prototype._finalError=function(err){var index=-1,observers=this.observers;if(this.observers=null,this.isUnsubscribed=!0,observers)for(var len=observers.length;++index<len;)observers[index].error(err);this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},Subject.prototype._finalComplete=function(){var index=-1,observers=this.observers;if(this.observers=null,this.isUnsubscribed=!0,observers)for(var len=observers.length;++index<len;)observers[index].complete();this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&throwError_1.throwError(new ObjectUnsubscribedError_1.ObjectUnsubscribedError)},Subject.prototype[rxSubscriber_1.rxSubscriber]=function(){return new Subscriber_1.Subscriber(this)},Subject.create=function(destination,source){return new Subject(destination,source)},Subject}(Observable_1.Observable);exports.Subject=Subject;var SubjectObservable=function(_super){function SubjectObservable(source){_super.call(this),this.source=source}return __extends(SubjectObservable,_super),SubjectObservable}(Observable_1.Observable);return module.exports}),$__System.registerDynamic("1b7",["1b8","129","3"],!0,function($__require,exports,module){"use strict";function dispatchNext(_a){var value=_a.value,subscriber=_a.subscriber;subscriber.isUnsubscribed||(subscriber.next(value),subscriber.complete())}function dispatchError(_a){var err=_a.err,subscriber=_a.subscriber;subscriber.isUnsubscribed||subscriber.error(err)}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),root_1=$__require("1b8"),Observable_1=$__require("129"),PromiseObservable=function(_super){function PromiseObservable(promise,scheduler){void 0===scheduler&&(scheduler=null),_super.call(this),this.promise=promise,this.scheduler=scheduler}return __extends(PromiseObservable,_super),PromiseObservable.create=function(promise,scheduler){return void 0===scheduler&&(scheduler=null),new PromiseObservable(promise,scheduler)},PromiseObservable.prototype._subscribe=function(subscriber){var _this=this,promise=this.promise,scheduler=this.scheduler;if(null==scheduler)this._isScalar?subscriber.isUnsubscribed||(subscriber.next(this.value),subscriber.complete()):promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.isUnsubscribed||(subscriber.next(value),subscriber.complete())},function(err){subscriber.isUnsubscribed||subscriber.error(err)}).then(null,function(err){root_1.root.setTimeout(function(){throw err})});else if(this._isScalar){if(!subscriber.isUnsubscribed)return scheduler.schedule(dispatchNext,0,{value:this.value,subscriber:subscriber})}else promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.isUnsubscribed||subscriber.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))},function(err){subscriber.isUnsubscribed||subscriber.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}))}).then(null,function(err){
root_1.root.setTimeout(function(){throw err})})},PromiseObservable}(Observable_1.Observable);return exports.PromiseObservable=PromiseObservable,module.exports}),$__System.registerDynamic("1b9",["1b8","3"],!0,function($__require,exports,module){"use strict";function toPromise(PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})}var root_1=($__require("3"),$__require("1b8"));return exports.toPromise=toPromise,module.exports}),$__System.registerDynamic("1ba",["3"],!0,function($__require,exports,module){"use strict";$__require("3");return exports.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length},module.exports}),$__System.registerDynamic("1bb",["3"],!0,function($__require,exports,module){"use strict";function isObject(x){return null!=x&&"object"==typeof x}$__require("3");return exports.isObject=isObject,module.exports}),$__System.registerDynamic("1bc",["3"],!0,function($__require,exports,module){"use strict";function isFunction(x){return"function"==typeof x}$__require("3");return exports.isFunction=isFunction,module.exports}),$__System.registerDynamic("1b1",["1ba","1bb","1bc","1bd","1be","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),isArray_1=$__require("1ba"),isObject_1=$__require("1bb"),isFunction_1=$__require("1bc"),tryCatch_1=$__require("1bd"),errorObject_1=$__require("1be"),Subscription=function(){function Subscription(_unsubscribe){this.isUnsubscribed=!1,_unsubscribe&&(this._unsubscribe=_unsubscribe)}return Subscription.prototype.unsubscribe=function(){var errors,hasErrors=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var _a=this,_unsubscribe=_a._unsubscribe,_subscriptions=_a._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(_unsubscribe)){var trial=tryCatch_1.tryCatch(_unsubscribe).call(this);trial===errorObject_1.errorObject&&(hasErrors=!0,(errors=errors||[]).push(errorObject_1.errorObject.e))}if(isArray_1.isArray(_subscriptions))for(var index=-1,len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if(isObject_1.isObject(sub)){var trial=tryCatch_1.tryCatch(sub.unsubscribe).call(sub);if(trial===errorObject_1.errorObject){hasErrors=!0,errors=errors||[];var err=errorObject_1.errorObject.e;err instanceof UnsubscriptionError?errors=errors.concat(err.errors):errors.push(err)}}}if(hasErrors)throw new UnsubscriptionError(errors)}},Subscription.prototype.add=function(subscription){if(subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var sub=subscription;switch(typeof subscription){case"function":sub=new Subscription(subscription);case"object":if(sub.isUnsubscribed||"function"!=typeof sub.unsubscribe)break;this.isUnsubscribed?sub.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(sub);break;default:throw new Error("Unrecognized subscription "+subscription+" added to Subscription.")}}},Subscription.prototype.remove=function(subscription){if(null!=subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}},Subscription.EMPTY=function(empty){return empty.isUnsubscribed=!0,empty}(new Subscription),Subscription}();exports.Subscription=Subscription;var UnsubscriptionError=function(_super){function UnsubscriptionError(errors){_super.call(this,"unsubscriptoin error(s)"),this.errors=errors,this.name="UnsubscriptionError"}return __extends(UnsubscriptionError,_super),UnsubscriptionError}(Error);return exports.UnsubscriptionError=UnsubscriptionError,module.exports}),$__System.registerDynamic("1bf",["3"],!0,function($__require,exports,module){"use strict";$__require("3");return exports.empty={isUnsubscribed:!0,next:function(value){},error:function(err){throw err},complete:function(){}},module.exports}),$__System.registerDynamic("1b5",["1bc","1b1","1b6","1bf","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),isFunction_1=$__require("1bc"),Subscription_1=$__require("1b1"),rxSubscriber_1=$__require("1b6"),Observer_1=$__require("1bf"),Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){switch(_super.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1.empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?this.destination=destinationOrNext:(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}return __extends(Subscriber,_super),Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype[rxSubscriber_1.rxSubscriber]=function(){return this},Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parent,observerOrNext,error,complete){_super.call(this),this._parent=_parent;var next,context=this;isFunction_1.isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(context=observerOrNext,next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete),this._context=context,this._next=next,this._error=error,this._complete=complete}return __extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parent=this._parent;_parent.syncErrorThrowable?this.__tryOrSetError(_parent,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parent=this._parent;if(this._error)_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else{if(!_parent.syncErrorThrowable)throw this.unsubscribe(),err;_parent.syncErrorValue=err,_parent.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var _parent=this._parent;this._complete?_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){throw this.unsubscribe(),err}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value)}catch(err){return parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parent=this._parent;this._context=null,this._parent=null,_parent.unsubscribe()},SafeSubscriber}(Subscriber);return module.exports}),$__System.registerDynamic("1b8",["3"],!0,function($__require,exports,module){"use strict";var global=($__require("3"),this),objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeGlobal=(objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,objectTypes[typeof module]&&module&&!module.nodeType&&module,objectTypes[typeof global]&&global);return!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(exports.root=freeGlobal),module.exports}),$__System.registerDynamic("1c0",["1b8","3"],!0,function($__require,exports,module){"use strict";function polyfillSymbol(root){var Symbol=ensureSymbol(root);return ensureIterator(Symbol,root),ensureObservable(Symbol),ensureFor(Symbol),Symbol}function ensureFor(Symbol){Symbol["for"]||(Symbol["for"]=symbolForPolyfill)}function ensureSymbol(root){return root.Symbol||(root.Symbol=function(description){return"@@Symbol("+description+"):"+id++}),root.Symbol}function symbolForPolyfill(key){return"@@"+key}function ensureIterator(Symbol,root){if(!Symbol.iterator)if("function"==typeof Symbol["for"])Symbol.iterator=Symbol["for"]("iterator");else if(root.Set&&"function"==typeof(new root.Set)["@@iterator"])Symbol.iterator="@@iterator";else if(root.Map)for(var keys=Object.getOwnPropertyNames(root.Map.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&root.Map.prototype[key]===root.Map.prototype.entries){Symbol.iterator=key;break}}else Symbol.iterator="@@iterator"}function ensureObservable(Symbol){Symbol.observable||("function"==typeof Symbol["for"]?Symbol.observable=Symbol["for"]("observable"):Symbol.observable="@@observable")}var root_1=($__require("3"),$__require("1b8"));exports.polyfillSymbol=polyfillSymbol,exports.ensureFor=ensureFor;var id=0;return exports.ensureSymbol=ensureSymbol,exports.symbolForPolyfill=symbolForPolyfill,exports.ensureIterator=ensureIterator,exports.ensureObservable=ensureObservable,exports.SymbolShim=polyfillSymbol(root_1.root),module.exports}),$__System.registerDynamic("1b6",["1c0","3"],!0,function($__require,exports,module){"use strict";var SymbolShim_1=($__require("3"),$__require("1c0"));return exports.rxSubscriber=SymbolShim_1.SymbolShim["for"]("rxSubscriber"),module.exports}),$__System.registerDynamic("1c1",["1b5","1b6","3"],!0,function($__require,exports,module){"use strict";function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver&&"object"==typeof nextOrObserver){if(nextOrObserver instanceof Subscriber_1.Subscriber)return nextOrObserver;if("function"==typeof nextOrObserver[rxSubscriber_1.rxSubscriber])return nextOrObserver[rxSubscriber_1.rxSubscriber]()}return new Subscriber_1.Subscriber(nextOrObserver,error,complete)}var Subscriber_1=($__require("3"),$__require("1b5")),rxSubscriber_1=$__require("1b6");return exports.toSubscriber=toSubscriber,module.exports}),$__System.registerDynamic("1bd",["1be","3"],!0,function($__require,exports,module){"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject_1.errorObject.e=e,errorObject_1.errorObject}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var tryCatchTarget,errorObject_1=($__require("3"),$__require("1be"));return exports.tryCatch=tryCatch,module.exports}),$__System.registerDynamic("1be",["3"],!0,function($__require,exports,module){"use strict";$__require("3");return exports.errorObject={e:{}},module.exports}),$__System.registerDynamic("129",["1b8","1c0","1c1","1bd","1be","3"],!0,function($__require,exports,module){"use strict";var root_1=($__require("3"),$__require("1b8")),SymbolShim_1=$__require("1c0"),toSubscriber_1=$__require("1c1"),tryCatch_1=$__require("1bd"),errorObject_1=$__require("1be"),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,subscriber=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(operator?subscriber.add(this._subscribe(operator.call(subscriber))):subscriber.add(this._subscribe(subscriber)),subscriber.syncErrorThrowable&&(subscriber.syncErrorThrowable=!1,subscriber.syncErrorThrown))throw subscriber.syncErrorValue;return subscriber},Observable.prototype.forEach=function(next,thisArg,PromiseCtor){if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");var source=this;return new PromiseCtor(function(resolve,reject){source.subscribe(function(value){var result=tryCatch_1.tryCatch(next).call(thisArg,value);result===errorObject_1.errorObject&&reject(errorObject_1.errorObject.e)},reject,resolve)})},Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)},Observable.prototype[SymbolShim_1.SymbolShim.observable]=function(){return this},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();return exports.Observable=Observable,module.exports}),$__System.registerDynamic("41",["6","64","1b4","1b7","1b9","129","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),promise_1=$__require("64");exports.PromiseWrapper=promise_1.PromiseWrapper;var Subject_1=$__require("1b4"),PromiseObservable_1=$__require("1b7"),toPromise_1=$__require("1b9"),Observable_1=$__require("129");exports.Observable=Observable_1.Observable;var Subject_2=$__require("1b4");exports.Subject=Subject_2.Subject;var TimerWrapper=function(){function TimerWrapper(){}return TimerWrapper.setTimeout=function(fn,millis){return lang_1.global.setTimeout(fn,millis)},TimerWrapper.clearTimeout=function(id){lang_1.global.clearTimeout(id)},TimerWrapper.setInterval=function(fn,millis){return lang_1.global.setInterval(fn,millis)},TimerWrapper.clearInterval=function(id){lang_1.global.clearInterval(id)},TimerWrapper}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function ObservableWrapper(){}return ObservableWrapper.subscribe=function(emitter,onNext,onError,onComplete){return void 0===onComplete&&(onComplete=function(){}),onError="function"==typeof onError&&onError||lang_1.noop,onComplete="function"==typeof onComplete&&onComplete||lang_1.noop,emitter.subscribe({next:onNext,error:onError,complete:onComplete})},ObservableWrapper.isObservable=function(obs){return!!obs.subscribe},ObservableWrapper.hasSubscribers=function(obs){return obs.observers.length>0},ObservableWrapper.dispose=function(subscription){subscription.unsubscribe()},ObservableWrapper.callNext=function(emitter,value){emitter.next(value)},ObservableWrapper.callEmit=function(emitter,value){emitter.emit(value)},ObservableWrapper.callError=function(emitter,error){emitter.error(error)},ObservableWrapper.callComplete=function(emitter){emitter.complete()},ObservableWrapper.fromPromise=function(promise){return PromiseObservable_1.PromiseObservable.create(promise)},ObservableWrapper.toPromise=function(obj){return toPromise_1.toPromise.call(obj)},ObservableWrapper}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(_super){function EventEmitter(isAsync){void 0===isAsync&&(isAsync=!0),_super.call(this),this._isAsync=isAsync}return __extends(EventEmitter,_super),EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.next=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn,errorFn=function(err){return null},completeFn=function(){return null};return generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this._isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this._isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()})):(schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)},error&&(errorFn=this._isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}),complete&&(completeFn=this._isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()})),_super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)},EventEmitter}(Subject_1.Subject);return exports.EventEmitter=EventEmitter,module.exports}),$__System.registerDynamic("190",["a","6","41","3"],!0,function($__require,exports,module){"use strict";var collection_1=($__require("3"),$__require("a")),lang_1=$__require("6"),async_1=$__require("41"),QueryList=function(){function QueryList(){this._results=[],this._emitter=new async_1.EventEmitter}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return collection_1.ListWrapper.first(this._results)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return collection_1.ListWrapper.last(this._results)},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(fn){return this._results.map(fn)},QueryList.prototype.filter=function(fn){return this._results.filter(fn)},QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)},QueryList.prototype.forEach=function(fn){this._results.forEach(fn)},QueryList.prototype.toArray=function(){return collection_1.ListWrapper.clone(this._results)},QueryList.prototype[lang_1.getSymbolIterator()]=function(){return this._results[lang_1.getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(res){this._results=res},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList}();return exports.QueryList=QueryList,module.exports}),$__System.registerDynamic("195",["1c2","b","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),provider_1=$__require("1c2"),di_1=$__require("b"),PipeProvider=function(_super){function PipeProvider(name,pure,key,resolvedFactories,multiBinding){_super.call(this,key,resolvedFactories,multiBinding),this.name=name,this.pure=pure}return __extends(PipeProvider,_super),PipeProvider.createFromType=function(type,metadata){var provider=new di_1.Provider(type,{useClass:type}),rb=provider_1.resolveProvider(provider);return new PipeProvider(metadata.name,metadata.pure,rb.key,rb.resolvedFactories,rb.multiProvider)},PipeProvider}(provider_1.ResolvedProvider_);return exports.PipeProvider=PipeProvider,module.exports}),$__System.registerDynamic("47",["6","e","a","b","1c2","1c3","196","46","191","193","18d","192","56","32","190","31","195","3"],!0,function($__require,exports,module){"use strict";function setProvidersVisibility(providers,visibility,result){for(var i=0;i<providers.length;i++)result.set(providers[i].key.id,visibility)}var _staticKeys,__extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),di_1=$__require("b"),provider_1=$__require("1c2"),injector_1=$__require("1c3"),provider_2=$__require("1c2"),di_2=$__require("196"),view_type_1=$__require("46"),element_ref_1=$__require("191"),view_container_ref_1=$__require("193"),element_ref_2=$__require("191"),api_1=$__require("18d"),template_ref_1=$__require("192"),directives_1=$__require("56"),change_detection_1=$__require("32"),query_list_1=$__require("190"),reflection_1=$__require("31"),pipe_provider_1=$__require("195"),view_container_ref_2=$__require("193"),StaticKeys=function(){function StaticKeys(){this.templateRefId=di_1.Key.get(template_ref_1.TemplateRef).id,this.viewContainerId=di_1.Key.get(view_container_ref_1.ViewContainerRef).id,this.changeDetectorRefId=di_1.Key.get(change_detection_1.ChangeDetectorRef).id,this.elementRefId=di_1.Key.get(element_ref_2.ElementRef).id,this.rendererId=di_1.Key.get(api_1.Renderer).id}return StaticKeys.instance=function(){return lang_1.isBlank(_staticKeys)&&(_staticKeys=new StaticKeys),_staticKeys},StaticKeys}();exports.StaticKeys=StaticKeys;var DirectiveDependency=function(_super){function DirectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties,attributeName,queryDecorator){_super.call(this,key,optional,lowerBoundVisibility,upperBoundVisibility,properties),this.attributeName=attributeName,this.queryDecorator=queryDecorator,this._verify()}return __extends(DirectiveDependency,_super),DirectiveDependency.prototype._verify=function(){var count=0;if(lang_1.isPresent(this.queryDecorator)&&count++,lang_1.isPresent(this.attributeName)&&count++,count>1)throw new exceptions_1.BaseException("A directive injectable can contain only one of the following @Attribute or @Query.")},DirectiveDependency.createFrom=function(d){return new DirectiveDependency(d.key,d.optional,d.lowerBoundVisibility,d.upperBoundVisibility,d.properties,DirectiveDependency._attributeName(d.properties),DirectiveDependency._query(d.properties))},DirectiveDependency._attributeName=function(properties){var p=properties.find(function(p){return p instanceof di_2.AttributeMetadata});return lang_1.isPresent(p)?p.attributeName:null},DirectiveDependency._query=function(properties){return properties.find(function(p){return p instanceof di_2.QueryMetadata})},DirectiveDependency}(di_1.Dependency);exports.DirectiveDependency=DirectiveDependency;var DirectiveProvider=function(_super){function DirectiveProvider(key,factory,deps,isComponent,providers,viewProviders,queries){_super.call(this,key,[new provider_2.ResolvedFactory(factory,deps)],!1),this.isComponent=isComponent,this.providers=providers,this.viewProviders=viewProviders,this.queries=queries}return __extends(DirectiveProvider,_super),Object.defineProperty(DirectiveProvider.prototype,"displayName",{get:function(){return this.key.displayName},enumerable:!0,configurable:!0}),DirectiveProvider.createFromType=function(type,meta){var provider=new di_1.Provider(type,{useClass:type});lang_1.isBlank(meta)&&(meta=new directives_1.DirectiveMetadata);var rb=provider_2.resolveProvider(provider),rf=rb.resolvedFactories[0],deps=rf.dependencies.map(DirectiveDependency.createFrom),isComponent=meta instanceof directives_1.ComponentMetadata,resolvedProviders=lang_1.isPresent(meta.providers)?di_1.Injector.resolve(meta.providers):null,resolvedViewProviders=meta instanceof directives_1.ComponentMetadata&&lang_1.isPresent(meta.viewProviders)?di_1.Injector.resolve(meta.viewProviders):null,queries=[];return lang_1.isPresent(meta.queries)&&collection_1.StringMapWrapper.forEach(meta.queries,function(meta,fieldName){var setter=reflection_1.reflector.setter(fieldName);queries.push(new QueryMetadataWithSetter(setter,meta))}),deps.forEach(function(d){lang_1.isPresent(d.queryDecorator)&&queries.push(new QueryMetadataWithSetter(null,d.queryDecorator))}),new DirectiveProvider(rb.key,rf.factory,deps,isComponent,resolvedProviders,resolvedViewProviders,queries)},DirectiveProvider}(provider_2.ResolvedProvider_);exports.DirectiveProvider=DirectiveProvider;var QueryMetadataWithSetter=function(){function QueryMetadataWithSetter(setter,metadata){this.setter=setter,this.metadata=metadata}return QueryMetadataWithSetter}();exports.QueryMetadataWithSetter=QueryMetadataWithSetter;var AppProtoElement=function(){function AppProtoElement(firstProviderIsComponent,index,attributes,pwvs,protoQueryRefs,directiveVariableBindings){this.firstProviderIsComponent=firstProviderIsComponent,this.index=index,this.attributes=attributes,this.protoQueryRefs=protoQueryRefs,this.directiveVariableBindings=directiveVariableBindings;var length=pwvs.length;length>0?this.protoInjector=new injector_1.ProtoInjector(pwvs):(this.protoInjector=null,this.protoQueryRefs=[])}return AppProtoElement.create=function(metadataCache,index,attributes,directiveTypes,directiveVariableBindings){for(var componentDirProvider=null,mergedProvidersMap=new Map,providerVisibilityMap=new Map,providers=collection_1.ListWrapper.createGrowableSize(directiveTypes.length),protoQueryRefs=[],i=0;i<directiveTypes.length;i++){var dirProvider=metadataCache.getResolvedDirectiveMetadata(directiveTypes[i]);providers[i]=new injector_1.ProviderWithVisibility(dirProvider,dirProvider.isComponent?injector_1.Visibility.PublicAndPrivate:injector_1.Visibility.Public),dirProvider.isComponent?componentDirProvider=dirProvider:lang_1.isPresent(dirProvider.providers)&&(provider_1.mergeResolvedProviders(dirProvider.providers,mergedProvidersMap),setProvidersVisibility(dirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap)),lang_1.isPresent(dirProvider.viewProviders)&&(provider_1.mergeResolvedProviders(dirProvider.viewProviders,mergedProvidersMap),setProvidersVisibility(dirProvider.viewProviders,injector_1.Visibility.Private,providerVisibilityMap));for(var queryIdx=0;queryIdx<dirProvider.queries.length;queryIdx++){var q=dirProvider.queries[queryIdx];protoQueryRefs.push(new ProtoQueryRef(i,q.setter,q.metadata))}}return lang_1.isPresent(componentDirProvider)&&lang_1.isPresent(componentDirProvider.providers)&&(provider_1.mergeResolvedProviders(componentDirProvider.providers,mergedProvidersMap),setProvidersVisibility(componentDirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap)),mergedProvidersMap.forEach(function(provider,_){providers.push(new injector_1.ProviderWithVisibility(provider,providerVisibilityMap.get(provider.key.id)))}),new AppProtoElement(lang_1.isPresent(componentDirProvider),index,attributes,providers,protoQueryRefs,directiveVariableBindings)},AppProtoElement.prototype.getProviderAtIndex=function(index){return this.protoInjector.getProviderAtIndex(index)},AppProtoElement}();exports.AppProtoElement=AppProtoElement;var _Context=function(){function _Context(element,componentElement,injector){this.element=element,this.componentElement=componentElement,this.injector=injector}return _Context}(),InjectorWithHostBoundary=function(){function InjectorWithHostBoundary(injector,hostInjectorBoundary){this.injector=injector,this.hostInjectorBoundary=hostInjectorBoundary}return InjectorWithHostBoundary}();exports.InjectorWithHostBoundary=InjectorWithHostBoundary;var AppElement=function(){function AppElement(proto,parentView,parent,nativeElement,embeddedViewFactory){var _this=this;this.proto=proto,this.parentView=parentView,this.parent=parent,this.nativeElement=nativeElement,this.embeddedViewFactory=embeddedViewFactory,this.nestedViews=null,this.componentView=null,this.ref=new element_ref_1.ElementRef_(this);var parentInjector=lang_1.isPresent(parent)?parent._injector:parentView.parentInjector;if(lang_1.isPresent(this.proto.protoInjector)){var isBoundary;isBoundary=lang_1.isPresent(parent)&&lang_1.isPresent(parent.proto.protoInjector)?!1:parentView.hostInjectorBoundary,this._queryStrategy=this._buildQueryStrategy(),this._injector=new di_1.Injector(this.proto.protoInjector,parentInjector,isBoundary,this,function(){return _this._debugContext()});var injectorStrategy=this._injector.internalStrategy;this._strategy=injectorStrategy instanceof injector_1.InjectorInlineStrategy?new ElementDirectiveInlineStrategy(injectorStrategy,this):new ElementDirectiveDynamicStrategy(injectorStrategy,this),this._strategy.init()}else this._queryStrategy=null,this._injector=parentInjector,this._strategy=null}return AppElement.getViewParentInjector=function(parentViewType,containerAppElement,imperativelyCreatedProviders,rootInjector){var parentInjector,hostInjectorBoundary;switch(parentViewType){case view_type_1.ViewType.COMPONENT:parentInjector=containerAppElement._injector,hostInjectorBoundary=!0;break;case view_type_1.ViewType.EMBEDDED:parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector,hostInjectorBoundary=containerAppElement._injector.hostBoundary;break;case view_type_1.ViewType.HOST:if(lang_1.isPresent(containerAppElement))if(parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector,lang_1.isPresent(imperativelyCreatedProviders)){var imperativeProvidersWithVisibility=imperativelyCreatedProviders.map(function(p){return new injector_1.ProviderWithVisibility(p,injector_1.Visibility.Public)});parentInjector=new di_1.Injector(new injector_1.ProtoInjector(imperativeProvidersWithVisibility),parentInjector,!0,null,null),hostInjectorBoundary=!1}else hostInjectorBoundary=containerAppElement._injector.hostBoundary;else parentInjector=rootInjector,hostInjectorBoundary=!0}return new InjectorWithHostBoundary(parentInjector,hostInjectorBoundary)},AppElement.prototype.attachComponentView=function(componentView){this.componentView=componentView},AppElement.prototype._debugContext=function(){var c=this.parentView.getDebugContext(this,null,null);return lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.injector):null},AppElement.prototype.hasVariableBinding=function(name){var vb=this.proto.directiveVariableBindings;return lang_1.isPresent(vb)&&collection_1.StringMapWrapper.contains(vb,name)},AppElement.prototype.getVariableBinding=function(name){var index=this.proto.directiveVariableBindings[name];return lang_1.isPresent(index)?this.getDirectiveAtIndex(index):this.getElementRef()},AppElement.prototype.get=function(token){return this._injector.get(token)},AppElement.prototype.hasDirective=function(type){return lang_1.isPresent(this._injector.getOptional(type))},AppElement.prototype.getComponent=function(){return lang_1.isPresent(this._strategy)?this._strategy.getComponent():null},AppElement.prototype.getInjector=function(){return this._injector},AppElement.prototype.getElementRef=function(){return this.ref},AppElement.prototype.getViewContainerRef=function(){return new view_container_ref_2.ViewContainerRef_(this)},AppElement.prototype.getTemplateRef=function(){return lang_1.isPresent(this.embeddedViewFactory)?new template_ref_1.TemplateRef_(this.ref):null},AppElement.prototype.getDependency=function(injector,provider,dep){if(provider instanceof DirectiveProvider){var dirDep=dep;if(lang_1.isPresent(dirDep.attributeName))return this._buildAttribute(dirDep);if(lang_1.isPresent(dirDep.queryDecorator))return this._queryStrategy.findQuery(dirDep.queryDecorator).list;
if(dirDep.key.id===StaticKeys.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new _ComponentViewChangeDetectorRef(this):this.parentView.changeDetector.ref;if(dirDep.key.id===StaticKeys.instance().elementRefId)return this.getElementRef();if(dirDep.key.id===StaticKeys.instance().viewContainerId)return this.getViewContainerRef();if(dirDep.key.id===StaticKeys.instance().templateRefId){var tr=this.getTemplateRef();if(lang_1.isBlank(tr)&&!dirDep.optional)throw new di_1.NoProviderError(null,dirDep.key);return tr}if(dirDep.key.id===StaticKeys.instance().rendererId)return this.parentView.renderer}else if(provider instanceof pipe_provider_1.PipeProvider&&dep.key.id===StaticKeys.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new _ComponentViewChangeDetectorRef(this):this.parentView.changeDetector;return injector_1.UNDEFINED},AppElement.prototype._buildAttribute=function(dep){var attributes=this.proto.attributes;return lang_1.isPresent(attributes)&&collection_1.StringMapWrapper.contains(attributes,dep.attributeName)?attributes[dep.attributeName]:null},AppElement.prototype.addDirectivesMatchingQuery=function(query,list){var templateRef=this.getTemplateRef();query.selector===template_ref_1.TemplateRef&&lang_1.isPresent(templateRef)&&list.push(templateRef),null!=this._strategy&&this._strategy.addDirectivesMatchingQuery(query,list)},AppElement.prototype._buildQueryStrategy=function(){return 0===this.proto.protoQueryRefs.length?_emptyQueryStrategy:this.proto.protoQueryRefs.length<=InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES?new InlineQueryStrategy(this):new DynamicQueryStrategy(this)},AppElement.prototype.getDirectiveAtIndex=function(index){return this._injector.getAt(index)},AppElement.prototype.ngAfterViewChecked=function(){lang_1.isPresent(this._queryStrategy)&&this._queryStrategy.updateViewQueries()},AppElement.prototype.ngAfterContentChecked=function(){lang_1.isPresent(this._queryStrategy)&&this._queryStrategy.updateContentQueries()},AppElement.prototype.traverseAndSetQueriesAsDirty=function(){for(var inj=this;lang_1.isPresent(inj);)inj._setQueriesAsDirty(),inj=lang_1.isBlank(inj.parent)&&inj.parentView.proto.type===view_type_1.ViewType.EMBEDDED?inj.parentView.containerAppElement:inj.parent},AppElement.prototype._setQueriesAsDirty=function(){lang_1.isPresent(this._queryStrategy)&&this._queryStrategy.setContentQueriesAsDirty(),this.parentView.proto.type===view_type_1.ViewType.COMPONENT&&this.parentView.containerAppElement._queryStrategy.setViewQueriesAsDirty()},AppElement}();exports.AppElement=AppElement;var _EmptyQueryStrategy=function(){function _EmptyQueryStrategy(){}return _EmptyQueryStrategy.prototype.setContentQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.setViewQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.updateContentQueries=function(){},_EmptyQueryStrategy.prototype.updateViewQueries=function(){},_EmptyQueryStrategy.prototype.findQuery=function(query){throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")},_EmptyQueryStrategy}(),_emptyQueryStrategy=new _EmptyQueryStrategy,InlineQueryStrategy=function(){function InlineQueryStrategy(ei){var protoRefs=ei.proto.protoQueryRefs;protoRefs.length>0&&(this.query0=new QueryRef(protoRefs[0],ei)),protoRefs.length>1&&(this.query1=new QueryRef(protoRefs[1],ei)),protoRefs.length>2&&(this.query2=new QueryRef(protoRefs[2],ei))}return InlineQueryStrategy.prototype.setContentQueriesAsDirty=function(){lang_1.isPresent(this.query0)&&!this.query0.isViewQuery&&(this.query0.dirty=!0),lang_1.isPresent(this.query1)&&!this.query1.isViewQuery&&(this.query1.dirty=!0),lang_1.isPresent(this.query2)&&!this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.setViewQueriesAsDirty=function(){lang_1.isPresent(this.query0)&&this.query0.isViewQuery&&(this.query0.dirty=!0),lang_1.isPresent(this.query1)&&this.query1.isViewQuery&&(this.query1.dirty=!0),lang_1.isPresent(this.query2)&&this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.updateContentQueries=function(){lang_1.isPresent(this.query0)&&!this.query0.isViewQuery&&this.query0.update(),lang_1.isPresent(this.query1)&&!this.query1.isViewQuery&&this.query1.update(),lang_1.isPresent(this.query2)&&!this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.updateViewQueries=function(){lang_1.isPresent(this.query0)&&this.query0.isViewQuery&&this.query0.update(),lang_1.isPresent(this.query1)&&this.query1.isViewQuery&&this.query1.update(),lang_1.isPresent(this.query2)&&this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.findQuery=function(query){if(lang_1.isPresent(this.query0)&&this.query0.protoQueryRef.query===query)return this.query0;if(lang_1.isPresent(this.query1)&&this.query1.protoQueryRef.query===query)return this.query1;if(lang_1.isPresent(this.query2)&&this.query2.protoQueryRef.query===query)return this.query2;throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")},InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES=3,InlineQueryStrategy}(),DynamicQueryStrategy=function(){function DynamicQueryStrategy(ei){this.queries=ei.proto.protoQueryRefs.map(function(p){return new QueryRef(p,ei)})}return DynamicQueryStrategy.prototype.setContentQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery||(q.dirty=!0)}},DynamicQueryStrategy.prototype.setViewQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery&&(q.dirty=!0)}},DynamicQueryStrategy.prototype.updateContentQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery||q.update()}},DynamicQueryStrategy.prototype.updateViewQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];q.isViewQuery&&q.update()}},DynamicQueryStrategy.prototype.findQuery=function(query){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.protoQueryRef.query===query)return q}throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")},DynamicQueryStrategy}(),ElementDirectiveInlineStrategy=function(){function ElementDirectiveInlineStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy,this._ei=_ei}return ElementDirectiveInlineStrategy.prototype.init=function(){var i=this.injectorStrategy,p=i.protoStrategy;i.resetConstructionCounter(),p.provider0 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId0)&&i.obj0===injector_1.UNDEFINED&&(i.obj0=i.instantiateProvider(p.provider0,p.visibility0)),p.provider1 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId1)&&i.obj1===injector_1.UNDEFINED&&(i.obj1=i.instantiateProvider(p.provider1,p.visibility1)),p.provider2 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId2)&&i.obj2===injector_1.UNDEFINED&&(i.obj2=i.instantiateProvider(p.provider2,p.visibility2)),p.provider3 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId3)&&i.obj3===injector_1.UNDEFINED&&(i.obj3=i.instantiateProvider(p.provider3,p.visibility3)),p.provider4 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId4)&&i.obj4===injector_1.UNDEFINED&&(i.obj4=i.instantiateProvider(p.provider4,p.visibility4)),p.provider5 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId5)&&i.obj5===injector_1.UNDEFINED&&(i.obj5=i.instantiateProvider(p.provider5,p.visibility5)),p.provider6 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId6)&&i.obj6===injector_1.UNDEFINED&&(i.obj6=i.instantiateProvider(p.provider6,p.visibility6)),p.provider7 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId7)&&i.obj7===injector_1.UNDEFINED&&(i.obj7=i.instantiateProvider(p.provider7,p.visibility7)),p.provider8 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId8)&&i.obj8===injector_1.UNDEFINED&&(i.obj8=i.instantiateProvider(p.provider8,p.visibility8)),p.provider9 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId9)&&i.obj9===injector_1.UNDEFINED&&(i.obj9=i.instantiateProvider(p.provider9,p.visibility9))},ElementDirectiveInlineStrategy.prototype.getComponent=function(){return this.injectorStrategy.obj0},ElementDirectiveInlineStrategy.prototype.isComponentKey=function(key){return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===this.injectorStrategy.protoStrategy.keyId0},ElementDirectiveInlineStrategy.prototype.addDirectivesMatchingQuery=function(query,list){var i=this.injectorStrategy,p=i.protoStrategy;lang_1.isPresent(p.provider0)&&p.provider0.key.token===query.selector&&(i.obj0===injector_1.UNDEFINED&&(i.obj0=i.instantiateProvider(p.provider0,p.visibility0)),list.push(i.obj0)),lang_1.isPresent(p.provider1)&&p.provider1.key.token===query.selector&&(i.obj1===injector_1.UNDEFINED&&(i.obj1=i.instantiateProvider(p.provider1,p.visibility1)),list.push(i.obj1)),lang_1.isPresent(p.provider2)&&p.provider2.key.token===query.selector&&(i.obj2===injector_1.UNDEFINED&&(i.obj2=i.instantiateProvider(p.provider2,p.visibility2)),list.push(i.obj2)),lang_1.isPresent(p.provider3)&&p.provider3.key.token===query.selector&&(i.obj3===injector_1.UNDEFINED&&(i.obj3=i.instantiateProvider(p.provider3,p.visibility3)),list.push(i.obj3)),lang_1.isPresent(p.provider4)&&p.provider4.key.token===query.selector&&(i.obj4===injector_1.UNDEFINED&&(i.obj4=i.instantiateProvider(p.provider4,p.visibility4)),list.push(i.obj4)),lang_1.isPresent(p.provider5)&&p.provider5.key.token===query.selector&&(i.obj5===injector_1.UNDEFINED&&(i.obj5=i.instantiateProvider(p.provider5,p.visibility5)),list.push(i.obj5)),lang_1.isPresent(p.provider6)&&p.provider6.key.token===query.selector&&(i.obj6===injector_1.UNDEFINED&&(i.obj6=i.instantiateProvider(p.provider6,p.visibility6)),list.push(i.obj6)),lang_1.isPresent(p.provider7)&&p.provider7.key.token===query.selector&&(i.obj7===injector_1.UNDEFINED&&(i.obj7=i.instantiateProvider(p.provider7,p.visibility7)),list.push(i.obj7)),lang_1.isPresent(p.provider8)&&p.provider8.key.token===query.selector&&(i.obj8===injector_1.UNDEFINED&&(i.obj8=i.instantiateProvider(p.provider8,p.visibility8)),list.push(i.obj8)),lang_1.isPresent(p.provider9)&&p.provider9.key.token===query.selector&&(i.obj9===injector_1.UNDEFINED&&(i.obj9=i.instantiateProvider(p.provider9,p.visibility9)),list.push(i.obj9))},ElementDirectiveInlineStrategy}(),ElementDirectiveDynamicStrategy=function(){function ElementDirectiveDynamicStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy,this._ei=_ei}return ElementDirectiveDynamicStrategy.prototype.init=function(){var inj=this.injectorStrategy,p=inj.protoStrategy;inj.resetConstructionCounter();for(var i=0;i<p.keyIds.length;i++)p.providers[i]instanceof DirectiveProvider&&lang_1.isPresent(p.keyIds[i])&&inj.objs[i]===injector_1.UNDEFINED&&(inj.objs[i]=inj.instantiateProvider(p.providers[i],p.visibilities[i]))},ElementDirectiveDynamicStrategy.prototype.getComponent=function(){return this.injectorStrategy.objs[0]},ElementDirectiveDynamicStrategy.prototype.isComponentKey=function(key){var p=this.injectorStrategy.protoStrategy;return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===p.keyIds[0]},ElementDirectiveDynamicStrategy.prototype.addDirectivesMatchingQuery=function(query,list){for(var ist=this.injectorStrategy,p=ist.protoStrategy,i=0;i<p.providers.length;i++)p.providers[i].key.token===query.selector&&(ist.objs[i]===injector_1.UNDEFINED&&(ist.objs[i]=ist.instantiateProvider(p.providers[i],p.visibilities[i])),list.push(ist.objs[i]))},ElementDirectiveDynamicStrategy}(),ProtoQueryRef=function(){function ProtoQueryRef(dirIndex,setter,query){this.dirIndex=dirIndex,this.setter=setter,this.query=query}return Object.defineProperty(ProtoQueryRef.prototype,"usesPropertySyntax",{get:function(){return lang_1.isPresent(this.setter)},enumerable:!0,configurable:!0}),ProtoQueryRef}();exports.ProtoQueryRef=ProtoQueryRef;var QueryRef=function(){function QueryRef(protoQueryRef,originator){this.protoQueryRef=protoQueryRef,this.originator=originator,this.list=new query_list_1.QueryList,this.dirty=!0}return Object.defineProperty(QueryRef.prototype,"isViewQuery",{get:function(){return this.protoQueryRef.query.isViewQuery},enumerable:!0,configurable:!0}),QueryRef.prototype.update=function(){if(this.dirty){if(this._update(),this.dirty=!1,this.protoQueryRef.usesPropertySyntax){var dir=this.originator.getDirectiveAtIndex(this.protoQueryRef.dirIndex);this.protoQueryRef.query.first?this.protoQueryRef.setter(dir,this.list.length>0?this.list.first:null):this.protoQueryRef.setter(dir,this.list)}this.list.notifyOnChanges()}},QueryRef.prototype._update=function(){var aggregator=[];if(this.protoQueryRef.query.isViewQuery){var nestedView=this.originator.componentView;lang_1.isPresent(nestedView)&&this._visitView(nestedView,aggregator)}else this._visit(this.originator,aggregator);this.list.reset(aggregator)},QueryRef.prototype._visit=function(inj,aggregator){for(var view=inj.parentView,startIdx=inj.proto.index,i=startIdx;i<view.appElements.length;i++){var curInj=view.appElements[i];if(i>startIdx&&(lang_1.isBlank(curInj.parent)||curInj.parent.proto.index<startIdx))break;(this.protoQueryRef.query.descendants||curInj.parent==this.originator||curInj==this.originator)&&(this._visitInjector(curInj,aggregator),this._visitViewContainerViews(curInj.nestedViews,aggregator))}},QueryRef.prototype._visitInjector=function(inj,aggregator){this.protoQueryRef.query.isVarBindingQuery?this._aggregateVariableBinding(inj,aggregator):this._aggregateDirective(inj,aggregator)},QueryRef.prototype._visitViewContainerViews=function(views,aggregator){if(lang_1.isPresent(views))for(var j=0;j<views.length;j++)this._visitView(views[j],aggregator)},QueryRef.prototype._visitView=function(view,aggregator){for(var i=0;i<view.appElements.length;i++){var inj=view.appElements[i];this._visitInjector(inj,aggregator),this._visitViewContainerViews(inj.nestedViews,aggregator)}},QueryRef.prototype._aggregateVariableBinding=function(inj,aggregator){for(var vb=this.protoQueryRef.query.varBindings,i=0;i<vb.length;++i)inj.hasVariableBinding(vb[i])&&aggregator.push(inj.getVariableBinding(vb[i]))},QueryRef.prototype._aggregateDirective=function(inj,aggregator){inj.addDirectivesMatchingQuery(this.protoQueryRef.query,aggregator)},QueryRef}();exports.QueryRef=QueryRef;var _ComponentViewChangeDetectorRef=function(_super){function _ComponentViewChangeDetectorRef(_appElement){_super.call(this),this._appElement=_appElement}return __extends(_ComponentViewChangeDetectorRef,_super),_ComponentViewChangeDetectorRef.prototype.markForCheck=function(){this._appElement.componentView.changeDetector.ref.markForCheck()},_ComponentViewChangeDetectorRef.prototype.detach=function(){this._appElement.componentView.changeDetector.ref.detach()},_ComponentViewChangeDetectorRef.prototype.detectChanges=function(){this._appElement.componentView.changeDetector.ref.detectChanges()},_ComponentViewChangeDetectorRef.prototype.checkNoChanges=function(){this._appElement.componentView.changeDetector.ref.checkNoChanges()},_ComponentViewChangeDetectorRef.prototype.reattach=function(){this._appElement.componentView.changeDetector.ref.reattach()},_ComponentViewChangeDetectorRef}(change_detection_1.ChangeDetectorRef);return module.exports}),$__System.registerDynamic("5f",["e","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),exceptions_1=$__require("e"),ViewRef=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"changeDetectorRef",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),ViewRef}();exports.ViewRef=ViewRef;var HostViewRef=function(_super){function HostViewRef(){_super.apply(this,arguments)}return __extends(HostViewRef,_super),Object.defineProperty(HostViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),HostViewRef}(ViewRef);exports.HostViewRef=HostViewRef;var EmbeddedViewRef=function(_super){function EmbeddedViewRef(){_super.apply(this,arguments)}return __extends(EmbeddedViewRef,_super),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(ViewRef);exports.EmbeddedViewRef=EmbeddedViewRef;var ViewRef_=function(){function ViewRef_(_view){this._view=_view,this._view=_view}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"changeDetectorRef",{get:function(){return this._view.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),ViewRef_.prototype.setLocal=function(variableName,value){this._view.setLocal(variableName,value)},ViewRef_.prototype.hasLocal=function(variableName){return this._view.hasLocal(variableName)},Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_}();exports.ViewRef_=ViewRef_;var HostViewFactoryRef=function(){function HostViewFactoryRef(){}return HostViewFactoryRef}();exports.HostViewFactoryRef=HostViewFactoryRef;var HostViewFactoryRef_=function(){function HostViewFactoryRef_(_hostViewFactory){this._hostViewFactory=_hostViewFactory}return Object.defineProperty(HostViewFactoryRef_.prototype,"internalHostViewFactory",{get:function(){return this._hostViewFactory},enumerable:!0,configurable:!0}),HostViewFactoryRef_}();return exports.HostViewFactoryRef_=HostViewFactoryRef_,module.exports}),$__System.registerDynamic("1c4",["3"],!0,function($__require,exports,module){"use strict";var SelectedPipe=($__require("3"),function(){function SelectedPipe(pipe,pure){this.pipe=pipe,this.pure=pure}return SelectedPipe}());return exports.SelectedPipe=SelectedPipe,module.exports}),$__System.registerDynamic("1c5",["6","e","a","1c4","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),cd=$__require("1c4"),ProtoPipes=function(){function ProtoPipes(config){this.config=config,this.config=config}return ProtoPipes.fromProviders=function(providers){var config={};return providers.forEach(function(b){return config[b.name]=b}),new ProtoPipes(config)},ProtoPipes.prototype.get=function(name){var provider=this.config[name];if(lang_1.isBlank(provider))throw new exceptions_1.BaseException("Cannot find pipe '"+name+"'.");return provider},ProtoPipes}();exports.ProtoPipes=ProtoPipes;var Pipes=function(){function Pipes(proto,injector){this.proto=proto,this.injector=injector,this._config={}}return Pipes.prototype.get=function(name){var cached=collection_1.StringMapWrapper.get(this._config,name);if(lang_1.isPresent(cached))return cached;var p=this.proto.get(name),transform=this.injector.instantiateResolved(p),res=new cd.SelectedPipe(transform,p.pure);return p.pure&&collection_1.StringMapWrapper.set(this._config,name,res),res},Pipes}();return exports.Pipes=Pipes,module.exports}),$__System.registerDynamic("1c6",["6","3"],!0,function($__require,exports,module){"use strict";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}var lang_1=($__require("3"),$__require("6")),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;return exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase,module.exports}),$__System.registerDynamic("45",["a","32","1a0","47","6","e","18d","5f","1c5","1c6","46","3"],!0,function($__require,exports,module){"use strict";function _localsToStringMap(locals){for(var res={},c=locals;lang_1.isPresent(c);)res=collection_1.StringMapWrapper.merge(res,collection_1.MapWrapper.toStringMap(c.current)),c=c.parent;return res}function flattenNestedViewRenderNodes(nodes){return _flattenNestedViewRenderNodes(nodes,[])}function _flattenNestedViewRenderNodes(nodes,renderNodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if(node instanceof element_1.AppElement){var appEl=node;if(renderNodes.push(appEl.nativeElement),lang_1.isPresent(appEl.nestedViews))for(var k=0;k<appEl.nestedViews.length;k++)_flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements,renderNodes)}else renderNodes.push(node)}return renderNodes}function findLastRenderNode(node){var lastNode;if(node instanceof element_1.AppElement){var appEl=node;if(lastNode=appEl.nativeElement,lang_1.isPresent(appEl.nestedViews))for(var i=appEl.nestedViews.length-1;i>=0;i--){var nestedView=appEl.nestedViews[i];nestedView.rootNodesOrAppElements.length>0&&(lastNode=findLastRenderNode(nestedView.rootNodesOrAppElements[nestedView.rootNodesOrAppElements.length-1]))}}else lastNode=node;return lastNode}function checkSlotCount(componentName,expectedSlotCount,projectableNodes){var givenSlotCount=lang_1.isPresent(projectableNodes)?projectableNodes.length:0;if(expectedSlotCount>givenSlotCount)throw new exceptions_1.BaseException("The component "+componentName+" has "+expectedSlotCount+" <ng-content> elements,"+(" but only "+givenSlotCount+" slots were provided."))}var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},collection_1=$__require("a"),change_detection_1=$__require("32"),interfaces_1=$__require("1a0"),element_1=$__require("47"),lang_1=$__require("6"),exceptions_1=$__require("e"),api_1=$__require("18d"),view_ref_1=$__require("5f"),pipes_1=$__require("1c5"),util_1=$__require("1c6"),interfaces_2=$__require("1a0");exports.DebugContext=interfaces_2.DebugContext;var pipes_2=$__require("1c5"),view_type_1=$__require("46"),REFLECT_PREFIX="ng-reflect-",EMPTY_CONTEXT=lang_1.CONST_EXPR(new Object),AppView=function(){function AppView(proto,renderer,viewManager,projectableNodes,containerAppElement,imperativelyCreatedProviders,rootInjector,changeDetector){this.proto=proto,this.renderer=renderer,this.viewManager=viewManager,this.projectableNodes=projectableNodes,this.containerAppElement=containerAppElement,this.changeDetector=changeDetector,this.context=null,this.destroyed=!1,this.ref=new view_ref_1.ViewRef_(this);var injectorWithHostBoundary=element_1.AppElement.getViewParentInjector(this.proto.type,containerAppElement,imperativelyCreatedProviders,rootInjector);this.parentInjector=injectorWithHostBoundary.injector,this.hostInjectorBoundary=injectorWithHostBoundary.hostInjectorBoundary;var pipes,context;switch(proto.type){case view_type_1.ViewType.COMPONENT:pipes=new pipes_2.Pipes(proto.protoPipes,containerAppElement.getInjector()),context=containerAppElement.getComponent();break;case view_type_1.ViewType.EMBEDDED:pipes=containerAppElement.parentView.pipes,context=containerAppElement.parentView.context;break;case view_type_1.ViewType.HOST:pipes=null,context=EMPTY_CONTEXT}this.pipes=pipes,this.context=context}return AppView.prototype.init=function(rootNodesOrAppElements,allNodes,disposables,appElements){this.rootNodesOrAppElements=rootNodesOrAppElements,this.allNodes=allNodes,this.disposables=disposables,this.appElements=appElements;var localsMap=new collection_1.Map;collection_1.StringMapWrapper.forEach(this.proto.templateVariableBindings,function(templateName,_){localsMap.set(templateName,null)});for(var i=0;i<appElements.length;i++){var appEl=appElements[i],providerTokens=[];if(lang_1.isPresent(appEl.proto.protoInjector))for(var j=0;j<appEl.proto.protoInjector.numberOfProviders;j++)providerTokens.push(appEl.proto.protoInjector.getProviderAtIndex(j).key.token);collection_1.StringMapWrapper.forEach(appEl.proto.directiveVariableBindings,function(directiveIndex,name){lang_1.isBlank(directiveIndex)?localsMap.set(name,appEl.nativeElement):localsMap.set(name,appEl.getDirectiveAtIndex(directiveIndex))}),this.renderer.setElementDebugInfo(appEl.nativeElement,new api_1.RenderDebugInfo(appEl.getInjector(),appEl.getComponent(),providerTokens,localsMap))}var parentLocals=null;this.proto.type!==view_type_1.ViewType.COMPONENT&&(parentLocals=lang_1.isPresent(this.containerAppElement)?this.containerAppElement.parentView.locals:null),this.proto.type===view_type_1.ViewType.COMPONENT&&(this.containerAppElement.attachComponentView(this),this.containerAppElement.parentView.changeDetector.addViewChild(this.changeDetector)),this.locals=new change_detection_1.Locals(parentLocals,localsMap),this.changeDetector.hydrate(this.context,this.locals,this,this.pipes),this.viewManager.onViewCreated(this)},AppView.prototype.destroy=function(){if(this.destroyed)throw new exceptions_1.BaseException("This view has already been destroyed!");this.changeDetector.destroyRecursive()},AppView.prototype.notifyOnDestroy=function(){this.destroyed=!0;var hostElement=this.proto.type===view_type_1.ViewType.COMPONENT?this.containerAppElement.nativeElement:null;this.renderer.destroyView(hostElement,this.allNodes);for(var i=0;i<this.disposables.length;i++)this.disposables[i]();this.viewManager.onViewDestroyed(this)},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),AppView.prototype.hasLocal=function(contextName){return collection_1.StringMapWrapper.contains(this.proto.templateVariableBindings,contextName)},AppView.prototype.setLocal=function(contextName,value){if(this.hasLocal(contextName)){var templateName=this.proto.templateVariableBindings[contextName];this.locals.set(templateName,value)}},AppView.prototype.notifyOnBinding=function(b,currentValue){if(b.isTextNode())this.renderer.setText(this.allNodes[b.elementIndex],currentValue);else{var nativeElement=this.appElements[b.elementIndex].nativeElement;if(b.isElementProperty())this.renderer.setElementProperty(nativeElement,b.name,currentValue);else if(b.isElementAttribute())this.renderer.setElementAttribute(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue:null);else if(b.isElementClass())this.renderer.setElementClass(nativeElement,b.name,currentValue);else{if(!b.isElementStyle())throw new exceptions_1.BaseException("Unsupported directive record");var unit=lang_1.isPresent(b.unit)?b.unit:"";this.renderer.setElementStyle(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue+unit:null)}}},AppView.prototype.logBindingUpdate=function(b,value){if(b.isDirective()||b.isElementProperty()){var nativeElement=this.appElements[b.elementIndex].nativeElement;this.renderer.setBindingDebugInfo(nativeElement,""+REFLECT_PREFIX+util_1.camelCaseToDashCase(b.name),""+value)}},AppView.prototype.notifyAfterContentChecked=function(){for(var count=this.appElements.length,i=count-1;i>=0;i--)this.appElements[i].ngAfterContentChecked()},AppView.prototype.notifyAfterViewChecked=function(){for(var count=this.appElements.length,i=count-1;i>=0;i--)this.appElements[i].ngAfterViewChecked()},AppView.prototype.getDebugContext=function(appElement,elementIndex,directiveIndex){try{lang_1.isBlank(appElement)&&elementIndex<this.appElements.length&&(appElement=this.appElements[elementIndex]);var container=this.containerAppElement,element=lang_1.isPresent(appElement)?appElement.nativeElement:null,componentElement=lang_1.isPresent(container)?container.nativeElement:null,directive=lang_1.isPresent(directiveIndex)?appElement.getDirectiveAtIndex(directiveIndex):null,injector=lang_1.isPresent(appElement)?appElement.getInjector():null;return new interfaces_1.DebugContext(element,componentElement,directive,this.context,_localsToStringMap(this.locals),injector)}catch(e){return null}},AppView.prototype.getDirectiveFor=function(directive){return this.appElements[directive.elementIndex].getDirectiveAtIndex(directive.directiveIndex)},AppView.prototype.getDetectorFor=function(directive){var componentView=this.appElements[directive.elementIndex].componentView;return lang_1.isPresent(componentView)?componentView.changeDetector:null},AppView.prototype.triggerEventHandlers=function(eventName,eventObj,boundElementIndex){return this.changeDetector.handleEvent(eventName,boundElementIndex,eventObj)},AppView}();exports.AppView=AppView;var AppProtoView=function(){function AppProtoView(type,protoPipes,templateVariableBindings){this.type=type,this.protoPipes=protoPipes,this.templateVariableBindings=templateVariableBindings}return AppProtoView.create=function(metadataCache,type,pipes,templateVariableBindings){var protoPipes=null;if(lang_1.isPresent(pipes)&&pipes.length>0){for(var boundPipes=collection_1.ListWrapper.createFixedSize(pipes.length),i=0;i<pipes.length;i++)boundPipes[i]=metadataCache.getResolvedPipeMetadata(pipes[i]);protoPipes=pipes_1.ProtoPipes.fromProviders(boundPipes)}return new AppProtoView(type,protoPipes,templateVariableBindings)},AppProtoView}();exports.AppProtoView=AppProtoView;var HostViewFactory=function(){function HostViewFactory(selector,viewFactory){this.selector=selector,this.viewFactory=viewFactory}return HostViewFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String,Function])],HostViewFactory)}();return exports.HostViewFactory=HostViewFactory,exports.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes,exports.findLastRenderNode=findLastRenderNode,exports.checkSlotCount=checkSlotCount,module.exports}),$__System.registerDynamic("18d",["3"],!0,function($__require,exports,module){"use strict";var RenderComponentType=($__require("3"),function(){function RenderComponentType(id,encapsulation,styles){this.id=id,this.encapsulation=encapsulation,this.styles=styles}return RenderComponentType}());exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=function(){function RenderDebugInfo(injector,component,providerTokens,locals){this.injector=injector,this.component=component,this.providerTokens=providerTokens,this.locals=locals}return RenderDebugInfo}();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=function(){function Renderer(){}return Renderer}();exports.Renderer=Renderer;var RootRenderer=function(){function RootRenderer(){}return RootRenderer}();return exports.RootRenderer=RootRenderer,module.exports}),$__System.registerDynamic("1c7",["6","3"],!0,function($__require,exports,module){"use strict";function detectWTF(){var wtf=lang_1.global.wtf;return wtf&&(trace=wtf.trace)?(events=trace.events,!0):!1}function createScope(signature,flags){return void 0===flags&&(flags=null),events.createScope(signature,flags)}function leave(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action)}function endTimeRange(range){trace.endTimeRange(range)}var trace,events,lang_1=($__require("3"),$__require("6"));return exports.detectWTF=detectWTF,exports.createScope=createScope,exports.leave=leave,exports.startTimeRange=startTimeRange,
exports.endTimeRange=endTimeRange,module.exports}),$__System.registerDynamic("188",["1c7","3"],!0,function($__require,exports,module){"use strict";function noopScope(arg0,arg1){return null}var impl=($__require("3"),$__require("1c7"));return exports.wtfEnabled=impl.detectWTF(),exports.wtfCreateScope=exports.wtfEnabled?impl.createScope:function(signature,flags){return noopScope},exports.wtfLeave=exports.wtfEnabled?impl.leave:function(s,r){return r},exports.wtfStartTimeRange=exports.wtfEnabled?impl.startTimeRange:function(rangeType,action){return null},exports.wtfEndTimeRange=exports.wtfEnabled?impl.endTimeRange:function(r){return null},module.exports}),$__System.registerDynamic("169",["6","3"],!0,function($__require,exports,module){"use strict";function extractAnnotation(annotation){return lang_1.isFunction(annotation)&&annotation.hasOwnProperty("annotation")&&(annotation=annotation.annotation),annotation}function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array)throw new Error("Can not use native "+lang_1.stringify(fnOrArray)+" as constructor");if(lang_1.isFunction(fnOrArray))return fnOrArray;if(fnOrArray instanceof Array){var annotations=fnOrArray,fn=fnOrArray[fnOrArray.length-1];if(!lang_1.isFunction(fn))throw new Error("Last position of Class method array must be Function in key "+key+" was '"+lang_1.stringify(fn)+"'");var annoLength=annotations.length-1;if(annoLength!=fn.length)throw new Error("Number of annotations ("+annoLength+") does not match number of arguments ("+fn.length+") in the function: "+lang_1.stringify(fn));for(var paramsAnnotations=[],i=0,ii=annotations.length-1;ii>i;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(annotation instanceof Array)for(var j=0;j<annotation.length;j++)paramAnnotations.push(extractAnnotation(annotation[j]));else lang_1.isFunction(annotation)?paramAnnotations.push(extractAnnotation(annotation)):paramAnnotations.push(annotation)}return Reflect.defineMetadata("parameters",paramsAnnotations,fn),fn}throw new Error("Only Function or Array is supported in Class definition for key '"+key+"' is '"+lang_1.stringify(fnOrArray)+"'")}function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty("constructor")?clsDef.constructor:void 0,"constructor"),proto=constructor.prototype;if(clsDef.hasOwnProperty("extends")){if(!lang_1.isFunction(clsDef["extends"]))throw new Error("Class definition 'extends' property must be a constructor function was: "+lang_1.stringify(clsDef["extends"]));constructor.prototype=proto=Object.create(clsDef["extends"].prototype)}for(var key in clsDef)"extends"!=key&&"prototype"!=key&&clsDef.hasOwnProperty(key)&&(proto[key]=applyParams(clsDef[key],key));return this&&this.annotations instanceof Array&&Reflect.defineMetadata("annotations",this.annotations,constructor),constructor.name||(constructor.overriddenName="class"+_nextClassId++),constructor}function makeDecorator(annotationCls,chainFn){function DecoratorFactory(objOrType){var annotationInstance=new annotationCls(objOrType);if(this instanceof annotationCls)return annotationInstance;var chainAnnotation=lang_1.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function(cls){var annotations=Reflect.getOwnMetadata("annotations",cls);return annotations=annotations||[],annotations.push(annotationInstance),Reflect.defineMetadata("annotations",annotations,cls),cls};return TypeDecorator.annotations=chainAnnotation,TypeDecorator.Class=Class,chainFn&&chainFn(TypeDecorator),TypeDecorator}return void 0===chainFn&&(chainFn=null),DecoratorFactory.prototype=Object.create(annotationCls.prototype),DecoratorFactory}function makeParamDecorator(annotationCls){function ParamDecoratorFactory(){function ParamDecorator(cls,unusedKey,index){var parameters=Reflect.getMetadata("parameters",cls);for(parameters=parameters||[];parameters.length<=index;)parameters.push(null);parameters[index]=parameters[index]||[];var annotationsForParam=parameters[index];return annotationsForParam.push(annotationInstance),Reflect.defineMetadata("parameters",parameters,cls),cls}for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var annotationInstance=Object.create(annotationCls.prototype);return annotationCls.apply(annotationInstance,args),this instanceof annotationCls?annotationInstance:(ParamDecorator.annotation=annotationInstance,ParamDecorator)}return ParamDecoratorFactory.prototype=Object.create(annotationCls.prototype),ParamDecoratorFactory}function makePropDecorator(decoratorCls){function PropDecoratorFactory(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var decoratorInstance=Object.create(decoratorCls.prototype);return decoratorCls.apply(decoratorInstance,args),this instanceof decoratorCls?decoratorInstance:function(target,name){var meta=Reflect.getOwnMetadata("propMetadata",target.constructor);meta=meta||{},meta[name]=meta[name]||[],meta[name].unshift(decoratorInstance),Reflect.defineMetadata("propMetadata",meta,target.constructor)}}return PropDecoratorFactory.prototype=Object.create(decoratorCls.prototype),PropDecoratorFactory}var lang_1=($__require("3"),$__require("6")),_nextClassId=0;exports.Class=Class;var Reflect=lang_1.global.Reflect;if(!Reflect||!Reflect.getMetadata)throw"reflect-metadata shim is required when using class decorators";return exports.makeDecorator=makeDecorator,exports.makeParamDecorator=makeParamDecorator,exports.makePropDecorator=makePropDecorator,module.exports}),$__System.registerDynamic("19e",["197","169","3"],!0,function($__require,exports,module){"use strict";var metadata_1=($__require("3"),$__require("197")),decorators_1=$__require("169");return exports.Inject=decorators_1.makeParamDecorator(metadata_1.InjectMetadata),exports.Optional=decorators_1.makeParamDecorator(metadata_1.OptionalMetadata),exports.Injectable=decorators_1.makeDecorator(metadata_1.InjectableMetadata),exports.Self=decorators_1.makeParamDecorator(metadata_1.SelfMetadata),exports.Host=decorators_1.makeParamDecorator(metadata_1.HostMetadata),exports.SkipSelf=decorators_1.makeParamDecorator(metadata_1.SkipSelfMetadata),module.exports}),$__System.registerDynamic("1c3",["a","1c2","1c8","6","e","1c9","197","3"],!0,function($__require,exports,module){"use strict";function canSee(src,dst){return src===dst||dst===Visibility.PublicAndPrivate||src===Visibility.PublicAndPrivate}function _mapProviders(injector,fn){for(var res=[],i=0;i<injector._proto.numberOfProviders;++i)res.push(fn(injector._proto.getProviderAtIndex(i)));return res}var collection_1=($__require("3"),$__require("a")),provider_1=$__require("1c2"),exceptions_1=$__require("1c8"),lang_1=$__require("6"),exceptions_2=$__require("e"),key_1=$__require("1c9"),metadata_1=$__require("197"),_MAX_CONSTRUCTION_COUNTER=10;exports.UNDEFINED=lang_1.CONST_EXPR(new Object),function(Visibility){Visibility[Visibility.Public=0]="Public",Visibility[Visibility.Private=1]="Private",Visibility[Visibility.PublicAndPrivate=2]="PublicAndPrivate"}(exports.Visibility||(exports.Visibility={}));var Visibility=exports.Visibility,ProtoInjectorInlineStrategy=function(){function ProtoInjectorInlineStrategy(protoEI,bwv){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null,this.visibility0=null,this.visibility1=null,this.visibility2=null,this.visibility3=null,this.visibility4=null,this.visibility5=null,this.visibility6=null,this.visibility7=null,this.visibility8=null,this.visibility9=null;var length=bwv.length;length>0&&(this.provider0=bwv[0].provider,this.keyId0=bwv[0].getKeyId(),this.visibility0=bwv[0].visibility),length>1&&(this.provider1=bwv[1].provider,this.keyId1=bwv[1].getKeyId(),this.visibility1=bwv[1].visibility),length>2&&(this.provider2=bwv[2].provider,this.keyId2=bwv[2].getKeyId(),this.visibility2=bwv[2].visibility),length>3&&(this.provider3=bwv[3].provider,this.keyId3=bwv[3].getKeyId(),this.visibility3=bwv[3].visibility),length>4&&(this.provider4=bwv[4].provider,this.keyId4=bwv[4].getKeyId(),this.visibility4=bwv[4].visibility),length>5&&(this.provider5=bwv[5].provider,this.keyId5=bwv[5].getKeyId(),this.visibility5=bwv[5].visibility),length>6&&(this.provider6=bwv[6].provider,this.keyId6=bwv[6].getKeyId(),this.visibility6=bwv[6].visibility),length>7&&(this.provider7=bwv[7].provider,this.keyId7=bwv[7].getKeyId(),this.visibility7=bwv[7].visibility),length>8&&(this.provider8=bwv[8].provider,this.keyId8=bwv[8].getKeyId(),this.visibility8=bwv[8].visibility),length>9&&(this.provider9=bwv[9].provider,this.keyId9=bwv[9].getKeyId(),this.visibility9=bwv[9].visibility)}return ProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){if(0==index)return this.provider0;if(1==index)return this.provider1;if(2==index)return this.provider2;if(3==index)return this.provider3;if(4==index)return this.provider4;if(5==index)return this.provider5;if(6==index)return this.provider6;if(7==index)return this.provider7;if(8==index)return this.provider8;if(9==index)return this.provider9;throw new exceptions_1.OutOfBoundsError(index)},ProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new InjectorInlineStrategy(injector,this)},ProtoInjectorInlineStrategy}();exports.ProtoInjectorInlineStrategy=ProtoInjectorInlineStrategy;var ProtoInjectorDynamicStrategy=function(){function ProtoInjectorDynamicStrategy(protoInj,bwv){var len=bwv.length;this.providers=collection_1.ListWrapper.createFixedSize(len),this.keyIds=collection_1.ListWrapper.createFixedSize(len),this.visibilities=collection_1.ListWrapper.createFixedSize(len);for(var i=0;len>i;i++)this.providers[i]=bwv[i].provider,this.keyIds[i]=bwv[i].getKeyId(),this.visibilities[i]=bwv[i].visibility}return ProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(0>index||index>=this.providers.length)throw new exceptions_1.OutOfBoundsError(index);return this.providers[index]},ProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new InjectorDynamicStrategy(this,ei)},ProtoInjectorDynamicStrategy}();exports.ProtoInjectorDynamicStrategy=ProtoInjectorDynamicStrategy;var ProtoInjector=function(){function ProtoInjector(bwv){this.numberOfProviders=bwv.length,this._strategy=bwv.length>_MAX_CONSTRUCTION_COUNTER?new ProtoInjectorDynamicStrategy(this,bwv):new ProtoInjectorInlineStrategy(this,bwv)}return ProtoInjector.fromResolvedProviders=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public)});return new ProtoInjector(bd)},ProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index)},ProtoInjector}();exports.ProtoInjector=ProtoInjector;var InjectorInlineStrategy=function(){function InjectorInlineStrategy(injector,protoStrategy){this.injector=injector,this.protoStrategy=protoStrategy,this.obj0=exports.UNDEFINED,this.obj1=exports.UNDEFINED,this.obj2=exports.UNDEFINED,this.obj3=exports.UNDEFINED,this.obj4=exports.UNDEFINED,this.obj5=exports.UNDEFINED,this.obj6=exports.UNDEFINED,this.obj7=exports.UNDEFINED,this.obj8=exports.UNDEFINED,this.obj9=exports.UNDEFINED}return InjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorInlineStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility)},InjectorInlineStrategy.prototype.getObjByKeyId=function(keyId,visibility){var p=this.protoStrategy,inj=this.injector;return p.keyId0===keyId&&canSee(p.visibility0,visibility)?(this.obj0===exports.UNDEFINED&&(this.obj0=inj._new(p.provider0,p.visibility0)),this.obj0):p.keyId1===keyId&&canSee(p.visibility1,visibility)?(this.obj1===exports.UNDEFINED&&(this.obj1=inj._new(p.provider1,p.visibility1)),this.obj1):p.keyId2===keyId&&canSee(p.visibility2,visibility)?(this.obj2===exports.UNDEFINED&&(this.obj2=inj._new(p.provider2,p.visibility2)),this.obj2):p.keyId3===keyId&&canSee(p.visibility3,visibility)?(this.obj3===exports.UNDEFINED&&(this.obj3=inj._new(p.provider3,p.visibility3)),this.obj3):p.keyId4===keyId&&canSee(p.visibility4,visibility)?(this.obj4===exports.UNDEFINED&&(this.obj4=inj._new(p.provider4,p.visibility4)),this.obj4):p.keyId5===keyId&&canSee(p.visibility5,visibility)?(this.obj5===exports.UNDEFINED&&(this.obj5=inj._new(p.provider5,p.visibility5)),this.obj5):p.keyId6===keyId&&canSee(p.visibility6,visibility)?(this.obj6===exports.UNDEFINED&&(this.obj6=inj._new(p.provider6,p.visibility6)),this.obj6):p.keyId7===keyId&&canSee(p.visibility7,visibility)?(this.obj7===exports.UNDEFINED&&(this.obj7=inj._new(p.provider7,p.visibility7)),this.obj7):p.keyId8===keyId&&canSee(p.visibility8,visibility)?(this.obj8===exports.UNDEFINED&&(this.obj8=inj._new(p.provider8,p.visibility8)),this.obj8):p.keyId9===keyId&&canSee(p.visibility9,visibility)?(this.obj9===exports.UNDEFINED&&(this.obj9=inj._new(p.provider9,p.visibility9)),this.obj9):exports.UNDEFINED},InjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(0==index)return this.obj0;if(1==index)return this.obj1;if(2==index)return this.obj2;if(3==index)return this.obj3;if(4==index)return this.obj4;if(5==index)return this.obj5;if(6==index)return this.obj6;if(7==index)return this.obj7;if(8==index)return this.obj8;if(9==index)return this.obj9;throw new exceptions_1.OutOfBoundsError(index)},InjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER},InjectorInlineStrategy}();exports.InjectorInlineStrategy=InjectorInlineStrategy;var InjectorDynamicStrategy=function(){function InjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy,this.injector=injector,this.objs=collection_1.ListWrapper.createFixedSize(protoStrategy.providers.length),collection_1.ListWrapper.fill(this.objs,exports.UNDEFINED)}return InjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorDynamicStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility)},InjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId,visibility){for(var p=this.protoStrategy,i=0;i<p.keyIds.length;i++)if(p.keyIds[i]===keyId&&canSee(p.visibilities[i],visibility))return this.objs[i]===exports.UNDEFINED&&(this.objs[i]=this.injector._new(p.providers[i],p.visibilities[i])),this.objs[i];return exports.UNDEFINED},InjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(0>index||index>=this.objs.length)throw new exceptions_1.OutOfBoundsError(index);return this.objs[index]},InjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},InjectorDynamicStrategy}();exports.InjectorDynamicStrategy=InjectorDynamicStrategy;var ProviderWithVisibility=function(){function ProviderWithVisibility(provider,visibility){this.provider=provider,this.visibility=visibility}return ProviderWithVisibility.prototype.getKeyId=function(){return this.provider.key.id},ProviderWithVisibility}();exports.ProviderWithVisibility=ProviderWithVisibility;var Injector=function(){function Injector(_proto,_parent,_isHostBoundary,_depProvider,_debugContext){void 0===_parent&&(_parent=null),void 0===_isHostBoundary&&(_isHostBoundary=!1),void 0===_depProvider&&(_depProvider=null),void 0===_debugContext&&(_debugContext=null),this._isHostBoundary=_isHostBoundary,this._depProvider=_depProvider,this._debugContext=_debugContext,this._constructionCounter=0,this._proto=_proto,this._parent=_parent,this._strategy=_proto._strategy.createInjectorStrategy(this)}return Injector.resolve=function(providers){return provider_1.resolveProviders(providers)},Injector.resolveAndCreate=function(providers){var resolvedProviders=Injector.resolve(providers);return Injector.fromResolvedProviders(resolvedProviders)},Injector.fromResolvedProviders=function(providers){return new Injector(ProtoInjector.fromResolvedProviders(providers))},Injector.fromResolvedBindings=function(providers){return Injector.fromResolvedProviders(providers)},Object.defineProperty(Injector.prototype,"hostBoundary",{get:function(){return this._isHostBoundary},enumerable:!0,configurable:!0}),Injector.prototype.debugContext=function(){return this._debugContext()},Injector.prototype.get=function(token){return this._getByKey(key_1.Key.get(token),null,null,!1,Visibility.PublicAndPrivate)},Injector.prototype.getOptional=function(token){return this._getByKey(key_1.Key.get(token),null,null,!0,Visibility.PublicAndPrivate)},Injector.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index)},Object.defineProperty(Injector.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Injector.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Injector.prototype.resolveAndCreateChild=function(providers){var resolvedProviders=Injector.resolve(providers);return this.createChildFromResolved(resolvedProviders)},Injector.prototype.createChildFromResolved=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public)}),proto=new ProtoInjector(bd),inj=new Injector(proto);return inj._parent=this,inj},Injector.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(Injector.resolve([provider])[0])},Injector.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider,Visibility.PublicAndPrivate)},Injector.prototype._new=function(provider,visibility){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new exceptions_1.CyclicDependencyError(this,provider.key);return this._instantiateProvider(provider,visibility)},Injector.prototype._instantiateProvider=function(provider,visibility){if(provider.multiProvider){for(var res=collection_1.ListWrapper.createFixedSize(provider.resolvedFactories.length),i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i],visibility);return res}return this._instantiate(provider,provider.resolvedFactories[0],visibility)},Injector.prototype._instantiate=function(provider,resolvedFactory,visibility){var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19,factory=resolvedFactory.factory,deps=resolvedFactory.dependencies,length=deps.length;try{d0=length>0?this._getByDependency(provider,deps[0],visibility):null,d1=length>1?this._getByDependency(provider,deps[1],visibility):null,d2=length>2?this._getByDependency(provider,deps[2],visibility):null,d3=length>3?this._getByDependency(provider,deps[3],visibility):null,d4=length>4?this._getByDependency(provider,deps[4],visibility):null,d5=length>5?this._getByDependency(provider,deps[5],visibility):null,d6=length>6?this._getByDependency(provider,deps[6],visibility):null,d7=length>7?this._getByDependency(provider,deps[7],visibility):null,d8=length>8?this._getByDependency(provider,deps[8],visibility):null,d9=length>9?this._getByDependency(provider,deps[9],visibility):null,d10=length>10?this._getByDependency(provider,deps[10],visibility):null,d11=length>11?this._getByDependency(provider,deps[11],visibility):null,d12=length>12?this._getByDependency(provider,deps[12],visibility):null,d13=length>13?this._getByDependency(provider,deps[13],visibility):null,d14=length>14?this._getByDependency(provider,deps[14],visibility):null,d15=length>15?this._getByDependency(provider,deps[15],visibility):null,d16=length>16?this._getByDependency(provider,deps[16],visibility):null,d17=length>17?this._getByDependency(provider,deps[17],visibility):null,d18=length>18?this._getByDependency(provider,deps[18],visibility):null,d19=length>19?this._getByDependency(provider,deps[19],visibility):null}catch(e){throw(e instanceof exceptions_1.AbstractProviderError||e instanceof exceptions_1.InstantiationError)&&e.addKey(this,provider.key),e}var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break;default:throw new exceptions_2.BaseException("Cannot instantiate '"+provider.key.displayName+"' because it has more than 20 dependencies")}}catch(e){throw new exceptions_1.InstantiationError(this,e,e.stack,provider.key)}return obj},Injector.prototype._getByDependency=function(provider,dep,providerVisibility){var special=lang_1.isPresent(this._depProvider)?this._depProvider.getDependency(this,provider,dep):exports.UNDEFINED;return special!==exports.UNDEFINED?special:this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional,providerVisibility)},Injector.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,optional,providerVisibility){return key===INJECTOR_KEY?this:upperBoundVisibility instanceof metadata_1.SelfMetadata?this._getByKeySelf(key,optional,providerVisibility):upperBoundVisibility instanceof metadata_1.HostMetadata?this._getByKeyHost(key,optional,providerVisibility,lowerBoundVisibility):this._getByKeyDefault(key,optional,providerVisibility,lowerBoundVisibility)},Injector.prototype._throwOrNull=function(key,optional){if(optional)return null;throw new exceptions_1.NoProviderError(this,key)},Injector.prototype._getByKeySelf=function(key,optional,providerVisibility){var obj=this._strategy.getObjByKeyId(key.id,providerVisibility);return obj!==exports.UNDEFINED?obj:this._throwOrNull(key,optional)},Injector.prototype._getByKeyHost=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;if(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata){if(inj._isHostBoundary)return this._getPrivateDependency(key,optional,inj);inj=inj._parent}for(;null!=inj;){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)return obj;if(lang_1.isPresent(inj._parent)&&inj._isHostBoundary)return this._getPrivateDependency(key,optional,inj);inj=inj._parent}return this._throwOrNull(key,optional)},Injector.prototype._getPrivateDependency=function(key,optional,inj){var obj=inj._parent._strategy.getObjByKeyId(key.id,Visibility.Private);return obj!==exports.UNDEFINED?obj:this._throwOrNull(key,optional)},Injector.prototype._getByKeyDefault=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;for(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata&&(providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public,inj=inj._parent);null!=inj;){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)return obj;providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public,inj=inj._parent}return this._throwOrNull(key,optional)},Object.defineProperty(Injector.prototype,"displayName",{get:function(){return"Injector(providers: ["+_mapProviders(this,function(b){return' "'+b.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),Injector.prototype.toString=function(){return this.displayName},Injector}();exports.Injector=Injector;var INJECTOR_KEY=key_1.Key.get(Injector);return module.exports}),$__System.registerDynamic("197",["6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),InjectMetadata=function(){function InjectMetadata(token){this.token=token}return InjectMetadata.prototype.toString=function(){return"@Inject("+lang_1.stringify(this.token)+")"},InjectMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],InjectMetadata)}();exports.InjectMetadata=InjectMetadata;var OptionalMetadata=function(){function OptionalMetadata(){}return OptionalMetadata.prototype.toString=function(){return"@Optional()"},OptionalMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],OptionalMetadata)}();exports.OptionalMetadata=OptionalMetadata;var DependencyMetadata=function(){function DependencyMetadata(){}return Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),DependencyMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DependencyMetadata)}();exports.DependencyMetadata=DependencyMetadata;var InjectableMetadata=function(){function InjectableMetadata(){}return InjectableMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],InjectableMetadata)}();exports.InjectableMetadata=InjectableMetadata;var SelfMetadata=function(){function SelfMetadata(){}return SelfMetadata.prototype.toString=function(){return"@Self()"},SelfMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],SelfMetadata)}();exports.SelfMetadata=SelfMetadata;var SkipSelfMetadata=function(){function SkipSelfMetadata(){}return SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()"},SkipSelfMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],SkipSelfMetadata)}();exports.SkipSelfMetadata=SkipSelfMetadata;var HostMetadata=function(){function HostMetadata(){}return HostMetadata.prototype.toString=function(){return"@Host()"},HostMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],HostMetadata)}();return exports.HostMetadata=HostMetadata,module.exports}),$__System.registerDynamic("1c2",["6","e","a","31","1c9","197","1c8","1ca","3"],!0,function($__require,exports,module){"use strict";function bind(token){return new ProviderBuilder(token)}function provide(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;return new Provider(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi})}function resolveFactory(provider){var factoryFn,resolvedDeps;if(lang_1.isPresent(provider.useClass)){var useClass=forward_ref_1.resolveForwardRef(provider.useClass);factoryFn=reflection_1.reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else lang_1.isPresent(provider.useExisting)?(factoryFn=function(aliasInstance){return aliasInstance},resolvedDeps=[Dependency.fromKey(key_1.Key.get(provider.useExisting))]):lang_1.isPresent(provider.useFactory)?(factoryFn=provider.useFactory,resolvedDeps=_constructDependencies(provider.useFactory,provider.dependencies)):(factoryFn=function(){return provider.useValue},resolvedDeps=_EMPTY_LIST);return new ResolvedFactory(factoryFn,resolvedDeps)}function resolveProvider(provider){return new ResolvedProvider_(key_1.Key.get(provider.token),[resolveFactory(provider)],provider.multi)}function resolveProviders(providers){var normalized=_normalizeProviders(providers,[]),resolved=normalized.map(resolveProvider);return collection_1.MapWrapper.values(mergeResolvedProviders(resolved,new Map))}function mergeResolvedProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(lang_1.isPresent(existing)){if(provider.multiProvider!==existing.multiProvider)throw new exceptions_2.MixingMultiProvidersWithRegularProvidersError(existing,provider);if(provider.multiProvider)for(var j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{var resolvedProvider;resolvedProvider=provider.multiProvider?new ResolvedProvider_(provider.key,collection_1.ListWrapper.clone(provider.resolvedFactories),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}function _normalizeProviders(providers,res){return providers.forEach(function(b){if(b instanceof lang_1.Type)res.push(provide(b,{useClass:b}));else if(b instanceof Provider)res.push(b);else{if(!(b instanceof Array))throw b instanceof ProviderBuilder?new exceptions_2.InvalidProviderError(b.token):new exceptions_2.InvalidProviderError(b);_normalizeProviders(b,res)}}),res}function _constructDependencies(factoryFunction,dependencies){if(lang_1.isBlank(dependencies))return _dependenciesFor(factoryFunction);var params=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(factoryFunction,t,params)})}function _dependenciesFor(typeOrFunc){var params=reflection_1.reflector.parameters(typeOrFunc);if(lang_1.isBlank(params))return[];if(params.some(lang_1.isBlank))throw new exceptions_2.NoAnnotationError(typeOrFunc,params);return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var depProps=[],token=null,optional=!1;if(!lang_1.isArray(metadata))return metadata instanceof metadata_1.InjectMetadata?_createDependency(metadata.token,optional,null,null,depProps):_createDependency(metadata,optional,null,null,depProps);for(var lowerBoundVisibility=null,upperBoundVisibility=null,i=0;i<metadata.length;++i){var paramMetadata=metadata[i];paramMetadata instanceof lang_1.Type?token=paramMetadata:paramMetadata instanceof metadata_1.InjectMetadata?token=paramMetadata.token:paramMetadata instanceof metadata_1.OptionalMetadata?optional=!0:paramMetadata instanceof metadata_1.SelfMetadata?upperBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.HostMetadata?upperBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.SkipSelfMetadata?lowerBoundVisibility=paramMetadata:paramMetadata instanceof metadata_1.DependencyMetadata&&(lang_1.isPresent(paramMetadata.token)&&(token=paramMetadata.token),depProps.push(paramMetadata))}if(token=forward_ref_1.resolveForwardRef(token),lang_1.isPresent(token))return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps);throw new exceptions_2.NoAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new Dependency(key_1.Key.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps);
}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),exceptions_1=$__require("e"),collection_1=$__require("a"),reflection_1=$__require("31"),key_1=$__require("1c9"),metadata_1=$__require("197"),exceptions_2=$__require("1c8"),forward_ref_1=$__require("1ca"),Dependency=function(){function Dependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key,this.optional=optional,this.lowerBoundVisibility=lowerBoundVisibility,this.upperBoundVisibility=upperBoundVisibility,this.properties=properties}return Dependency.fromKey=function(key){return new Dependency(key,!1,null,null,[])},Dependency}();exports.Dependency=Dependency;var _EMPTY_LIST=lang_1.CONST_EXPR([]),Provider=function(){function Provider(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token,this.useClass=useClass,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory,this.dependencies=deps,this._multi=multi}return Object.defineProperty(Provider.prototype,"multi",{get:function(){return lang_1.normalizeBool(this._multi)},enumerable:!0,configurable:!0}),Provider=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],Provider)}();exports.Provider=Provider;var Binding=function(_super){function Binding(token,_a){var toClass=_a.toClass,toValue=_a.toValue,toAlias=_a.toAlias,toFactory=_a.toFactory,deps=_a.deps,multi=_a.multi;_super.call(this,token,{useClass:toClass,useValue:toValue,useExisting:toAlias,useFactory:toFactory,deps:deps,multi:multi})}return __extends(Binding,_super),Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),Binding=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],Binding)}(Provider);exports.Binding=Binding;var ResolvedProvider_=function(){function ResolvedProvider_(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider}return Object.defineProperty(ResolvedProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedProvider_}();exports.ResolvedProvider_=ResolvedProvider_;var ResolvedFactory=function(){function ResolvedFactory(factory,dependencies){this.factory=factory,this.dependencies=dependencies}return ResolvedFactory}();exports.ResolvedFactory=ResolvedFactory,exports.bind=bind,exports.provide=provide;var ProviderBuilder=function(){function ProviderBuilder(token){this.token=token}return ProviderBuilder.prototype.toClass=function(type){if(!lang_1.isType(type))throw new exceptions_1.BaseException('Trying to create a class provider but "'+lang_1.stringify(type)+'" is not a class!');return new Provider(this.token,{useClass:type})},ProviderBuilder.prototype.toValue=function(value){return new Provider(this.token,{useValue:value})},ProviderBuilder.prototype.toAlias=function(aliasToken){if(lang_1.isBlank(aliasToken))throw new exceptions_1.BaseException("Can not alias "+lang_1.stringify(this.token)+" to a blank value!");return new Provider(this.token,{useExisting:aliasToken})},ProviderBuilder.prototype.toFactory=function(factory,dependencies){if(!lang_1.isFunction(factory))throw new exceptions_1.BaseException('Trying to create a factory provider but "'+lang_1.stringify(factory)+'" is not a function!');return new Provider(this.token,{useFactory:factory,deps:dependencies})},ProviderBuilder}();return exports.ProviderBuilder=ProviderBuilder,exports.resolveFactory=resolveFactory,exports.resolveProvider=resolveProvider,exports.resolveProviders=resolveProviders,exports.mergeResolvedProviders=mergeResolvedProviders,module.exports}),$__System.registerDynamic("1ca",["6","3"],!0,function($__require,exports,module){"use strict";function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return lang_1.stringify(this())},forwardRefFn}function resolveForwardRef(type){return lang_1.isFunction(type)&&type.hasOwnProperty("__forward_ref__")&&type.__forward_ref__===forwardRef?type():type}var lang_1=($__require("3"),$__require("6"));return exports.forwardRef=forwardRef,exports.resolveForwardRef=resolveForwardRef,module.exports}),$__System.registerDynamic("1c9",["6","e","1ca","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),forward_ref_1=$__require("1ca"),Key=function(){function Key(token,id){if(this.token=token,this.id=id,lang_1.isBlank(token))throw new exceptions_1.BaseException("Token must be defined!")}return Object.defineProperty(Key.prototype,"displayName",{get:function(){return lang_1.stringify(this.token)},enumerable:!0,configurable:!0}),Key.get=function(token){return _globalKeyRegistry.get(forward_ref_1.resolveForwardRef(token))},Object.defineProperty(Key,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),Key}();exports.Key=Key;var KeyRegistry=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(token){if(token instanceof Key)return token;if(this._allKeys.has(token))return this._allKeys.get(token);var newKey=new Key(token,Key.numberOfKeys);return this._allKeys.set(token,newKey),newKey},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}();exports.KeyRegistry=KeyRegistry;var _globalKeyRegistry=new KeyRegistry;return module.exports}),$__System.registerDynamic("1c8",["a","6","e","3"],!0,function($__require,exports,module){"use strict";function findFirstClosedCycle(keys){for(var res=[],i=0;i<keys.length;++i){if(collection_1.ListWrapper.contains(res,keys[i]))return res.push(keys[i]),res;res.push(keys[i])}return res}function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(collection_1.ListWrapper.reversed(keys)),tokenStrs=reversed.map(function(k){return lang_1.stringify(k.token)});return" ("+tokenStrs.join(" -> ")+")"}return""}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),collection_1=$__require("a"),lang_1=$__require("6"),exceptions_1=$__require("e"),AbstractProviderError=function(_super){function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,"DI Exception"),this.keys=[key],this.injectors=[injector],this.constructResolvingMessage=constructResolvingMessage,this.message=this.constructResolvingMessage(this.keys)}return __extends(AbstractProviderError,_super),AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),AbstractProviderError}(exceptions_1.BaseException);exports.AbstractProviderError=AbstractProviderError;var NoProviderError=function(_super){function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=lang_1.stringify(collection_1.ListWrapper.first(keys).token);return"No provider for "+first+"!"+constructResolvingPath(keys)})}return __extends(NoProviderError,_super),NoProviderError}(AbstractProviderError);exports.NoProviderError=NoProviderError;var CyclicDependencyError=function(_super){function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys)})}return __extends(CyclicDependencyError,_super),CyclicDependencyError}(AbstractProviderError);exports.CyclicDependencyError=CyclicDependencyError;var InstantiationError=function(_super){function InstantiationError(injector,originalException,originalStack,key){_super.call(this,"DI Exception",originalException,originalStack,null),this.keys=[key],this.injectors=[injector]}return __extends(InstantiationError,_super),InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector),this.keys.push(key)},Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{get:function(){var first=lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);return"Error during instantiation of "+first+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),InstantiationError}(exceptions_1.WrappedException);exports.InstantiationError=InstantiationError;var InvalidProviderError=function(_super){function InvalidProviderError(provider){_super.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+provider.toString())}return __extends(InvalidProviderError,_super),InvalidProviderError}(exceptions_1.BaseException);exports.InvalidProviderError=InvalidProviderError;var NoAnnotationError=function(_super){function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params))}return __extends(NoAnnotationError,_super),NoAnnotationError._genMessage=function(typeOrFunc,params){for(var signature=[],i=0,ii=params.length;ii>i;i++){var parameter=params[i];lang_1.isBlank(parameter)||0==parameter.length?signature.push("?"):signature.push(parameter.map(lang_1.stringify).join(" "))}return"Cannot resolve all parameters for '"+lang_1.stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+lang_1.stringify(typeOrFunc)+"' is decorated with Injectable."},NoAnnotationError}(exceptions_1.BaseException);exports.NoAnnotationError=NoAnnotationError;var OutOfBoundsError=function(_super){function OutOfBoundsError(index){_super.call(this,"Index "+index+" is out-of-bounds.")}return __extends(OutOfBoundsError,_super),OutOfBoundsError}(exceptions_1.BaseException);exports.OutOfBoundsError=OutOfBoundsError;var MixingMultiProvidersWithRegularProvidersError=function(_super){function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,"Cannot mix multi providers and regular providers, got: "+provider1.toString()+" "+provider2.toString())}return __extends(MixingMultiProvidersWithRegularProvidersError,_super),MixingMultiProvidersWithRegularProvidersError}(exceptions_1.BaseException);return exports.MixingMultiProvidersWithRegularProvidersError=MixingMultiProvidersWithRegularProvidersError,module.exports}),$__System.registerDynamic("1cb",["6","3"],!0,function($__require,exports,module){"use strict";var __decorate=($__require("3"),this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},lang_1=$__require("6"),OpaqueToken=function(){function OpaqueToken(_desc){this._desc=_desc}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},OpaqueToken=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],OpaqueToken)}();return exports.OpaqueToken=OpaqueToken,module.exports}),$__System.registerDynamic("b",["197","19e","1ca","1c3","1c2","1c9","1c8","1cb","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var metadata_1=($__require("3"),$__require("197"));exports.InjectMetadata=metadata_1.InjectMetadata,exports.OptionalMetadata=metadata_1.OptionalMetadata,exports.InjectableMetadata=metadata_1.InjectableMetadata,exports.SelfMetadata=metadata_1.SelfMetadata,exports.HostMetadata=metadata_1.HostMetadata,exports.SkipSelfMetadata=metadata_1.SkipSelfMetadata,exports.DependencyMetadata=metadata_1.DependencyMetadata,__export($__require("19e"));var forward_ref_1=$__require("1ca");exports.forwardRef=forward_ref_1.forwardRef,exports.resolveForwardRef=forward_ref_1.resolveForwardRef;var injector_1=$__require("1c3");exports.Injector=injector_1.Injector;var provider_1=$__require("1c2");exports.Binding=provider_1.Binding,exports.ProviderBuilder=provider_1.ProviderBuilder,exports.ResolvedFactory=provider_1.ResolvedFactory,exports.Dependency=provider_1.Dependency,exports.bind=provider_1.bind,exports.Provider=provider_1.Provider,exports.provide=provider_1.provide;var key_1=$__require("1c9");exports.Key=key_1.Key;var exceptions_1=$__require("1c8");exports.NoProviderError=exceptions_1.NoProviderError,exports.AbstractProviderError=exceptions_1.AbstractProviderError,exports.CyclicDependencyError=exceptions_1.CyclicDependencyError,exports.InstantiationError=exceptions_1.InstantiationError,exports.InvalidProviderError=exceptions_1.InvalidProviderError,exports.NoAnnotationError=exceptions_1.NoAnnotationError,exports.OutOfBoundsError=exceptions_1.OutOfBoundsError;var opaque_token_1=$__require("1cb");return exports.OpaqueToken=opaque_token_1.OpaqueToken,module.exports}),$__System.registerDynamic("61",["b","6","3"],!0,function($__require,exports,module){"use strict";function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return lang_1.StringWrapper.fromCharCode(97+lang_1.Math.floor(25*lang_1.Math.random()))}var di_1=($__require("3"),$__require("b")),lang_1=$__require("6");return exports.APP_COMPONENT_REF_PROMISE=lang_1.CONST_EXPR(new di_1.OpaqueToken("Promise<ComponentRef>")),exports.APP_COMPONENT=lang_1.CONST_EXPR(new di_1.OpaqueToken("AppComponent")),exports.APP_ID=lang_1.CONST_EXPR(new di_1.OpaqueToken("AppId")),exports.APP_ID_RANDOM_PROVIDER=lang_1.CONST_EXPR(new di_1.Provider(exports.APP_ID,{useFactory:_appIdRandomProviderFactory,deps:[]})),exports.PLATFORM_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Initializer")),exports.APP_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Initializer")),exports.PACKAGE_ROOT_URL=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Packages Root URL")),module.exports}),$__System.registerDynamic("46",["3"],!0,function($__require,exports,module){"use strict";$__require("3");!function(ViewType){ViewType[ViewType.HOST=0]="HOST",ViewType[ViewType.COMPONENT=1]="COMPONENT",ViewType[ViewType.EMBEDDED=2]="EMBEDDED"}(exports.ViewType||(exports.ViewType={}));exports.ViewType;return module.exports}),$__System.registerDynamic("18f",["b","6","a","e","45","18d","188","61","46","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},di_1=$__require("b"),lang_1=$__require("6"),collection_1=$__require("a"),exceptions_1=$__require("e"),view_1=$__require("45"),api_1=$__require("18d"),profile_1=$__require("188"),application_tokens_1=$__require("61"),view_type_1=$__require("46"),AppViewManager=function(){function AppViewManager(){}return AppViewManager}();exports.AppViewManager=AppViewManager;var AppViewManager_=function(_super){function AppViewManager_(_renderer,_appId){_super.call(this),this._renderer=_renderer,this._appId=_appId,this._nextCompTypeId=0,this._createRootHostViewScope=profile_1.wtfCreateScope("AppViewManager#createRootHostView()"),this._destroyRootHostViewScope=profile_1.wtfCreateScope("AppViewManager#destroyRootHostView()"),this._createEmbeddedViewInContainerScope=profile_1.wtfCreateScope("AppViewManager#createEmbeddedViewInContainer()"),this._createHostViewInContainerScope=profile_1.wtfCreateScope("AppViewManager#createHostViewInContainer()"),this._destroyViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#destroyViewInContainer()"),this._attachViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#attachViewInContainer()"),this._detachViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#detachViewInContainer()")}return __extends(AppViewManager_,_super),AppViewManager_.prototype.getViewContainer=function(location){return location.internalElement.getViewContainerRef()},AppViewManager_.prototype.getHostElement=function(hostViewRef){var hostView=hostViewRef.internalView;if(hostView.proto.type!==view_type_1.ViewType.HOST)throw new exceptions_1.BaseException("This operation is only allowed on host views");return hostView.appElements[0].ref},AppViewManager_.prototype.getNamedElementInComponentView=function(hostLocation,variableName){var appEl=hostLocation.internalElement,componentView=appEl.componentView;if(lang_1.isBlank(componentView))throw new exceptions_1.BaseException("There is no component directive at element "+hostLocation);for(var i=0;i<componentView.appElements.length;i++){var compAppEl=componentView.appElements[i];if(collection_1.StringMapWrapper.contains(compAppEl.proto.directiveVariableBindings,variableName))return compAppEl.ref}throw new exceptions_1.BaseException("Could not find variable "+variableName)},AppViewManager_.prototype.getComponent=function(hostLocation){return hostLocation.internalElement.getComponent()},AppViewManager_.prototype.createRootHostView=function(hostViewFactoryRef,overrideSelector,injector,projectableNodes){void 0===projectableNodes&&(projectableNodes=null);var s=this._createRootHostViewScope(),hostViewFactory=hostViewFactoryRef.internalHostViewFactory,selector=lang_1.isPresent(overrideSelector)?overrideSelector:hostViewFactory.selector,view=hostViewFactory.viewFactory(this._renderer,this,null,projectableNodes,selector,null,injector);return profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.destroyRootHostView=function(hostViewRef){var s=this._destroyRootHostViewScope(),hostView=hostViewRef.internalView;hostView.renderer.detachView(view_1.flattenNestedViewRenderNodes(hostView.rootNodesOrAppElements)),hostView.destroy(),profile_1.wtfLeave(s)},AppViewManager_.prototype.createEmbeddedViewInContainer=function(viewContainerLocation,index,templateRef){var s=this._createEmbeddedViewInContainerScope(),contextEl=templateRef.elementRef.internalElement,view=contextEl.embeddedViewFactory(contextEl.parentView.renderer,this,contextEl,contextEl.parentView.projectableNodes,null,null,null);return this._attachViewToContainer(view,viewContainerLocation.internalElement,index),profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.createHostViewInContainer=function(viewContainerLocation,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes){var s=this._createHostViewInContainerScope(),viewContainerLocation_=viewContainerLocation,contextEl=viewContainerLocation_.internalElement,hostViewFactory=hostViewFactoryRef.internalHostViewFactory,view=hostViewFactory.viewFactory(contextEl.parentView.renderer,contextEl.parentView.viewManager,contextEl,projectableNodes,null,dynamicallyCreatedProviders,null);return this._attachViewToContainer(view,viewContainerLocation_.internalElement,index),profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.destroyViewInContainer=function(viewContainerLocation,index){var s=this._destroyViewInContainerScope(),view=this._detachViewInContainer(viewContainerLocation.internalElement,index);view.destroy(),profile_1.wtfLeave(s)},AppViewManager_.prototype.attachViewInContainer=function(viewContainerLocation,index,viewRef){var viewRef_=viewRef,s=this._attachViewInContainerScope();return this._attachViewToContainer(viewRef_.internalView,viewContainerLocation.internalElement,index),profile_1.wtfLeave(s,viewRef_)},AppViewManager_.prototype.detachViewInContainer=function(viewContainerLocation,index){var s=this._detachViewInContainerScope(),view=this._detachViewInContainer(viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,view.ref)},AppViewManager_.prototype.onViewCreated=function(view){},AppViewManager_.prototype.onViewDestroyed=function(view){},AppViewManager_.prototype.createRenderComponentType=function(encapsulation,styles){return new api_1.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,encapsulation,styles)},AppViewManager_.prototype._attachViewToContainer=function(view,vcAppElement,viewIndex){if(view.proto.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");var nestedViews=vcAppElement.nestedViews;null==nestedViews&&(nestedViews=[],vcAppElement.nestedViews=nestedViews),collection_1.ListWrapper.insert(nestedViews,viewIndex,view);var refNode;if(viewIndex>0){var prevView=nestedViews[viewIndex-1];refNode=prevView.rootNodesOrAppElements.length>0?prevView.rootNodesOrAppElements[prevView.rootNodesOrAppElements.length-1]:null}else refNode=vcAppElement.nativeElement;if(lang_1.isPresent(refNode)){var refRenderNode=view_1.findLastRenderNode(refNode);view.renderer.attachViewAfter(refRenderNode,view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements))}vcAppElement.parentView.changeDetector.addContentChild(view.changeDetector),vcAppElement.traverseAndSetQueriesAsDirty()},AppViewManager_.prototype._detachViewInContainer=function(vcAppElement,viewIndex){var view=collection_1.ListWrapper.removeAt(vcAppElement.nestedViews,viewIndex);if(view.proto.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");return vcAppElement.traverseAndSetQueriesAsDirty(),view.renderer.detachView(view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements)),view.changeDetector.remove(),view},AppViewManager_=__decorate([di_1.Injectable(),__param(1,di_1.Inject(application_tokens_1.APP_ID)),__metadata("design:paramtypes",[api_1.RootRenderer,String])],AppViewManager_)}(AppViewManager);return exports.AppViewManager_=AppViewManager_,module.exports}),$__System.registerDynamic("189",["b","5e","6","18f","3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},di_1=$__require("b"),compiler_1=$__require("5e"),lang_1=$__require("6"),view_manager_1=$__require("18f"),ComponentRef=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return this.location.internalElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostComponent",{get:function(){return this.instance},enumerable:!0,configurable:!0}),ComponentRef}();exports.ComponentRef=ComponentRef;var ComponentRef_=function(_super){function ComponentRef_(location,instance,componentType,injector,_dispose){_super.call(this),this._dispose=_dispose,this.location=location,this.instance=instance,this.componentType=componentType,this.injector=injector}return __extends(ComponentRef_,_super),Object.defineProperty(ComponentRef_.prototype,"hostComponentType",{get:function(){return this.componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.dispose=function(){this._dispose()},ComponentRef_}(ComponentRef);exports.ComponentRef_=ComponentRef_;var DynamicComponentLoader=function(){function DynamicComponentLoader(){}return DynamicComponentLoader}();exports.DynamicComponentLoader=DynamicComponentLoader;var DynamicComponentLoader_=function(_super){function DynamicComponentLoader_(_compiler,_viewManager){_super.call(this),this._compiler=_compiler,this._viewManager=_viewManager}return __extends(DynamicComponentLoader_,_super),DynamicComponentLoader_.prototype.loadAsRoot=function(type,overrideSelector,injector,onDispose,projectableNodes){var _this=this;return this._compiler.compileInHost(type).then(function(hostProtoViewRef){var hostViewRef=_this._viewManager.createRootHostView(hostProtoViewRef,overrideSelector,injector,projectableNodes),newLocation=_this._viewManager.getHostElement(hostViewRef),component=_this._viewManager.getComponent(newLocation),dispose=function(){lang_1.isPresent(onDispose)&&onDispose(),_this._viewManager.destroyRootHostView(hostViewRef)};return new ComponentRef_(newLocation,component,type,injector,dispose)})},DynamicComponentLoader_.prototype.loadIntoLocation=function(type,hostLocation,anchorName,providers,projectableNodes){return void 0===providers&&(providers=null),void 0===projectableNodes&&(projectableNodes=null),this.loadNextToLocation(type,this._viewManager.getNamedElementInComponentView(hostLocation,anchorName),providers,projectableNodes)},DynamicComponentLoader_.prototype.loadNextToLocation=function(type,location,providers,projectableNodes){var _this=this;return void 0===providers&&(providers=null),void 0===projectableNodes&&(projectableNodes=null),this._compiler.compileInHost(type).then(function(hostProtoViewRef){var viewContainer=_this._viewManager.getViewContainer(location),hostViewRef=viewContainer.createHostView(hostProtoViewRef,viewContainer.length,providers,projectableNodes),newLocation=_this._viewManager.getHostElement(hostViewRef),component=_this._viewManager.getComponent(newLocation),dispose=function(){var index=viewContainer.indexOf(hostViewRef);hostViewRef.destroyed||-1===index||viewContainer.remove(index)};return new ComponentRef_(newLocation,component,type,null,dispose)})},DynamicComponentLoader_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[compiler_1.Compiler,view_manager_1.AppViewManager])],DynamicComponentLoader_)}(DynamicComponentLoader);return exports.DynamicComponentLoader_=DynamicComponentLoader_,module.exports}),$__System.registerDynamic("1cc",["6","b","61","32","5c","18f","59","57","58","5e","189","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),di_1=$__require("b"),application_tokens_1=$__require("61"),change_detection_1=$__require("32"),resolved_metadata_cache_1=$__require("5c"),view_manager_1=$__require("18f"),view_manager_2=$__require("18f"),view_resolver_1=$__require("59"),directive_resolver_1=$__require("57"),pipe_resolver_1=$__require("58"),compiler_1=$__require("5e"),compiler_2=$__require("5e"),dynamic_component_loader_1=$__require("189"),dynamic_component_loader_2=$__require("189");return exports.APPLICATION_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(compiler_1.Compiler,{useClass:compiler_2.Compiler_}),application_tokens_1.APP_ID_RANDOM_PROVIDER,resolved_metadata_cache_1.ResolvedMetadataCache,new di_1.Provider(view_manager_1.AppViewManager,{useClass:view_manager_2.AppViewManager_}),view_resolver_1.ViewResolver,new di_1.Provider(change_detection_1.IterableDiffers,{useValue:change_detection_1.defaultIterableDiffers}),new di_1.Provider(change_detection_1.KeyValueDiffers,{useValue:change_detection_1.defaultKeyValueDiffers}),directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,new di_1.Provider(dynamic_component_loader_1.DynamicComponentLoader,{useClass:dynamic_component_loader_2.DynamicComponentLoader_})]),module.exports}),$__System.registerDynamic("1cd",["6","e","a","3"],!0,function($__require,exports,module){"use strict";function _mergeMaps(target,config){collection_1.StringMapWrapper.forEach(config,function(v,k){return target.set(k,v)})}var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),collection_1=$__require("a"),ReflectionInfo=function(){function ReflectionInfo(annotations,parameters,factory,interfaces,propMetadata){this.annotations=annotations,this.parameters=parameters,this.factory=factory,this.interfaces=interfaces,this.propMetadata=propMetadata}return ReflectionInfo}();exports.ReflectionInfo=ReflectionInfo;var Reflector=function(){function Reflector(reflectionCapabilities){this._injectableInfo=new collection_1.Map,this._getters=new collection_1.Map,this._setters=new collection_1.Map,this._methods=new collection_1.Map,this._usedKeys=null,this.reflectionCapabilities=reflectionCapabilities}return Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},Reflector.prototype.trackUsage=function(){this._usedKeys=new collection_1.Set},Reflector.prototype.listUnusedKeys=function(){var _this=this;if(null==this._usedKeys)throw new exceptions_1.BaseException("Usage tracking is disabled");var allTypes=collection_1.MapWrapper.keys(this._injectableInfo);return allTypes.filter(function(key){return!collection_1.SetWrapper.has(_this._usedKeys,key)})},Reflector.prototype.registerFunction=function(func,funcInfo){this._injectableInfo.set(func,funcInfo)},Reflector.prototype.registerType=function(type,typeInfo){this._injectableInfo.set(type,typeInfo)},Reflector.prototype.registerGetters=function(getters){_mergeMaps(this._getters,getters)},Reflector.prototype.registerSetters=function(setters){_mergeMaps(this._setters,setters)},Reflector.prototype.registerMethods=function(methods){
_mergeMaps(this._methods,methods)},Reflector.prototype.factory=function(type){if(this._containsReflectionInfo(type)){var res=this._getReflectionInfo(type).factory;return lang_1.isPresent(res)?res:null}return this.reflectionCapabilities.factory(type)},Reflector.prototype.parameters=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).parameters;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.parameters(typeOrFunc)},Reflector.prototype.annotations=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).annotations;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.annotations(typeOrFunc)},Reflector.prototype.propMetadata=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).propMetadata;return lang_1.isPresent(res)?res:{}}return this.reflectionCapabilities.propMetadata(typeOrFunc)},Reflector.prototype.interfaces=function(type){if(this._injectableInfo.has(type)){var res=this._getReflectionInfo(type).interfaces;return lang_1.isPresent(res)?res:[]}return this.reflectionCapabilities.interfaces(type)},Reflector.prototype.getter=function(name){return this._getters.has(name)?this._getters.get(name):this.reflectionCapabilities.getter(name)},Reflector.prototype.setter=function(name){return this._setters.has(name)?this._setters.get(name):this.reflectionCapabilities.setter(name)},Reflector.prototype.method=function(name){return this._methods.has(name)?this._methods.get(name):this.reflectionCapabilities.method(name)},Reflector.prototype._getReflectionInfo=function(typeOrFunc){return lang_1.isPresent(this._usedKeys)&&this._usedKeys.add(typeOrFunc),this._injectableInfo.get(typeOrFunc)},Reflector.prototype._containsReflectionInfo=function(typeOrFunc){return this._injectableInfo.has(typeOrFunc)},Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)},Reflector}();return exports.Reflector=Reflector,module.exports}),$__System.registerDynamic("1ce",["3"],!0,function($__require,exports,module){"use strict";var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),BaseWrappedException=function(_super){function BaseWrappedException(message){_super.call(this,message)}return __extends(BaseWrappedException,_super),Object.defineProperty(BaseWrappedException.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),BaseWrappedException}(Error);return exports.BaseWrappedException=BaseWrappedException,module.exports}),$__System.registerDynamic("6",["3"],!0,function($__require,exports,module){"use strict";function getTypeNameForDebugging(type){return type.name}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function CONST_EXPR(expr){return expr}function CONST(){return function(target){return target}}function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function isString(obj){return"string"==typeof obj}function isFunction(obj){return"function"==typeof obj}function isType(obj){return isFunction(obj)}function isStringMap(obj){return"object"==typeof obj&&null!==obj}function isPromise(obj){return obj instanceof _global.Promise}function isArray(obj){return Array.isArray(obj)}function isNumber(obj){return"number"==typeof obj}function isDate(obj){return obj instanceof exports.Date&&!isNaN(obj.valueOf())}function noop(){}function stringify(token){if("string"==typeof token)return token;if(void 0===token||null===token)return""+token;if(token.name)return token.name;if(token.overriddenName)return token.overriddenName;var res=token.toString(),newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function serializeEnum(val){return val}function deserializeEnum(val,values){return val}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function getMapKey(value){return value}function normalizeBlank(obj){return isBlank(obj)?null:obj}function normalizeBool(obj){return isBlank(obj)?!1:obj}function isJsObject(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function print(obj){console.log(obj)}function setValueOnPath(global,path,value){for(var parts=path.split("."),obj=global;parts.length>1;){var name=parts.shift();obj=obj.hasOwnProperty(name)&&isPresent(obj[name])?obj[name]:obj[name]={}}(void 0===obj||null===obj)&&(obj={}),obj[parts.shift()]=value}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var keys=Object.getOwnPropertyNames(Map.prototype),i=0;i<keys.length;++i){var key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}return _symbolIterator}function evalExpression(sourceUrl,expr,declarations,vars){var fnBody=declarations+"\nreturn "+expr+"\n//# sourceURL="+sourceUrl,fnArgNames=[],fnArgValues=[];for(var argName in vars)fnArgNames.push(argName),fnArgValues.push(vars[argName]);return(new(Function.bind.apply(Function,[void 0].concat(fnArgNames.concat(fnBody))))).apply(void 0,fnArgValues)}function isPrimitive(obj){return!isJsObject(obj)}function hasConstructor(value,type){return value.constructor===type}var globalScope,global=($__require("3"),this),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(condition){},exports.CONST_EXPR=CONST_EXPR,exports.CONST=CONST,exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isNumber=isNumber,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum;var StringWrapper=function(){function StringWrapper(){}return StringWrapper.fromCharCode=function(code){return String.fromCharCode(code)},StringWrapper.charCodeAt=function(s,index){return s.charCodeAt(index)},StringWrapper.split=function(s,regExp){return s.split(regExp)},StringWrapper.equals=function(s,s2){return s===s2},StringWrapper.stripLeft=function(s,charVal){if(s&&s.length){for(var pos=0,i=0;i<s.length&&s[i]==charVal;i++)pos++;s=s.substring(pos)}return s},StringWrapper.stripRight=function(s,charVal){if(s&&s.length){for(var pos=s.length,i=s.length-1;i>=0&&s[i]==charVal;i--)pos--;s=s.substring(0,pos)}return s},StringWrapper.replace=function(s,from,replace){return s.replace(from,replace)},StringWrapper.replaceAll=function(s,from,replace){return s.replace(from,replace)},StringWrapper.slice=function(s,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),s.slice(from,null===to?void 0:to)},StringWrapper.replaceAllMapped=function(s,from,cb){return s.replace(from,function(){for(var matches=[],_i=0;_i<arguments.length;_i++)matches[_i-0]=arguments[_i];return matches.splice(-2,2),cb(matches)})},StringWrapper.contains=function(s,substr){return-1!=s.indexOf(substr)},StringWrapper.compare=function(a,b){return b>a?-1:a>b?1:0},StringWrapper}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function StringJoiner(parts){void 0===parts&&(parts=[]),this.parts=parts}return StringJoiner.prototype.add=function(part){this.parts.push(part)},StringJoiner.prototype.toString=function(){return this.parts.join("")},StringJoiner}();exports.StringJoiner=StringJoiner;var NumberParseError=function(_super){function NumberParseError(message){_super.call(this),this.message=message}return __extends(NumberParseError,_super),NumberParseError.prototype.toString=function(){return this.message},NumberParseError}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(n,fractionDigits){return n.toFixed(fractionDigits)},NumberWrapper.equal=function(a,b){return a===b},NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result))throw new NumberParseError("Invalid integer literal when parsing "+text);return result},NumberWrapper.parseInt=function(text,radix){if(10==radix){if(/^(\-|\+)?[0-9]+$/.test(text))return parseInt(text,radix)}else if(16==radix){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text))return parseInt(text,radix)}else{var result=parseInt(text,radix);if(!isNaN(result))return result}throw new NumberParseError("Invalid integer literal when parsing "+text+" in base "+radix)},NumberWrapper.parseFloat=function(text){return parseFloat(text)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNaN=function(value){return isNaN(value)},NumberWrapper.isInteger=function(value){return Number.isInteger(value)},NumberWrapper}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function RegExpWrapper(){}return RegExpWrapper.create=function(regExpStr,flags){return void 0===flags&&(flags=""),flags=flags.replace(/g/g,""),new _global.RegExp(regExpStr,flags+"g")},RegExpWrapper.firstMatch=function(regExp,input){return regExp.lastIndex=0,regExp.exec(input)},RegExpWrapper.test=function(regExp,input){return regExp.lastIndex=0,regExp.test(input)},RegExpWrapper.matcher=function(regExp,input){return regExp.lastIndex=0,{re:regExp,input:input}},RegExpWrapper}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function RegExpMatcherWrapper(){}return RegExpMatcherWrapper.next=function(matcher){return matcher.re.exec(matcher.input)},RegExpMatcherWrapper}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function FunctionWrapper(){}return FunctionWrapper.apply=function(fn,posArgs){return fn.apply(null,posArgs)},FunctionWrapper}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print;var Json=function(){function Json(){}return Json.parse=function(s){return _global.JSON.parse(s)},Json.stringify=function(data){return _global.JSON.stringify(data,null,2)},Json}();exports.Json=Json;var DateWrapper=function(){function DateWrapper(){}return DateWrapper.create=function(year,month,day,hour,minutes,seconds,milliseconds){return void 0===month&&(month=1),void 0===day&&(day=1),void 0===hour&&(hour=0),void 0===minutes&&(minutes=0),void 0===seconds&&(seconds=0),void 0===milliseconds&&(milliseconds=0),new exports.Date(year,month-1,day,hour,minutes,seconds,milliseconds)},DateWrapper.fromISOString=function(str){return new exports.Date(str)},DateWrapper.fromMillis=function(ms){return new exports.Date(ms)},DateWrapper.toMillis=function(date){return date.getTime()},DateWrapper.now=function(){return new exports.Date},DateWrapper.toJson=function(date){return date.toJSON()},DateWrapper}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;return exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,module.exports}),$__System.registerDynamic("a",["6","3"],!0,function($__require,exports,module){"use strict";function isListLikeIterable(obj){return lang_1.isJsObject(obj)?lang_1.isArray(obj)||!(obj instanceof exports.Map)&&lang_1.getSymbolIterator()in obj:!1}function areIterablesEqual(a,b,comparator){for(var iterator1=a[lang_1.getSymbolIterator()](),iterator2=b[lang_1.getSymbolIterator()]();;){var item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}function iterateListLike(obj,fn){if(lang_1.isArray(obj))for(var i=0;i<obj.length;i++)fn(obj[i]);else for(var item,iterator=obj[lang_1.getSymbolIterator()]();!(item=iterator.next()).done;)fn(item.value)}var lang_1=($__require("3"),$__require("6"));exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(pairs){return new exports.Map(pairs)}}catch(e){}return function(pairs){for(var map=new exports.Map,i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1])}return map}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(m){return new exports.Map(m)}}catch(e){}return function(m){var map=new exports.Map;return m.forEach(function(v,k){map.set(k,v)}),map}}(),_clearValues=function(){return(new exports.Map).keys().next?function(m){for(var k,keyIterator=m.keys();!(k=keyIterator.next()).done;)m.set(k.value,null)}:function(m){m.forEach(function(v,k){m.set(k,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),MapWrapper=function(){function MapWrapper(){}return MapWrapper.clone=function(m){return createMapFromMap(m)},MapWrapper.createFromStringMap=function(stringMap){var result=new exports.Map;for(var prop in stringMap)result.set(prop,stringMap[prop]);return result},MapWrapper.toStringMap=function(m){var r={};return m.forEach(function(v,k){return r[k]=v}),r},MapWrapper.createFromPairs=function(pairs){return createMapFromPairs(pairs)},MapWrapper.clearValues=function(m){_clearValues(m)},MapWrapper.iterable=function(m){return m},MapWrapper.keys=function(m){return _arrayFromMap(m,!1)},MapWrapper.values=function(m){return _arrayFromMap(m,!0)},MapWrapper}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function StringMapWrapper(){}return StringMapWrapper.create=function(){return{}},StringMapWrapper.contains=function(map,key){return map.hasOwnProperty(key)},StringMapWrapper.get=function(map,key){return map.hasOwnProperty(key)?map[key]:void 0},StringMapWrapper.set=function(map,key,value){map[key]=value},StringMapWrapper.keys=function(map){return Object.keys(map)},StringMapWrapper.isEmpty=function(map){for(var prop in map)return!1;return!0},StringMapWrapper["delete"]=function(map,key){delete map[key]},StringMapWrapper.forEach=function(map,callback){for(var prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)},StringMapWrapper.merge=function(m1,m2){var m={};for(var attr in m1)m1.hasOwnProperty(attr)&&(m[attr]=m1[attr]);for(var attr in m2)m2.hasOwnProperty(attr)&&(m[attr]=m2[attr]);return m},StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1),k2=Object.keys(m2);if(k1.length!=k2.length)return!1;for(var key,i=0;i<k1.length;i++)if(key=k1[i],m1[key]!==m2[key])return!1;return!0},StringMapWrapper}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.createImmutable=function(array){var result=ListWrapper.clone(array);return Object.seal(result),result},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return-1!==list.indexOf(el)},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1?(list.splice(index,1),!0):!1},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){lang_1.isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!lang_1.isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.isImmutable=function(list){return Object.isSealed(list)},ListWrapper}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var test=new exports.Set([1,2,3]);return 3===test.size?function(lst){return new exports.Set(lst)}:function(lst){var res=new exports.Set(lst);if(res.size!==lst.length)for(var i=0;i<lst.length;i++)res.add(lst[i]);return res}}(),SetWrapper=function(){function SetWrapper(){}return SetWrapper.createFromList=function(lst){return createSetFromList(lst)},SetWrapper.has=function(s,key){return s.has(key)},SetWrapper["delete"]=function(m,k){m["delete"](k)},SetWrapper}();return exports.SetWrapper=SetWrapper,module.exports}),$__System.registerDynamic("187",["6","1ce","a","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),base_wrapped_exception_1=$__require("1ce"),collection_1=$__require("a"),_ArrayLogger=function(){function _ArrayLogger(){this.res=[]}return _ArrayLogger.prototype.log=function(s){this.res.push(s)},_ArrayLogger.prototype.logError=function(s){this.res.push(s)},_ArrayLogger.prototype.logGroup=function(s){this.res.push(s)},_ArrayLogger.prototype.logGroupEnd=function(){},_ArrayLogger}(),ExceptionHandler=function(){function ExceptionHandler(_logger,_rethrowException){void 0===_rethrowException&&(_rethrowException=!0),this._logger=_logger,this._rethrowException=_rethrowException}return ExceptionHandler.exceptionToString=function(exception,stackTrace,reason){void 0===stackTrace&&(stackTrace=null),void 0===reason&&(reason=null);var l=new _ArrayLogger,e=new ExceptionHandler(l,!1);return e.call(exception,stackTrace,reason),l.res.join("\n")},ExceptionHandler.prototype.call=function(exception,stackTrace,reason){void 0===stackTrace&&(stackTrace=null),void 0===reason&&(reason=null);var originalException=this._findOriginalException(exception),originalStack=this._findOriginalStack(exception),context=this._findContext(exception);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(exception)),lang_1.isPresent(stackTrace)&&lang_1.isBlank(originalStack)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(stackTrace))),lang_1.isPresent(reason)&&this._logger.logError("REASON: "+reason),lang_1.isPresent(originalException)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(originalException)),lang_1.isPresent(originalStack)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(originalStack))),lang_1.isPresent(context)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(context)),this._logger.logGroupEnd(),this._rethrowException)throw exception},ExceptionHandler.prototype._extractMessage=function(exception){return exception instanceof base_wrapped_exception_1.BaseWrappedException?exception.wrapperMessage:exception.toString()},ExceptionHandler.prototype._longStackTrace=function(stackTrace){return collection_1.isListLikeIterable(stackTrace)?stackTrace.join("\n\n-----async gap-----\n"):stackTrace.toString()},ExceptionHandler.prototype._findContext=function(exception){try{return exception instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(exception.context)?exception.context:this._findContext(exception.originalException):null}catch(e){return null}},ExceptionHandler.prototype._findOriginalException=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var e=exception.originalException;e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException);)e=e.originalException;return e},ExceptionHandler.prototype._findOriginalStack=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var e=exception,stack=exception.originalStack;e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException);)e=e.originalException,e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException)&&(stack=e.originalStack);return stack},ExceptionHandler}();return exports.ExceptionHandler=ExceptionHandler,module.exports}),$__System.registerDynamic("e",["1ce","187","3"],!0,function($__require,exports,module){"use strict";function makeTypeError(message){return new TypeError(message)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=($__require("3"),this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),base_wrapped_exception_1=$__require("1ce"),exception_handler_1=$__require("187"),exception_handler_2=$__require("187");exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(_super){function BaseException(message){void 0===message&&(message="--"),_super.call(this,message),this.message=message,this.stack=new Error(message).stack}return __extends(BaseException,_super),BaseException.prototype.toString=function(){return this.message},BaseException}(Error);exports.BaseException=BaseException;var WrappedException=function(_super){function WrappedException(_wrapperMessage,_originalException,_originalStack,_context){_super.call(this,_wrapperMessage),this._wrapperMessage=_wrapperMessage,this._originalException=_originalException,this._originalStack=_originalStack,this._context=_context,this._wrapperStack=new Error(_wrapperMessage).stack}return __extends(WrappedException,_super),Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),WrappedException.prototype.toString=function(){return this.message},WrappedException}(base_wrapped_exception_1.BaseWrappedException);return exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented,module.exports}),$__System.registerDynamic("66",["6","e","3"],!0,function($__require,exports,module){"use strict";var lang_1=($__require("3"),$__require("6")),exceptions_1=$__require("e"),ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=lang_1.isPresent(reflect)?reflect:lang_1.global.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t};case 1:return function(a1){return new t(a1)};case 2:return function(a1,a2){return new t(a1,a2)};case 3:return function(a1,a2,a3){return new t(a1,a2,a3)};case 4:return function(a1,a2,a3,a4){return new t(a1,a2,a3,a4)};case 5:return function(a1,a2,a3,a4,a5){return new t(a1,a2,a3,a4,a5)};case 6:return function(a1,a2,a3,a4,a5,a6){return new t(a1,a2,a3,a4,a5,a6)};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return new t(a1,a2,a3,a4,a5,a6,a7)};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return new t(a1,a2,a3,a4,a5,a6,a7,a8)};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9)};case 10:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)};case 11:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)};case 12:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)};case 13:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)};case 14:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14)};case 15:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)};case 16:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16)};case 17:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17)};case 18:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18)};case 19:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19)};case 20:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20)}}throw new Error("Cannot create a factory for '"+lang_1.stringify(t)+"' because its constructor has more than 20 arguments")},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;result="undefined"==typeof paramTypes?new Array(paramAnnotations.length):new Array(paramTypes.length);for(var i=0;i<result.length;i++)"undefined"==typeof paramTypes?result[i]=[]:paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],lang_1.isPresent(paramAnnotations)&&lang_1.isPresent(paramAnnotations[i])&&(result[i]=result[i].concat(paramAnnotations[i]));return result},ReflectionCapabilities.prototype.parameters=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.parameters))return typeOrFunc.parameters;if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var paramAnnotations=this._reflect.getMetadata("parameters",typeOrFunc),paramTypes=this._reflect.getMetadata("design:paramtypes",typeOrFunc);if(lang_1.isPresent(paramTypes)||lang_1.isPresent(paramAnnotations))return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}var parameters=new Array(typeOrFunc.length);return parameters.fill(void 0),parameters},ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.annotations)){var annotations=typeOrFunc.annotations;return lang_1.isFunction(annotations)&&annotations.annotations&&(annotations=annotations.annotations),annotations}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var annotations=this._reflect.getMetadata("annotations",typeOrFunc);if(lang_1.isPresent(annotations))return annotations}return[]},ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.propMetadata)){var propMetadata=typeOrFunc.propMetadata;return lang_1.isFunction(propMetadata)&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var propMetadata=this._reflect.getMetadata("propMetadata",typeOrFunc);if(lang_1.isPresent(propMetadata))return propMetadata}return{}},ReflectionCapabilities.prototype.interfaces=function(type){throw new exceptions_1.BaseException("JavaScript does not support interfaces")},ReflectionCapabilities.prototype.getter=function(name){return new Function("o","return o."+name+";")},ReflectionCapabilities.prototype.setter=function(name){return new Function("o","v","return o."+name+" = v;")},ReflectionCapabilities.prototype.method=function(name){var functionBody="if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);";return new Function("o","args",functionBody)},ReflectionCapabilities.prototype.importUri=function(type){return"./"},ReflectionCapabilities}();return exports.ReflectionCapabilities=ReflectionCapabilities,module.exports}),$__System.registerDynamic("31",["1cd","66","3"],!0,function($__require,exports,module){"use strict";var reflector_1=($__require("3"),$__require("1cd")),reflector_2=$__require("1cd");exports.Reflector=reflector_2.Reflector,exports.ReflectionInfo=reflector_2.ReflectionInfo;var reflection_capabilities_1=$__require("66");return exports.reflector=new reflector_1.Reflector(new reflection_capabilities_1.ReflectionCapabilities),module.exports}),$__System.registerDynamic("@system-env",[],!1,function(){return{production:!0,browser:!0,node:!1}}),$__System.registerDynamic("3",["@system-env"],!0,function($__require,exports,module){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,
queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,productionEnv=$__require("@system-env").production,process=module.exports={},queue=[],draining=!1,queueIndex=-1;return process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={NODE_ENV:productionEnv?"production":"development"},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0},module.exports}),$__System.registerDynamic("13",["22","184","185","b","186","6","2a","61","18b","18c","18e","24","2e","198","5a","194","1cc","31","3"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}$__require("3");__export($__require("22")),__export($__require("184")),__export($__require("185")),__export($__require("b")),__export($__require("186"));var lang_1=$__require("6");exports.enableProdMode=lang_1.enableProdMode;var application_ref_1=$__require("2a");exports.platform=application_ref_1.platform,exports.createNgZone=application_ref_1.createNgZone,exports.PlatformRef=application_ref_1.PlatformRef,exports.ApplicationRef=application_ref_1.ApplicationRef;var application_tokens_1=$__require("61");exports.APP_ID=application_tokens_1.APP_ID,exports.APP_COMPONENT=application_tokens_1.APP_COMPONENT,exports.APP_INITIALIZER=application_tokens_1.APP_INITIALIZER,exports.PACKAGE_ROOT_URL=application_tokens_1.PACKAGE_ROOT_URL,exports.PLATFORM_INITIALIZER=application_tokens_1.PLATFORM_INITIALIZER,__export($__require("18b")),__export($__require("18c")),__export($__require("18e"));var debug_node_1=$__require("24");return exports.DebugElement=debug_node_1.DebugElement,exports.DebugNode=debug_node_1.DebugNode,exports.asNativeElements=debug_node_1.asNativeElements,__export($__require("2e")),__export($__require("198")),__export($__require("5a")),__export($__require("194")),__export($__require("1cc")),__export($__require("31")),module.exports}),$__System.register("1cf",[],function(exports_1,context_1){"use strict";var SidebarItem;context_1&&context_1.id;return{setters:[],execute:function(){SidebarItem=function(){function SidebarItem(){}return SidebarItem}(),exports_1("SidebarItem",SidebarItem),exports_1("default",SidebarItem)}}}),$__System.register("fe",["13","1cf"],function(exports_1,context_1){"use strict";var core_1,SidebarItem_1,SidebarService,__decorate=(context_1&&context_1.id,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0};return{setters:[function(core_1_1){core_1=core_1_1},function(SidebarItem_1_1){SidebarItem_1=SidebarItem_1_1}],execute:function(){SidebarService=function(){function SidebarService(){this.addAppEmitter=new core_1.EventEmitter,this.toggleEmitter=new core_1.EventEmitter,this.toggleMenuButtonEmitter=new core_1.EventEmitter}return SidebarService.prototype.addItem=function(name,url,icon){var item=new SidebarItem_1["default"];item.name=name,item.url=url?url:null,item.icon=icon?icon:null},SidebarService.prototype.addApp=function(app){this.addAppEmitter.emit(app)},SidebarService.prototype.toggle=function(){this.toggleEmitter.emit(null)},SidebarService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],SidebarService)}(),exports_1("default",SidebarService)}}}),$__System.register("1d0",["13","fe"],function(exports_1,context_1){"use strict";var core_1,SidebarService_1,SIDEBAR_PROVIDERS;context_1&&context_1.id;return{setters:[function(core_1_1){core_1=core_1_1},function(SidebarService_1_1){SidebarService_1=SidebarService_1_1}],execute:function(){exports_1("SIDEBAR_PROVIDERS",SIDEBAR_PROVIDERS=[new core_1.Provider(SidebarService_1["default"],{useFactory:function(){return new SidebarService_1["default"]}})])}}}),$__System.register("1d1",["13","92","1d0"],function(exports_1,context_1){"use strict";var core_1,AppDevComponent_1,Sidebar_1,APP_DEV_PROVIDERS;context_1&&context_1.id;return{setters:[function(core_1_1){core_1=core_1_1},function(AppDevComponent_1_1){AppDevComponent_1=AppDevComponent_1_1},function(Sidebar_1_1){Sidebar_1=Sidebar_1_1}],execute:function(){exports_1("APP_DEV_PROVIDERS",APP_DEV_PROVIDERS=[new core_1.Provider(AppDevComponent_1["default"],{useClass:AppDevComponent_1["default"]}),Sidebar_1.SIDEBAR_PROVIDERS])}}}),$__System.register("1",["2","4","65","13","2d","6c","f8","f7","91","f9","fa","1d1"],function(exports_1,context_1){"use strict";var browser_1,core_1,common_1,router_1,http_1,Carbon_1,AppComponent_1,Content_1,Blog_1,AppDev_1,CARBON_PROVIDER;context_1&&context_1.id;return{setters:[function(_1){},function(_2){},function(browser_1_1){browser_1=browser_1_1},function(core_1_1){core_1=core_1_1},function(common_1_1){common_1=common_1_1},function(router_1_1){router_1=router_1_1},function(http_1_1){http_1=http_1_1},function(Carbon_1_1){Carbon_1=Carbon_1_1},function(AppComponent_1_1){AppComponent_1=AppComponent_1_1},function(Content_1_1){Content_1=Content_1_1},function(Blog_1_1){Blog_1=Blog_1_1},function(AppDev_1_1){AppDev_1=AppDev_1_1}],execute:function(){CARBON_PROVIDER=core_1.provide(Carbon_1["default"],{useFactory:function(){var carbon=new Carbon_1["default"];carbon.setSetting("domain","dev.carbonldp.com")}}),browser_1.bootstrap(AppComponent_1["default"],[common_1.FORM_PROVIDERS,router_1.ROUTER_PROVIDERS,http_1.HTTP_PROVIDERS,core_1.provide(router_1.APP_BASE_HREF,{useValue:"/"}),CARBON_PROVIDER,Content_1.CONTENT_PROVIDERS,Blog_1.BLOG_PROVIDERS,AppDev_1.APP_DEV_PROVIDERS])}}}),$__System.register("app/website/home/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/blog/blog-post-thumbnail/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/blog/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/blog/blog-post/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/content/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/ui-examples/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/header/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/footer/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/website/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/components/sidebar/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/header/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/footer/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/components/menubar/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/components/sparql-client/resultset-table/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/components/sparql-client/response/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("npm:codemirror@5.12.0/lib/codemirror.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("npm:codemirror@5.12.0/theme/mbo.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/components/sparql-client/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/my-apps/app/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/my-apps/app-tile/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),$__System.register("app/app-dev/style.css!github:systemjs/plugin-css@0.1.20/css.js",[],!1,function(){}),function(c){if("undefined"!=typeof document){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))}}("blog-post-thumbnail a:hover,compiled-content nav .sticky .item.active a{text-decoration:underline}app-dev,website{-webkit-flex:1 1 100%}home>.ui.segment:nth-child(1){min-height:95vh}home>.ui.segment:nth-child(1)>.text{margin-top:16vh}home .ui.menu>.right.item>.button{margin-left:.5em}home>.ui.segment:last-child{padding:3em 0}home>.ui.segment:last-child h2{margin-bottom:2em}home>.ui.segment:last-child .ui.action.input{margin-bottom:1em}home .splash-bg{background-image:url(/assets/images/cloud-bg.jpg)!important;background-repeat:no-repeat!important;position:relative!important;background-position:center center!important;width:100%!important;background-size:cover!important;min-height:807px!important;max-height:960px}home .ui.stripe.segment{padding:6em 0}home .ui.stripe.segment h2{font-size:2em}home .ui.stripe.segment p{font-size:1.3em}blog-post h1,blog-post-thumbnail h1 a{color:orange}blog-post-thumbnail h1 a:hover{color:#ff8c00}blog-post-thumbnail h1 a:visited{color:#ff4500}blog-post .script{display:none}compiled-content section{margin-top:2em;padding-top:2em}compiled-content #content-masthead{margin-top:65px}compiled-content .featured-image{display:block;top:0;left:0;width:100%;height:auto;margin:auto;box-sizing:border-box}carbon-ui .main.demo{margin-right:318px}carbon-ui [data-tab=modules] .popup .position.example .segment{width:250px;height:250px;padding:0}carbon-ui [data-tab=modules] .popup .position.example .icon{margin:0;font-size:1.5em;height:auto}website header .ui.menu a.item.logo:hover{background:0 0}website header .mobile.only.row .vertical.menu{width:100%;margin-top:80px;display:block}app,website{display:-webkit-flex;display:-ms-flexbox}website header .mobile.only.row .ui.dropdown.item .menu{position:static;margin-top:15px}website header .ui.grid>*{padding-left:0;padding-right:0}website header .ui.menu{background-color:rgba(255,255,255,.9);background-image:linear-gradient(to bottom,#fff 0,rgba(255,255,255,0) 100%);border:1px solid #e9e9e9;box-shadow:0 0 5px 5px rgba(0,0,0,.2)}website header .ui.menu .item:first-of-type{color:#585a5a;padding-right:44px}footer .base22-logo img{width:130px}website{width:100%;-ms-flex:1 1 100%;flex:1 1 100%;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-ms-flex-align:center;align-items:center}website>.page-content{width:100%;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}website>.page-content .main{margin-top:6em}website>footer{width:100%;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}website .ui.menu a.logo{padding-left:0}website img.logo{margin-top:2px;margin-bottom:2px}website article.ui.vertical.segment{padding-bottom:56px}website p.larger{font-size:1.3em}website textarea.hidden{display:none}website code{padding:0 4px;background-color:#f2f2f2;border-radius:3px}website code,website pre{white-space:pre-wrap;word-wrap:break-word;word-spacing:0;font-size:13px;line-height:16px}app{width:100%;height:100%;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}app-dev,app-dev footer>.basic.segment{display:-webkit-flex;display:-ms-flexbox}app .big-stone{background-color:#363F48;color:#fff}app .big-stone1{background-color:#6C7680;color:#fff}app .big-stone2{background-color:#4F5A64;color:#fff}app .big-stone3{background-color:#1E272F;color:#fff}app .big-stone4{background-color:#13202C;color:#fff}app .french-gray{background-color:#BABCBE;color:#363F48}app .french-gray1{background-color:#FFF;color:#363F48}app .french-gray2{background-color:#EFEFEF;color:#363F48}app .french-gray3{background-color:#90959A;color:#363F48}app .french-gray4{background-color:#707A83;color:#363F48}app .vivid-violet{background-color:#7F4098;color:#fff}app .vivid-violet1{background-color:#C297D3;color:#fff}app .vivid-violet2{background-color:#9C63B2;color:#fff}app .vivid-violet3{background-color:#6B2886;color:#fff}app .vivid-violet4{background-color:#53156C;color:#fff}app .california{background-color:#F89728;color:#fff}app .california1{background-color:#FFC17A;color:#fff}app .california2{background-color:#FFAE51;color:#fff}app .california3{background-color:#D37507;color:#fff}app .california4{background-color:#A65900;color:#fff}app .bright-pink{background-color:#E20178;color:#fff}app .bright-pink1{background-color:#E95AA5;color:#fff}app .bright-pink2{background-color:#E52F8F;color:#fff}app .bright-pink3{background-color:#C8006A;color:#fff}app .bright-pink4{background-color:#9B0052;color:#fff}app .dull-lime{background-color:#53B948;color:#fff}app .dull-lime2{background-color:#7AD471;color:#fff}app .dull-lime3{background-color:#35A32A;color:#fff}app .dull-lime4{background-color:#1E8213;color:#fff}app .electric-blue{background-color:#0091CF;color:#fff}app .electric-blue1{background-color:#19B7FB;color:#fff}app .electric-blue2{background-color:#05B3FF;color:#fff}app .electric-blue3{background-color:#006997;color:#fff}app .electric-blue4{background-color:#005376;color:#fff}sidebar.ui.vertical.menu{margin:0;border-radius:0;width:300px;border-top:1px solid rgba(255,255,255,.0784314);border-right:1px solid rgba(255,255,255,.0784314)}sidebar.ui.vertical.menu .item.app .title{height:2em;line-height:2em}sidebar.ui.vertical.menu>div{padding-top:9px;padding-bottom:9px}sidebar.ui.vertical.menu>.divider,sidebar.ui.vertical.menu>.item{min-width:300px;overflow-x:visible}app-dev header .navigation.menu,sidebar.ui.vertical.menu>.active.item:last-child{border-radius:0}app-dev header .mobile.only.row .navigation.menu{margin:0}app-dev header .mobile.only.row .vertical.menu{border-radius:0;margin-top:0;border-top:1px solid #A9A9A9}app-dev footer>.basic.segment{height:100%;color:rgba(255,255,255,.6);display:flex;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;border:1px solid red}menu-bar .breadcrumb.steps{border:0;border-radius:0}menu-bar .breadcrumb.steps .step .title{font-weight:300}menu-bar .breadcrumb.steps .step.active .title{font-weight:500}menu-bar>.ui.menu{border-radius:0;min-height:54px}resultset-table .warning{background-color:#fafad2}resultset-table .success{background-color:#90ee90}sparql-response .accordion{padding:0!important}sparql-response .accordion>.content,sparql-response .accordion>.title{border:1px solid!important}sparql-response .accordion>.title{border-top-width:3px!important}sparql-response .accordion>.success{border-color:green!important}sparql-response .accordion>.error{border-color:red!important}.CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-ruler{border-left:1px solid #ccc;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:0;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important;-webkit-user-select:none;-moz-user-select:none;user-select:none}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-code{outline:0}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected,.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:0 0}.cm-s-mbo.CodeMirror{background:#2c2c2c;color:#ffffec}.cm-s-mbo div.CodeMirror-selected{background:#716C62}.cm-s-mbo .CodeMirror-line::selection,.cm-s-mbo .CodeMirror-line>span::selection,.cm-s-mbo .CodeMirror-line>span>span::selection{background:rgba(113,108,98,.99)}.cm-s-mbo .CodeMirror-line::-moz-selection,.cm-s-mbo .CodeMirror-line>span::-moz-selection,.cm-s-mbo .CodeMirror-line>span>span::-moz-selection{background:rgba(113,108,98,.99)}.cm-s-mbo .CodeMirror-gutters{background:#4e4e4e;border-right:0}.cm-s-mbo .CodeMirror-guttermarker{color:#fff}.cm-s-mbo .CodeMirror-guttermarker-subtle{color:grey}.cm-s-mbo .CodeMirror-linenumber{color:#dadada}.cm-s-mbo .CodeMirror-cursor{border-left:1px solid #ffffec}.cm-s-mbo span.cm-comment{color:#95958a}.cm-s-mbo span.cm-atom,.cm-s-mbo span.cm-number{color:#00a8c6}.cm-s-mbo span.cm-attribute,.cm-s-mbo span.cm-property{color:#9ddfe9}.cm-s-mbo span.cm-keyword{color:#ffb928}.cm-s-mbo span.cm-string{color:#ffcf6c}.cm-s-mbo span.cm-string.cm-property,.cm-s-mbo span.cm-variable{color:#ffffec}.cm-s-mbo span.cm-variable-2{color:#00a8c6}.cm-s-mbo span.cm-def{color:#ffffec}.cm-s-mbo span.cm-bracket{color:#fffffc;font-weight:700}.cm-s-mbo span.cm-tag{color:#9ddfe9}.cm-s-mbo span.cm-link{color:#f54b07}.cm-s-mbo span.cm-error{border-bottom:#636363;color:#ffffec}.cm-s-mbo span.cm-qualifier{color:#ffffec}.cm-s-mbo .CodeMirror-activeline-background{background:#494b41}.cm-s-mbo .CodeMirror-matchingbracket{color:#ffb928!important}.cm-s-mbo .CodeMirror-matchingtag{background:rgba(255,255,255,.37)}sparql-client .query-builder .queries-list>p{font-size:2em;color:#fff;padding:.5em}sparql-client .query-builder .queries-list .item .name{font-size:1.3em}sparql-client .query-builder .queries-list .item .operation{font-size:1em;font-family:monospace}sparql-client .query-builder .queries-list .item .operation.select{color:#6495ed}sparql-client .query-builder .queries-list .item .operation.describe{color:#9370db}sparql-client .query-builder .queries-list .item .operation.construct{color:#c71585}sparql-client .query-builder .queries-list .item .operation.ask{color:orange}app-detail .timer{font-size:10em}app-detail .no-apps.segment{color:#fff;font-size:1.3em}app-detail sparql-client .query-builder{color:#000}app-tile{margin-right:.5em;margin-bottom:.5em;border:1px solid red;background-color:#0aa}app-tile p.name{font-size:18px}app-dev{-ms-flex:1 1 100%;flex:1 1 100%;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}app-dev>header{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}app-dev>.page-content{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%}app-dev>.page-content>sidebar{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:250px}app-dev>.page-content>.dashboard-content{-webkit-flex:1;-ms-flex:1;flex:1;max-height:100%;width:62%;min-width:400px;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}app-dev>.page-content>.dashboard-content>.menu-bar{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:40px}app-dev>.page-content>.dashboard-content>.scrollable-content{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-x:hidden}app-dev>.page-content>.dashboard-content>.scrollable-content>*{-webkit-flex:1;-ms-flex:1;flex:1}app-dev>.page-content>.dashboard-content>.scrollable-content>.rendered-content{-webkit-flex:1;-ms-flex:1;flex:1;padding:5%}app-dev>.page-content>.dashboard-content>.scrollable-content>footer{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:69px}")})(function(factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=factory():factory()});
//# sourceMappingURL=main.sfx.js.map