<div class="ui main grid container">

	<div class="row">
		<div class="sixteen wide column">

			<div class="ui breadcrumb">
				<span class="section">Documentation</span>
				<i class="right chevron icon divider"></i>
				<span class="section">JavaScript SDK</span>
				<i class="right arrow icon divider"></i>

				<div class="active section">Getting Started</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="twelve wide computer twelve wide tablet sixteen wide mobile column">
			<main>
				<article class="ui vertical segment" id="article">

					<header>
						<h1 class="ui header">Getting started with the JavaScript SDK</h1>
					</header>

					<div class="ui icon yellow message">
						<i class="warning sign icon"></i>

						<div class="content">
							<div class="header">Pre-release Documentation</div>
							<p>
								Although Carbon LDP is not yet released, we're publishing documentation as it is prepared so that you can preview what's in store.
							</p>
						</div>
					</div>
					<div class="ui message">
						<div class="content">
							<p class="larger">
								This guide introduces you to the use of the Carbon JavaScript SDK. In it you will find an
								installing guide and the basic methods needed to start using our platform
							</p>
						</div>
					</div>
					<section>
						<h2 class="ui header">Prerequisite knowledge</h2>
						<p>
							To better understand this guide and its code examples, a working knowledge of the following prerequisite topics is required.
						</p>
						<ul>
							<li>
								<strong>HTML, CSS, JavaScript:</strong> See: <a class="outsidelink" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web">Mozilla Developer
								Network</a>.
							</li>
							<li>
								<strong>Promises:</strong> A standard-based way of handling asynchronous JavaScript logic.
								See: <a class="outsidelink" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise object</a> (Mozilla
								Developer Network).
							</li>
						</ul>
						<p>
							Additionally, knowledge on the following topics is highly recommended:
						</p>
						<ul>
							<li>
								<strong>TypeScript:</strong> Carbon's JavaScript SDK is written in TypeScript, a JavaScript
								superset language, maintained by Microsoft. See: <a class="outsidelink" target="_blank" href="http://www.typescriptlang.org/">TypeScript</a>.
							</li>
							<li>
								<strong>Package Managers:</strong> Carbon recommends <a class="outsidelink" target="_blank" href="http://jspm.io/">JSPM</a>
							</li>
							<li>
								<strong>ES2015 Modules:</strong> ES2015 modules let you "import" a file from another one so you can modularize
								your application. See: <a class="outsidelink" target="_blank" href="http://exploringjs.com/es6/ch_modules.html">Modules</a> (Exploring ES6, by Dr. Axel Rauschmayer)
							</li>
						</ul>
					</section>

					<section>
						<h2 class="ui header">Installing the SDK</h2>
						<p>
							Installing the SDK depends on what package manager you are using:
						</p>
						<div class="ui styled fluid accordion">
							<div class="title">
								<i class="dropdown icon"></i>
								Package manager?
							</div>
							<div class="content">
								<p>If you are not using a package manager you can clone the source code with the following command:</p>
								<pre><code cphighlight class="bash">
									git clone https://github.com/CarbonLDP/CarbonLDP-JS-SDK.git
								</code></pre>
								<p>It already includes a pre-compiled version of the source code so you can just jump right in.</p>
							</div>
							<div class="active title">
								<i class="dropdown icon"></i>
								npm
							</div>
							<div class="active content">
								<pre><code cphighlight class="bash">
									npm install carbonldp --save
								</code></pre>
							</div>
							<div class="title">
								<i class="dropdown icon"></i>
								jspm
							</div>
							<div class="content">
								<!--@formatter:off-->
								<pre><code cphighlight class="bash">
									jspm install npm:carbonldp
									# We also need to install one of carbonldp's dependencies
									jspm install npm:jsonld
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>After it has been installed, the way you'll use it will depend on your development environment:</p>
						<div class="ui styled fluid accordion">
							<div class="title">
								<i class="dropdown icon"></i>
								Browser - Global Window Object
							</div>
							<div class="content">
								<p>The SDK comes with a bundled version that you can import directly into your html:</p>
								<!--@formatter:off-->
								<pre><code cphighlight class="html">
									&lt;script src="--sdk-directory--/dist/bundles/Carbon.sfx.js"&gt;&lt;/script&gt;
								</code></pre>
								<!--@formatter:on-->
								<p>
									After that, a variable named <code>Carbon</code> will be accessible in the global scope. This variable will serve as both a class constructor
									and a namespace. It's usage as a class constructor is the same as when using ES2015 Modules, but its namespace nature is unique to the Global
									approach.
								</p>
								<h3>Carbon Variable as a Namespace</h3>
								<p>
									The <code>Carbon</code> object chains together all the Carbon modules, so you can access them even if you are using the Global approach.
									Each time you see in an example something like:
								</p>
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									import * as Errors from "carbonldp/HTTP/Errors";
								</code></pre>
								<!--@formatter:on-->
								<p>
									You can take the portion after <code>carbonldp/</code>, replace the <code>/</code>s with <code>.</code> and append that to the Carbon namespace
									to access the same module. For example, accessing that module using the global namespace would be:
								</p>
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									Carbon.HTTP.Errors
								</code></pre>
								<!--@formatter:on-->
							</div>
							<div class="active title">
								<i class="dropdown icon"></i>
								Browser - ES2015 Modules
							</div>
							<div class="active content">
								<p>
									To be able to use ES2015 modules a transpiler like Babel, Traceur or TypeScript needs to be used. This documentation won't cover the details of
									setting one up, but we recommend using <a class="outsidelink" target="_blank" href="http://jspm.io/">JSPM</a> as a package manager, configured to use
									<a class="outsidelink" target="_blank" href="http://www.typescriptlang.org/">TypeScript</a> as a transpiler. That way you can use ES2015 features and bundle your
									dependencies together!
								</p>
								<p>
									Each module in Carbon will export at least one named export. Some of the modules will also export a <code>default</code> export containing the "main"
									export of the module. That export will also be available as the named export <code>Class</code>. For example:
								</p>
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// This:
									import Document from "carbonldp/Document";
									let myDocument:Document = new Document();

									// Is the same as this:
									import * as Document from "carbonldp/Document";
									let myDocument:Document.Class = new Document.Class();
								</code></pre>
								<!--@formatter:on-->
								<p>We recommend not using default exports, but we provide them in case you are only using the "main" export of a file.</p>
								<p>
									The semantics behind Carbon's modules are based on the usage of the import all statement. Still, you can use selective
									imports but you'll likely need to rename the import variables like:
								</p>
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									import { Factory as DocumentFactory, Class as Document } from "carbonldp/Document";
								</code></pre>
								<!--@formatter:on-->
								<p>
									For each folder inside the Carbon source, there is a module at the same level with the same name that exports everything contained by the folder.
									Example:
								</p>
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									import * as Errors from "carbonldp/HTTP/Errors";
									import * as Request from "carbonldp/HTTP/Request";

									import * as HTTP from "carbonldp/HTTP";

									HTTP.Errors === Errors; // true
									HTTP.Request === Request; // true
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>

						<p>
							Before you can save data in Carbon, you need to create an application. Click <a target="_blank" [routerLink]="['/AppDev/MyApps/Create']">here</a> if you haven't done it.
						</p>
					</section>

					<section>
						<h2 class="ui header">Creating contexts</h2>
						<p>
							Now that you have your brand new app (if you don't have your app yet, please
							<a target="_blank" [routerLink]="['/AppDev/MyApps/Create']">create it</a>!). Let's start with some basic things you can do, like creating,
							saving, linking <span class="highlight">documents</span>, etc.
						</p>

						<p>
							First of all, you need to create a <span class="highlight">Carbon platform context</span>. This
							<span class="highlight">context</span> will provide a reference to the
							<span class="highlight">Carbon platform instance</span> you are working with (for more
							about Carbon contexts see: <a [routerLink]="['../JavaScriptSDKContexts']">Contexts</a>).
						</p>

						<p>
							Then you need an <span class="highlight">application</span>
							<a [routerLink]="[ '../JavaScriptSDKContexts' ]">context</a> that references the
							<span class="highlight">application</span> on which you will be working on. The
							<span class="highlight">app context</span> is retrieved from your previously created
							<span class="highlight">application</span>.
						</p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>
							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									import * as App from "carbonldp/App";
									import Carbon from "carbonldp/Carbon";

									let carbon:Carbon = new Carbon(); // platform context
									let myAppContext:AppContext;

									carbon.apps.get( "your-app-slug-here/" ).then( ( appContext:App.Context ) => {
									    myAppContext = appContext; //retrieving your app context
									}).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									let carbon = new Carbon(); // platform context
									let myAppContext;

									carbon.apps.get( "your-app-slug-here/" ).then( function( appContext ) {

									    myAppContext = appContext; // retrieving your app context

									} ).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>
							Be sure to replace <code>your-app-slug-here/</code> with your app slug.
						</p>
						<p>
							The <code>apps.get()</code> method returns a promise that when resolved, will give you the
							<a [routerLink]="[ '../JavaScriptSDKContexts' ]"><span class="highlight">app context</span>
							</a> you need.
						</p>

					</section>

					<section>
						<h2 class="ui header">Creating a document</h2>
						<p>
							Now that you have your app context, you can start working with your app's data. Carbon stores data
							in documents which are basically a normal JavaScript object identified by a URI. These documents are
							composed by properties, <span class="highlight">fragments</span> and <span class="highlight">named fragments</span>.
							For more information see: <a [routerLink]="[ '../JavaScriptSDKObjectModel' ]">JavaScript SDK Object model</a>.
						</p>
						<p>
							Any carbon <span class="highlight">context</span> has a <code>documents</code> service that
							helps you manage your documents. To create a document we need to call the method <code>createChild</code> of this service:
						</p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>
							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// ... additional imports
									import * Response from "carbonldp/HTTP/Response";
									import * Pointer from "carbonldp/Pointer";

									let myAppContext:AppContext;

									// ... app context retrieval

									// JavaScript object to be persisted as a Carbon document
									let project:any = {
										name: "Project X",
										tasks: [
											{
												name: "Task 1",
												dueDate: new Date( "2016-04-02" )
											},
											{
												name: "Task 2",
												dueDate: new Date( "2016-04-08" )
											}
										]
									};

									myAppContext.documents.createChild( "/", project ).then(
										( [ projectPointer, response ]:[ Pointer.Class, Response.Class ] ) => {
											console.log( project === projectPointer ); // true
											console.log( project.id ); // document's URI
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// ... imports

									let myAppContext;

									// ... app context retrieval

									// JavaScript object to be persisted as a Carbon document
									let project = {
										name: "Project X",
										tasks: [
											{
												name: "Task 1",
												dueDate: new Date( "2016-04-02" )
											},
											{
												name: "Task 2",
												dueDate: new Date( "2016-04-08" )
											}
										]
									};

									myAppContext.documents.createChild( "/", project ).then(
										( [ projectPointer, response ] ) => {
											console.log( project === projectPointer ); // true
											console.log( project.id ); // document's URI
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>
							After executing that, the information inside of <code>project</code> will have been persisted in Carbon. Nested objects
							will also be saved inside of the document, so pretty much any json object can be saved as a Carbon document (as long as
							the json's information is contained inside of an object, not an array).
						</p>
						<p>
							Notice that the promise returned by <code>createChild</code> is returning a <code>Pointer.Class</code> object. This type
							of objects "point" to a persisted document in Carbon. They can be resolved to retrieve their information as we will see
							later on.
						</p>
						<p>
							If you've just executed this, you'll notice that the document's id (or URI) ends with something like <code>1264563453436/</code>.
							Carbon automatically assigns URIs to newly created documents. If you want to customize the ending portion of the URI,
							a third parameter can be passed to the <code>createChild</code> method. This parameter is called <code>slug</code>
							and it serves as a suggestion for Carbon when forging the document's URI:
						</p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>
							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// ...

									myAppContext.documents.createChild( "/", project, "My sUp4 Project!" ).then(
										( [ projectPointer, response ]:[ Pointer.Class, Response.Class ] ) => {
											console.log( project.id ); // .../my-supa-project/
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// ...

									myAppContext.documents.createChild( "/", project, "My sUp4 Project!" ).then(
										( [ projectPointer, response ] ) => {
											console.log( project.id ); // .../my-supa-project/
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
					</section>
					<section>
						<h2 class="ui header">Retrieving a document</h2>
						<p>
							Documents can be retrieved by their URIs or by following other documents' links. In fact, you can paste the <code>id</code>
							you just retrieved when persisting your first document in your browser and you should receive an <code>XML</code>
							representation of it.
						</p>
						<p>
							Like creating documents, retrieving them can be done using the <code>documents</code> service inside of any Carbon context.
							To do so, you can use its <code>get</code> method:
						</p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>
							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// ... additional imports
									import * Response from "carbonldp/HTTP/Response";
									import * PersistedDocument from "carbonldp/PersistedDocument";

									let myAppContext:AppContext;

									// ... app context retrieval

									// ID of the Carbon document you want to retrieve
									let projectID:string = "https://example.com/your-document-id/";

									myAppContext.documents.get( projectID ).then(
										( [ project, response ]:[ PersistedDocument.Class, Response.Class ] ) => {
											console.log( project.name ); // "Project X"
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// ... imports

									let myAppContext;

									// ... app context retrieval

									// ID of the Carbon document you want to retrieve
									let projectID = "https://example.com/your-document-id/";

									myAppContext.documents.get( projectID ).then(
										( [ project, response ] ) => {
											console.log( project.name ); // "Project X"
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>
							In this example we used the id of the document, but there are times that instead of having the id, you have a
							<code>Pointer.Class</code> object. This can happen for example when a document points to another document through a property,
							or as soon as you create a document and receive a pointer back. These pointers have a <code>resolve</code> method
							that helps you retrieve their information:
						</p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>
							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// ... additional imports
									import * Response from "carbonldp/HTTP/Response";
									import * PersistedDocument from "carbonldp/PersistedDocument";
									import * Pointer from "carbonldp/Pointer";

									let projectPointer:Pointer.Class;

									// ... document pointer acquisition

									projectPointer.resolve().then(
										( [ project, response ]:[ PersistedDocument.Class, Response.Class ] ) => {
											console.log( project.name ); // "Project X"
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// ... imports

									let projectPointer;

									// ... document pointer acquisition

									projectPointer.resolve().then(
										( [ project, response ] ) => {
											console.log( project.name ); // "Project X"
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>
							As you can see, <code>Pointer.Class</code> objects have two states, resolved and unresolved. When a pointer
							isn't resolved it doesn't contain the document's information (or it may be just out of sync with the server)
							but it can be used to link other documents to it as we'll see later, or you can also use its
							<code>resolve</code> method to retrieve its information.
						</p>
					</section>

					<section>
						<h2 class="ui header">Modifying and saving a document</h2>

						<p>
							All <span class="highlight">documents</span> in <span class="highlight">Carbon</span> can
							be modified. However all the changes done to a <span class="highlight">document</span>,
							are done in memory. To persist the modifications the
							<span class="highlight">documents</span> need to be saved.
						</p>

						<p>To modify a document you should:</p>
						<ul>
							<li>Retrieve the <span class="highlight">document</span>:
								<ul>
									<li><code>get()</code> using the <span class="highlight">document</span> id as
										describe in <span class="sectionlink"><a href="#retrieving-a-document">retrieving a document</a></span>
									</li>
								</ul>
							</li>
							<li>Modify the <span class="highlight">document</span>: Add, modify or delete
								<span class="highlight">properties</span>,
								<span class="highlight">fragments</span>,
								<span class="highlight">named fragments</span>.
							</li>
							<li>Save the changes through <code>document.save()</code> method.</li>
						</ul>
						<p>
							Document properties can be added/modified/removed as with any normal JavaScript object.
						</p>

						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>

							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// ... imports

									let project:PersistedDocument.Class;

									// ... document retrieval

									project.name = "Project's New Name";
									project.task.push( {
										name: "Task 3",
										dueDate: new Date( "2016-05-02" )
									} );
									project.description = {
										type: "markdown",
										content: "# Some description here"
									};

									project.save().then(
										( [ projectPointer, response ]:[ Pointer.Class, Response.Class ] ) => {
											console.log( projectPointer === project );
											return projectPointer.refresh();
										}
									).then(
										( [ projectPointer, response ]:[ PersistedDocument.Class, Response.Class ] ) => {
											// Continue doing stuff...
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>

							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// ... imports

									let project:PersistedDocument.Class;

									// ... document retrieval

									project.name = "Project's New Name";
									project.task.push( {
										name: "Task 3",
										dueDate: new Date( "2016-05-02" )
									} );
									project.description = {
										type: "markdown",
										content: "# Some description here"
									};

									project.save().then(
										( [ projectPointer, response ]:[ Pointer.Class, Response.Class ] ) => {
											console.log( projectPointer === project );
											return projectPointer.refresh();
										}
									).then(
										( [ projectPointer, response ]:[ PersistedDocument.Class, Response.Class ] ) => {
											// Continue doing stuff...
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>
							Notice that we used the <code>save</code> method and immediately after, we called another method that we haven't
							talked about, <code>refresh</code>. Every persisted document has this method and it helps you sync the in memory
							representation of the document with the server's information. In this case we used it because after the document was
							saved, Carbon could have added or modified some of its properties (noticeably properties like <code>modified</code>).
						</p>
						<p>
							This is a very common thing to do, therefore persisted documents also have the method <code>saveAndRefresh</code>
							which do both things at once.
						</p>
					</section>

					<section>
						<h2 class="ui header">Deleting a document</h2>
						<p>
							As when creating and retrieving documents, the <code>documents</code> service can help you
							delete a persisted document through its <code>delete</code> method. To do so, you need to
							provide the document's URI:
						</p>

						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>

							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// ... additional imports
									import * Response from "carbonldp/HTTP/Response";

									let myAppContext:AppContext;

									// ... app context retrieval

									// ID of the Carbon document you want to delete
									let projectID:string = "https://example.com/your-document-id/";

									myAppContext.documents.delete( projectID ).then(
										( response:Response.Class ) => {
											// continue doing stuff...
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>

							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">
									// ... imports

									let myAppContext;

									// ... app context retrieval

									// ID of the Carbon document you want to delete
									let projectID = "https://example.com/your-document-id/";

									myAppContext.documents.delete( projectID ).then(
										( response ) => {
											// continue doing stuff...
										}
									).catch( console.error );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
						<p>
							Like in retrieving a document, a document can also be deleted through a pointer. To do that,

						</p>
					</section>

					<section>
						<h2 class="ui header">Linking documents</h2>

						<p><span class="highlight">Carbon documents</span> can be related to other
							<span class="highlight">documents</span> through their
							<span class="highlight">properties</span>. These <span class="highlight">properties</span>
							can be defined manually, however, to simplify the relation management
							<span class="highlight">Carbon</span> handles specific
							<span class="highlight">properties</span> such as <code>contains</code>
							and <code>members</code>, belonging to the
							<span class="highlight">parent-child relation</span> and
							<span class="highlight">membership relation</span> respectively.
							<span class="highlight">Carbon</span> provides you with methods to handle both, these
							<span class="highlight">properties</span> and the
							<span class="highlight">list of documents</span> related through them.
						</p>

						<section>
							<h3 class="ui header">Parent-child Relation</h3>
							<p>
								The <span class="highlight">parent child relation</span> exists as a rule for all
								<span class="highlight">documents</span> and is automatically maintained by
								<span class="highlight">Carbon</span> as a <span class="highlight">hard link</span>
								between two <span class="highlight">documents</span>. A
								<span class="highlight">hard link</span> is related to the data structure in
								<span class="highlight">Carbon</span>, when a
								<span class="highlight">document</span> is deleted all its
								<span class="highlight">child documents</span> will be deleted as well.

								When a new <span class="highlight">document</span> is persisted, the
								<span class="highlight">parent-child relation</span> is created. Allowing you to
								obtained all the <span class="highlight">documents</span> created as children
								of any given <span class="highlight">document</span>, in the form of
								<span class="highlight">pointers</span>. This can be accomplished through
								the methods:
							</p>
							<ul>
								<li><code>listChildren</code>: Return all the children of the
									<span class="highlight">container</span> specified.
								</li>
								<li><code>getChildren</code>: Retrieves all the children of a
									<span class="highlight">document</span> and their content.
								</li>
							</ul>

							<p>From <a target="_blank"
							           href="https://github.com/CarbonLDP/CarbonLDP-JS-SDK/tree/develop/doc#Carbon-Documents">Carbon.Documents</a>
								class.</p>

							<div>
								<div class="ui top attached tabular menu">
									<a class="item active" data-tab="typescript">TypeScript</a>
									<a class="item" data-tab="javascript">JavaScript</a>
								</div>

								<div class="ui bottom attached tab segment active" data-tab="typescript">
									<!--@formatter:off-->
									<pre><code cphighlight class="typescript">
										// imports

										// declarations

										platformContext.apps.getAppContext( "your-app-slug/" ).then(
										    ( appContext:App.Context ) => {
										        myAppContext = appContext;

										        myAppContext.documents.getChildren( "parentURI" ).then(
										        ( [ children, response ] : [ PersistedDocument.Class[], HTTP.Response.Class] ) => {
										            console.log( children );
										        });

										        myAppContext.documents.listChildren( "parentURI" ).then(
										        ( [ Children, response ] : [ Pointer.Class[], HTTP.Response.Class]) => {
										            console.log( "list of children:", children );
										        });
										});
									</code></pre>
									<!--@formatter:on-->
								</div>

								<div class="ui bottom attached tab segment" data-tab="javascript">
									<!--@formatter:off-->
									<pre><code cphighlight class="javascript">
										// declarations

										platformContext.apps.getAppContext( "your-app-slug/" ).then(
										    function( appContext ){

										        myAppContext = appContext;

										        myAppContext.documents.getChildren( "parentURI" ).then(
										        function( [ children, response ] ){
										            console.log( children );
										        });

										        myAppContext.documents.listChildren( "parentURI" ).then(
										        function( [ Children, response ] ){
										            console.log( "list of children:", children );
										        });

										});
									</code></pre>
									<!--@formatter:on-->
								</div>
							</div>

						</section>

						<section>
							<h3 class="ui header">Membership Relation</h3>

							<p>The <span class="highlight">membership relation</span> is a
								<span class="highlight">property</span> that exists in all
								<span class="highlight">Carbon documents</span> that relates
								<span class="highlight">documents</span> with other
								<span class="highlight">documents through</span> a
								<span class="highlight">soft link</span>. All
								<span class="highlight">Carbon documents</span> can manage one member
								<span class="highlight">list</span> per <span class="highlight">document</span>.
								<span class="highlight">Members</span> can be added to, removed from, listed or
								retrieved using these methods.
							</p>

							<ul>
								<li><code>addMember</code> | <code>addMembers</code>: Add the specified
									<span class="highlight">resource/resources</span> <a class="outsidelink" target="_blank"
									                                                     href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
									>URIs</a> or <span class="highlight">pointers</span> as
									<span class="highlight">member/members</span> of the
									<span class="highlight">document</span> container specified.
								</li>
								<li><code>removeMember</code> | <code>removeMembers</code>: Remove the specified
									<span class="highlight">resource/resources</span> <a class="outsidelink" target="_blank"
									                                                     href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
									>URIs</a> or <span class="highlight">pointers</span> as
									<span class="highlight">member/members</span> of the
									<span class="highlight">document</span> container specified.
								</li>
								<li><code>removeAllMembers</code>: Remove all the
									<span class="highlight">members</span> of the <span class="highlight">document</span>
									container specified.
								</li>
								<li><code>listMembers</code>: Retrieves all the <span class="highlight">members</span>
									of a <span class="highlight">document</span> with out resolving them.
								</li>
								<li><code>getMembers</code>: Retrieves all the <span class="highlight">members</span>
									of a <span class="highlight">document</span> and their contents.
								</li>
							</ul>

							<p>From <a>Carbon.Documents</a> class.</p>

							<div>
								<div class="ui top attached tabular menu">
									<a class="item active" data-tab="typescript">TypeScript</a>
									<a class="item" data-tab="javascript">JavaScript</a>
								</div>

								<div class="ui bottom attached tab segment active" data-tab="typescript">
									<!--@formatter:off-->
									<pre><code cphighlight class="typescript">
										// imports

										// declarations

										platformContext.apps.getAppContext( "your-app-slug/" ).then(
										    ( appContext:App.Context ) =>{
										        myAppContext = appContext;

										        myAppContext.documents.listMembers( "parentURI/" ).then(
										            ( [members, response]:[Pointer.Class[], Response.Class] ) =>{
										                let myPromises:Promise&lt;Response.Class&gt;[] = [];

										                console.log( "members: ", members );
										                    // members: member4, member1, member3, member2

										                myPromises.push( myAppContext.documents.addMember("parentURI/", "memberToAddURI/"));
										                myPromises.push( myAppContext.documents.removeMember("parentURI/", "member2/"));

										                return Promise.all( myPromises );

										        }).then( ( responses:Response.Class[] ) => {
										            myAppContext.documents.listMembers( "parentURI" ).then(
										                ( [ members, response ] : [ Pointer.Class[], Response.Class ] ) =>{

										                    console.log( "members: ", members );
										                        // members: member1, member4, memberToAddURI, member3
										        });
										});
									</code></pre>
									<!--@formatter:on-->
								</div>

								<div class="ui bottom attached tab segment" data-tab="javascript">
									<!--@formatter:off-->
									<pre><code cphighlight class="javascript">
										// declarations

										platformContext.apps.getAppContext( "your-app-slug/" ).then(

										    function( appContext ){
										        myAppContext = appContext;

										        myAppContext.documents.listMembers( "parentURI/" ).then(
										            function( [members, response] ){
										                let myPromises = [];

										                console.log( "members: ", members );
										                    // members: member4, member1, member3, member2

										                myPromises.push( myAppContext.documents.addMember("parentURI/", "memberToAddURI/"));
										                myPromises.push( myAppContext.documents.removeMember("parentURI/", "member2/"));

										                return Promise.all( myPromises );

										        }).then( function( responses ){
										            myAppContext.documents.listMembers( "parentURI" ).then(
										                function( [ members, response ] ){

										                    console.log( "members: ", members );
										                        // members: member1, member4, memberToAddURI, member3
										        });

										});
									</code></pre>
									<!--@formatter:on-->
								</div>
							</div>

						</section>


					</section>


					<section>
						<h2 class="ui header">Creating an access point</h2>
						<p>
							As mentioned in the previous section, <span class="highlight">documents</span> can handle
							up to one <span class="highlight">member relation</span> within them. To manage several
							<span class="highlight">member relations</span> <span class="highlight">documents</span>
							need the help of <span class="highlight">access points</span>.
						</p>

						<p>
							First you need to create the <span class="highlight">access point</span> in memory.
							Like a <span class="highlight">document</span>, an <span class="highlight">access point</span>
							can be created as a new empty <span class="highlight">access point</span> or from a pre
							existing JavaScript object with any number of <span class="highlight">properties</span>,
							using the methods:
						</p>
						<ul>
							<li><code>create()</code> creates an <span class="highlight">access point</span></li>
							<li><code>createFrom()</code> creates an <span class="highlight">access point</span> from a JavaScript object</li>
						</ul>
						<p>
							From the <a target="_blank"
							            href="https://github.com/CarbonLDP/CarbonLDP-JS-SDK/tree/develop/doc#Carbon-AccessPoints">Carbon.AccessPoint.Factory</a>
							class. Both of these methods have two required parameters and an optional one:
						</p>
						<ul>
							<li><code>membershipResource</code></li>
							<li><code>hasMemberRelation</code></li>
							<li><code>memberOfRelation</code>(optional)</li>
						</ul>
						<p></p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>

							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// imports

									// declarations
									let myObject:Object  = { name: "myNieces", description: "All the nieces of myParent."};
									let myAccessPoint:AccessPoint.Class;
									let nephews:AccessPoint.Class;
									let nieces:AccessPoint.Class;

									// create() create an in memory access point
									myAccess = AccessPoint.Factory.create( myParent, "documentRelation", "inverseDocumentRelation" );
									nephews = AccessPoint.Factory.create( myParent, "nephew", "uncle" );

									// createFrom() create an in memory access point from an object.
									nieces = AccessPoint.Factory.createFrom( myObject, myParent, "niece", "aunt" );
								</code></pre>
								<!--@formatter:on-->
							</div>

							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">

									// declarations
									let myObject = { name: "myNieces", description: "All the nieces of myParent."};
									let myAccess;
									let nephews;
									let nieces;


									// create() create an in memory access point
									myAccess = AccessPoint.Factory.create( myParent, "documentRelation", "inverseDocumentRelation" );
									nephews = AccessPoint.Factory.create( myParent, "nephew", "uncle" );

									// createFrom() create an in memory access point from an object.
									nieces = AccessPoint.Factory.createFrom( myObject, myParent, "niece", "aunt" );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>

					</section>

					<section>
						<h2 class="ui header">Persisting an access point</h2>
						<p>After creating an <span class="highlight">access point</span> in memory it must be persisted.</p>
						<p>Now that you have an <span class="highlight">access point</span> object you can create a
							<span class="highlight">persisted access point</span>, by passing it to the <code>createAccessPoint()</code>
							method from
							<a target="_blank"
							   href="https://github.com/CarbonLDP/CarbonLDP-JS-SDK/tree/develop/doc#Carbon-Documents">Carbon.Documents</a>
							class. This methods will create a <span class="highlight">persisted access point</span> for
							a <span class="highlight">document specified</span> in the "parent" <a class="outsidelink" target="_blank"
							                                                                       href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
							>URI</a> passed as a parameter. Remember this <a class="outsidelink" target="_blank"
							                                                 href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
							>URI</a> must match the <a class="outsidelink" target="_blank"
							                           href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
							>URI</a> of the <span class="highlight">membership resource</span> defined in the
							<span class="highlight">access point</span> in memory. You can also call this method from a
							<span class="highlight">persisted document</span> with the same name method, <code>createAccessPoint()</code> from
							<a target="_blank"
							   href="https://github.com/CarbonLDP/CarbonLDP-JS-SDK/tree/develop/doc#Carbon-PersistedDocument">Carbon.PersistedDocument.Factory</a> class.</p>

						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="typescript">TypeScript</a>
								<a class="item" data-tab="javascript">JavaScript</a>
							</div>

							<div class="ui bottom attached tab segment active" data-tab="typescript">
								<!--@formatter:off-->
								<pre><code cphighlight class="typescript">
									// imports

									let myPersistedDocument:PersistedDocument.Class;
									let myParent:Pointer.Class;
									let myAccessPoint:AccessPoint.Class;

									// create() access point in memory
									myAccessPoint = AccessPoint.Factory.create( myParent, "documentRelation", "inverseDocumentRelation" );

									// createAccessPoint() creates a persisted access point from an in memory access point
									AppContext.documents.createAccessPoint( "parentURI" , myAccessPoint );

									// createAccessPoint() creates a persisted access point for a persisted document
									myPersistedDocument.createAccessPoint( myAccessPointObject );
								</code></pre>
								<!--@formatter:on-->
							</div>

							<div class="ui bottom attached tab segment" data-tab="javascript">
								<!--@formatter:off-->
								<pre><code cphighlight class="javascript">

									let myPersistedDocument;
									let myParent;
									let myAccessPoint;


									// create() access point in memory
									myAccessPoint = AccessPoint.Factory.create( myParent, "documentRelation", "inverseDocumentRelation" );

									// createAccessPoint() creates a persisted access point from an in memory access point
									AppContext.documents.createAccessPoint( "parentURI" , myAccessPoint );

									// createAccessPoint() creates a persisted access point for a persisted document
									myPersistedDocument.createAccessPoint( myAccessPointObject );
								</code></pre>
								<!--@formatter:on-->
							</div>
						</div>
					</section>
					<section>
						<h2 class="ui header">Conclusion</h2>
						<p>Reviewing everything we learn. We are going to maintain information for patients and doctor of Carbon Hospital</p>

						<ul>
							<li>Creating data</li>
							<ul>
								<li><a target="_blank" [routerLink]="['/AppDev/MyApps/Create']">Create an application</a>: <code>carbon-hospital/</code>.</li>
								<li>Create documents for:</li>
								<ul>
									<li>patients: John Doe, John Jr. Doe, Jane Doe, Mary Smith</li>
									<li>doctors: John Stevenson, Jane Grey, Alex Karev</li>
								</ul>
								<li>Create access points for each doctor to maintain a list of patients</li>
								<li>Create access points for each patient to maintain a list of doctors</li>
							</ul>
							<li>Modifying data</li>
							<ul>
								<li>Add a named fragment: "medical-history" to all the patients' documents.</li>
								<li>Add properties to Jane Doe.</li>
								<li>Add John Jr as a member of Dr Alex Karev's and Dr Violet Grey patients list, viceversa</li>
								<li>Add John and Mary as members of Dr James Stevenson' patients list.</li>
							</ul>
							<li>Retrieving data</li>
							<ul>
								<li>List all child documents of the application's root document.</li>
								<li>Get all child documents of <code>patients/</code>.</li>
								<li>For each child document in <code>patients/</code>: list all members of access point: <code>doctors/</code></li>
							</ul>
						</ul>
						<p>Remember all changes or additions in Carbon documents must be saved, for the to be persisted.</p>
						<div>
							<div class="ui top attached tabular menu">
								<a class="item active" data-tab="creating-data">Creating Data</a>
								<a class="item" data-tab="modifying-data">Modifying Data</a>
								<a class="item" data-tab="retrieving-data">Retrieving Data</a>
							</div>

							<div class="ui bottom attached tab segment active" data-tab="creating-data">
								<div>
									<div class="ui top attached tabular menu">
										<a class="item active" data-tab="typescript">TypeScript</a>
										<a class="item" data-tab="javascript">JavaScript</a>
									</div>

									<div class="ui bottom attached tab segment active" data-tab="typescript">
										<!--@formatter:off-->
										<pre><code cphighlight class="typescript">
											import * as HTTPErrors from "carbonldp/HTTP/Errors";
											import * as Pointer from "carbonldp/Pointer";
											import * as Response from "carbonldp/HTTP/Response";
											import * as App from "carbonldp/App";
											import Carbon from "carbonldp/Carbon";

											let platformContext:Carbon = new Carbon(); // platform context

											platformCarbon.setSetting( "domain", "carbonserver.com" );// location of carbon server
											platformCarbon.auth.authenticate( "user@email.com", "password" )
											.then( ( credentials:Credentials ) => {

												let myAppContext:AppContext;

												let patients = { description: "patients of Carbon Memorial Hospital" };
												let doctors = { description: "doctors of Carbon Memorial Hospital" };

												let myPatients:Pointer.Class[];
												let myDoctors:Pointer.Class[];

												// Retrieve your application context
												platformContext.apps.getContext( "carbon-hospital-database/" ).then(
													( appContext:App.Context ) => {
													    myAppContext = appContext;

														// Create patients as a child of the root document
														return myAppContext.documents.createChild( "/", "patients", patients );

												}).then(([document, response]:[ Pointer.Class, Response.Class ]) => {

													let myPromises:Promise&lt;Response.Class&gt;[] = [];

													// Create four documents as children of patients document.
												    myPromises.push(
														myAppContext.documents.createChild( document.id,
																							{ name: "John",
																							lastName: "Doe",
																							dateOfBirth: new Date("06/20/1988"),
																							bloodType: "O+" } ));
													myPromises.push(
														myAppContext.documents.createChild( document.id, { name: "Jane",
																											lastName: "Doe",
																											bloodType: "A+"} ));
													myPromises.push(
														myAppContext.documents.createChild( document.id, { name: "John Jr",
																											lastName: "Doe",
																											bloodType: "A+"} ));
													myPromises.push(
														myAppContext.documents.createChild( document.id, { name: "Mary",
																											lastName: "Smith",
																											bloodType: "O+" }));

												    return Promise.all( myPromises );

												}).then(( serverResponses :[ Pointer.Class, Response.Class ][]) => {

													// store patient's document pointers to be used later on
													myPatients = serverResponses.map(
														([ document, response ]:[Pointer.Class, Response.Class]) => document);

													// create doctors document as a child of the root document
													return myAppContext.documents.createChild( "/", "doctors", doctors );

												}).then(([document, response]:[ Pointer.Class, Response.Class ]) => {

													let myPromises:Promise&lt;Response.Class&gt;[] = [];

													// Create four documents as children of doctors document.
												    myPromises.push( myAppContext.documents.createChild( document.id,
																										{ name: "James",
																										lastName: "Stevenson",
																										specialty: "cardiology" }));
													myPromises.push( myAppContext.documents.createChild( document.id,
																										{ name:  "Violet",
																										lastName: "Grey",
																										specialty: "general surgery" }));
													myPromises.push( myAppContext.documents.createChild( document.id,
																										{ name: "Alex",
																										lastName: "Karev",
																										specialty: "pediatrics"}));

												    return Promise.all( myPromises );

												}).then(( serverResponses :[ Pointer.Class, Response.Class ][] ) => {

													// store document pointers to be used later on
													myDoctors = serverResponses.map(
														([ document, response ]:[Pointer.Class, Response.Class]) => document);

													// for each doctor document create an access point to maintain a patient's list
													myDoctors.forEach( (doctor:Pointer.Class) => {
														let accessPoint = AccessPoint.Factory.create(doctor, "patient", "doctor" );
														myAppContext.documents.createAccessPoint( accessPoint, "patients");
													});

													// for each patient document create an access point to maintain a doctor's list
													myPatients.forEach((patient:Pointer.Class)=> {
														let accessPoint = AccessPoint.Factory.create(patient, "doctor", "patient" );
														myAppContext.documents.createAccessPoint( accessPoint, "doctors");
													});
												});
											}).catch( ( error:HTTPErrors.Error )=> {
												console.error( error );
											} );

										</code></pre>
										<!--@formatter:on-->
									</div>

									<div class="ui bottom attached tab segment" data-tab="javascript">
										<!--@formatter:off-->
										<pre><code cphighlight class="javascript">
											let platformContext = new Carbon(); // platform context

											platformCarbon.setSetting( "domain", "carbonserver.com" );// location of carbon server

											platformCarbon.auth.authenticate( "user@email.com", "password" ).then(
												function( credentials:Credentials ){

												let myAppContext;

												let patients = { description: "patients of Carbon Memorial Hospital" };
												let doctors = { description: "doctors of Carbon Memorial Hospital" };
												let myPatients:Pointer.Class[];
												let myDoctors:Pointer.Class[];

												// Retrieve your application context
												platformContext.apps.getContext( "carbon-hospital-database/" ).then(
													function( appContext ){
													    myAppContext = appContext; // retrieving you app context

														// Create patients as a child of the root document
														return myAppContext.documents.createChild( "/", "patients", patients );

												}).then(function([document, response]){
													let myPromises:Promise&lt;Response.Class&gt;[] = [];

													// Create four documents as children of patients document.
												    myPromises.push(
														myAppContext.documents.createChild( document.id,
																							{ name: "John",
																							lastName: "Doe",
																							dateOfBirth: new Date("06/20/1988"),
																							bloodType: "O+" } ));
													myPromises.push(
														myAppContext.documents.createChild( document.id, { name: "Jane",
																											lastName: "Doe",
																											bloodType: "A+"} ));
													myPromises.push(
														myAppContext.documents.createChild( document.id, { name: "John Jr",
																											lastName: "Doe",
																											bloodType: "A+"} ));
													myPromises.push(
														myAppContext.documents.createChild( document.id, { name: "Mary",
																											lastName: "Smith",
																											bloodType: "O+" }));

												    return Promise.all( myPromises );

												}).then( function( serverResponses ){

													// store patient's document pointers to be used later on
													myPatients = serverResponses.map( function([ document, response ]){
														return document;
													});

													// create doctors document as a child of the root document
													return myAppContext.documents.createChild( "/", "doctors", doctors );

												}).then( function([document, response] ) => {

													let myPromises:Promise&lt;Response.Class&gt;[] = [];

													// Create four documents as children of doctors document.
												    myPromises.push( myAppContext.documents.createChild( document.id,
																										{ name: "James",
																										lastName: "Stevenson",
																										specialty: "cardiology" }));
													myPromises.push( myAppContext.documents.createChild( document.id,
																										{ name: "Violet",
																										lastName: "Grey",
																										specialty: "general surgery" }));
													myPromises.push( myAppContext.documents.createChild( document.id,
																										{ name: "Alex",
																										lastName: "Karev",
																										specialty: "pediatrics"}));

												    return Promise.all( myPromises );

												}).then( function( serverResponses ){

													// store document pointers to be used later on
													myDoctors = serverResponses.map( function([ document, response ]){
														return document;
													});

													// for each doctor document create an access point to maintain a patient's list
													myDoctors.forEach( function( doctor ){
														let accessPoint = AccessPoint.Factory.create(doctor, "patient", "doctor");

														myAppContext.documents.createAccessPoint( accessPoint, "patients");
													});

													// for each patient document create an access point to maintain a doctor's list
													myPatients.forEach( function( patient ){
														let accessPoint = AccessPoint.Factory.create(patient, "doctor", "patient");

														myAppContext.documents.createAccessPoint( accessPoint, "doctors");
													});
												});
											}).catch( function( error ){
												console.error( error );
											} );

										</code></pre>
										<!--@formatter:on-->
									</div>
								</div>
							</div>
							<div class="ui bottom attached tab segment" data-tab="modifying-data">

								<div>
									<div class="ui top attached tabular menu">
										<a class="item active" data-tab="typescript">TypeScript</a>
										<a class="item" data-tab="javascript">JavaScript</a>
									</div>

									<div class="ui bottom attached tab segment active" data-tab="typescript">
										<!--@formatter:off-->
										<pre><code cphighlight class="typescript">
										import * as HTTPErrors from "carbonldp/HTTP/Errors";
										import * as PersistedDocument from "carbonldp/PersistedDocument";
										import * as Response from "carbonldp/HTTP/Response";
										import * as App from "carbonldp/App";
										import Carbon from "carbonldp/Carbon";

										let platformCarbon:Carbon = new Carbon();

										platformCarbon.setSetting( "domain", "carbonldp.base22.io" );
										platformCarbon.auth.authenticate( "admin@carbonldp.com", "hello" )
											.then( ( credentials:Credentials ) => {
												console.log( "credentials: ", credentials );

											let myAppContext:App.Context;
											let myPersistedPatients:PersistedDocument.Class[];
											let myPersistedDoctors:PersistedDocument.Class[];

											platformCarbon.apps.getContext( "carbon-hospital/" ).then( ( appContext:App.Context ) => {
												myAppContext = appContext; // retrieving you app context

												// retrieving child documents of patients/
												return myAppContext.documents.getChildren("patients/")

											}).then(([children, response]:[PersistedDocument.Class[],Response.Class])=> {

												// retrieving child documents of doctors/
												myPersistedPatients = children;
												return myAppContext.documents.getChildren("doctors/");

											}).then(([children, response]:[PersistedDocument.Class[],Response.Class])=> {
												myPersistedDoctors = children;

												let myPromises:Promise<[PersistedDocument.Class, Response.Class]>[] = [];

													// Add named fragment to every patient
													myPersistedPatients.forEach((patient:PersistedDocument.Class)=> {
														let fragmentExist = patient.hasFragment("medical-history");
														if(!fragmentExist) {
															patient.medicalHistory = patient.createNamedFragment("medical-history",
																												{status: "healthy"});
															myPromises.push( patient.save().then( () => patient.refresh() ) );
														}
													});
													return Promise.all( myPromises );

											}).then(()=> {
												let myPromises:Promise<[PersistedDocument.Class, Response.Class]>[] = [];

												// Add properties for patients John Jr Doe, Jane Doe
												myPersistedPatients.forEach((patient:PersistedDocument.Class)=> {
													if (patient.name === "Jane") {
														patient.dateOfBirth = new Date("01/11/1990");
														myPromises.push(patient.save().then(() => patient.refresh()));
													}
												});
												return Promise.all(myPromises);
											}).then(() => {

												myPersistedPatients.forEach((patient:PersistedDocument.Class)=> {
													if (patient.name === "John Jr") {
														myPersistedDoctors.forEach((doctor:PersistedDocument.Class)=> {
															if (doctor.name === "Alex") {
																myAppContext.documents.addMember(doctor.id + "patients/", patient);
															} else if (doctor.name ===  "Violet") {
																myAppContext.documents.addMember(patient.id + "doctors/", doctor);
															}
														});
													} else if (patient.name === "Mary") {
														myPersistedDoctors.forEach((doctor:PersistedDocument.Class)=> {
															if (doctor.name ===  "James") {
																myAppContext.documents.addMember(doctor.id + "patients/", patient);
															} else if (doctor.name ===  "Violet") {
																myAppContext.documents.addMember(patient.id + "doctors/", doctor);
															}
														});
													} else if (patient.name === "John") {
														myPersistedDoctors.forEach((doctor:PersistedDocument.Class)=> {
															if (doctor.name ===  "James") {
																myAppContext.documents.addMember(doctor.id + "patients/", patient);
															}
														});
													}
												});
											});
										} ).catch( ( error:HTTPErrors.Error )=> {
											console.error( error );
										} );
										</code></pre>
										<!--@formatter:on-->
									</div>

									<div class="ui bottom attached tab segment" data-tab="javascript">
										<!--@formatter:off-->
										<pre><code cphighlight class="javascript">
										let platformCarbon = new Carbon();

										platformCarbon.setSetting( "domain", "carbonldp.base22.io" );
										platformCarbon.auth.authenticate( "admin@carbonldp.com", "hello" )
											.then( function( credentials:Credentials ){
												console.log( "credentials: ", credentials );

											let myAppContext;
											let myPersistedPatients;
											let myPersistedDoctors;

											platformCarbon.apps.getContext( "carbon-hospital/" ).then( function( appContext ){
												myAppContext = appContext; // retrieving you app context

												// retrieving child documents of patients/
												return myAppContext.documents.getChildren("patients/")

											}).then(function([children, response]){

												// retrieving child documents of doctors/
												myPersistedPatients = children;
												return myAppContext.documents.getChildren("doctors/");

											}).then(function([children, response]){
												myPersistedDoctors = children;

												let myPromises = [];

													// Add named fragment to every patient
													myPersistedPatients.forEach( function(patient){
														let fragmentExist = patient.hasFragment("medical-history");
														if(!fragmentExist) {
															patient.medicalHistory = patient.createNamedFragment("medical-history",
																												{status: "healthy"});
															myPromises.push( patient.save().then( function(){   patient.refresh()   } ) );
														}
													});
													return Promise.all( myPromises );

											}).then( function(){
												let myPromises = [];

												// Add properties for patients John Jr Doe, Jane Doe
												myPersistedPatients.forEach( function(patient){
													if (patient.name === "Jane") {
														patient.dateOfBirth = new Date("01/11/1990");
														myPromises.push(patient.save().then(function(){ return patient.refresh();}));
													}
												});
												return Promise.all(myPromises);
											}).then(function() {

												myPersistedPatients.forEach( function(patient){
													if (patient.name === "John Jr") {
														myPersistedDoctors.forEach( function(doctor){
															if (doctor.name === "Alex") {
																myAppContext.documents.addMember(doctor.id + "patients/", patient);
															} else if (doctor.name ===  "Violet") {
																myAppContext.documents.addMember(patient.id + "doctors/", doctor);
															}
														});
													} else if (patient.name === "Mary") {
														myPersistedDoctors.forEach( function(doctor){
															if (doctor.name ===  "James") {
																myAppContext.documents.addMember(doctor.id + "patients/", patient);
															}
														});
													} else if (patient.name === "John") {
														myPersistedDoctors.forEach( function(doctor){
															if (doctor.name ===  "James") {
																myAppContext.documents.addMember(doctor.id + "patients/", patient);
															}
														});
													}
												});
											});
										} ).catch( function( error ){
											console.error( error );
										} );


										</code></pre>
							<!--@formatter:on-->
									</div>
								</div>
							</div>
							<div class="ui bottom attached tab segment" data-tab="retrieving-data">

								<div>
									<div class="ui top attached tabular menu">
										<a class="item active" data-tab="typescript">TypeScript</a>
										<a class="item" data-tab="javascript">JavaScript</a>
									</div>

									<div class="ui bottom attached tab segment active" data-tab="typescript">
										<!--@formatter:off-->
										<pre><code cphighlight class="typescript">
										import * as HTTPErrors from "carbonldp/HTTP/Errors";
										import * as PersistedDocument from "carbonldp/PersistedDocument";
										import * as Pointer from "carbonldp/Pointer";
										import * as Response from "carbonldp/HTTP/Response";
										import * as App from "carbonldp/App";
										import Carbon from "carbonldp/Carbon";

										platformContext = new Carbon();
										platformContext.setSetting( "domain", "carbonldp.base22.io" );
										platformContext.auth.authenticate( "admin@carbonldp.com", "hello" )
											.then( ( credentials ){

												let myAppContext;
												let patients;

												// Retrieve your application context
												platformContext.apps.getContext( "carbon-hospital/" ).then( ( appContext ) => {

													myAppContext = appContext;

													// list all the children of my root document
													return myAppContext.documents.listChildren( "/" );

												}).then( ( [ children, response ] ) => {
													console.log( "list of children:", children );

													// getting the document patients/
													return myAppContext.documents.get("patients/");

												}).then( ( [ document, response ] ) => {
													patients = document;

													return patients.getChildren();

												}).then( ( [ children, response ] ) => {
													console.log( "patients/ children: ", children );

													children.forEach( ( child ) => {
														myAppContext.documents.listMembers( child.id + "doctors/" ).then(
															( [ doctors, response ] ) => {
																console.log( "Doctors of ",child.name," ",child.lastName,": ",doctors)
															});
													});
												});

											} ).catch( ( error:HTTPErrors.Error ) => {
												console.error( error );
											} );
											</code></pre>
										<!--@formatter:on-->
									</div>

									<div class="ui bottom attached tab segment" data-tab="javascript">
										<!--@formatter:off-->
										<pre><code cphighlight class="javascript">

										platformContext = new Carbon();
										platformContext.setSetting( "domain", "carbonldp.base22.io" );
										platformContext.auth.authenticate( "admin@carbonldp.com", "hello" ).then(
											function( credentials ){

											let myAppContext;
											let patients;

											// Retrieve your application context
											platformContext.apps.getContext( "carbon-hospital/" ).then( function( appContext ){

												myAppContext = appContext;

												// list all the children of my root document
												return myAppContext.documents.listChildren( "/" );

											}).then( function( [ children, response ] ){

												console.log( "list of children:", children );

												// getting the document patients/
												return myAppContext.documents.get("patients/");

											}).then( function( [ document, response ] ){
												patients = document;

												return patients.getChildren();

											}).then( function( [ children, response ] ){

												console.log( "patients/ children: ", children );

												children.forEach( function( child ){
													myAppContext.documents.listMembers( child.id + "doctors/" ).then(
														function( [ doctors, response ] ){
															console.log( "Doctors of ",child.name," ",child.lastName,": ",doctors)
													});
												});
											});

										} ).catch( ( error:HTTPErrors.Error )=> {

											console.error( error );

										} );
										</code></pre>
										<!--@formatter:on-->
									</div>
								</div>
							</div>
						</div>
					</section>

				</article>
			</main>
		</div>
		<sidebar-component [mobile]="false" [parentElement]="element" [contentReady]="contentReady" class="four wide computer only four wide tablet only column"></sidebar-component>
	</div>
</div>
