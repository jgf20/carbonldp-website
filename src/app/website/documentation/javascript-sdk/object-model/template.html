<div class="ui main grid container">
	<div class="row">
		<div class="sixteen wide column">
			<div class="ui breadcrumb">
				<span class="section">Documentation</span>
				<i class="right chevron icon divider"></i>
				<span class="section">JavaScript SDK</span>
				<i class="right arrow icon divider"></i>
				<div class="active section">Object model</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="twelve wide computer twelve wide tablet sixteen wide mobile column">
			<main>
				<article class="ui vertical segment" id="article">
					<header>
						<h1 class="ui header">Object model</h1>
					</header>

					<div class="ui icon yellow message">
						<i class="warning sign icon"></i>
						<div class="content">
							<div class="header">Pre-release Documentation</div>
							<p>Although Carbon LDP is not yet released, we're publishing documentation as it is prepared so that you can preview what's in store.</p>
						</div>
					</div>

					<div class="ui message">
						<div class="content">
							<p class="larger">This document presents an in depth description of the Carbon Object Model</p>
						</div>
					</div>
					<p><span class="highlight">Carbon</span> is a Linked Data Platform, its objective is to create a web of
						<span class="highlight">documents</span>(Data) linked to each other through relations that can be searched for
						by humans or machines.</p>

					<p><span class="highlight">Documents</span> are JavaScript objects identified by a <a class="outsidelink"
					                                                                                      target=" _blank"
					                                                                                      href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
					>URI</a>,
						they hold any sort of data and can be grouped in <span class="highlight">applications<span class="highlight">. An
							<span class="highlight">application</span> is represented in <span class="highlight">Carbon</span> through a <span class="highlight">document</span> in the platform. This
							<span class="highlight">application document</span> holds descriptive information about the <span class="highlight">application</span> and
							points to it. <span class="highlight">Documents</span> can relate to other <span class="highlight">documents</span> through links
							creating the desired Data Web. Any two <span class="highlight">documents</span> can be linked in <span class="highlight">Carbon</span>, the nature
							of the relation between them is given through the <span class="highlight">document properties</span> of which we
							will talk later on.</p>

					<section>
						<h2 class="ui header">Carbon document definition</h2>

						<p>A <span class="highlight">Carbon document</span> is a JavaScript object identified by a <a class="outsidelink"
						                                                                                              target="_blank"
						                                                                                              href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier">URIs</a>
							, that can have any number of properties and nested objects. <span class="highlight">Documents</span>
							are the simplest unit of information in <span class="highlight">Carbon</span>. It is important to mention
							that all the <span class="highlight">documents'</span> <a class="outsidelink"
							                                                          target="_blank"
							                                                          href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier">URIs</a>
							in <span class="highlight">Carbon</span> end with “/”.</p>

						<p>A <span class="highlight">Carbon document</span> is composed of:</p>
						<ul>
							<li><span class="highlight">Properties</span></li>
							<li><span class="highlight">Fragments</span></li>
							<li><span class="highlight">Named fragments</span></li>
						</ul>

						<p>A <span class="highlight">Carbon document</span> is composed of different parts created from the properties
							of the JavaScript object defined. All the properties that hold values in a
							JavaScript object are maintained as <span class="highlight">properties</span> of a <span class="highlight">Carbon document</span>, while
							the nested objects correspond to other carbon resources called <span class="highlight">fragments</span> or <span class="highlight">named fragments</span>,
							depending on whether or not the nested objects have an <span class="highlight">id</span> defined or not.
							These resources are linked to the <span class="highlight">document</span> of which they are part of by <span class="highlight">properties</span>
							that point to them.</p>

						<div class="centered">
							<img src="assets/images/object_model.png" width="840">
						</div>
						<br/>

						<section>
							<h3 class="ui header">Properties</h3>
							<p>A <span class="highlight">property</span> is a value associated with a <span class="highlight">Carbon resource</span>, that can be added, changed or
								deleted. There can exist any number of <span class="highlight">properties</span> of any nature. <span class="highlight">Carbon</span> handles certain
								relevant <span class="highlight">properties</span> to provide information or relate <span class="highlight">documents</span>, for example:
								“<span class="highlight">contains</span>” or “<span class="highlight">members</span>” are <span class="highlight">properties</span> that exist in all
								<span class="highlight">Carbon documents</span> providing information about related Documents.</p>

							<p>Another important <span class="highlight">property</span> is <span class="highlight"><code>types</code></span>, which is present in
								<span class="highlight">documents</span>,
								<span class="highlight">fragments</span> and <span class="highlight">named fragments</span>. All resources in <span class="highlight">Carbon</span> are multi typed and
								the
								property
								<span class="highlight"><code>types</code></span> holds the array of types that a resource has. Each type is describe by a<a class="outsidelink"
								                                                                                                                             target="_blank"
								                                                                                                                             href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier">
									URIs</a> and serves as a sort of tag, that will allow you to implement customized definitions,
								validations and uses for your tagged resources. This tag will also help you to defined
								and used <span class="highlight">object schema</span> by type, a subject that is
								discussed in <a [routerLink]="[ '../JavaScriptSDKObjectSchema' ]">
									<span class="highlight">object schema's</span></a>documentation.</p>
						</section>
						<section>
							<h3 class="ui header">Fragments</h3>
							<p>A <span class="highlight">fragment</span> is a JavaScript object nested inside a <span class="highlight">document</span>. <span class="highlight">Fragments</span> can
								only be referenced from within the <span class="highlight">document</span> to which they belong, through
								their <span class="highlight">ids</span>. These <span class="highlight">ids</span> can be automatically assigned by the <span class="highlight">Carbon JavaScript
									SDK</span> or
								defined by you and they must always start with an underscore followed by a
								colon, for example: <code>_:123</code>.</p>
						</section>

						<section>
							<h3 class="ui header">Named fragments</h3>

							<p>A <span class="highlight">named fragment</span> is, like a <span class="highlight">fragment</span>, a JavaScript object nested inside a
								<span class="highlight">document</span>. However, <span class="highlight">named fragments</span> have <span class="highlight">ids</span> that are referable from outside
								of the <span class="highlight">document</span> to which they belong. These <span class="highlight">ids</span> must always start with a #,
								for example: <code>#namedFragment</code>. To reference a named fragment from the
								inside you can use either the <span class="highlight">id</span> or the complete <a class="outsidelink"
								                                                                                   target="_blank"
								                                                                                   href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
								>URI</a>, from outside you can only reference it through the latter one. The complete <a class="outsidelink"
								                                                                                         target="_blank"
								                                                                                         href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
								>URI</a> is composed of the <span class="highlight">document's URI</span> and the <span class="highlight">id</span> of the <span class="highlight">named fragment</span>,
								for example:
								<code>https://carbonldp.com/apps/test-app/myDocument/#namedFragment</code>.</p>

							<p>Remember that all the <span class="highlight">documents’</span> <a class="outsidelink"
							                                                                      target="_blank"
							                                                                      href="https://www.w3.org/TR/ld-glossary/#uniform-resource-identifier"
							>URIs</a> in <span class="highlight">Carbon</span> end with “/”.</p>
						</section>
					</section>
					<section>

						<h2 class="ui header">Document relationships</h2>

						<p>A <span class="highlight">list of documents</span> is maintained through
							<span class="highlight">links</span> to other <span class="highlight">documents</span> that
							exist in them. A <span class="highlight">link</span> connects two
							<span class="highlight">Carbon documents</span> denoting a <span class="highlight">relationship</span>
							between them. This is done by adding a <span class="highlight">property</span> in one
							<span class="highlight">document</span> that points to another <span class="highlight">document</span>.
							The type of relation between <span class="highlight">documents</span> can be specified in
							accordance to the method used to link them. There are some types of relationships that are
							maintained and supported by <span class="highlight">Carbon</span>, fore example,
							<span class="highlight">parent-child relation</span> and <span class="highlight">membership relation</span>.
							But there can be any number of customized <span class="highlight">relationships</span>.</p>

						<p><span class="highlight">Carbon document</span> structure can be viewed, at first sight as a
							tree, in the sense that every <span class="highlight">document</span> you create is the
							child of a previous existing <span class="highlight">document</span>. You can't create a
							<span class="highlight">document</span> that doesn't have a
							<span class="highlight">parent document.</span> From this fundamental concept
							<span class="highlight">Carbon</span> manages the <span class="highlight">parent-child link</span>
							between <span class="highlight">documents</span>.</p>

						<section class="subsection">
							<h3 class="ui header">Parent-child relation</h3>

							<p>The <span class="highlight">parent-child relation</span> exists in every <span class="highlight">document</span>
								that has <span class="highlight">child documents</span>. It is a list automatically
								maintained by <span class="highlight">Carbon</span> that contains pointers to all the
								<span class="highlight">child documents</span> of a given <span class="highlight">document</span>.
								Through the method <a target="_blank"
								                      href="https://github.com/CarbonLDP/CarbonLDP-JS-SDK/tree/develop/doc#Carbon-Documents"><code>.listChildren()</code></a>
								you can obtain such list. This particular <span class="highlight">link</span> is called
								a <span class="highlight"><strong>hard link</strong></span> because it holds a relation
								to the structure of the <span class="highlight">document</span>, and the deletion of a
								<span class="highlight">document</span> will directly affect all the <span class="highlight">documents</span>
								related to it through this type of <span class="highlight">link</span>.</p>
							<br/>
						</section>

						<p>But <span class="highlight">Carbon structure</span> is not only a tree.
							<span class="highlight">Carbon</span> can manage any type of
							<span class="highlight">relations</span> between any two given
							<span class="highlight">documents</span>, you will see that as <span class="highlight">links</span>
							between <span class="highlight">documents</span> are added the tree like structure
							transforms into a true web of data. The <span class="highlight">links</span> between
							<span class="highlight">documents</span> allow you to manage them through
							<span class="highlight">lists</span>. The relations between <span class="highlight">documents</span>
							can be added through different methods.</p>

						<section class="subsection">
							<h3 class="ui header">Linking through properties</h3>
							<p>You can manually add a <span class="highlight">property</span> linking your
								<span class="highlight">document</span> to any <span class="highlight">document</span>
								you wish. Any number of <span class="highlight">linking properties</span> can be
								manually added to a <span class="highlight">document</span>; however, they will have to
								be manually managed meaning there are no modules or methods that can help you maintain
								a <span class="highlight">list</span>, of the <span class="highlight">document</span>
								linked or the relation they have between each other. You would have to retrieve all the
								<span class="highlight">document's properties</span> to access the <span class="highlight">links</span>
								you have defined. This next sample code shows how a <span class="highlight">link</span>
								between <span class="highlight">documents</span> can be created.</p>

							<div>
								<div class="ui top attached tabular menu">
									<a class="item active" data-tab="typescript">TypeScript</a>
									<a class="item" data-tab="javascript">JavaScript</a>
								</div>
								<div class="ui bottom attached tab segment active" data-tab="typescript">
									<!--@formatter:off-->
									<pre><code highlight class="typescript">
									let myDocumentA:PersistedDocument.Class;
									let myDocumentB:PersistedDocument.Class;

									myDocumentA.linkingProperty = myDocumentB;
									</code></pre>
									<!--@formatter:on-->
								</div>
								<div class="ui bottom attached tab segment" data-tab="javascript">
									<!--@formatter:off-->
									<pre><code highlight class="javascript">
									let myDocumentA;
									let myDocumentB;

									myDocumentA.linkingProperty = myDocumentB;
									</code></pre>
									<!--@formatter:on-->
								</div>
							</div>
						</section>

						<br/>
						<p>To avoid the inconvenience of manually managing your related <span class="highlight">documents</span>.
							<span class="highlight">Carbon</span> gives you tools to manage certain
							<span class="highlight">links</span> through specific <span class="highlight">properties</span>
							such as “<span class="highlight">members</span>” relation that can be managed from within the
							<span class="highlight">document</span> or from a special type of
							<span class="highlight">document</span> called <span class="highlight">access point</span>.</p>

						<section class="subsection">
							<h3>Member relation within the document</h3>
							<p>The <span class="highlight">members relation</span> is defined by the
								<span class="highlight">property</span> <code>.hasMemberRelation</code> that exists
								in every <span class="highlight">Carbon document</span>, and it is predefined with the
								value "member". At the creation of a <span class="highlight">document</span>
								this <span class="highlight">property</span> can be configure to give a more meaningful
								description of the relation between a <span class="highlight">document</span> and its
								<span class="highlight">members</span>, you can also define the special property
								<code>memberOfRelation</code> that allows you to create a
								<span class="highlight">reverse link</span> in the <span class="highlight">documents</span>
								you add as <span class="highlight">members</span>. With these two
								<span class="highlight">properties</span> your
								<span class="highlight">document</span> is linked in a two way relationship.</p>

							<div>
								<div class="ui top attached tabular menu">
									<a class="item active" data-tab="typescript">TypeScript</a>
									<a class="item" data-tab="javascript">JavaScript</a>
								</div>
								<div class="ui bottom attached tab segment active" data-tab="typescript">
									<!--@formatter:off-->
									<pre><code highlight class="typescript">
										let Peter:Document.Class;
										let John:Document.Class = Document.Factory.createFrom( {
											hasMemberRelation: "nephews";
											memberOfRelation: "uncles";
										});

										John.addMember( Peter );

									</code></pre>
									<!--@formatter:on-->
								</div>
								<div class="ui bottom attached tab segment" data-tab="javascript">
									<!--@formatter:off-->
									<pre><code highlight class="javascript">
										let Peter;
										let John = Document.Factory.createFrom( {
											hasMemberRelation: "nephews";
											memberOfRelation: "uncles";
										});

										John.addMember( Peter );

									</code></pre>
									<!--@formatter:on-->
								</div>
							</div>
							<br/>
							<p>This type of <span class="highlight">links</span>
								allows you to maintain a list of <span class="highlight">documents</span>
								inside a <span class="highlight">document</span>, denoting a special
								<span class="highlight">relation</span> between them. This type of
								<span class="highlight">links</span> are known as
								<span class="highlight"><strong>soft links</strong></span> because they hold no
								relation to the <span class="highlight">documents' structure</span>. If you delete a
								<span class="highlight">soft link</span> the only thing deleted is the
								<span class="highlight">relation</span> between the <span class="highlight">documents</span>,
								however no <span class="highlight">documents</span> are affected. In a
								<span class="highlight">document</span> you can only support one
								<span class="highlight">member relation list</span>. If you need to support more than
								one list you can use <span class="highlight">access points</span>, that will be
								discussed later on.</p>
						</section>
					</section>

					<section>
						<h2 class="ui header">Root document</h2>

						<p>As we mentioned in the previous section the <span class="highlight">Carbon document</span>
							structure can be viewed as a tree, , beginning with the
							<span class="highlight"><strong>root document</strong></span>.
							You can't create a <span class="highlight">document</span> that doesn't have a
							<span class="highlight">parent document</span>.</p>

						<p>In a <span class="highlight">Carbon application</span> everything starts with one
							<span class="highlight">document</span>: the <span class="highlight">root document</span>,
							which is automatically defined at the creation of the <span class="highlight">application</span>.
							The <span class="highlight">root document</span> is the root parent for all the
							<span class="highlight">documents</span> created in an <span class="highlight">application</span>.
							The <span class="highlight">root document</span> is the first parent document in an
							<span class="highlight">application</span> where the first <span class="highlight">child documents</span>
							will be created.</p>

						<p>The default documents contained in a <span class="highlight">root document</span> are:
							<span class="highlight">agents/</span>, <span class="highlight">roles/</span> and
							<span class="highlight">auth-tokens/</span>, which are involve in
							<span class="highlight">Carbon security</span> a subject
							that will be discussed in other <span class="highlight">documents</span>.</p>
					</section>


					<section>
						<h3 class="ui header">Access points</h3>

						<p>An <span class="highlight">access point</span> is a <span class="highlight">Carbon document</span>
							that is in charge of creating <span class="highlight">membership relations</span>
							between its <span class="highlight">parent document</span> and any other
							<span class="highlight">document</span>.</p>

						<p><span class="highlight">Access points</span> allow you to maintain a
							<span class="highlight">list of documents</span> using a <span class="highlight">membership
							relation property</span> <code>.hasMemberRelation</code>, that is configured on its
							creation. Through the <span class="highlight">access point</span> a
							<span class="highlight">relation</span> is added as a <span class="highlight">property</span>
							in its <span class="highlight">parent document</span>. The <span class="highlight">property</span>
							points to the <span class="highlight">document</span> you want the parent to relate
							with. In an <span class="highlight">access point</span> you can also configure a
							<span class="highlight">reverse relation</span>, that will be added to the
							<span class="highlight">document</span> you wish to relate to the
							<span class="highlight">parent document</span> of the <span class="highlight">access point</span>.
							<span class="highlight">access points</span> may seem like
							<span class="highlight">child documents</span>, however since they only hold the property
							<code>.hasMemberRelation</code> and its reverse, they are not considered
							<span class="highlight">child documents</span>.</p>

						<p>A <span class="highlight">document</span> can have as many
							<span class="highlight">access points</span> as you may wish, allowing you to
							manage many <span class="highlight">membership relations</span> and
							<span class="highlight">documents' lists</span> in the <span class="highlight">document</span>
							where they were defined. <span class="highlight">Access points</span> behave in a similar way
							to the <span class="highlight">membership relation</span> that exists with the
							<span class="highlight">document</span>.</p>
					</section>
					<section>
						<h3 class="ui header">Conclusion</h3>
						<p><span class="highlight">CarbonM</span> is a Linked Data Platform that allows to create and
							manage your data web through <span class="highlight">documents</span>.</p>

						<p>In simplest terms a <span class="highlight">Carbon document</span> is the basic unit of
							information in <span class="highlight">Carbon</span>. A <span class="highlight">document</span>
							can relate to other <span class="highlight">documents</span> through
							<span class="highlight">properties</span> that link them with a given
							<span class="highlight">relation</span>. <span class="highlight">Carbon</span>,
							through specific <span class="highlight">properties</span> like <code>.contains</code>
							and <code>.members</code> helps you relate and manage <span class="highlight">related documents</span>
							easily. Through them a <span class="highlight">list</span> of
							<span class="highlight">related documents</span> can be obtained.
							<span class="highlight">Carbon documents</span> manage one <span class="highlight">list</span>
							of <span class="highlight">child documents</span> and one <span class="highlight">list</span>
							of <span class="highlight">member documents</span>. To manage more than one
							<span class="highlight">list of members</span> they use
							<span class="highlight">access points</span>. <span class="highlight">Documents</span>
							in <span class="highlight">Carbon</span> are grouped together in
							<span class="highlight">applications</span>, that are represented in the
							<span class="highlight">platform</span> by an <span class="highlight">application's document</span>
							that holds its description and the <span class="highlight">pointer</span> to the
							<span class="highlight">root document</span>. Below you see a simple diagram of the basic
							<span class="highlight">Carbon object model</span>.</p>

						<div class="centered">
							<img src="assets/images/js-sdk-object-model-diagram.svg" width="840">
						</div>
					</section>

				</article>
			</main>
		</div>
		<sidebar-component [mobile]="false" [parentElement]="element" [contentReady]="contentReady" class="four wide computer only four wide tablet only column"></sidebar-component>
	</div>
</div>
